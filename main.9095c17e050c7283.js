(self.webpackChunkaltoponixclub_github_io=self.webpackChunkaltoponixclub_github_io||[]).push([[179],{171:(ke,zt,Mt)=>{"use strict";function ft(t){return"function"==typeof t}function St(t){const i=t(y=>{Error.call(y),y.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const lt=St(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((y,L)=>`${L+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function F(t,e){if(t){const i=t.indexOf(e);0<=i&&t.splice(i,1)}}class H{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const G of i)G.remove(this);else i.remove(this);const{initialTeardown:y}=this;if(ft(y))try{y()}catch(G){e=G instanceof lt?G.errors:[G]}const{_teardowns:L}=this;if(L){this._teardowns=null;for(const G of L)try{Q(G)}catch(tt){e=null!=e?e:[],tt instanceof lt?e=[...e,...tt.errors]:e.push(tt)}}if(e)throw new lt(e)}}add(e){var i;if(e&&e!==this)if(this.closed)Q(e);else{if(e instanceof H){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(i=this._teardowns)&&void 0!==i?i:[]).push(e)}}_hasParent(e){const{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){const{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&F(i,e)}remove(e){const{_teardowns:i}=this;i&&F(i,e),e instanceof H&&e._removeParent(this)}}H.EMPTY=(()=>{const t=new H;return t.closed=!0,t})();const K=H.EMPTY;function V(t){return t instanceof H||t&&"closed"in t&&ft(t.remove)&&ft(t.add)&&ft(t.unsubscribe)}function Q(t){ft(t)?t():t.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(...t){const{delegate:e}=Y;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Y;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function z(t){Y.setTimeout(()=>{const{onUnhandledError:e}=W;if(!e)throw t;e(t)})}function I(){}const P=s("C",void 0,void 0);function s(t,e,i){return{kind:t,value:e,error:i}}let l=null;function g(t){if(W.useDeprecatedSynchronousErrorHandling){const e=!l;if(e&&(l={errorThrown:!1,error:null}),t(),e){const{errorThrown:i,error:y}=l;if(l=null,i)throw y}}else t()}class S extends H{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,V(e)&&e.add(this)):this.destination=p}static create(e,i,y){return new f(e,i,y)}next(e){this.isStopped?M(function E(t){return s("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?M(function w(t){return s("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?M(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class f extends S{constructor(e,i,y){let L;if(super(),ft(e))L=e;else if(e){let G;({next:L,error:i,complete:y}=e),this&&W.useDeprecatedNextContext?(G=Object.create(e),G.unsubscribe=()=>this.unsubscribe()):G=e,L=null==L?void 0:L.bind(G),i=null==i?void 0:i.bind(G),y=null==y?void 0:y.bind(G)}this.destination={next:L?C(L):I,error:C(null!=i?i:x),complete:y?C(y):I}}}function C(t,e){return(...i)=>{try{t(...i)}catch(y){W.useDeprecatedSynchronousErrorHandling?function v(t){W.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=t)}(y):z(y)}}}function x(t){throw t}function M(t,e){const{onStoppedNotification:i}=W;i&&Y.setTimeout(()=>i(t,e))}const p={closed:!0,next:I,error:x,complete:I},a="function"==typeof Symbol&&Symbol.observable||"@@observable";function h(t){return t}let o=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){const y=new t;return y.source=this,y.operator=i,y}subscribe(i,y,L){const G=function c(t){return t&&t instanceof S||function u(t){return t&&ft(t.next)&&ft(t.error)&&ft(t.complete)}(t)&&V(t)}(i)?i:new f(i,y,L);return g(()=>{const{operator:tt,source:rt}=this;G.add(tt?tt.call(G,rt):rt?this._subscribe(G):this._trySubscribe(G))}),G}_trySubscribe(i){try{return this._subscribe(i)}catch(y){i.error(y)}}forEach(i,y){return new(y=r(y))((L,G)=>{let tt;tt=this.subscribe(rt=>{try{i(rt)}catch(ht){G(ht),null==tt||tt.unsubscribe()}},G,L)})}_subscribe(i){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(i)}[a](){return this}pipe(...i){return function d(t){return 0===t.length?h:1===t.length?t[0]:function(i){return t.reduce((y,L)=>L(y),i)}}(i)(this)}toPromise(i){return new(i=r(i))((y,L)=>{let G;this.subscribe(tt=>G=tt,tt=>L(tt),()=>y(G))})}}return t.create=e=>new t(e),t})();function r(t){var e;return null!==(e=null!=t?t:W.Promise)&&void 0!==e?e:Promise}const b=St(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let O=(()=>{class t extends o{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const y=new k(this,this);return y.operator=i,y}_throwIfClosed(){if(this.closed)throw new b}next(i){g(()=>{if(this._throwIfClosed(),!this.isStopped){const y=this.observers.slice();for(const L of y)L.next(i)}})}error(i){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:y}=this;for(;y.length;)y.shift().error(i)}})}complete(){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:y,isStopped:L,observers:G}=this;return y||L?K:(G.push(i),new H(()=>F(G,i)))}_checkFinalizedStatuses(i){const{hasError:y,thrownError:L,isStopped:G}=this;y?i.error(L):G&&i.complete()}asObservable(){const i=new o;return i.source=this,i}}return t.create=(e,i)=>new k(e,i),t})();class k extends O{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,y;null===(y=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===y||y.call(i,e)}error(e){var i,y;null===(y=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===y||y.call(i,e)}complete(){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===i||i.call(e)}_subscribe(e){var i,y;return null!==(y=null===(i=this.source)||void 0===i?void 0:i.subscribe(e))&&void 0!==y?y:K}}function _(t){return ft(null==t?void 0:t.lift)}function A(t){return e=>{if(_(e))return e.lift(function(i){try{return t(i,this)}catch(y){this.error(y)}});throw new TypeError("Unable to lift unknown Observable type")}}class B extends S{constructor(e,i,y,L,G){super(e),this.onFinalize=G,this._next=i?function(tt){try{i(tt)}catch(rt){e.error(rt)}}:super._next,this._error=L?function(tt){try{L(tt)}catch(rt){e.error(rt)}finally{this.unsubscribe()}}:super._error,this._complete=y?function(){try{y()}catch(tt){e.error(tt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:i}=this;super.unsubscribe(),!i&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function m(t,e){return A((i,y)=>{let L=0;i.subscribe(new B(y,G=>{y.next(t.call(e,G,L++))}))})}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function pt(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,y=i.apply(t,e||[]),G=[];return L={},tt("next"),tt("throw"),tt("return"),L[Symbol.asyncIterator]=function(){return this},L;function tt(At){y[At]&&(L[At]=function(Pt){return new Promise(function(_t,Gt){G.push([At,Pt,_t,Gt])>1||rt(At,Pt)})})}function rt(At,Pt){try{!function ht(At){At.value instanceof vt?Promise.resolve(At.value.v).then(gt,Ct):Tt(G[0][2],At)}(y[At](Pt))}catch(_t){Tt(G[0][3],_t)}}function gt(At){rt("next",At)}function Ct(At){rt("throw",At)}function Tt(At,Pt){At(Pt),G.shift(),G.length&&rt(G[0][0],G[0][1])}}function J(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function it(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],y=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&y>=t.length&&(t=void 0),{value:t&&t[y++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i={},y("next"),y("throw"),y("return"),i[Symbol.asyncIterator]=function(){return this},i);function y(G){i[G]=t[G]&&function(tt){return new Promise(function(rt,ht){!function L(G,tt,rt,ht){Promise.resolve(ht).then(function(gt){G({value:gt,done:rt})},tt)}(rt,ht,(tt=t[G](tt)).done,tt.value)})}}}const wt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function kt(t){return ft(null==t?void 0:t.then)}function Dt(t){return ft(t[a])}function bt(t){return Symbol.asyncIterator&&ft(null==t?void 0:t[Symbol.asyncIterator])}function Lt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nt=function Rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ot(t){return ft(null==t?void 0:t[Nt])}function Wt(t){return pt(this,arguments,function*(){const i=t.getReader();try{for(;;){const{value:y,done:L}=yield vt(i.read());if(L)return yield vt(void 0);yield yield vt(y)}}finally{i.releaseLock()}})}function Kt(t){return ft(null==t?void 0:t.getReader)}function Ft(t){if(t instanceof o)return t;if(null!=t){if(Dt(t))return function Jt(t){return new o(e=>{const i=t[a]();if(ft(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(wt(t))return function ae(t){return new o(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}(t);if(kt(t))return function Xt(t){return new o(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,z)})}(t);if(bt(t))return be(t);if(Ot(t))return function ee(t){return new o(e=>{for(const i of t)if(e.next(i),e.closed)return;e.complete()})}(t);if(Kt(t))return function pl(t){return be(Wt(t))}(t)}throw Lt(t)}function be(t){return new o(e=>{(function fl(t,e){var i,y,L,G;return function N(t,e,i,y){return new(i||(i=Promise))(function(G,tt){function rt(Ct){try{gt(y.next(Ct))}catch(Tt){tt(Tt)}}function ht(Ct){try{gt(y.throw(Ct))}catch(Tt){tt(Tt)}}function gt(Ct){Ct.done?G(Ct.value):function L(G){return G instanceof i?G:new i(function(tt){tt(G)})}(Ct.value).then(rt,ht)}gt((y=y.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(i=J(t);!(y=yield i.next()).done;)if(e.next(y.value),e.closed)return}catch(tt){L={error:tt}}finally{try{y&&!y.done&&(G=i.return)&&(yield G.call(i))}finally{if(L)throw L.error}}e.complete()})})(t,e).catch(i=>e.error(i))})}function wi(t,e,i,y=0,L=!1){const G=e.schedule(function(){i(),L?t.add(this.schedule(null,y)):this.unsubscribe()},y);if(t.add(G),!L)return G}function Xe(t,e,i=1/0){return ft(e)?Xe((y,L)=>m((G,tt)=>e(y,G,L,tt))(Ft(t(y,L))),i):("number"==typeof e&&(i=e),A((y,L)=>function Ms(t,e,i,y,L,G,tt,rt){const ht=[];let gt=0,Ct=0,Tt=!1;const At=()=>{Tt&&!ht.length&&!gt&&e.complete()},Pt=Gt=>gt<y?_t(Gt):ht.push(Gt),_t=Gt=>{G&&e.next(Gt),gt++;let Vt=!1;Ft(i(Gt,Ct++)).subscribe(new B(e,Yt=>{null==L||L(Yt),G?Pt(Yt):e.next(Yt)},()=>{Vt=!0},void 0,()=>{if(Vt)try{for(gt--;ht.length&&gt<y;){const Yt=ht.shift();tt?wi(e,tt,()=>_t(Yt)):_t(Yt)}At()}catch(Yt){e.error(Yt)}}))};return t.subscribe(new B(e,Pt,()=>{Tt=!0,At()})),()=>{null==rt||rt()}}(y,L,t,i)))}function nr(t=1/0){return Xe(h,t)}const En=new o(t=>t.complete());function gl(t){return t[t.length-1]}function vo(t){return function X0(t){return t&&ft(t.schedule)}(gl(t))?t.pop():void 0}function rd(t,e=0){return A((i,y)=>{i.subscribe(new B(y,L=>wi(y,t,()=>y.next(L),e),()=>wi(y,t,()=>y.complete(),e),L=>wi(y,t,()=>y.error(L),e)))})}function od(t,e=0){return A((i,y)=>{y.add(t.schedule(()=>i.subscribe(y),e))})}function sd(t,e){if(!t)throw new Error("Iterable cannot be null");return new o(i=>{wi(i,e,()=>{const y=t[Symbol.asyncIterator]();wi(i,e,()=>{y.next().then(L=>{L.done?i.complete():i.next(L.value)})},0,!0)})})}function ni(t,e){return e?function tx(t,e){if(null!=t){if(Dt(t))return function $0(t,e){return Ft(t).pipe(od(e),rd(e))}(t,e);if(wt(t))return function Q0(t,e){return new o(i=>{let y=0;return e.schedule(function(){y===t.length?i.complete():(i.next(t[y++]),i.closed||this.schedule())})})}(t,e);if(kt(t))return function Z0(t,e){return Ft(t).pipe(od(e),rd(e))}(t,e);if(bt(t))return sd(t,e);if(Ot(t))return function J0(t,e){return new o(i=>{let y;return wi(i,e,()=>{y=t[Nt](),wi(i,e,()=>{let L,G;try{({value:L,done:G}=y.next())}catch(tt){return void i.error(tt)}G?i.complete():i.next(L)},0,!0)}),()=>ft(null==y?void 0:y.return)&&y.return()})}(t,e);if(Kt(t))return function q0(t,e){return sd(Wt(t),e)}(t,e)}throw Lt(t)}(t,e):Ft(t)}function Ts(t){return t<=0?()=>En:A((e,i)=>{let y=0;e.subscribe(new B(i,L=>{++y<=t&&(i.next(L),t<=y&&i.complete())}))})}function ml(t,e,...i){return!0===e?(t(),null):!1===e?null:e(...i).pipe(Ts(1)).subscribe(()=>t())}function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function yl(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nx=Le({__forward_ref__:Le});function xl(t){return t.__forward_ref__=xl,t.toString=function(){return Ae(this())},t}function ue(t){return function ad(t){return"function"==typeof t&&t.hasOwnProperty(nx)&&t.__forward_ref__===xl}(t)?t():t}class we extends Error{constructor(e,i){super(function Cl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,i)),this.code=e}}function he(t){return"string"==typeof t?t:null==t?"":String(t)}function di(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}function bs(t,e){const i=e?` in ${e}`:"";throw new we(-201,`No provider for ${di(t)} found${i}`)}function Di(t,e){null==t&&function Be(t,e,i,y){throw new Error(`ASSERTION ERROR: ${t}`+(null==y?"":` [Expected=> ${i} ${y} ${e} <=Actual]`))}(e,t,null,"!=")}function ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sl(t){return ld(t,ws)||ld(t,cd)}function ld(t,e){return t.hasOwnProperty(e)?t[e]:null}function hd(t){return t&&(t.hasOwnProperty(El)||t.hasOwnProperty(cx))?t[El]:null}const ws=Le({\u0275prov:Le}),El=Le({\u0275inj:Le}),cd=Le({ngInjectableDef:Le}),cx=Le({ngInjectorDef:Le});var le=(()=>((le=le||{})[le.Default=0]="Default",le[le.Host=1]="Host",le[le.Self=2]="Self",le[le.SkipSelf=4]="SkipSelf",le[le.Optional=8]="Optional",le))();let Ml;function jn(t){const e=Ml;return Ml=t,e}function ud(t,e,i){const y=Sl(t);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:i&le.Optional?null:void 0!==e?e:void bs(Ae(t),"Injector")}function Fn(t){return{toString:t}.toString()}var Ki=(()=>((Ki=Ki||{})[Ki.OnPush=0]="OnPush",Ki[Ki.Default=1]="Default",Ki))(),hn=(()=>{return(t=hn||(hn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",hn;var t})();const dx="undefined"!=typeof globalThis&&globalThis,px="undefined"!=typeof window&&window,fx="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Oe=dx||"undefined"!=typeof global&&global||px||fx,Cr={},Ie=[],As=Le({\u0275cmp:Le}),Tl=Le({\u0275dir:Le}),bl=Le({\u0275pipe:Le}),dd=Le({\u0275mod:Le}),bn=Le({\u0275fac:Le}),yo=Le({__NG_ELEMENT_ID__:Le});let gx=0;function ri(t){return Fn(()=>{const i={},y={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ki.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ie,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,id:"c",styles:t.styles||Ie,_:null,setInput:null,schemas:t.schemas||null,tView:null},L=t.directives,G=t.features,tt=t.pipes;return y.id+=gx++,y.inputs=md(t.inputs,i),y.outputs=md(t.outputs),G&&G.forEach(rt=>rt(y)),y.directiveDefs=L?()=>("function"==typeof L?L():L).map(pd):null,y.pipeDefs=tt?()=>("function"==typeof tt?tt():tt).map(fd):null,y})}function pd(t){return li(t)||function zn(t){return t[Tl]||null}(t)}function fd(t){return function rr(t){return t[bl]||null}(t)}const gd={};function Un(t){return Fn(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ie,declarations:t.declarations||Ie,imports:t.imports||Ie,exports:t.exports||Ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(gd[t.id]=t.type),e})}function md(t,e){if(null==t)return Cr;const i={};for(const y in t)if(t.hasOwnProperty(y)){let L=t[y],G=L;Array.isArray(L)&&(G=L[1],L=L[0]),i[L]=y,e&&(e[L]=G)}return i}const oi=ri;function xi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function li(t){return t[As]||null}function Ni(t,e){const i=t[dd]||null;if(!i&&!0===e)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return i}function cn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zi(t){return Array.isArray(t)&&!0===t[1]}function Dl(t){return 0!=(8&t.flags)}function ks(t){return 2==(2&t.flags)}function Ls(t){return 1==(1&t.flags)}function Qi(t){return null!==t.template}function Sx(t){return 0!=(512&t[2])}function lr(t,e){return t.hasOwnProperty(bn)?t[bn]:null}class Tx{constructor(e,i,y){this.previousValue=e,this.currentValue=i,this.firstChange=y}isFirstChange(){return this.firstChange}}function Gn(){return yd}function yd(t){return t.type.prototype.ngOnChanges&&(t.setInput=wx),bx}function bx(){const t=Cd(this),e=null==t?void 0:t.current;if(e){const i=t.previous;if(i===Cr)t.previous=e;else for(let y in e)i[y]=e[y];t.current=null,this.ngOnChanges(e)}}function wx(t,e,i,y){const L=Cd(t)||function Ax(t,e){return t[xd]=e}(t,{previous:Cr,current:null}),G=L.current||(L.current={}),tt=L.previous,rt=this.declaredInputs[i],ht=tt[rt];G[rt]=new Tx(ht&&ht.currentValue,e,tt===Cr),t[y]=e}Gn.ngInherit=!0;const xd="__ngSimpleChanges__";function Cd(t){return t[xd]||null}let Il;function Rl(){return void 0!==Il?Il:"undefined"!=typeof document?document:void 0}function Ue(t){return!!t.listen}const Sd={createRenderer:(t,e)=>Rl()};function Ye(t){for(;Array.isArray(t);)t=t[0];return t}function Is(t,e){return Ye(e[t])}function Fi(t,e){return Ye(e[t.index])}function _l(t,e){return t.data[e]}function Oi(t,e){const i=e[t];return cn(i)?i:i[0]}function Ed(t){return 4==(4&t[2])}function Nl(t){return 128==(128&t[2])}function Hn(t,e){return null==e?null:t[e]}function Md(t){t[18]=0}function Bl(t,e){t[5]+=e;let i=t,y=t[3];for(;null!==y&&(1===e&&1===i[5]||-1===e&&0===i[5]);)y[5]+=e,i=y,y=y[3]}const se={lFrame:kd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Td(){return se.bindingsEnabled}function Ht(){return se.lFrame.lView}function Ee(){return se.lFrame.tView}function Ke(t){return se.lFrame.contextLView=t,t[8]}function Je(){let t=bd();for(;null!==t&&64===t.type;)t=t.parent;return t}function bd(){return se.lFrame.currentTNode}function un(t,e){const i=se.lFrame;i.currentTNode=t,i.isParent=e}function jl(){return se.lFrame.isParent}function Rs(){return se.isInCheckNoChangesMode}function _s(t){se.isInCheckNoChangesMode=t}function pi(){const t=se.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wr(){return se.lFrame.bindingIndex++}function An(t){const e=se.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function Wx(t,e){const i=se.lFrame;i.bindingIndex=i.bindingRootIndex=t,Ul(e)}function Ul(t){se.lFrame.currentDirectiveIndex=t}function Dd(){return se.lFrame.currentQueryIndex}function Gl(t){se.lFrame.currentQueryIndex=t}function Xx(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Pd(t,e,i){if(i&le.SkipSelf){let L=e,G=t;for(;!(L=L.parent,null!==L||i&le.Host||(L=Xx(G),null===L||(G=G[15],10&L.type))););if(null===L)return!1;e=L,t=G}const y=se.lFrame=Od();return y.currentTNode=e,y.lView=t,!0}function Ns(t){const e=Od(),i=t[1];se.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Od(){const t=se.lFrame,e=null===t?null:t.child;return null===e?kd(t):e}function kd(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ld(){const t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Id=Ld;function Bs(){const t=Ld();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fi(){return se.lFrame.selectedIndex}function Wn(t){se.lFrame.selectedIndex=t}function ze(){const t=se.lFrame;return _l(t.tView,t.selectedIndex)}function Hl(){se.lFrame.currentNamespace="svg"}function js(t,e){for(let i=e.directiveStart,y=e.directiveEnd;i<y;i++){const G=t.data[i].type.prototype,{ngAfterContentInit:tt,ngAfterContentChecked:rt,ngAfterViewInit:ht,ngAfterViewChecked:gt,ngOnDestroy:Ct}=G;tt&&(t.contentHooks||(t.contentHooks=[])).push(-i,tt),rt&&((t.contentHooks||(t.contentHooks=[])).push(i,rt),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,rt)),ht&&(t.viewHooks||(t.viewHooks=[])).push(-i,ht),gt&&((t.viewHooks||(t.viewHooks=[])).push(i,gt),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,gt)),null!=Ct&&(t.destroyHooks||(t.destroyHooks=[])).push(i,Ct)}}function Fs(t,e,i){Rd(t,e,3,i)}function Us(t,e,i,y){(3&t[2])===i&&Rd(t,e,i,y)}function Wl(t,e){let i=t[2];(3&i)===e&&(i&=2047,i+=1,t[2]=i)}function Rd(t,e,i,y){const G=null!=y?y:-1,tt=e.length-1;let rt=0;for(let ht=void 0!==y?65535&t[18]:0;ht<tt;ht++)if("number"==typeof e[ht+1]){if(rt=e[ht],null!=y&&rt>=y)break}else e[ht]<0&&(t[18]+=65536),(rt<G||-1==G)&&(t1(t,i,e,ht),t[18]=(4294901760&t[18])+ht+2),ht++}function t1(t,e,i,y){const L=i[y]<0,G=i[y+1],rt=t[L?-i[y]:i[y]];if(L){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{G.call(rt)}finally{}}}else try{G.call(rt)}finally{}}class Mo{constructor(e,i,y){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=y}}function zs(t,e,i){const y=Ue(t);let L=0;for(;L<i.length;){const G=i[L];if("number"==typeof G){if(0!==G)break;L++;const tt=i[L++],rt=i[L++],ht=i[L++];y?t.setAttribute(e,rt,ht,tt):e.setAttributeNS(tt,rt,ht)}else{const tt=G,rt=i[++L];Xl(tt)?y&&t.setProperty(e,tt,rt):y?t.setAttribute(e,tt,rt):e.setAttribute(tt,rt),L++}}return L}function _d(t){return 3===t||4===t||6===t}function Xl(t){return 64===t.charCodeAt(0)}function Gs(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let i=-1;for(let y=0;y<e.length;y++){const L=e[y];"number"==typeof L?i=L:0===i||Nd(t,i,L,null,-1===i||2===i?e[++y]:null)}}return t}function Nd(t,e,i,y,L){let G=0,tt=t.length;if(-1===e)tt=-1;else for(;G<t.length;){const rt=t[G++];if("number"==typeof rt){if(rt===e){tt=-1;break}if(rt>e){tt=G-1;break}}}for(;G<t.length;){const rt=t[G];if("number"==typeof rt)break;if(rt===i){if(null===y)return void(null!==L&&(t[G+1]=L));if(y===t[G+1])return void(t[G+2]=L)}G++,null!==y&&G++,null!==L&&G++}-1!==tt&&(t.splice(tt,0,e),G=tt+1),t.splice(G++,0,i),null!==y&&t.splice(G++,0,y),null!==L&&t.splice(G++,0,L)}function Bd(t){return-1!==t}function Ar(t){return 32767&t}function Dr(t,e){let i=function o1(t){return t>>16}(t),y=e;for(;i>0;)y=y[15],i--;return y}let Yl=!0;function Hs(t){const e=Yl;return Yl=t,e}let s1=0;function bo(t,e){const i=$l(t,e);if(-1!==i)return i;const y=e[1];y.firstCreatePass&&(t.injectorIndex=e.length,Kl(y.data,t),Kl(e,null),Kl(y.blueprint,null));const L=Ws(t,e),G=t.injectorIndex;if(Bd(L)){const tt=Ar(L),rt=Dr(L,e),ht=rt[1].data;for(let gt=0;gt<8;gt++)e[G+gt]=rt[tt+gt]|ht[tt+gt]}return e[G+8]=L,G}function Kl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $l(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ws(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,y=null,L=e;for(;null!==L;){const G=L[1],tt=G.type;if(y=2===tt?G.declTNode:1===tt?L[6]:null,null===y)return-1;if(i++,L=L[15],-1!==y.injectorIndex)return y.injectorIndex|i<<16}return-1}function Vs(t,e,i){!function a1(t,e,i){let y;"string"==typeof i?y=i.charCodeAt(0)||0:i.hasOwnProperty(yo)&&(y=i[yo]),null==y&&(y=i[yo]=s1++);const L=255&y;e.data[t+(L>>5)]|=1<<L}(t,e,i)}function Ud(t,e,i){if(i&le.Optional)return t;bs(e,"NodeInjector")}function zd(t,e,i,y){if(i&le.Optional&&void 0===y&&(y=null),0==(i&(le.Self|le.Host))){const L=t[9],G=jn(void 0);try{return L?L.get(e,y,i&le.Optional):ud(e,y,i&le.Optional)}finally{jn(G)}}return Ud(y,e,i)}function Gd(t,e,i,y=le.Default,L){if(null!==t){const G=function u1(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(yo)?t[yo]:void 0;return"number"==typeof e?e>=0?255&e:h1:e}(i);if("function"==typeof G){if(!Pd(e,t,y))return y&le.Host?Ud(L,i,y):zd(e,i,y,L);try{const tt=G(y);if(null!=tt||y&le.Optional)return tt;bs(i)}finally{Id()}}else if("number"==typeof G){let tt=null,rt=$l(t,e),ht=-1,gt=y&le.Host?e[16][6]:null;for((-1===rt||y&le.SkipSelf)&&(ht=-1===rt?Ws(t,e):e[rt+8],-1!==ht&&Vd(y,!1)?(tt=e[1],rt=Ar(ht),e=Dr(ht,e)):rt=-1);-1!==rt;){const Ct=e[1];if(Wd(G,rt,Ct.data)){const Tt=c1(rt,e,i,tt,y,gt);if(Tt!==Hd)return Tt}ht=e[rt+8],-1!==ht&&Vd(y,e[1].data[rt+8]===gt)&&Wd(G,rt,e)?(tt=Ct,rt=Ar(ht),e=Dr(ht,e)):rt=-1}}}return zd(e,i,y,L)}const Hd={};function h1(){return new Pr(Je(),Ht())}function c1(t,e,i,y,L,G){const tt=e[1],rt=tt.data[t+8],Ct=Xs(rt,tt,i,null==y?ks(rt)&&Yl:y!=tt&&0!=(3&rt.type),L&le.Host&&G===rt);return null!==Ct?wo(e,tt,Ct,rt):Hd}function Xs(t,e,i,y,L){const G=t.providerIndexes,tt=e.data,rt=1048575&G,ht=t.directiveStart,Ct=G>>20,At=L?rt+Ct:t.directiveEnd;for(let Pt=y?rt:rt+Ct;Pt<At;Pt++){const _t=tt[Pt];if(Pt<ht&&i===_t||Pt>=ht&&_t.type===i)return Pt}if(L){const Pt=tt[ht];if(Pt&&Qi(Pt)&&Pt.type===i)return ht}return null}function wo(t,e,i,y){let L=t[i];const G=e.data;if(function e1(t){return t instanceof Mo}(L)){const tt=L;tt.resolving&&function rx(t,e){const i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${i}`)}(di(G[i]));const rt=Hs(tt.canSeeViewProviders);tt.resolving=!0;const ht=tt.injectImpl?jn(tt.injectImpl):null;Pd(t,y,le.Default);try{L=t[i]=tt.factory(void 0,G,t,y),e.firstCreatePass&&i>=y.directiveStart&&function qx(t,e,i){const{ngOnChanges:y,ngOnInit:L,ngDoCheck:G}=e.type.prototype;if(y){const tt=yd(e);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,tt),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,tt)}L&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,L),G&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,G),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,G))}(i,G[i],e)}finally{null!==ht&&jn(ht),Hs(rt),tt.resolving=!1,Id()}}return L}function Wd(t,e,i){return!!(i[e+(t>>5)]&1<<t)}function Vd(t,e){return!(t&le.Self||t&le.Host&&e)}class Pr{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,y){return Gd(this._tNode,this._lView,e,y,i)}}function Ao(t){return function l1(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const i=t.attrs;if(i){const y=i.length;let L=0;for(;L<y;){const G=i[L];if(_d(G))break;if(0===G)L+=2;else if("number"==typeof G)for(L++;L<y&&"string"==typeof i[L];)L++;else{if(G===e)return i[L+1];L+=2}}}return null}(Je(),t)}const kr="__parameters__";function Ir(t,e,i){return Fn(()=>{const y=function Ql(t){return function(...i){if(t){const y=t(...i);for(const L in y)this[L]=y[L]}}}(e);function L(...G){if(this instanceof L)return y.apply(this,G),this;const tt=new L(...G);return rt.annotation=tt,rt;function rt(ht,gt,Ct){const Tt=ht.hasOwnProperty(kr)?ht[kr]:Object.defineProperty(ht,kr,{value:[]})[kr];for(;Tt.length<=Ct;)Tt.push(null);return(Tt[Ct]=Tt[Ct]||[]).push(tt),ht}}return i&&(L.prototype=Object.create(i.prototype)),L.prototype.ngMetadataName=t,L.annotationCls=L,L})}class Me{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ve({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const f1=new Me("AnalyzeForEntryComponents");function Ui(t,e){void 0===e&&(e=t);for(let i=0;i<t.length;i++){let y=t[i];Array.isArray(y)?(e===t&&(e=t.slice(0,i)),Ui(y,e)):e!==t&&e.push(y)}return e}function dn(t,e){t.forEach(i=>Array.isArray(i)?dn(i,e):e(i))}function Yd(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Ys(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ki(t,e,i){let y=Rr(t,e);return y>=0?t[1|y]=i:(y=~y,function v1(t,e,i,y){let L=t.length;if(L==e)t.push(i,y);else if(1===L)t.push(y,t[0]),t[0]=i;else{for(L--,t.push(t[L-1],t[L]);L>e;)t[L]=t[L-2],L--;t[e]=i,t[e+1]=y}}(t,y,e,i)),y}function ql(t,e){const i=Rr(t,e);if(i>=0)return t[1|i]}function Rr(t,e){return function Zd(t,e,i){let y=0,L=t.length>>i;for(;L!==y;){const G=y+(L-y>>1),tt=t[G<<i];if(e===tt)return G<<i;tt>e?L=G:y=G+1}return~(L<<i)}(t,e,1)}const ko={},eh="__NG_DI_FLAG__",$s="ngTempTokenPath",T1=/\n/gm,Jd="__source",w1=Le({provide:String,useValue:Le});let Lo;function qd(t){const e=Lo;return Lo=t,e}function A1(t,e=le.Default){if(void 0===Lo)throw new we(203,"");return null===Lo?ud(t,void 0,e):Lo.get(t,e&le.Optional?null:void 0,e)}function ie(t,e=le.Default){return(function ux(){return Ml}()||A1)(ue(t),e)}const D1=ie;function ih(t){const e=[];for(let i=0;i<t.length;i++){const y=ue(t[i]);if(Array.isArray(y)){if(0===y.length)throw new we(900,"");let L,G=le.Default;for(let tt=0;tt<y.length;tt++){const rt=y[tt],ht=P1(rt);"number"==typeof ht?-1===ht?L=rt.token:G|=ht:L=rt}e.push(ie(L,G))}else e.push(ie(y))}return e}function Io(t,e){return t[eh]=e,t.prototype[eh]=e,t}function P1(t){return t[eh]}const Zs=Io(Ir("Inject",t=>({token:t})),-1),Xn=Io(Ir("Optional"),8),Ro=Io(Ir("SkipSelf"),4);let Js,qs;function Nr(t){var e;return(null===(e=function rh(){if(void 0===Js&&(Js=null,Oe.trustedTypes))try{Js=Oe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Js}())||void 0===e?void 0:e.createHTML(t))||t}function op(t){var e;return(null===(e=function oh(){if(void 0===qs&&(qs=null,Oe.trustedTypes))try{qs=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return qs}())||void 0===e?void 0:e.createHTML(t))||t}class lp{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yn(t){return t instanceof lp?t.changingThisBreaksApplicationSecurity:t}function No(t,e){const i=function Y1(t){return t instanceof lp&&t.getTypeName()||null}(t);if(null!=i&&i!==e){if("ResourceURL"===i&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===e}class K1{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const i=(new window.DOMParser).parseFromString(Nr(e),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class $1{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const y=this.inertDocument.createElement("body");i.appendChild(y)}}getInertBodyElement(e){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Nr(e),i;const y=this.inertDocument.createElement("body");return y.innerHTML=Nr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(e){const i=e.attributes;for(let L=i.length-1;0<L;L--){const tt=i.item(L).name;("xmlns:ns1"===tt||0===tt.indexOf("ns1:"))&&e.removeAttribute(tt)}let y=e.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const Q1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,J1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ta(t){return(t=String(t)).match(Q1)||t.match(J1)?t:"unsafe:"+t}function pn(t){const e={};for(const i of t.split(","))e[i]=!0;return e}function Bo(...t){const e={};for(const i of t)for(const y in i)i.hasOwnProperty(y)&&(e[y]=!0);return e}const up=pn("area,br,col,hr,img,wbr"),dp=pn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pp=pn("rp,rt"),sh=Bo(up,Bo(dp,pn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bo(pp,pn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bo(pp,dp)),ah=pn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lh=pn("srcset"),fp=Bo(ah,lh,pn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q1=pn("script,style,template");class tC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,y=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?y=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,y&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let L=this.checkClobberedElement(i,i.nextSibling);if(L){i=L;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(e){const i=e.nodeName.toLowerCase();if(!sh.hasOwnProperty(i))return this.sanitizedSomething=!0,!q1.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const y=e.attributes;for(let L=0;L<y.length;L++){const G=y.item(L),tt=G.name,rt=tt.toLowerCase();if(!fp.hasOwnProperty(rt)){this.sanitizedSomething=!0;continue}let ht=G.value;ah[rt]&&(ht=ta(ht)),lh[rt]&&(t=ht,ht=(t=String(t)).split(",").map(e=>ta(e.trim())).join(", ")),this.buf.push(" ",tt,'="',gp(ht),'"')}var t;return this.buf.push(">"),!0}endElement(e){const i=e.nodeName.toLowerCase();sh.hasOwnProperty(i)&&!up.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(gp(e))}checkClobberedElement(e,i){if(i&&(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return i}}const eC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iC=/([^\#-~ |!])/g;function gp(t){return t.replace(/&/g,"&amp;").replace(eC,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(iC,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ea;function hh(t){return"content"in t&&function rC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $e=(()=>(($e=$e||{})[$e.NONE=0]="NONE",$e[$e.HTML=1]="HTML",$e[$e.STYLE=2]="STYLE",$e[$e.SCRIPT=3]="SCRIPT",$e[$e.URL=4]="URL",$e[$e.RESOURCE_URL=5]="RESOURCE_URL",$e))();function ia(t){const e=jo();return e?op(e.sanitize($e.HTML,t)||""):No(t,"HTML")?op(Yn(t)):function nC(t,e){let i=null;try{ea=ea||function hp(t){const e=new $1(t);return function Z1(){try{return!!(new window.DOMParser).parseFromString(Nr(""),"text/html")}catch(t){return!1}}()?new K1(e):e}(t);let y=e?String(e):"";i=ea.getInertBodyElement(y);let L=5,G=y;do{if(0===L)throw new Error("Failed to sanitize html because the input is unstable");L--,y=G,G=i.innerHTML,i=ea.getInertBodyElement(y)}while(y!==G);return Nr((new tC).sanitizeChildren(hh(i)||i))}finally{if(i){const y=hh(i)||i;for(;y.firstChild;)y.removeChild(y.firstChild)}}}(Rl(),he(t))}function Br(t){const e=jo();return e?e.sanitize($e.URL,t)||"":No(t,"URL")?Yn(t):ta(he(t))}function jo(){const t=Ht();return t&&t[12]}const yp="__ngContext__";function ci(t,e){t[yp]=e}function uh(t){const e=function Fo(t){return t[yp]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ph(t){return t.ngOriginalError}function CC(t,...e){t.error(...e)}class Uo{constructor(){this._console=console}handleError(e){const i=this._findOriginalError(e),y=function xC(t){return t&&t.ngErrorLogger||CC}(e);y(this._console,"ERROR",e),i&&y(this._console,"ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&ph(e);for(;i&&ph(i);)i=ph(i);return i||null}}const OC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function Mp(t){return t.ownerDocument.defaultView}function Tp(t){return t.ownerDocument}function fn(t){return t instanceof Function?t():t}var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();function gh(t,e){return undefined(t,e)}function zo(t){const e=t[3];return Zi(e)?e[3]:e}function mh(t){return Pp(t[13])}function vh(t){return Pp(t[4])}function Pp(t){for(;null!==t&&!Zi(t);)t=t[4];return t}function Fr(t,e,i,y,L){if(null!=y){let G,tt=!1;Zi(y)?G=y:cn(y)&&(tt=!0,y=y[0]);const rt=Ye(y);0===t&&null!==i?null==L?_p(e,i,rt):hr(e,i,rt,L||null,!0):1===t&&null!==i?hr(e,i,rt,L||null,!0):2===t?function Gp(t,e,i){const y=na(t,e);y&&function GC(t,e,i,y){Ue(t)?t.removeChild(e,i,y):e.removeChild(i)}(t,y,e,i)}(e,rt,tt):3===t&&e.destroyNode(rt),null!=G&&function VC(t,e,i,y,L){const G=i[7];G!==Ye(i)&&Fr(e,t,y,G,L);for(let rt=10;rt<i.length;rt++){const ht=i[rt];Go(ht[1],ht,t,e,y,G)}}(e,t,G,i,L)}}function xh(t,e,i){if(Ue(t))return t.createElement(e,i);{const y=null!==i?function kx(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(i):null;return null===y?t.createElement(e):t.createElementNS(y,e)}}function kp(t,e){const i=t[9],y=i.indexOf(e),L=e[3];1024&e[2]&&(e[2]&=-1025,Bl(L,-1)),i.splice(y,1)}function Ch(t,e){if(t.length<=10)return;const i=10+e,y=t[i];if(y){const L=y[17];null!==L&&L!==t&&kp(L,y),e>0&&(t[i-1][4]=y[4]);const G=Ys(t,10+e);!function RC(t,e){Go(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(y[1],y);const tt=G[19];null!==tt&&tt.detachView(G[1]),y[3]=null,y[4]=null,y[2]&=-129}return y}function Lp(t,e){if(!(256&e[2])){const i=e[11];Ue(i)&&i.destroyNode&&Go(t,e,i,3,null,null),function BC(t){let e=t[13];if(!e)return Sh(t[1],t);for(;e;){let i=null;if(cn(e))i=e[13];else{const y=e[10];y&&(i=y)}if(!i){for(;e&&!e[4]&&e!==t;)cn(e)&&Sh(e[1],e),e=e[3];null===e&&(e=t),cn(e)&&Sh(e[1],e),i=e&&e[4]}e=i}}(e)}}function Sh(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function zC(t,e){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let y=0;y<i.length;y+=2){const L=e[i[y]];if(!(L instanceof Mo)){const G=i[y+1];if(Array.isArray(G))for(let tt=0;tt<G.length;tt+=2){const rt=L[G[tt]],ht=G[tt+1];try{ht.call(rt)}finally{}}else try{G.call(L)}finally{}}}}(t,e),function UC(t,e){const i=t.cleanup,y=e[7];let L=-1;if(null!==i)for(let G=0;G<i.length-1;G+=2)if("string"==typeof i[G]){const tt=i[G+1],rt="function"==typeof tt?tt(e):Ye(e[tt]),ht=y[L=i[G+2]],gt=i[G+3];"boolean"==typeof gt?rt.removeEventListener(i[G],ht,gt):gt>=0?y[L=gt]():y[L=-gt].unsubscribe(),G+=2}else{const tt=y[L=i[G+1]];i[G].call(tt)}if(null!==y){for(let G=L+1;G<y.length;G++)y[G]();e[7]=null}}(t,e),1===e[1].type&&Ue(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Zi(e[3])){i!==e[3]&&kp(i,e);const y=e[19];null!==y&&y.detachView(t)}}}function Ip(t,e,i){return function Rp(t,e,i){let y=e;for(;null!==y&&40&y.type;)y=(e=y).parent;if(null===y)return i[0];if(2&y.flags){const L=t.data[y.directiveStart].encapsulation;if(L===hn.None||L===hn.Emulated)return null}return Fi(y,i)}(t,e.parent,i)}function hr(t,e,i,y,L){Ue(t)?t.insertBefore(e,i,y,L):e.insertBefore(i,y,L)}function _p(t,e,i){Ue(t)?t.appendChild(e,i):e.appendChild(i)}function Np(t,e,i,y,L){null!==y?hr(t,e,i,y,L):_p(t,e,i)}function na(t,e){return Ue(t)?t.parentNode(e):e.parentNode}let Fp=function jp(t,e,i){return 40&t.type?Fi(t,i):null};function ra(t,e,i,y){const L=Ip(t,y,e),G=e[11],rt=function Bp(t,e,i){return Fp(t,e,i)}(y.parent||e[6],y,e);if(null!=L)if(Array.isArray(i))for(let ht=0;ht<i.length;ht++)Np(G,L,i[ht],rt,!1);else Np(G,L,i,rt,!1)}function oa(t,e){if(null!==e){const i=e.type;if(3&i)return Fi(e,t);if(4&i)return Mh(-1,t[e.index]);if(8&i){const y=e.child;if(null!==y)return oa(t,y);{const L=t[e.index];return Zi(L)?Mh(-1,L):Ye(L)}}if(32&i)return gh(e,t)()||Ye(t[e.index]);{const y=zp(t,e);return null!==y?Array.isArray(y)?y[0]:oa(zo(t[16]),y):oa(t,e.next)}}return null}function zp(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mh(t,e){const i=10+t+1;if(i<e.length){const y=e[i],L=y[1].firstChild;if(null!==L)return oa(y,L)}return e[7]}function Th(t,e,i,y,L,G,tt){for(;null!=i;){const rt=y[i.index],ht=i.type;if(tt&&0===e&&(rt&&ci(Ye(rt),y),i.flags|=4),64!=(64&i.flags))if(8&ht)Th(t,e,i.child,y,L,G,!1),Fr(e,t,L,rt,G);else if(32&ht){const gt=gh(i,y);let Ct;for(;Ct=gt();)Fr(e,t,L,Ct,G);Fr(e,t,L,rt,G)}else 16&ht?Hp(t,e,y,i,L,G):Fr(e,t,L,rt,G);i=tt?i.projectionNext:i.next}}function Go(t,e,i,y,L,G){Th(i,y,t.firstChild,e,L,G,!1)}function Hp(t,e,i,y,L,G){const tt=i[16],ht=tt[6].projection[y.projection];if(Array.isArray(ht))for(let gt=0;gt<ht.length;gt++)Fr(e,t,L,ht[gt],G);else Th(t,e,ht,tt[3],L,G,!0)}function Wp(t,e,i){Ue(t)?t.setAttribute(e,"style",i):e.style.cssText=i}function bh(t,e,i){Ue(t)?""===i?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i):e.className=i}function Vp(t,e,i){let y=t.length;for(;;){const L=t.indexOf(e,i);if(-1===L)return L;if(0===L||t.charCodeAt(L-1)<=32){const G=e.length;if(L+G===y||t.charCodeAt(L+G)<=32)return L}i=L+1}}const Xp="ng-template";function YC(t,e,i){let y=0;for(;y<t.length;){let L=t[y++];if(i&&"class"===L){if(L=t[y],-1!==Vp(L.toLowerCase(),e,0))return!0}else if(1===L){for(;y<t.length&&"string"==typeof(L=t[y++]);)if(L.toLowerCase()===e)return!0;return!1}}return!1}function Yp(t){return 4===t.type&&t.value!==Xp}function KC(t,e,i){return e===(4!==t.type||i?t.value:Xp)}function $C(t,e,i){let y=4;const L=t.attrs||[],G=function JC(t){for(let e=0;e<t.length;e++)if(_d(t[e]))return e;return t.length}(L);let tt=!1;for(let rt=0;rt<e.length;rt++){const ht=e[rt];if("number"!=typeof ht){if(!tt)if(4&y){if(y=2|1&y,""!==ht&&!KC(t,ht,i)||""===ht&&1===e.length){if(Ji(y))return!1;tt=!0}}else{const gt=8&y?ht:e[++rt];if(8&y&&null!==t.attrs){if(!YC(t.attrs,gt,i)){if(Ji(y))return!1;tt=!0}continue}const Tt=ZC(8&y?"class":ht,L,Yp(t),i);if(-1===Tt){if(Ji(y))return!1;tt=!0;continue}if(""!==gt){let At;At=Tt>G?"":L[Tt+1].toLowerCase();const Pt=8&y?At:null;if(Pt&&-1!==Vp(Pt,gt,0)||2&y&&gt!==At){if(Ji(y))return!1;tt=!0}}}}else{if(!tt&&!Ji(y)&&!Ji(ht))return!1;if(tt&&Ji(ht))continue;tt=!1,y=ht|1&y}}return Ji(y)||tt}function Ji(t){return 0==(1&t)}function ZC(t,e,i,y){if(null===e)return-1;let L=0;if(y||!i){let G=!1;for(;L<e.length;){const tt=e[L];if(tt===t)return L;if(3===tt||6===tt)G=!0;else{if(1===tt||2===tt){let rt=e[++L];for(;"string"==typeof rt;)rt=e[++L];continue}if(4===tt)break;if(0===tt){L+=4;continue}}L+=G?1:2}return-1}return function qC(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const y=t[i];if("number"==typeof y)return-1;if(y===e)return i;i++}return-1}(e,t)}function Kp(t,e,i=!1){for(let y=0;y<e.length;y++)if($C(t,e[y],i))return!0;return!1}function $p(t,e){return t?":not("+e.trim()+")":e}function eS(t){let e=t[0],i=1,y=2,L="",G=!1;for(;i<t.length;){let tt=t[i];if("string"==typeof tt)if(2&y){const rt=t[++i];L+="["+tt+(rt.length>0?'="'+rt+'"':"")+"]"}else 8&y?L+="."+tt:4&y&&(L+=" "+tt);else""!==L&&!Ji(tt)&&(e+=$p(G,L),L=""),y=tt,G=G||!Ji(y);i++}return""!==L&&(e+=$p(G,L)),e}const ce={};function ne(t){Zp(Ee(),Ht(),fi()+t,Rs())}function Zp(t,e,i,y){if(!y)if(3==(3&e[2])){const G=t.preOrderCheckHooks;null!==G&&Fs(e,G,i)}else{const G=t.preOrderHooks;null!==G&&Us(e,G,0,i)}Wn(i)}function sa(t,e){return t<<17|e<<2}function qi(t){return t>>17&32767}function wh(t){return 2|t}function Dn(t){return(131068&t)>>2}function Ah(t,e){return-131069&t|e<<2}function Dh(t){return 1|t}function lf(t,e){const i=t.contentQueries;if(null!==i)for(let y=0;y<i.length;y+=2){const L=i[y],G=i[y+1];if(-1!==G){const tt=t.data[G];Gl(L),tt.contentQueries(2,e[G],G)}}}function Ho(t,e,i,y,L,G,tt,rt,ht,gt){const Ct=e.blueprint.slice();return Ct[0]=L,Ct[2]=140|y,Md(Ct),Ct[3]=Ct[15]=t,Ct[8]=i,Ct[10]=tt||t&&t[10],Ct[11]=rt||t&&t[11],Ct[12]=ht||t&&t[12]||null,Ct[9]=gt||t&&t[9]||null,Ct[6]=G,Ct[16]=2==e.type?t[16]:Ct,Ct}function Ur(t,e,i,y,L){let G=t.data[e];if(null===G)G=function Bh(t,e,i,y,L){const G=bd(),tt=jl(),ht=t.data[e]=function xS(t,e,i,y,L,G){return{type:i,index:y,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:L,attrs:G,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,tt?G:G&&G.parent,i,e,y,L);return null===t.firstChild&&(t.firstChild=ht),null!==G&&(tt?null==G.child&&null!==ht.parent&&(G.child=ht):null===G.next&&(G.next=ht)),ht}(t,e,i,y,L),function Hx(){return se.lFrame.inI18n}()&&(G.flags|=64);else if(64&G.type){G.type=i,G.value=y,G.attrs=L;const tt=function Eo(){const t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();G.injectorIndex=null===tt?-1:tt.injectorIndex}return un(G,!0),G}function zr(t,e,i,y){if(0===i)return-1;const L=e.length;for(let G=0;G<i;G++)e.push(y),t.blueprint.push(y),t.data.push(null);return L}function Wo(t,e,i){Ns(e);try{const y=t.viewQuery;null!==y&&Xh(1,y,i);const L=t.template;null!==L&&hf(t,e,L,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&lf(t,e),t.staticViewQueries&&Xh(2,t.viewQuery,i);const G=t.components;null!==G&&function mS(t,e){for(let i=0;i<e.length;i++)BS(t,e[i])}(e,G)}catch(y){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),y}finally{e[2]&=-5,Bs()}}function Gr(t,e,i,y){const L=e[2];if(256==(256&L))return;Ns(e);const G=Rs();try{Md(e),function wd(t){return se.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&hf(t,e,i,2,y);const tt=3==(3&L);if(!G)if(tt){const gt=t.preOrderCheckHooks;null!==gt&&Fs(e,gt,null)}else{const gt=t.preOrderHooks;null!==gt&&Us(e,gt,0,null),Wl(e,0)}if(function _S(t){for(let e=mh(t);null!==e;e=vh(e)){if(!e[2])continue;const i=e[9];for(let y=0;y<i.length;y++){const L=i[y],G=L[3];0==(1024&L[2])&&Bl(G,1),L[2]|=1024}}}(e),function RS(t){for(let e=mh(t);null!==e;e=vh(e))for(let i=10;i<e.length;i++){const y=e[i],L=y[1];Nl(y)&&Gr(L,y,L.template,y[8])}}(e),null!==t.contentQueries&&lf(t,e),!G)if(tt){const gt=t.contentCheckHooks;null!==gt&&Fs(e,gt)}else{const gt=t.contentHooks;null!==gt&&Us(e,gt,1),Wl(e,1)}!function fS(t,e){const i=t.hostBindingOpCodes;if(null!==i)try{for(let y=0;y<i.length;y++){const L=i[y];if(L<0)Wn(~L);else{const G=L,tt=i[++y],rt=i[++y];Wx(tt,G),rt(2,e[G])}}}finally{Wn(-1)}}(t,e);const rt=t.components;null!==rt&&function gS(t,e){for(let i=0;i<e.length;i++)NS(t,e[i])}(e,rt);const ht=t.viewQuery;if(null!==ht&&Xh(2,ht,y),!G)if(tt){const gt=t.viewCheckHooks;null!==gt&&Fs(e,gt)}else{const gt=t.viewHooks;null!==gt&&Us(e,gt,2),Wl(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),G||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bl(e[3],-1))}finally{Bs()}}function vS(t,e,i,y){const L=e[10],G=!Rs(),tt=Ed(e);try{G&&!tt&&L.begin&&L.begin(),tt&&Wo(t,e,y),Gr(t,e,i,y)}finally{G&&!tt&&L.end&&L.end()}}function hf(t,e,i,y,L){const G=fi(),tt=2&y;try{Wn(-1),tt&&e.length>20&&Zp(t,e,20,Rs()),i(y,L)}finally{Wn(G)}}function jh(t,e,i){!Td()||(function wS(t,e,i,y){const L=i.directiveStart,G=i.directiveEnd;t.firstCreatePass||bo(i,e),ci(y,e);const tt=i.initialInputs;for(let rt=L;rt<G;rt++){const ht=t.data[rt],gt=Qi(ht);gt&&kS(e,i,ht);const Ct=wo(e,t,rt,i);ci(Ct,e),null!==tt&&LS(0,rt-L,Ct,ht,0,tt),gt&&(Oi(i.index,e)[8]=Ct)}}(t,e,i,Fi(i,e)),128==(128&i.flags)&&function AS(t,e,i){const y=i.directiveStart,L=i.directiveEnd,tt=i.index,rt=function Vx(){return se.lFrame.currentDirectiveIndex}();try{Wn(tt);for(let ht=y;ht<L;ht++){const gt=t.data[ht],Ct=e[ht];Ul(ht),(null!==gt.hostBindings||0!==gt.hostVars||null!==gt.hostAttrs)&&yf(gt,Ct)}}finally{Wn(-1),Ul(rt)}}(t,e,i))}function Fh(t,e,i=Fi){const y=e.localNames;if(null!==y){let L=e.index+1;for(let G=0;G<y.length;G+=2){const tt=y[G+1],rt=-1===tt?i(e,t):t[tt];t[L++]=rt}}}function uf(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ha(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ha(t,e,i,y,L,G,tt,rt,ht,gt){const Ct=20+y,Tt=Ct+L,At=function yS(t,e){const i=[];for(let y=0;y<e;y++)i.push(y<t?null:ce);return i}(Ct,Tt),Pt="function"==typeof gt?gt():gt;return At[1]={type:t,blueprint:At,template:i,queries:null,viewQuery:rt,declTNode:e,data:At.slice().fill(null,Ct),bindingStartIndex:Ct,expandoStartIndex:Tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof G?G():G,pipeRegistry:"function"==typeof tt?tt():tt,firstChild:null,schemas:ht,consts:Pt,incompleteFirstPass:!1}}function ff(t,e,i,y){const L=Tf(e);null===i?L.push(y):(L.push(i),t.firstCreatePass&&bf(t).push(y,L.length-1))}function gf(t,e,i){for(let y in t)if(t.hasOwnProperty(y)){const L=t[y];(i=null===i?{}:i).hasOwnProperty(y)?i[y].push(e,L):i[y]=[e,L]}return i}function Uh(t,e,i,y){let L=!1;if(Td()){const G=function DS(t,e,i){const y=t.directiveRegistry;let L=null;if(y)for(let G=0;G<y.length;G++){const tt=y[G];Kp(i,tt.selectors,!1)&&(L||(L=[]),Vs(bo(i,e),t,tt.type),Qi(tt)?(xf(t,i),L.unshift(tt)):L.push(tt))}return L}(t,e,i),tt=null===y?null:{"":-1};if(null!==G){L=!0,Cf(i,t.data.length,G.length);for(let Ct=0;Ct<G.length;Ct++){const Tt=G[Ct];Tt.providersResolver&&Tt.providersResolver(Tt)}let rt=!1,ht=!1,gt=zr(t,e,G.length,null);for(let Ct=0;Ct<G.length;Ct++){const Tt=G[Ct];i.mergedAttrs=Gs(i.mergedAttrs,Tt.hostAttrs),Sf(t,i,e,gt,Tt),OS(gt,Tt,tt),null!==Tt.contentQueries&&(i.flags|=8),(null!==Tt.hostBindings||null!==Tt.hostAttrs||0!==Tt.hostVars)&&(i.flags|=128);const At=Tt.type.prototype;!rt&&(At.ngOnChanges||At.ngOnInit||At.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),rt=!0),!ht&&(At.ngOnChanges||At.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),ht=!0),gt++}!function CS(t,e){const y=e.directiveEnd,L=t.data,G=e.attrs,tt=[];let rt=null,ht=null;for(let gt=e.directiveStart;gt<y;gt++){const Ct=L[gt],Tt=Ct.inputs,At=null===G||Yp(e)?null:IS(Tt,G);tt.push(At),rt=gf(Tt,gt,rt),ht=gf(Ct.outputs,gt,ht)}null!==rt&&(rt.hasOwnProperty("class")&&(e.flags|=16),rt.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=tt,e.inputs=rt,e.outputs=ht}(t,i)}tt&&function PS(t,e,i){if(e){const y=t.localNames=[];for(let L=0;L<e.length;L+=2){const G=i[e[L+1]];if(null==G)throw new we(-301,!1);y.push(e[L],G)}}}(i,y,tt)}return i.mergedAttrs=Gs(i.mergedAttrs,i.attrs),L}function vf(t,e,i,y,L,G){const tt=G.hostBindings;if(tt){let rt=t.hostBindingOpCodes;null===rt&&(rt=t.hostBindingOpCodes=[]);const ht=~e.index;(function bS(t){let e=t.length;for(;e>0;){const i=t[--e];if("number"==typeof i&&i<0)return i}return 0})(rt)!=ht&&rt.push(ht),rt.push(y,L,tt)}}function yf(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xf(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function OS(t,e,i){if(i){if(e.exportAs)for(let y=0;y<e.exportAs.length;y++)i[e.exportAs[y]]=t;Qi(e)&&(i[""]=t)}}function Cf(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Sf(t,e,i,y,L){t.data[y]=L;const G=L.factory||(L.factory=lr(L.type)),tt=new Mo(G,Qi(L),null);t.blueprint[y]=tt,i[y]=tt,vf(t,e,0,y,zr(t,i,L.hostVars,ce),L)}function kS(t,e,i){const y=Fi(e,t),L=uf(i),G=t[10],tt=ca(t,Ho(t,L,null,i.onPush?64:16,y,e,G,G.createRenderer(y,i),null,null));t[e.index]=tt}function gn(t,e,i,y,L,G){const tt=Fi(t,e);!function zh(t,e,i,y,L,G,tt){if(null==G)Ue(t)?t.removeAttribute(e,L,i):e.removeAttribute(L);else{const rt=null==tt?he(G):tt(G,y||"",L);Ue(t)?t.setAttribute(e,L,rt,i):i?e.setAttributeNS(i,L,rt):e.setAttribute(L,rt)}}(e[11],tt,G,t.value,i,y,L)}function LS(t,e,i,y,L,G){const tt=G[e];if(null!==tt){const rt=y.setInput;for(let ht=0;ht<tt.length;){const gt=tt[ht++],Ct=tt[ht++],Tt=tt[ht++];null!==rt?y.setInput(i,Tt,gt,Ct):i[Ct]=Tt}}}function IS(t,e){let i=null,y=0;for(;y<e.length;){const L=e[y];if(0!==L)if(5!==L){if("number"==typeof L)break;t.hasOwnProperty(L)&&(null===i&&(i=[]),i.push(L,t[L],e[y+1])),y+=2}else y+=2;else y+=4}return i}function Ef(t,e,i,y){return new Array(t,!0,!1,e,null,0,y,i,null,null)}function NS(t,e){const i=Oi(e,t);if(Nl(i)){const y=i[1];80&i[2]?Gr(y,i,y.template,i[8]):i[5]>0&&Gh(i)}}function Gh(t){for(let y=mh(t);null!==y;y=vh(y))for(let L=10;L<y.length;L++){const G=y[L];if(1024&G[2]){const tt=G[1];Gr(tt,G,tt.template,G[8])}else G[5]>0&&Gh(G)}const i=t[1].components;if(null!==i)for(let y=0;y<i.length;y++){const L=Oi(i[y],t);Nl(L)&&L[5]>0&&Gh(L)}}function BS(t,e){const i=Oi(e,t),y=i[1];(function jS(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])})(y,i),Wo(y,i,i[8])}function ca(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hh(t){for(;t;){t[2]|=64;const e=zo(t);if(Sx(t)&&!e)return t;t=e}return null}function Vh(t,e,i){const y=e[10];y.begin&&y.begin();try{Gr(t,e,t.template,i)}catch(L){throw Af(e,L),L}finally{y.end&&y.end()}}function Mf(t){!function Wh(t){for(let e=0;e<t.components.length;e++){const i=t.components[e],y=uh(i),L=y[1];vS(L,y,L.template,i)}}(t[8])}function Xh(t,e,i){Gl(0),e(t,i)}const GS=(()=>Promise.resolve(null))();function Tf(t){return t[7]||(t[7]=[])}function bf(t){return t.cleanup||(t.cleanup=[])}function Af(t,e){const i=t[9],y=i?i.get(Uo,null):null;y&&y.handleError(e)}function Df(t,e,i,y,L){for(let G=0;G<i.length;){const tt=i[G++],rt=i[G++],ht=e[tt],gt=t.data[tt];null!==gt.setInput?gt.setInput(ht,L,y,rt):ht[rt]=L}}function Pn(t,e,i){const y=Is(e,t);!function Op(t,e,i){Ue(t)?t.setValue(e,i):e.textContent=i}(t[11],y,i)}function ua(t,e,i){let y=i?t.styles:null,L=i?t.classes:null,G=0;if(null!==e)for(let tt=0;tt<e.length;tt++){const rt=e[tt];"number"==typeof rt?G=rt:1==G?L=yl(L,rt):2==G&&(y=yl(y,rt+": "+e[++tt]+";"))}i?t.styles=y:t.stylesWithoutHost=y,i?t.classes=L:t.classesWithoutHost=L}const Yh=new Me("INJECTOR",-1);class Pf{get(e,i=ko){if(i===ko){const y=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw y.name="NullInjectorError",y}return i}}const Kh=new Me("Set Injector scope."),Vo={},VS={};let $h;function Of(){return void 0===$h&&($h=new Pf),$h}function kf(t,e=null,i=null,y){const L=Lf(t,e,i,y);return L._resolveInjectorDefTypes(),L}function Lf(t,e=null,i=null,y){return new XS(t,i,e||Of(),y)}class XS{constructor(e,i,y,L=null){this.parent=y,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const G=[];i&&dn(i,rt=>this.processProvider(rt,e,i)),dn([e],rt=>this.processInjectorType(rt,[],G)),this.records.set(Yh,Hr(void 0,this));const tt=this.records.get(Kh);this.scope=null!=tt?tt.value:null,this.source=L||("object"==typeof e?null:Ae(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,i=ko,y=le.Default){this.assertNotDestroyed();const L=qd(this),G=jn(void 0);try{if(!(y&le.SkipSelf)){let rt=this.records.get(e);if(void 0===rt){const ht=function tE(t){return"function"==typeof t||"object"==typeof t&&t instanceof Me}(e)&&Sl(e);rt=ht&&this.injectableDefInScope(ht)?Hr(Zh(e),Vo):null,this.records.set(e,rt)}if(null!=rt)return this.hydrate(e,rt)}return(y&le.Self?Of():this.parent).get(e,i=y&le.Optional&&i===ko?null:i)}catch(tt){if("NullInjectorError"===tt.name){if((tt[$s]=tt[$s]||[]).unshift(Ae(e)),L)throw tt;return function O1(t,e,i,y){const L=t[$s];throw e[Jd]&&L.unshift(e[Jd]),t.message=function k1(t,e,i,y=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let L=Ae(e);if(Array.isArray(e))L=e.map(Ae).join(" -> ");else if("object"==typeof e){let G=[];for(let tt in e)if(e.hasOwnProperty(tt)){let rt=e[tt];G.push(tt+":"+("string"==typeof rt?JSON.stringify(rt):Ae(rt)))}L=`{${G.join(", ")}}`}return`${i}${y?"("+y+")":""}[${L}]: ${t.replace(T1,"\n  ")}`}("\n"+t.message,L,i,y),t.ngTokenPath=L,t[$s]=null,t}(tt,e,"R3InjectorError",this.source)}throw tt}finally{jn(G),qd(L)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((y,L)=>e.push(Ae(L))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processInjectorType(e,i,y){if(!(e=ue(e)))return!1;let L=hd(e);const G=null==L&&e.ngModule||void 0,tt=void 0===G?e:G,rt=-1!==y.indexOf(tt);if(void 0!==G&&(L=hd(G)),null==L)return!1;if(null!=L.imports&&!rt){let Ct;y.push(tt);try{dn(L.imports,Tt=>{this.processInjectorType(Tt,i,y)&&(void 0===Ct&&(Ct=[]),Ct.push(Tt))})}finally{}if(void 0!==Ct)for(let Tt=0;Tt<Ct.length;Tt++){const{ngModule:At,providers:Pt}=Ct[Tt];dn(Pt,_t=>this.processProvider(_t,At,Pt||Ie))}}this.injectorDefTypes.add(tt);const ht=lr(tt)||(()=>new tt);this.records.set(tt,Hr(ht,Vo));const gt=L.providers;if(null!=gt&&!rt){const Ct=e;dn(gt,Tt=>this.processProvider(Tt,Ct,gt))}return void 0!==G&&void 0!==e.providers}processProvider(e,i,y){let L=Wr(e=ue(e))?e:ue(e&&e.provide);const G=function KS(t,e,i){return Rf(t)?Hr(void 0,t.useValue):Hr(If(t),Vo)}(e);if(Wr(e)||!0!==e.multi)this.records.get(L);else{let tt=this.records.get(L);tt||(tt=Hr(void 0,Vo,!0),tt.factory=()=>ih(tt.multi),this.records.set(L,tt)),L=e,tt.multi.push(e)}this.records.set(L,G)}hydrate(e,i){return i.value===Vo&&(i.value=VS,i.value=i.factory()),"object"==typeof i.value&&i.value&&function qS(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(e){if(!e.providedIn)return!1;const i=ue(e.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Zh(t){const e=Sl(t),i=null!==e?e.factory:lr(t);if(null!==i)return i;if(t instanceof Me)throw new we(204,!1);if(t instanceof Function)return function YS(t){const e=t.length;if(e>0)throw function Oo(t,e){const i=[];for(let y=0;y<t;y++)i.push(e);return i}(e,"?"),new we(204,!1);const i=function lx(t){const e=t&&(t[ws]||t[cd]);if(e){const i=function hx(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),e}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new we(204,!1)}function If(t,e,i){let y;if(Wr(t)){const L=ue(t);return lr(L)||Zh(L)}if(Rf(t))y=()=>ue(t.useValue);else if(function ZS(t){return!(!t||!t.useFactory)}(t))y=()=>t.useFactory(...ih(t.deps||[]));else if(function $S(t){return!(!t||!t.useExisting)}(t))y=()=>ie(ue(t.useExisting));else{const L=ue(t&&(t.useClass||t.provide));if(!function JS(t){return!!t.deps}(t))return lr(L)||Zh(L);y=()=>new L(...ih(t.deps))}return y}function Hr(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function Rf(t){return null!==t&&"object"==typeof t&&w1 in t}function Wr(t){return"function"==typeof t}let Si=(()=>{class t{static create(i,y){var L;if(Array.isArray(i))return kf({name:""},y,i,"");{const G=null!==(L=i.name)&&void 0!==L?L:"";return kf({name:G},i.parent,i.providers,G)}}}return t.THROW_IF_NOT_FOUND=ko,t.NULL=new Pf,t.\u0275prov=ve({token:t,providedIn:"any",factory:()=>ie(Yh)}),t.__NG_ELEMENT_ID__=-1,t})();function lE(t,e){js(uh(t)[1],Je())}let da=null;function Vr(){if(!da){const t=Oe.Symbol;if(t&&t.iterator)da=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<e.length;++i){const y=e[i];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(da=y)}}}return da}function Xo(t){return!!tc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vr()in t)}function tc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ui(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function ec(t,e,i,y){const L=Ht();return ui(L,wr(),e)&&(Ee(),gn(ze(),L,t,e,i,y)),ec}function Kr(t,e,i,y,L,G){const rt=function cr(t,e,i,y){const L=ui(t,e,i);return ui(t,e+1,y)||L}(t,function wn(){return se.lFrame.bindingIndex}(),i,L);return An(2),rt?e+he(i)+y+he(L)+G:ce}function De(t,e,i,y,L,G,tt,rt){const ht=Ht(),gt=Ee(),Ct=t+20,Tt=gt.firstCreatePass?function xE(t,e,i,y,L,G,tt,rt,ht){const gt=e.consts,Ct=Ur(e,t,4,tt||null,Hn(gt,rt));Uh(e,i,Ct,Hn(gt,ht)),js(e,Ct);const Tt=Ct.tViews=ha(2,Ct,y,L,G,e.directiveRegistry,e.pipeRegistry,null,e.schemas,gt);return null!==e.queries&&(e.queries.template(e,Ct),Tt.queries=e.queries.embeddedTView(Ct)),Ct}(Ct,gt,ht,e,i,y,L,G,tt):gt.data[Ct];un(Tt,!1);const At=ht[11].createComment("");ra(gt,ht,At,Tt),ci(At,ht),ca(ht,ht[Ct]=Ef(At,ht,At,Tt)),Ls(Tt)&&jh(gt,ht,Tt),null!=tt&&Fh(ht,Tt,rt)}function te(t,e=le.Default){const i=Ht();return null===i?ie(t,e):Gd(Je(),i,ue(t),e)}function sc(){throw new Error("invalid")}function pe(t,e,i){const y=Ht();return ui(y,wr(),e)&&function Ii(t,e,i,y,L,G,tt,rt){const ht=Fi(e,i);let Ct,gt=e.inputs;!rt&&null!=gt&&(Ct=gt[y])?(Df(t,i,Ct,y,L),ks(e)&&function ES(t,e){const i=Oi(e,t);16&i[2]||(i[2]|=64)}(i,e.index)):3&e.type&&(y=function SS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(y),L=null!=tt?tt(L,e.value||"",y):L,Ue(G)?G.setProperty(ht,y,L):Xl(y)||(ht.setProperty?ht.setProperty(y,L):ht[y]=L))}(Ee(),ze(),y,t,e,y[11],i,!1),pe}function ac(t,e,i,y,L){const tt=L?"class":"style";Df(t,i,e.inputs[tt],tt,y)}function It(t,e,i,y){const L=Ht(),G=Ee(),tt=20+t,rt=L[11],ht=L[tt]=xh(rt,e,function Jx(){return se.lFrame.currentNamespace}()),gt=G.firstCreatePass?function zE(t,e,i,y,L,G,tt){const rt=e.consts,gt=Ur(e,t,2,L,Hn(rt,G));return Uh(e,i,gt,Hn(rt,tt)),null!==gt.attrs&&ua(gt,gt.attrs,!1),null!==gt.mergedAttrs&&ua(gt,gt.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,gt),gt}(tt,G,L,0,e,i,y):G.data[tt];un(gt,!0);const Ct=gt.mergedAttrs;null!==Ct&&zs(rt,ht,Ct);const Tt=gt.classes;null!==Tt&&bh(rt,ht,Tt);const At=gt.styles;return null!==At&&Wp(rt,ht,At),64!=(64&gt.flags)&&ra(G,L,ht,gt),0===function Bx(){return se.lFrame.elementDepthCount}()&&ci(ht,L),function jx(){se.lFrame.elementDepthCount++}(),Ls(gt)&&(jh(G,L,gt),function cf(t,e,i){if(Dl(e)){const L=e.directiveEnd;for(let G=e.directiveStart;G<L;G++){const tt=t.data[G];tt.contentQueries&&tt.contentQueries(1,i[G],G)}}}(G,gt,L)),null!==y&&Fh(L,gt),It}function Bt(){let t=Je();jl()?function Fl(){se.lFrame.isParent=!1}():(t=t.parent,un(t,!1));const e=t;!function Fx(){se.lFrame.elementDepthCount--}();const i=Ee();return i.firstCreatePass&&(js(i,t),Dl(t)&&i.queries.elementEnd(t)),null!=e.classesWithoutHost&&function n1(t){return 0!=(16&t.flags)}(e)&&ac(i,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function r1(t){return 0!=(32&t.flags)}(e)&&ac(i,e,Ht(),e.stylesWithoutHost,!1),Bt}function $t(t,e,i,y){return It(t,e,i,y),Bt(),$t}function vn(){return Ht()}function ga(t){return!!t&&"function"==typeof t.then}const gg=function fg(t){return!!t&&"function"==typeof t.subscribe};function Pe(t,e,i,y){const L=Ht(),G=Ee(),tt=Je();return function vg(t,e,i,y,L,G,tt,rt){const ht=Ls(y),Ct=t.firstCreatePass&&bf(t),Tt=e[8],At=Tf(e);let Pt=!0;if(3&y.type||rt){const Vt=Fi(y,e),Yt=rt?rt(Vt):Vt,jt=At.length,qt=rt?me=>rt(Ye(me[y.index])):y.index;if(Ue(i)){let me=null;if(!rt&&ht&&(me=function HE(t,e,i,y){const L=t.cleanup;if(null!=L)for(let G=0;G<L.length-1;G+=2){const tt=L[G];if(tt===i&&L[G+1]===y){const rt=e[7],ht=L[G+2];return rt.length>ht?rt[ht]:null}"string"==typeof tt&&(G+=2)}return null}(t,e,L,y.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=G,me.__ngLastListenerFn__=G,Pt=!1;else{G=cc(y,e,Tt,G,!1);const Te=i.listen(Yt,L,G);At.push(G,Te),Ct&&Ct.push(L,qt,jt,jt+1)}}else G=cc(y,e,Tt,G,!0),Yt.addEventListener(L,G,tt),At.push(G),Ct&&Ct.push(L,qt,jt,tt)}else G=cc(y,e,Tt,G,!1);const _t=y.outputs;let Gt;if(Pt&&null!==_t&&(Gt=_t[L])){const Vt=Gt.length;if(Vt)for(let Yt=0;Yt<Vt;Yt+=2){const _i=e[Gt[Yt]][Gt[Yt+1]].subscribe(G),xr=At.length;At.push(G,_i),Ct&&Ct.push(L,y.index,xr,-(xr+1))}}}(G,L,L[11],tt,t,e,!!i,y),Pe}function yg(t,e,i,y){try{return!1!==i(y)}catch(L){return Af(t,L),!1}}function cc(t,e,i,y,L){return function G(tt){if(tt===Function)return y;const rt=2&t.flags?Oi(t.index,e):e;0==(32&e[2])&&Hh(rt);let ht=yg(e,0,y,tt),gt=G.__ngNextListenerFn__;for(;gt;)ht=yg(e,0,gt,tt)&&ht,gt=gt.__ngNextListenerFn__;return L&&!1===ht&&(tt.preventDefault(),tt.returnValue=!1),ht}}function Re(t=1){return function Yx(t){return(se.lFrame.contextLView=function Kx(t,e){for(;t>0;)e=e[15],t--;return e}(t,se.lFrame.contextLView))[8]}(t)}function Dg(t,e,i,y,L){const G=t[i+1],tt=null===e;let rt=y?qi(G):Dn(G),ht=!1;for(;0!==rt&&(!1===ht||tt);){const Ct=t[rt+1];$E(t[rt],e)&&(ht=!0,t[rt+1]=y?Dh(Ct):wh(Ct)),rt=y?qi(Ct):Dn(Ct)}ht&&(t[i+1]=y?wh(G):Dh(G))}function $E(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Rr(t,e)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pg(t){return t.substring(ti.key,ti.keyEnd)}function Og(t,e){const i=ti.textEnd;return i===e?-1:(e=ti.keyEnd=function qE(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}(t,ti.key=e,i),io(t,e,i))}function io(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function dc(t){!function nn(t,e,i,y){const L=Ee(),G=An(2);L.firstUpdatePass&&function jg(t,e,i,y){const L=t.data;if(null===L[i+1]){const G=L[fi()],tt=Bg(t,i);Gg(G,y)&&null===e&&!tt&&(e=!1),e=function nM(t,e,i,y){const L=function zl(t){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let G=y?e.residualClasses:e.residualStyles;if(null===L)0===(y?e.classBindings:e.styleBindings)&&(i=Ko(i=pc(null,t,e,i,y),e.attrs,y),G=null);else{const tt=e.directiveStylingLast;if(-1===tt||t[tt]!==L)if(i=pc(L,t,e,i,y),null===G){let ht=function rM(t,e,i){const y=i?e.classBindings:e.styleBindings;if(0!==Dn(y))return t[qi(y)]}(t,e,y);void 0!==ht&&Array.isArray(ht)&&(ht=pc(null,t,e,ht[1],y),ht=Ko(ht,e.attrs,y),function oM(t,e,i,y){t[qi(i?e.classBindings:e.styleBindings)]=y}(t,e,y,ht))}else G=function sM(t,e,i){let y;const L=e.directiveEnd;for(let G=1+e.directiveStylingLast;G<L;G++)y=Ko(y,t[G].hostAttrs,i);return Ko(y,e.attrs,i)}(t,e,y)}return void 0!==G&&(y?e.residualClasses=G:e.residualStyles=G),i}(L,G,e,y),function YE(t,e,i,y,L,G){let tt=G?e.classBindings:e.styleBindings,rt=qi(tt),ht=Dn(tt);t[y]=i;let Ct,gt=!1;if(Array.isArray(i)){const Tt=i;Ct=Tt[1],(null===Ct||Rr(Tt,Ct)>0)&&(gt=!0)}else Ct=i;if(L)if(0!==ht){const At=qi(t[rt+1]);t[y+1]=sa(At,rt),0!==At&&(t[At+1]=Ah(t[At+1],y)),t[rt+1]=function rS(t,e){return 131071&t|e<<17}(t[rt+1],y)}else t[y+1]=sa(rt,0),0!==rt&&(t[rt+1]=Ah(t[rt+1],y)),rt=y;else t[y+1]=sa(ht,0),0===rt?rt=y:t[ht+1]=Ah(t[ht+1],y),ht=y;gt&&(t[y+1]=wh(t[y+1])),Dg(t,Ct,y,!0),Dg(t,Ct,y,!1),function KE(t,e,i,y,L){const G=L?t.residualClasses:t.residualStyles;null!=G&&"string"==typeof e&&Rr(G,e)>=0&&(i[y+1]=Dh(i[y+1]))}(e,Ct,t,y,G),tt=sa(rt,ht),G?e.classBindings=tt:e.styleBindings=tt}(L,G,e,i,tt,y)}}(L,null,G,y);const tt=Ht();if(i!==ce&&ui(tt,G,i)){const rt=L.data[fi()];if(Gg(rt,y)&&!Bg(L,G)){let ht=y?rt.classesWithoutHost:rt.stylesWithoutHost;null!==ht&&(i=yl(ht,i||"")),ac(L,rt,tt,i,y)}else!function lM(t,e,i,y,L,G,tt,rt){L===ce&&(L=Ie);let ht=0,gt=0,Ct=0<L.length?L[0]:null,Tt=0<G.length?G[0]:null;for(;null!==Ct||null!==Tt;){const At=ht<L.length?L[ht+1]:void 0,Pt=gt<G.length?G[gt+1]:void 0;let Gt,_t=null;Ct===Tt?(ht+=2,gt+=2,At!==Pt&&(_t=Tt,Gt=Pt)):null===Tt||null!==Ct&&Ct<Tt?(ht+=2,_t=Ct):(gt+=2,_t=Tt,Gt=Pt),null!==_t&&Ug(t,e,i,y,_t,Gt,tt,rt),Ct=ht<L.length?L[ht]:null,Tt=gt<G.length?G[gt]:null}}(L,rt,tt,tt[11],tt[G+1],tt[G+1]=function aM(t,e,i){if(null==i||""===i)return Ie;const y=[],L=Yn(i);if(Array.isArray(L))for(let G=0;G<L.length;G++)t(y,L[G],!0);else if("object"==typeof L)for(const G in L)L.hasOwnProperty(G)&&t(y,G,L[G]);else"string"==typeof L&&e(y,L);return y}(t,e,i),y,G)}}(ki,xn,t,!0)}function xn(t,e){for(let i=function QE(t){return function Lg(t){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=t.length}(t),Og(t,io(t,0,ti.textEnd))}(e);i>=0;i=Og(e,i))ki(t,Pg(e),!0)}function Bg(t,e){return e>=t.expandoStartIndex}function pc(t,e,i,y,L){let G=null;const tt=i.directiveEnd;let rt=i.directiveStylingLast;for(-1===rt?rt=i.directiveStart:rt++;rt<tt&&(G=e[rt],y=Ko(y,G.hostAttrs,L),G!==t);)rt++;return null!==t&&(i.directiveStylingLast=rt),y}function Ko(t,e,i){const y=i?1:2;let L=-1;if(null!==e)for(let G=0;G<e.length;G++){const tt=e[G];"number"==typeof tt?L=tt:L===y&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ki(t,tt,!!i||e[++G]))}return void 0===t?null:t}function Ug(t,e,i,y,L,G,tt,rt){if(!(3&e.type))return;const ht=t.data,gt=ht[rt+1];ma(function qp(t){return 1==(1&t)}(gt)?zg(ht,e,i,L,Dn(gt),tt):void 0)||(ma(G)||function Jp(t){return 2==(2&t)}(gt)&&(G=zg(ht,null,i,L,rt,tt)),function XC(t,e,i,y,L){const G=Ue(t);if(e)L?G?t.addClass(i,y):i.classList.add(y):G?t.removeClass(i,y):i.classList.remove(y);else{let tt=-1===y.indexOf("-")?void 0:Li.DashCase;if(null==L)G?t.removeStyle(i,y,tt):i.style.removeProperty(y);else{const rt="string"==typeof L&&L.endsWith("!important");rt&&(L=L.slice(0,-10),tt|=Li.Important),G?t.setStyle(i,y,L,tt):i.style.setProperty(y,L,rt?"important":"")}}}(y,tt,Is(fi(),i),L,G))}function zg(t,e,i,y,L,G){const tt=null===e;let rt;for(;L>0;){const ht=t[L],gt=Array.isArray(ht),Ct=gt?ht[1]:ht,Tt=null===Ct;let At=i[L+1];At===ce&&(At=Tt?Ie:void 0);let Pt=Tt?ql(At,y):Ct===y?At:void 0;if(gt&&!ma(Pt)&&(Pt=ql(ht,y)),ma(Pt)&&(rt=Pt,tt))return rt;const _t=t[L+1];L=tt?qi(_t):Dn(_t)}if(null!==e){let ht=G?e.residualClasses:e.residualStyles;null!=ht&&(rt=ql(ht,y))}return rt}function ma(t){return void 0!==t}function Gg(t,e){return 0!=(t.flags&(e?16:32))}function Ut(t,e=""){const i=Ht(),y=Ee(),L=t+20,G=y.firstCreatePass?Ur(y,L,1,e,null):y.data[L],tt=i[L]=function yh(t,e){return Ue(t)?t.createText(e):t.createTextNode(e)}(i[11],e);ra(y,i,tt,G),un(G,!1)}function Zn(t){return Gi("",t,""),Zn}function Gi(t,e,i){const y=Ht(),L=function Yr(t,e,i,y){return ui(t,wr(),i)?e+he(i)+y:ce}(y,t,e,i);return L!==ce&&Pn(y,fi(),L),Gi}function fc(t,e,i,y,L){const G=Ht(),tt=Kr(G,t,e,i,y,L);return tt!==ce&&Pn(G,fi(),tt),fc}const va="en-US";let hm=va;function vc(t,e,i,y,L){if(t=ue(t),Array.isArray(t))for(let G=0;G<t.length;G++)vc(t[G],e,i,y,L);else{const G=Ee(),tt=Ht();let rt=Wr(t)?t:ue(t.provide),ht=If(t);const gt=Je(),Ct=1048575&gt.providerIndexes,Tt=gt.directiveStart,At=gt.providerIndexes>>20;if(Wr(t)||!t.multi){const Pt=new Mo(ht,L,te),_t=xc(rt,e,L?Ct:Ct+At,Tt);-1===_t?(Vs(bo(gt,tt),G,rt),yc(G,t,e.length),e.push(rt),gt.directiveStart++,gt.directiveEnd++,L&&(gt.providerIndexes+=1048576),i.push(Pt),tt.push(Pt)):(i[_t]=Pt,tt[_t]=Pt)}else{const Pt=xc(rt,e,Ct+At,Tt),_t=xc(rt,e,Ct,Ct+At),Gt=Pt>=0&&i[Pt],Vt=_t>=0&&i[_t];if(L&&!Vt||!L&&!Gt){Vs(bo(gt,tt),G,rt);const Yt=function DT(t,e,i,y,L){const G=new Mo(t,i,te);return G.multi=[],G.index=e,G.componentProviders=0,Im(G,L,y&&!i),G}(L?AT:wT,i.length,L,y,ht);!L&&Vt&&(i[_t].providerFactory=Yt),yc(G,t,e.length,0),e.push(rt),gt.directiveStart++,gt.directiveEnd++,L&&(gt.providerIndexes+=1048576),i.push(Yt),tt.push(Yt)}else yc(G,t,Pt>-1?Pt:_t,Im(i[L?_t:Pt],ht,!L&&y));!L&&y&&Vt&&i[_t].componentProviders++}}}function yc(t,e,i,y){const L=Wr(e),G=function QS(t){return!!t.useClass}(e);if(L||G){const ht=(G?ue(e.useClass):e).prototype.ngOnDestroy;if(ht){const gt=t.destroyHooks||(t.destroyHooks=[]);if(!L&&e.multi){const Ct=gt.indexOf(i);-1===Ct?gt.push(i,[y,ht]):gt[Ct+1].push(y,ht)}else gt.push(i,ht)}}}function Im(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function xc(t,e,i,y){for(let L=i;L<y;L++)if(e[L]===t)return L;return-1}function wT(t,e,i,y){return Cc(this.multi,[])}function AT(t,e,i,y){const L=this.multi;let G;if(this.providerFactory){const tt=this.providerFactory.componentProviders,rt=wo(i,i[1],this.providerFactory.index,y);G=rt.slice(0,tt),Cc(L,G);for(let ht=tt;ht<rt.length;ht++)G.push(rt[ht])}else G=[],Cc(L,G);return G}function Cc(t,e){for(let i=0;i<t.length;i++)e.push((0,t[i])());return e}function Sc(t,e=[]){return i=>{i.providersResolver=(y,L)=>function bT(t,e,i){const y=Ee();if(y.firstCreatePass){const L=Qi(t);vc(i,y.data,y.blueprint,L,!0),vc(e,y.data,y.blueprint,L,!1)}}(y,L?L(t):t,e)}}class Rm{}class kT{resolveComponentFactory(e){throw function OT(t){const e=Error(`No component factory found for ${Ae(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let qo=(()=>{class t{}return t.NULL=new kT,t})();function LT(){return oo(Je(),Ht())}function oo(t,e){return new On(Fi(t,e))}let On=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=LT,t})();function IT(t){return t instanceof On?t.nativeElement:t}class Nm{}let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function _T(){const t=Ht(),i=Oi(Je().index,t);return function RT(t){return t[11]}(cn(i)?i:t)}(),t})(),NT=(()=>{class t{}return t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>null}),t})();class Ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const BT=new Ma("13.3.0"),Ec={};function Ta(t,e,i,y,L=!1){for(;null!==i;){const G=e[i.index];if(null!==G&&y.push(Ye(G)),Zi(G))for(let rt=10;rt<G.length;rt++){const ht=G[rt],gt=ht[1].firstChild;null!==gt&&Ta(ht[1],ht,gt,y)}const tt=i.type;if(8&tt)Ta(t,e,i.child,y);else if(32&tt){const rt=gh(i,e);let ht;for(;ht=rt();)y.push(ht)}else if(16&tt){const rt=zp(e,i);if(Array.isArray(rt))y.push(...rt);else{const ht=zo(e[16]);Ta(ht[1],ht,rt,y,!0)}}i=L?i.projectionNext:i.next}return y}class ts{constructor(e,i){this._lView=e,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,i=e[1];return Ta(i,e,i.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Zi(e)){const i=e[8],y=i?i.indexOf(this):-1;y>-1&&(Ch(e,y),Ys(i,y))}this._attachedToViewContainer=!1}Lp(this._lView[1],this._lView)}onDestroy(e){ff(this._lView[1],this._lView,null,e)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function US(t,e,i){_s(!0);try{Vh(t,e,i)}finally{_s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new we(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NC(t,e){Go(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new we(902,"");this._appRef=e}}class jT extends ts{constructor(e){super(e),this._view=e}detectChanges(){Mf(this._view)}checkNoChanges(){!function zS(t){_s(!0);try{Mf(t)}finally{_s(!1)}}(this._view)}get context(){return null}}class Bm extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const i=li(e);return new Mc(i,this.ngModule)}}function jm(t){const e=[];for(let i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}class Mc extends Rm{constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=function iS(t){return t.map(eS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return jm(this.componentDef.inputs)}get outputs(){return jm(this.componentDef.outputs)}create(e,i,y,L){const G=(L=L||this.ngModule)?function UT(t,e){return{get:(i,y,L)=>{const G=t.get(i,Ec,L);return G!==Ec||y===Ec?G:e.get(i,y,L)}}}(e,L.injector):e,tt=G.get(Nm,Sd),rt=G.get(NT,null),ht=tt.createRenderer(null,this.componentDef),gt=this.componentDef.selectors[0][0]||"div",Ct=y?function pf(t,e,i){if(Ue(t))return t.selectRootElement(e,i===hn.ShadowDom);let y="string"==typeof e?t.querySelector(e):e;return y.textContent="",y}(ht,y,this.componentDef.encapsulation):xh(tt.createRenderer(null,this.componentDef),gt,function FT(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(gt)),Tt=this.componentDef.onPush?576:528,At=function Vf(t,e){return{components:[],scheduler:t||OC,clean:GS,playerHandler:e||null,flags:0}}(),Pt=ha(0,null,null,1,0,null,null,null,null,null),_t=Ho(null,Pt,At,Tt,null,null,tt,ht,rt,G);let Gt,Vt;Ns(_t);try{const Yt=function Hf(t,e,i,y,L,G){const tt=i[1];i[20]=t;const ht=Ur(tt,20,2,"#host",null),gt=ht.mergedAttrs=e.hostAttrs;null!==gt&&(ua(ht,gt,!0),null!==t&&(zs(L,t,gt),null!==ht.classes&&bh(L,t,ht.classes),null!==ht.styles&&Wp(L,t,ht.styles)));const Ct=y.createRenderer(t,e),Tt=Ho(i,uf(e),null,e.onPush?64:16,i[20],ht,y,Ct,G||null,null);return tt.firstCreatePass&&(Vs(bo(ht,i),tt,e.type),xf(tt,ht),Cf(ht,i.length,1)),ca(i,Tt),i[20]=Tt}(Ct,this.componentDef,_t,tt,ht);if(Ct)if(y)zs(ht,Ct,["ng-version",BT.full]);else{const{attrs:jt,classes:qt}=function nS(t){const e=[],i=[];let y=1,L=2;for(;y<t.length;){let G=t[y];if("string"==typeof G)2===L?""!==G&&e.push(G,t[++y]):8===L&&i.push(G);else{if(!Ji(L))break;L=G}y++}return{attrs:e,classes:i}}(this.componentDef.selectors[0]);jt&&zs(ht,Ct,jt),qt&&qt.length>0&&bh(ht,Ct,qt.join(" "))}if(Vt=_l(Pt,20),void 0!==i){const jt=Vt.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const me=i[qt];jt.push(null!=me?Array.from(me):null)}}Gt=function Wf(t,e,i,y,L){const G=i[1],tt=function TS(t,e,i){const y=Je();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Sf(t,y,e,zr(t,e,1,null),i));const L=wo(e,t,y.directiveStart,y);ci(L,e);const G=Fi(y,e);return G&&ci(G,e),L}(G,i,e);if(y.components.push(tt),t[8]=tt,L&&L.forEach(ht=>ht(tt,e)),e.contentQueries){const ht=Je();e.contentQueries(1,tt,ht.directiveStart)}const rt=Je();return!G.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Wn(rt.index),vf(i[1],rt,0,rt.directiveStart,rt.directiveEnd,e),yf(e,tt)),tt}(Yt,this.componentDef,_t,At,[lE]),Wo(Pt,_t,null)}finally{Bs()}return new GT(this.componentType,Gt,oo(Vt,_t),_t,Vt)}}class GT extends class PT{}{constructor(e,i,y,L,G){super(),this.location=y,this._rootLView=L,this._tNode=G,this.instance=i,this.hostView=this.changeDetectorRef=new jT(L),this.componentType=e}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class kn{}class Fm{}const so=new Map;class Gm extends kn{constructor(e,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bm(this);const y=Ni(e);this._bootstrapComponents=fn(y.bootstrap),this._r3Injector=Lf(e,i,[{provide:kn,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],Ae(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,i=Si.THROW_IF_NOT_FOUND,y=le.Default){return e===Si||e===kn||e===Yh?this:this._r3Injector.get(e,i,y)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Tc extends Fm{constructor(e){super(),this.moduleType=e,null!==Ni(e)&&function WT(t){const e=new Set;!function i(y){const L=Ni(y,!0),G=L.id;null!==G&&(function Um(t,e,i){if(e&&e!==i)throw new Error(`Duplicate module registered for ${t} - ${Ae(e)} vs ${Ae(e.name)}`)}(G,so.get(G),y),so.set(G,y));const tt=fn(L.imports);for(const rt of tt)e.has(rt)||(e.add(rt),i(rt))}(t)}(e)}create(e){return new Gm(this.moduleType,e)}}function ba(t,e,i,y){return Hm(Ht(),pi(),t,e,i,y)}function Hm(t,e,i,y,L,G){const tt=e+i;return ui(t,tt,L)?function mn(t,e,i){return t[e]=i}(t,tt+1,G?y.call(G,L):y(L)):function es(t,e){const i=t[e];return i===ce?void 0:i}(t,tt+1)}function bc(t,e){const i=Ee();let y;const L=t+20;i.firstCreatePass?(y=function tb(t,e){if(e)for(let i=e.length-1;i>=0;i--){const y=e[i];if(t===y.name)return y}}(e,i.pipeRegistry),i.data[L]=y,y.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(L,y.onDestroy)):y=i.data[L];const G=y.factory||(y.factory=lr(y.type)),tt=jn(te);try{const rt=Hs(!1),ht=G();return Hs(rt),function CE(t,e,i,y){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=y}(i,Ht(),L,ht),ht}finally{jn(tt)}}function wc(t,e,i){const y=t+20,L=Ht(),G=function br(t,e){return t[e]}(L,y);return function is(t,e){return t[1].data[e].pure}(L,y)?Hm(L,pi(),e,G.transform,i,G):G.transform(i)}function Ac(t){return e=>{setTimeout(t,void 0,e)}}const vi=class ob extends O{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,i,y){var L,G,tt;let rt=e,ht=i||(()=>null),gt=y;if(e&&"object"==typeof e){const Tt=e;rt=null===(L=Tt.next)||void 0===L?void 0:L.bind(Tt),ht=null===(G=Tt.error)||void 0===G?void 0:G.bind(Tt),gt=null===(tt=Tt.complete)||void 0===tt?void 0:tt.bind(Tt)}this.__isAsync&&(ht=Ac(ht),rt&&(rt=Ac(rt)),gt&&(gt=Ac(gt)));const Ct=super.subscribe({next:rt,error:ht,complete:gt});return e instanceof H&&e.add(Ct),Ct}};function sb(){return this._results[Vr()]()}class Dc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Vr(),y=Dc.prototype;y[i]||(y[i]=sb)}get changes(){return this._changes||(this._changes=new vi)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){const y=this;y.dirty=!1;const L=Ui(e);(this._changesDetected=!function g1(t,e,i){if(t.length!==e.length)return!1;for(let y=0;y<t.length;y++){let L=t[y],G=e[y];if(i&&(L=i(L),G=i(G)),G!==L)return!1}return!0}(y._results,L,i))&&(y._results=L,y.length=L.length,y.last=L[this.length-1],y.first=L[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ln=(()=>{class t{}return t.__NG_ELEMENT_ID__=hb,t})();const ab=Ln,lb=class extends ab{constructor(e,i,y){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=y}createEmbeddedView(e){const i=this._declarationTContainer.tViews,y=Ho(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null);y[17]=this._declarationLView[this._declarationTContainer.index];const G=this._declarationLView[19];return null!==G&&(y[19]=G.createEmbeddedView(i)),Wo(i,y,e),new ts(y)}};function hb(){return wa(Je(),Ht())}function wa(t,e){return 4&t.type?new lb(e,t,oo(t,e)):null}let rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=cb,t})();function cb(){return Zm(Je(),Ht())}const ub=rn,Km=class extends ub{constructor(e,i,y){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=y}get element(){return oo(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ws(this._hostTNode,this._hostLView);if(Bd(e)){const i=Dr(e,this._hostLView),y=Ar(e);return new Pr(i[1].data[y+8],i)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const i=$m(this._lContainer);return null!==i&&i[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,i,y){const L=e.createEmbeddedView(i||{});return this.insert(L,y),L}createComponent(e,i,y,L,G){const tt=e&&!function Po(t){return"function"==typeof t}(e);let rt;if(tt)rt=i;else{const Tt=i||{};rt=Tt.index,y=Tt.injector,L=Tt.projectableNodes,G=Tt.ngModuleRef}const ht=tt?e:new Mc(li(e)),gt=y||this.parentInjector;if(!G&&null==ht.ngModule){const At=(tt?gt:this.parentInjector).get(kn,null);At&&(G=At)}const Ct=ht.create(gt,L,void 0,G);return this.insert(Ct.hostView,rt),Ct}insert(e,i){const y=e._lView,L=y[1];if(function Nx(t){return Zi(t[3])}(y)){const Ct=this.indexOf(e);if(-1!==Ct)this.detach(Ct);else{const Tt=y[3],At=new Km(Tt,Tt[6],Tt[3]);At.detach(At.indexOf(e))}}const G=this._adjustIndex(i),tt=this._lContainer;!function jC(t,e,i,y){const L=10+y,G=i.length;y>0&&(i[L-1][4]=e),y<G-10?(e[4]=i[L],Yd(i,10+y,e)):(i.push(e),e[4]=null),e[3]=i;const tt=e[17];null!==tt&&i!==tt&&function FC(t,e){const i=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===i?t[9]=[e]:i.push(e)}(tt,e);const rt=e[19];null!==rt&&rt.insertView(t),e[2]|=128}(L,y,tt,G);const rt=Mh(G,tt),ht=y[11],gt=na(ht,tt[7]);return null!==gt&&function _C(t,e,i,y,L,G){y[0]=L,y[6]=e,Go(t,y,i,1,L,G)}(L,tt[6],ht,y,gt,rt),e.attachToViewContainerRef(),Yd(Pc(tt),G,e),e}move(e,i){return this.insert(e,i)}indexOf(e){const i=$m(this._lContainer);return null!==i?i.indexOf(e):-1}remove(e){const i=this._adjustIndex(e,-1),y=Ch(this._lContainer,i);y&&(Ys(Pc(this._lContainer),i),Lp(y[1],y))}detach(e){const i=this._adjustIndex(e,-1),y=Ch(this._lContainer,i);return y&&null!=Ys(Pc(this._lContainer),i)?new ts(y):null}_adjustIndex(e,i=0){return null==e?this.length+i:e}};function $m(t){return t[8]}function Pc(t){return t[8]||(t[8]=[])}function Zm(t,e){let i;const y=e[t.index];if(Zi(y))i=y;else{let L;if(8&t.type)L=Ye(y);else{const G=e[11];L=G.createComment("");const tt=Fi(t,e);hr(G,na(G,tt),L,function HC(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(G,tt),!1)}e[t.index]=i=Ef(y,e,L,t),ca(e,i)}return new Km(i,t,e)}class Oc{constructor(e){this.queryList=e,this.matches=null}clone(){return new Oc(this.queryList)}setDirty(){this.queryList.setDirty()}}class kc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const i=e.queries;if(null!==i){const y=null!==e.contentQueries?e.contentQueries[0]:i.length,L=[];for(let G=0;G<y;G++){const tt=i.getByIndex(G);L.push(this.queries[tt.indexInDeclarationView].clone())}return new kc(L)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)null!==ev(e,i).matches&&this.queries[i].setDirty()}}class Qm{constructor(e,i,y=null){this.predicate=e,this.flags=i,this.read=y}}class Lc{constructor(e=[]){this.queries=e}elementStart(e,i){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let y=0;y<this.length;y++){const L=null!==i?i.length:0,G=this.getByIndex(y).embeddedTView(e,L);G&&(G.indexInDeclarationView=y,null!==i?i.push(G):i=[G])}return null!==i?new Lc(i):null}template(e,i){for(let y=0;y<this.queries.length;y++)this.queries[y].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ic{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new Ic(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let y=e.parent;for(;null!==y&&8&y.type&&y.index!==i;)y=y.parent;return i===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(e,i){const y=this.metadata.predicate;if(Array.isArray(y))for(let L=0;L<y.length;L++){const G=y[L];this.matchTNodeWithReadOption(e,i,fb(i,G)),this.matchTNodeWithReadOption(e,i,Xs(i,e,G,!1,!1))}else y===Ln?4&i.type&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Xs(i,e,y,!1,!1))}matchTNodeWithReadOption(e,i,y){if(null!==y){const L=this.metadata.read;if(null!==L)if(L===On||L===rn||L===Ln&&4&i.type)this.addMatch(i.index,-2);else{const G=Xs(i,e,L,!1,!1);null!==G&&this.addMatch(i.index,G)}else this.addMatch(i.index,y)}}addMatch(e,i){null===this.matches?this.matches=[e,i]:this.matches.push(e,i)}}function fb(t,e){const i=t.localNames;if(null!==i)for(let y=0;y<i.length;y+=2)if(i[y]===e)return i[y+1];return null}function mb(t,e,i,y){return-1===i?function gb(t,e){return 11&t.type?oo(t,e):4&t.type?wa(t,e):null}(e,t):-2===i?function vb(t,e,i){return i===On?oo(e,t):i===Ln?wa(e,t):i===rn?Zm(e,t):void 0}(t,e,y):wo(t,t[1],i,e)}function Jm(t,e,i,y){const L=e[19].queries[y];if(null===L.matches){const G=t.data,tt=i.matches,rt=[];for(let ht=0;ht<tt.length;ht+=2){const gt=tt[ht];rt.push(gt<0?null:mb(e,G[gt],tt[ht+1],i.metadata.read))}L.matches=rt}return L.matches}function Rc(t,e,i,y){const L=t.queries.getByIndex(i),G=L.matches;if(null!==G){const tt=Jm(t,e,L,i);for(let rt=0;rt<G.length;rt+=2){const ht=G[rt];if(ht>0)y.push(tt[rt/2]);else{const gt=G[rt+1],Ct=e[-ht];for(let Tt=10;Tt<Ct.length;Tt++){const At=Ct[Tt];At[17]===At[3]&&Rc(At[1],At,gt,y)}if(null!==Ct[9]){const Tt=Ct[9];for(let At=0;At<Tt.length;At++){const Pt=Tt[At];Rc(Pt[1],Pt,gt,y)}}}}}return y}function Ei(t){const e=Ht(),i=Ee(),y=Dd();Gl(y+1);const L=ev(i,y);if(t.dirty&&Ed(e)===(2==(2&L.metadata.flags))){if(null===L.matches)t.reset([]);else{const G=L.crossesNgTemplate?Rc(i,e,y,[]):Jm(i,e,L,y);t.reset(G,IT),t.notifyOnChanges()}return!0}return!1}function Hi(t,e,i){const y=Ee();y.firstCreatePass&&(tv(y,new Qm(t,e,i),-1),2==(2&e)&&(y.staticViewQueries=!0)),qm(y,Ht(),e)}function _c(t,e,i,y){const L=Ee();if(L.firstCreatePass){const G=Je();tv(L,new Qm(e,i,y),G.index),function xb(t,e){const i=t.contentQueries||(t.contentQueries=[]);e!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,e)}(L,t),2==(2&i)&&(L.staticContentQueries=!0)}qm(L,Ht(),i)}function Mi(){return function yb(t,e){return t[19].queries[e].queryList}(Ht(),Dd())}function qm(t,e,i){const y=new Dc(4==(4&i));ff(t,e,y,y.destroy),null===e[19]&&(e[19]=new kc),e[19].queries.push(new Oc(y))}function tv(t,e,i){null===t.queries&&(t.queries=new Lc),t.queries.track(new Ic(e,i))}function ev(t,e){return t.queries.getByIndex(e)}function Pa(...t){}const zc=new Me("Application Initializer");let Gc=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Pa,this.reject=Pa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,L)=>{this.resolve=y,this.reject=L})}runInitializers(){if(this.initialized)return;const i=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let L=0;L<this.appInits.length;L++){const G=this.appInits[L]();if(ga(G))i.push(G);else if(gg(G)){const tt=new Promise((rt,ht)=>{G.subscribe({complete:rt,error:ht})});i.push(tt)}}Promise.all(i).then(()=>{y()}).catch(L=>{this.reject(L)}),0===i.length&&y(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(ie(zc,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rs=new Me("AppId",{providedIn:"root",factory:function yv(){return`${Hc()}${Hc()}${Hc()}`}});function Hc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xv=new Me("Platform Initializer"),Wc=new Me("Platform ID"),Cv=new Me("appBootstrapListener");let Sv=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();const Qn=new Me("LocaleId",{providedIn:"root",factory:()=>D1(Qn,le.Optional|le.SkipSelf)||function Bb(){return"undefined"!=typeof $localize&&$localize.locale||va}()});class Fb{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}}let Ev=(()=>{class t{compileModuleSync(i){return new Tc(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const y=this.compileModuleSync(i),G=fn(Ni(i).declarations).reduce((tt,rt)=>{const ht=li(rt);return ht&&tt.push(new Mc(ht)),tt},[]);return new Fb(y,G)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zb=(()=>Promise.resolve(0))();function Vc(t){"undefined"==typeof Zone?zb.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class si{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vi(!1),this.onMicrotaskEmpty=new vi(!1),this.onStable=new vi(!1),this.onError=new vi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const L=this;L._nesting=0,L._outer=L._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(L._inner=L._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(L._inner=L._inner.fork(Zone.longStackTraceZoneSpec)),L.shouldCoalesceEventChangeDetection=!y&&i,L.shouldCoalesceRunChangeDetection=y,L.lastRequestAnimationFrameId=-1,L.nativeRequestAnimationFrame=function Gb(){let t=Oe.requestAnimationFrame,e=Oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const y=e[Zone.__symbol__("OriginalDelegate")];y&&(e=y)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Vb(t){const e=()=>{!function Wb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yc(t),t.isCheckStableRunning=!0,Xc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,y,L,G,tt,rt)=>{try{return Mv(t),i.invokeTask(L,G,tt,rt)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===G.type||t.shouldCoalesceRunChangeDetection)&&e(),Tv(t)}},onInvoke:(i,y,L,G,tt,rt,ht)=>{try{return Mv(t),i.invoke(L,G,tt,rt,ht)}finally{t.shouldCoalesceRunChangeDetection&&e(),Tv(t)}},onHasTask:(i,y,L,G)=>{i.hasTask(L,G),y===L&&("microTask"==G.change?(t._hasPendingMicrotasks=G.microTask,Yc(t),Xc(t)):"macroTask"==G.change&&(t.hasPendingMacrotasks=G.macroTask))},onHandleError:(i,y,L,G)=>(i.handleError(L,G),t.runOutsideAngular(()=>t.onError.emit(G)),!1)})}(L)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!si.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(si.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,i,y){return this._inner.run(e,i,y)}runTask(e,i,y,L){const G=this._inner,tt=G.scheduleEventTask("NgZoneEvent: "+L,e,Hb,Pa,Pa);try{return G.runTask(tt,i,y)}finally{G.cancelTask(tt)}}runGuarded(e,i,y){return this._inner.runGuarded(e,i,y)}runOutsideAngular(e){return this._outer.run(e)}}const Hb={};function Xc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Mv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tv(t){t._nesting--,Xc(t)}class Xb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vi,this.onMicrotaskEmpty=new vi,this.onStable=new vi,this.onError=new vi}run(e,i,y){return e.apply(i,y)}runGuarded(e,i,y){return e.apply(i,y)}runOutsideAngular(e){return e()}runTask(e,i,y,L){return e.apply(i,y)}}let Kc=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{si.assertNotInAngularZone(),Vc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vc(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(i)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,y,L){let G=-1;y&&y>0&&(G=setTimeout(()=>{this._callbacks=this._callbacks.filter(tt=>tt.timeoutId!==G),i(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:i,timeoutId:G,updateCb:L})}whenStable(i,y,L){if(L&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,y,L),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,y,L){return[]}}return t.\u0275fac=function(i){return new(i||t)(ie(si))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})(),bv=(()=>{class t{constructor(){this._applications=new Map,$c.addToWindow(this)}registerApplication(i,y){this._applications.set(i,y)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,y=!0){return $c.findTestabilityInTree(this,i,y)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();class Yb{addToWindow(e){}findTestabilityInTree(e,i,y){return null}}let on,$c=new Yb;const wv=new Me("AllowMultipleToken");class Av{constructor(e,i){this.name=e,this.token=i}}function Dv(t,e,i=[]){const y=`Platform: ${e}`,L=new Me(y);return(G=[])=>{let tt=Pv();if(!tt||tt.injector.get(wv,!1))if(t)t(i.concat(G).concat({provide:L,useValue:!0}));else{const rt=i.concat(G).concat({provide:L,useValue:!0},{provide:Kh,useValue:"platform"});!function Qb(t){if(on&&!on.destroyed&&!on.injector.get(wv,!1))throw new we(400,"");on=t.get(Ov);const e=t.get(xv,null);e&&e.forEach(i=>i())}(Si.create({providers:rt,name:y}))}return function Jb(t){const e=Pv();if(!e)throw new we(401,"");return e}()}}function Pv(){return on&&!on.destroyed?on:null}let Ov=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,y){const rt=function qb(t,e){let i;return i="noop"===t?new Xb:("zone.js"===t?void 0:t)||new si({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),i}(y?y.ngZone:void 0,{ngZoneEventCoalescing:y&&y.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:y&&y.ngZoneRunCoalescing||!1}),ht=[{provide:si,useValue:rt}];return rt.run(()=>{const gt=Si.create({providers:ht,parent:this.injector,name:i.moduleType.name}),Ct=i.create(gt),Tt=Ct.injector.get(Uo,null);if(!Tt)throw new we(402,"");return rt.runOutsideAngular(()=>{const At=rt.onError.subscribe({next:Pt=>{Tt.handleError(Pt)}});Ct.onDestroy(()=>{Qc(this._modules,Ct),At.unsubscribe()})}),function tw(t,e,i){try{const y=i();return ga(y)?y.catch(L=>{throw e.runOutsideAngular(()=>t.handleError(L)),L}):y}catch(y){throw e.runOutsideAngular(()=>t.handleError(y)),y}}(Tt,rt,()=>{const At=Ct.injector.get(Gc);return At.runInitializers(),At.donePromise.then(()=>(function RM(t){Di(t,"Expected localeId to be defined"),"string"==typeof t&&(hm=t.toLowerCase().replace(/_/g,"-"))}(Ct.injector.get(Qn,va)||va),this._moduleDoBootstrap(Ct),Ct))})})}bootstrapModule(i,y=[]){const L=kv({},y);return function $b(t,e,i){const y=new Tc(i);return Promise.resolve(y)}(0,0,i).then(G=>this.bootstrapModuleFactory(G,L))}_moduleDoBootstrap(i){const y=i.injector.get(Zc);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(L=>y.bootstrap(L));else{if(!i.instance.ngDoBootstrap)throw new we(403,"");i.instance.ngDoBootstrap(y)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(ie(Si))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();function kv(t,e){return Array.isArray(e)?e.reduce(kv,t):Object.assign(Object.assign({},t),e)}let Zc=(()=>{class t{constructor(i,y,L,G,tt){this._zone=i,this._injector=y,this._exceptionHandler=L,this._componentFactoryResolver=G,this._initStatus=tt,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const rt=new o(gt=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{gt.next(this._stable),gt.complete()})}),ht=new o(gt=>{let Ct;this._zone.runOutsideAngular(()=>{Ct=this._zone.onStable.subscribe(()=>{si.assertNotInAngularZone(),Vc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,gt.next(!0))})})});const Tt=this._zone.onUnstable.subscribe(()=>{si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{gt.next(!1)}))});return()=>{Ct.unsubscribe(),Tt.unsubscribe()}});this.isStable=function ex(...t){const e=vo(t),i=function K0(t,e){return"number"==typeof gl(t)?t.pop():e}(t,1/0),y=t;return y.length?1===y.length?Ft(y[0]):nr(i)(ni(y,e)):En}(rt,ht.pipe(function ix(t={}){const{connector:e=(()=>new O),resetOnError:i=!0,resetOnComplete:y=!0,resetOnRefCountZero:L=!0}=t;return G=>{let tt=null,rt=null,ht=null,gt=0,Ct=!1,Tt=!1;const At=()=>{null==rt||rt.unsubscribe(),rt=null},Pt=()=>{At(),tt=ht=null,Ct=Tt=!1},_t=()=>{const Gt=tt;Pt(),null==Gt||Gt.unsubscribe()};return A((Gt,Vt)=>{gt++,!Tt&&!Ct&&At();const Yt=ht=null!=ht?ht:e();Vt.add(()=>{gt--,0===gt&&!Tt&&!Ct&&(rt=ml(_t,L))}),Yt.subscribe(Vt),tt||(tt=new f({next:jt=>Yt.next(jt),error:jt=>{Tt=!0,At(),rt=ml(Pt,i,jt),Yt.error(jt)},complete:()=>{Ct=!0,At(),rt=ml(Pt,y),Yt.complete()}}),ni(Gt).subscribe(tt))})(G)}}()))}bootstrap(i,y){if(!this._initStatus.done)throw new we(405,"");let L;L=i instanceof Rm?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(L.componentType);const G=function Zb(t){return t.isBoundToModule}(L)?void 0:this._injector.get(kn),rt=L.create(Si.NULL,[],y||L.selector,G),ht=rt.location.nativeElement,gt=rt.injector.get(Kc,null),Ct=gt&&rt.injector.get(bv);return gt&&Ct&&Ct.registerApplication(ht,gt),rt.onDestroy(()=>{this.detachView(rt.hostView),Qc(this.components,rt),Ct&&Ct.unregisterApplication(ht)}),this._loadComponent(rt),rt}tick(){if(this._runningTick)throw new we(101,"");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const y=i;this._views.push(y),y.attachToAppRef(this)}detachView(i){const y=i;Qc(this._views,y),y.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Cv,[]).concat(this._bootstrapListeners).forEach(L=>L(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(ie(si),ie(Si),ie(Uo),ie(qo),ie(Gc))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Qc(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}let Iv=!0,Jc=(()=>{class t{}return t.__NG_ELEMENT_ID__=nw,t})();function nw(t){return function rw(t,e,i){if(ks(t)&&!i){const y=Oi(t.index,e);return new ts(y,y)}return 47&t.type?new ts(e[16],e):null}(Je(),Ht(),16==(16&t))}class jv{constructor(){}supports(e){return Xo(e)}create(e){return new cw(e)}}const hw=(t,e)=>e;class cw{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hw}forEachItem(e){let i;for(i=this._itHead;null!==i;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,y=this._removalsHead,L=0,G=null;for(;i||y;){const tt=!y||i&&i.currentIndex<Uv(y,L,G)?i:y,rt=Uv(tt,L,G),ht=tt.currentIndex;if(tt===y)L--,y=y._nextRemoved;else if(i=i._next,null==tt.previousIndex)L++;else{G||(G=[]);const gt=rt-L,Ct=ht-L;if(gt!=Ct){for(let At=0;At<gt;At++){const Pt=At<G.length?G[At]:G[At]=0,_t=Pt+At;Ct<=_t&&_t<gt&&(G[At]=Pt+1)}G[tt.previousIndex]=Ct-gt}}rt!==ht&&e(tt,rt,ht)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)e(i)}diff(e){if(null==e&&(e=[]),!Xo(e))throw new we(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let L,G,tt,i=this._itHead,y=!1;if(Array.isArray(e)){this.length=e.length;for(let rt=0;rt<this.length;rt++)G=e[rt],tt=this._trackByFn(rt,G),null!==i&&Object.is(i.trackById,tt)?(y&&(i=this._verifyReinsertion(i,G,tt,rt)),Object.is(i.item,G)||this._addIdentityChange(i,G)):(i=this._mismatch(i,G,tt,rt),y=!0),i=i._next}else L=0,function yE(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[Vr()]();let y;for(;!(y=i.next()).done;)e(y.value)}}(e,rt=>{tt=this._trackByFn(L,rt),null!==i&&Object.is(i.trackById,tt)?(y&&(i=this._verifyReinsertion(i,rt,tt,L)),Object.is(i.item,rt)||this._addIdentityChange(i,rt)):(i=this._mismatch(i,rt,tt,L),y=!0),i=i._next,L++}),this.length=L;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,y,L){let G;return null===e?G=this._itTail:(G=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,G,L)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(y,L))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,G,L)):e=this._addAfter(new uw(i,y),G,L),e}_verifyReinsertion(e,i,y,L){let G=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==G?e=this._reinsertAfter(G,e._prev,L):e.currentIndex!=L&&(e.currentIndex=L,this._addToMoves(e,L)),e}_truncate(e){for(;null!==e;){const i=e._next;this._addToRemovals(this._unlink(e)),e=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const L=e._prevRemoved,G=e._nextRemoved;return null===L?this._removalsHead=G:L._nextRemoved=G,null===G?this._removalsTail=L:G._prevRemoved=L,this._insertAfter(e,i,y),this._addToMoves(e,y),e}_moveAfter(e,i,y){return this._unlink(e),this._insertAfter(e,i,y),this._addToMoves(e,y),e}_addAfter(e,i,y){return this._insertAfter(e,i,y),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,i,y){const L=null===i?this._itHead:i._next;return e._next=L,e._prev=i,null===L?this._itTail=e:L._prev=e,null===i?this._itHead=e:i._next=e,null===this._linkedRecords&&(this._linkedRecords=new Fv),this._linkedRecords.put(e),e.currentIndex=y,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const i=e._prev,y=e._next;return null===i?this._itHead=y:i._next=y,null===y?this._itTail=i:y._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class uw{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dw{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===i||i<=y.currentIndex)&&Object.is(y.trackById,e))return y;return null}remove(e){const i=e._prevDup,y=e._nextDup;return null===i?this._head=y:i._nextDup=y,null===y?this._tail=i:y._prevDup=i,null===this._head}}class Fv{constructor(){this.map=new Map}put(e){const i=e.trackById;let y=this.map.get(i);y||(y=new dw,this.map.set(i,y)),y.add(e)}get(e,i){const L=this.map.get(e);return L?L.get(e,i):null}remove(e){const i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uv(t,e,i){const y=t.previousIndex;if(null===y)return y;let L=0;return i&&y<i.length&&(L=i[y]),y+e+L}class zv{constructor(){}supports(e){return e instanceof Map||tc(e)}create(){return new pw}}class pw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let i;for(i=this._mapHead;null!==i;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}diff(e){if(e){if(!(e instanceof Map||tc(e)))throw new we(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(y,L)=>{if(i&&i.key===L)this._maybeAddToChanges(i,y),this._appendAfter=i,i=i._next;else{const G=this._getOrCreateRecordForKey(L,y);i=this._insertBeforeOrAppend(i,G)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let y=i;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){const y=e._prev;return i._next=e,i._prev=y,e._prev=i,y&&(y._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){const L=this._records.get(e);this._maybeAddToChanges(L,i);const G=L._prev,tt=L._next;return G&&(G._next=tt),tt&&(tt._prev=G),L._next=null,L._prev=null,L}const y=new fw(e);return this._records.set(e,y),y.currentValue=i,this._addToAdditions(y),y}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(y=>i(e[y],y))}}class fw{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gv(){return new La([new jv])}let La=(()=>{class t{constructor(i){this.factories=i}static create(i,y){if(null!=y){const L=y.factories.slice();i=i.concat(L)}return new t(i)}static extend(i){return{provide:t,useFactory:y=>t.create(i,y||Gv()),deps:[[t,new Ro,new Xn]]}}find(i){const y=this.factories.find(L=>L.supports(i));if(null!=y)return y;throw new we(901,"")}}return t.\u0275prov=ve({token:t,providedIn:"root",factory:Gv}),t})();function Hv(){return new os([new zv])}let os=(()=>{class t{constructor(i){this.factories=i}static create(i,y){if(y){const L=y.factories.slice();i=i.concat(L)}return new t(i)}static extend(i){return{provide:t,useFactory:y=>t.create(i,y||Hv()),deps:[[t,new Ro,new Xn]]}}find(i){const y=this.factories.find(G=>G.supports(i));if(y)return y;throw new we(901,"")}}return t.\u0275prov=ve({token:t,providedIn:"root",factory:Hv}),t})();const vw=Dv(null,"core",[{provide:Wc,useValue:"unknown"},{provide:Ov,deps:[Si]},{provide:bv,deps:[]},{provide:Sv,deps:[]}]);let yw=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(ie(Zc))},t.\u0275mod=Un({type:t}),t.\u0275inj=Tn({}),t})(),Ia=null;function Jn(){return Ia}const Wi=new Me("DocumentToken");let pr=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:function(){return function Ew(){return ie(Wv)}()},providedIn:"platform"}),t})();const Mw=new Me("Location Initialized");let Wv=(()=>{class t extends pr{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(i){const y=Jn().getGlobalEventTarget(this._doc,"window");return y.addEventListener("popstate",i,!1),()=>y.removeEventListener("popstate",i)}onHashChange(i){const y=Jn().getGlobalEventTarget(this._doc,"window");return y.addEventListener("hashchange",i,!1),()=>y.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,y,L){Vv()?this._history.pushState(i,y,L):this.location.hash=L}replaceState(i,y,L){Vv()?this._history.replaceState(i,y,L):this.location.hash=L}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return t.\u0275fac=function(i){return new(i||t)(ie(Wi))},t.\u0275prov=ve({token:t,factory:function(){return function Tw(){return new Wv(ie(Wi))}()},providedIn:"platform"}),t})();function Vv(){return!!window.history.pushState}function nu(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function Xv(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function In(t){return t&&"?"!==t[0]?"?"+t:t}let lo=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:function(){return function bw(t){const e=ie(Wi).location;return new Yv(ie(pr),e&&e.origin||"")}()},providedIn:"root"}),t})();const ru=new Me("appBaseHref");let Yv=(()=>{class t extends lo{constructor(i,y){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==y&&(y=this._platformLocation.getBaseHrefFromDOM()),null==y)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=y}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return nu(this._baseHref,i)}path(i=!1){const y=this._platformLocation.pathname+In(this._platformLocation.search),L=this._platformLocation.hash;return L&&i?`${y}${L}`:y}pushState(i,y,L,G){const tt=this.prepareExternalUrl(L+In(G));this._platformLocation.pushState(i,y,tt)}replaceState(i,y,L,G){const tt=this.prepareExternalUrl(L+In(G));this._platformLocation.replaceState(i,y,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var y,L;null===(L=(y=this._platformLocation).historyGo)||void 0===L||L.call(y,i)}}return t.\u0275fac=function(i){return new(i||t)(ie(pr),ie(ru,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})(),ww=(()=>{class t extends lo{constructor(i,y){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=y&&(this._baseHref=y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let y=this._platformLocation.hash;return null==y&&(y="#"),y.length>0?y.substring(1):y}prepareExternalUrl(i){const y=nu(this._baseHref,i);return y.length>0?"#"+y:y}pushState(i,y,L,G){let tt=this.prepareExternalUrl(L+In(G));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(i,y,tt)}replaceState(i,y,L,G){let tt=this.prepareExternalUrl(L+In(G));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(i,y,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var y,L;null===(L=(y=this._platformLocation).historyGo)||void 0===L||L.call(y,i)}}return t.\u0275fac=function(i){return new(i||t)(ie(pr),ie(ru,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t{constructor(i,y){this._subject=new vi,this._urlChangeListeners=[],this._platformStrategy=i;const L=this._platformStrategy.getBaseHref();this._platformLocation=y,this._baseHref=Xv(Kv(L)),this._platformStrategy.onPopState(G=>{this._subject.emit({url:this.path(!0),pop:!0,state:G.state,type:G.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,y=""){return this.path()==this.normalize(i+In(y))}normalize(i){return t.stripTrailingSlash(function Dw(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Kv(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,y="",L=null){this._platformStrategy.pushState(L,"",i,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+In(y)),L)}replaceState(i,y="",L=null){this._platformStrategy.replaceState(L,"",i,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+In(y)),L)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var y,L;null===(L=(y=this._platformStrategy).historyGo)||void 0===L||L.call(y,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(y=>{this._notifyUrlChangeListeners(y.url,y.state)}))}_notifyUrlChangeListeners(i="",y){this._urlChangeListeners.forEach(L=>L(i,y))}subscribe(i,y,L){return this._subject.subscribe({next:i,error:y,complete:L})}}return t.normalizeQueryParams=In,t.joinWithSlash=nu,t.stripTrailingSlash=Xv,t.\u0275fac=function(i){return new(i||t)(ie(lo),ie(pr))},t.\u0275prov=ve({token:t,factory:function(){return function Aw(){return new ou(ie(lo),ie(pr))}()},providedIn:"root"}),t})();function Kv(t){return t.replace(/\/index.html$/,"")}let ny=(()=>{class t{constructor(i,y,L,G){this._iterableDiffers=i,this._keyValueDiffers=y,this._ngEl=L,this._renderer=G,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(Xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(y=>this._toggleClass(y.key,y.currentValue)),i.forEachChangedItem(y=>this._toggleClass(y.key,y.currentValue)),i.forEachRemovedItem(y=>{y.previousValue&&this._toggleClass(y.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(y=>{if("string"!=typeof y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ae(y.item)}`);this._toggleClass(y.item,!0)}),i.forEachRemovedItem(y=>this._toggleClass(y.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(y=>this._toggleClass(y,!0)):Object.keys(i).forEach(y=>this._toggleClass(y,!!i[y])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(y=>this._toggleClass(y,!1)):Object.keys(i).forEach(y=>this._toggleClass(y,!1)))}_toggleClass(i,y){(i=i.trim())&&i.split(/\s+/g).forEach(L=>{y?this._renderer.addClass(this._ngEl.nativeElement,L):this._renderer.removeClass(this._ngEl.nativeElement,L)})}}return t.\u0275fac=function(i){return new(i||t)(te(La),te(os),te(On),te(Ea))},t.\u0275dir=oi({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class pA{constructor(e,i,y,L){this.$implicit=e,this.ngForOf=i,this.index=y,this.count=L}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ha=(()=>{class t{constructor(i,y,L){this._viewContainer=i,this._template=y,this._differs=L,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const y=this._viewContainer;i.forEachOperation((L,G,tt)=>{if(null==L.previousIndex)y.createEmbeddedView(this._template,new pA(L.item,this._ngForOf,-1,-1),null===tt?void 0:tt);else if(null==tt)y.remove(null===G?void 0:G);else if(null!==G){const rt=y.get(G);y.move(rt,tt),ry(rt,L)}});for(let L=0,G=y.length;L<G;L++){const rt=y.get(L).context;rt.index=L,rt.count=G,rt.ngForOf=this._ngForOf}i.forEachIdentityChange(L=>{ry(y.get(L.currentIndex),L)})}static ngTemplateContextGuard(i,y){return!0}}return t.\u0275fac=function(i){return new(i||t)(te(rn),te(Ln),te(La))},t.\u0275dir=oi({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function ry(t,e){t.context.$implicit=e.item}let ho=(()=>{class t{constructor(i,y){this._viewContainer=i,this._context=new fA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=y}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){oy("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){oy("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,y){return!0}}return t.\u0275fac=function(i){return new(i||t)(te(rn),te(Ln))},t.\u0275dir=oi({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class fA{constructor(){this.$implicit=null,this.ngIf=null}}function oy(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ae(e)}'.`)}let ay=(()=>{class t{constructor(i){this.differs=i,this.keyValues=[],this.compareFn=ly}transform(i,y=ly){if(!i||!(i instanceof Map)&&"object"!=typeof i)return null;this.differ||(this.differ=this.differs.find(i).create());const L=this.differ.diff(i),G=y!==this.compareFn;return L&&(this.keyValues=[],L.forEachItem(tt=>{this.keyValues.push(function _A(t,e){return{key:t,value:e}}(tt.key,tt.currentValue))})),(L||G)&&(this.keyValues.sort(y),this.compareFn=y),this.keyValues}}return t.\u0275fac=function(i){return new(i||t)(te(os,16))},t.\u0275pipe=xi({name:"keyvalue",type:t,pure:!1}),t})();function ly(t,e){const i=t.key,y=e.key;if(i===y)return 0;if(void 0===i)return 1;if(void 0===y)return-1;if(null===i)return 1;if(null===y)return-1;if("string"==typeof i&&"string"==typeof y)return i<y?-1:1;if("number"==typeof i&&"number"==typeof y)return i-y;if("boolean"==typeof i&&"boolean"==typeof y)return i<y?-1:1;const L=String(i),G=String(y);return L==G?0:L<G?-1:1}let UA=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Tn({}),t})();let WA=(()=>{class t{}return t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>new VA(ie(Wi),window)}),t})();class VA{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function XA(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const y=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let L=y.currentNode;for(;L;){const G=L.shadowRoot;if(G){const tt=G.getElementById(e)||G.querySelector(`[name="${e}"]`);if(tt)return tt}L=y.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),y=i.left+this.window.pageXOffset,L=i.top+this.window.pageYOffset,G=this.offset();this.window.scrollTo(y-G[0],L-G[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=cy(this.window.history)||cy(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function cy(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class xu extends class KA extends class Sw{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Cw(t){Ia||(Ia=t)}(new xu)}onAndCancel(e,i,y){return e.addEventListener(i,y,!1),()=>{e.removeEventListener(i,y,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=function $A(){return ls=ls||document.querySelector("base"),ls?ls.getAttribute("href"):null}();return null==i?null:function ZA(t){Wa=Wa||document.createElement("a"),Wa.setAttribute("href",t);const e=Wa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uA(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const y=i.indexOf("="),[L,G]=-1==y?[i,""]:[i.slice(0,y),i.slice(y+1)];if(L.trim()===e)return decodeURIComponent(G)}return null}(document.cookie,e)}}let Wa,ls=null;const uy=new Me("TRANSITION_ID"),JA=[{provide:zc,useFactory:function QA(t,e,i){return()=>{i.get(Gc).donePromise.then(()=>{const y=Jn(),L=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let G=0;G<L.length;G++)y.remove(L[G])})}},deps:[uy,Wi,Si],multi:!0}];class Cu{static init(){!function Kb(t){$c=t}(new Cu)}addToWindow(e){Oe.getAngularTestability=(y,L=!0)=>{const G=e.findTestabilityInTree(y,L);if(null==G)throw new Error("Could not find testability for element.");return G},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(y=>{const L=Oe.getAllAngularTestabilities();let G=L.length,tt=!1;const rt=function(ht){tt=tt||ht,G--,0==G&&y(tt)};L.forEach(function(ht){ht.whenStable(rt)})})}findTestabilityInTree(e,i,y){if(null==i)return null;const L=e.getTestability(i);return null!=L?L:y?Jn().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null}}let qA=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();const Va=new Me("EventManagerPlugins");let Xa=(()=>{class t{constructor(i,y){this._zone=y,this._eventNameToPlugin=new Map,i.forEach(L=>L.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,y,L){return this._findPluginFor(y).addEventListener(i,y,L)}addGlobalEventListener(i,y,L){return this._findPluginFor(y).addGlobalEventListener(i,y,L)}getZone(){return this._zone}_findPluginFor(i){const y=this._eventNameToPlugin.get(i);if(y)return y;const L=this._plugins;for(let G=0;G<L.length;G++){const tt=L[G];if(tt.supports(i))return this._eventNameToPlugin.set(i,tt),tt}throw new Error(`No event manager plugin found for event ${i}`)}}return t.\u0275fac=function(i){return new(i||t)(ie(Va),ie(si))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();class dy{constructor(e){this._doc=e}addGlobalEventListener(e,i,y){const L=Jn().getGlobalEventTarget(this._doc,e);if(!L)throw new Error(`Unsupported event target ${L} for event ${i}`);return this.addEventListener(L,i,y)}}let py=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(i){const y=new Set;i.forEach(L=>{this._stylesSet.has(L)||(this._stylesSet.add(L),y.add(L))}),this.onStylesAdded(y)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})(),hs=(()=>{class t extends py{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,y,L){i.forEach(G=>{const tt=this._doc.createElement("style");tt.textContent=G,L.push(y.appendChild(tt))})}addHost(i){const y=[];this._addStylesToHost(this._stylesSet,i,y),this._hostNodes.set(i,y)}removeHost(i){const y=this._hostNodes.get(i);y&&y.forEach(fy),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((y,L)=>{this._addStylesToHost(i,L,y)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(fy))}}return t.\u0275fac=function(i){return new(i||t)(ie(Wi))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();function fy(t){Jn().remove(t)}const Su={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Eu=/%COMP%/g;function Ya(t,e,i){for(let y=0;y<e.length;y++){let L=e[y];Array.isArray(L)?Ya(t,L,i):(L=L.replace(Eu,t),i.push(L))}return i}function vy(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mu=(()=>{class t{constructor(i,y,L){this.eventManager=i,this.sharedStylesHost=y,this.appId=L,this.rendererByCompId=new Map,this.defaultRenderer=new Tu(i)}createRenderer(i,y){if(!i||!y)return this.defaultRenderer;switch(y.encapsulation){case hn.Emulated:{let L=this.rendererByCompId.get(y.id);return L||(L=new oD(this.eventManager,this.sharedStylesHost,y,this.appId),this.rendererByCompId.set(y.id,L)),L.applyToHost(i),L}case 1:case hn.ShadowDom:return new sD(this.eventManager,this.sharedStylesHost,i,y);default:if(!this.rendererByCompId.has(y.id)){const L=Ya(y.id,y.styles,[]);this.sharedStylesHost.addStyles(L),this.rendererByCompId.set(y.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(i){return new(i||t)(ie(Xa),ie(hs),ie(rs))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();class Tu{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,i){return i?document.createElementNS(Su[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){e.appendChild(i)}insertBefore(e,i,y){e&&e.insertBefore(i,y)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let y="string"==typeof e?document.querySelector(e):e;if(!y)throw new Error(`The selector "${e}" did not match any elements`);return i||(y.textContent=""),y}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,y,L){if(L){i=L+":"+i;const G=Su[L];G?e.setAttributeNS(G,i,y):e.setAttribute(i,y)}else e.setAttribute(i,y)}removeAttribute(e,i,y){if(y){const L=Su[y];L?e.removeAttributeNS(L,i):e.removeAttribute(`${y}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,y,L){L&(Li.DashCase|Li.Important)?e.style.setProperty(i,y,L&Li.Important?"important":""):e.style[i]=y}removeStyle(e,i,y){y&Li.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,y){e[i]=y}setValue(e,i){e.nodeValue=i}listen(e,i,y){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,vy(y)):this.eventManager.addEventListener(e,i,vy(y))}}class oD extends Tu{constructor(e,i,y,L){super(e),this.component=y;const G=Ya(L+"-"+y.id,y.styles,[]);i.addStyles(G),this.contentAttr=function iD(t){return"_ngcontent-%COMP%".replace(Eu,t)}(L+"-"+y.id),this.hostAttr=function nD(t){return"_nghost-%COMP%".replace(Eu,t)}(L+"-"+y.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,i){const y=super.createElement(e,i);return super.setAttribute(y,this.contentAttr,""),y}}class sD extends Tu{constructor(e,i,y,L){super(e),this.sharedStylesHost=i,this.hostEl=y,this.shadowRoot=y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const G=Ya(L.id,L.styles,[]);for(let tt=0;tt<G.length;tt++){const rt=document.createElement("style");rt.textContent=G[tt],this.shadowRoot.appendChild(rt)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,y){return super.insertBefore(this.nodeOrShadowRoot(e),i,y)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let aD=(()=>{class t extends dy{constructor(i){super(i)}supports(i){return!0}addEventListener(i,y,L){return i.addEventListener(y,L,!1),()=>this.removeEventListener(i,y,L)}removeEventListener(i,y,L){return i.removeEventListener(y,L)}}return t.\u0275fac=function(i){return new(i||t)(ie(Wi))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();const xy=["alt","control","meta","shift"],hD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cy={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uD=(()=>{class t extends dy{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,y,L){const G=t.parseEventName(y),tt=t.eventCallback(G.fullKey,L,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(i,G.domEventName,tt))}static parseEventName(i){const y=i.toLowerCase().split("."),L=y.shift();if(0===y.length||"keydown"!==L&&"keyup"!==L)return null;const G=t._normalizeKey(y.pop());let tt="";if(xy.forEach(ht=>{const gt=y.indexOf(ht);gt>-1&&(y.splice(gt,1),tt+=ht+".")}),tt+=G,0!=y.length||0===G.length)return null;const rt={};return rt.domEventName=L,rt.fullKey=tt,rt}static getEventFullKey(i){let y="",L=function dD(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Cy.hasOwnProperty(e)&&(e=Cy[e]))}return hD[e]||e}(i);return L=L.toLowerCase()," "===L?L="space":"."===L&&(L="dot"),xy.forEach(G=>{G!=L&&cD[G](i)&&(y+=G+".")}),y+=L,y}static eventCallback(i,y,L){return G=>{t.getEventFullKey(G)===i&&L.runGuarded(()=>y(G))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return t.\u0275fac=function(i){return new(i||t)(ie(Wi))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();const mD=Dv(vw,"browser",[{provide:Wc,useValue:"browser"},{provide:xv,useValue:function pD(){xu.makeCurrent(),Cu.init()},multi:!0},{provide:Wi,useFactory:function gD(){return function Lx(t){Il=t}(document),document},deps:[]}]),vD=[{provide:Kh,useValue:"root"},{provide:Uo,useFactory:function fD(){return new Uo},deps:[]},{provide:Va,useClass:aD,multi:!0,deps:[Wi,si,Wc]},{provide:Va,useClass:uD,multi:!0,deps:[Wi]},{provide:Mu,useClass:Mu,deps:[Xa,hs,rs]},{provide:Nm,useExisting:Mu},{provide:py,useExisting:hs},{provide:hs,useClass:hs,deps:[Wi]},{provide:Kc,useClass:Kc,deps:[si]},{provide:Xa,useClass:Xa,deps:[Va,si]},{provide:class YA{},useClass:qA,deps:[]}];let yD=(()=>{class t{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:t,providers:[{provide:rs,useValue:i.appId},{provide:uy,useExisting:rs},JA]}}}return t.\u0275fac=function(i){return new(i||t)(ie(t,12))},t.\u0275mod=Un({type:t}),t.\u0275inj=Tn({providers:vD,imports:[UA,yw]}),t})();function ge(...t){return ni(t,vo(t))}"undefined"!=typeof window&&window;class ln extends O{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){const{hasError:e,thrownError:i,_value:y}=this;if(e)throw i;return this._throwIfClosed(),y}next(e){super.next(this._value=e)}}const{isArray:PD}=Array,{getPrototypeOf:OD,prototype:kD,keys:LD}=Object;const{isArray:_D}=Array;function FD(...t){const e=vo(t),i=function Y0(t){return ft(gl(t))?t.pop():void 0}(t),{args:y,keys:L}=function ID(t){if(1===t.length){const e=t[0];if(PD(e))return{args:e,keys:null};if(function RD(t){return t&&"object"==typeof t&&OD(t)===kD}(e)){const i=LD(e);return{args:i.map(y=>e[y]),keys:i}}}return{args:t,keys:null}}(t);if(0===y.length)return ni([],e);const G=new o(function UD(t,e,i=h){return y=>{My(e,()=>{const{length:L}=t,G=new Array(L);let tt=L,rt=L;for(let ht=0;ht<L;ht++)My(e,()=>{const gt=ni(t[ht],e);let Ct=!1;gt.subscribe(new B(y,Tt=>{G[ht]=Tt,Ct||(Ct=!0,rt--),rt||y.next(i(G.slice()))},()=>{--tt||y.complete()}))},y)},y)}}(y,e,L?tt=>function jD(t,e){return t.reduce((i,y,L)=>(i[y]=e[L],i),{})}(L,tt):h));return i?G.pipe(function BD(t){return m(e=>function ND(t,e){return _D(e)?t(...e):t(e)}(t,e))}(i)):G}function My(t,e,i){t?wi(i,t,e):e()}function Ka(t,e){const i=ft(t)?t:()=>t,y=L=>L.error(i());return new o(e?L=>e.schedule(y,0,L):y)}const $a=St(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wu(...t){return function zD(){return nr(1)}()(ni(t,vo(t)))}function Ty(t){return new o(e=>{Ft(t()).subscribe(e)})}function by(){return A((t,e)=>{let i=null;t._refCount++;const y=new B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(i=null);const L=t._connection,G=i;i=null,L&&(!G||L===G)&&L.unsubscribe(),e.unsubscribe()});t.subscribe(y),y.closed||(i=t.connect())})}class GD extends o{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new H;const i=this.getSubject();e.add(this.source.subscribe(new B(i,void 0,()=>{this._teardown(),i.complete()},y=>{this._teardown(),i.error(y)},()=>this._teardown()))),e.closed&&(this._connection=null,e=H.EMPTY)}return e}refCount(){return by()(this)}}function fr(t,e){return A((i,y)=>{let L=null,G=0,tt=!1;const rt=()=>tt&&!L&&y.complete();i.subscribe(new B(y,ht=>{null==L||L.unsubscribe();let gt=0;const Ct=G++;Ft(t(ht,Ct)).subscribe(L=new B(y,Tt=>y.next(e?e(ht,Tt,Ct,gt++):Tt),()=>{L=null,rt()}))},()=>{tt=!0,rt()}))})}function WD(t,e,i,y,L){return(G,tt)=>{let rt=i,ht=e,gt=0;G.subscribe(new B(tt,Ct=>{const Tt=gt++;ht=rt?t(ht,Ct,Tt):(rt=!0,Ct),y&&tt.next(ht)},L&&(()=>{rt&&tt.next(ht),tt.complete()})))}}function wy(t,e){return A(WD(t,e,arguments.length>=2,!0))}function co(t,e){return A((i,y)=>{let L=0;i.subscribe(new B(y,G=>t.call(e,G,L++)&&y.next(G)))})}function tr(t){return A((e,i)=>{let G,y=null,L=!1;y=e.subscribe(new B(i,void 0,void 0,tt=>{G=Ft(t(tt,tr(t)(e))),y?(y.unsubscribe(),y=null,G.subscribe(i)):L=!0})),L&&(y.unsubscribe(),y=null,G.subscribe(i))})}function cs(t,e){return ft(e)?Xe(t,e,1):Xe(t,1)}function Au(t){return t<=0?()=>En:A((e,i)=>{let y=[];e.subscribe(new B(i,L=>{y.push(L),t<y.length&&y.shift()},()=>{for(const L of y)i.next(L);i.complete()},void 0,()=>{y=null}))})}function Ay(t=VD){return A((e,i)=>{let y=!1;e.subscribe(new B(i,L=>{y=!0,i.next(L)},()=>y?i.complete():i.error(t())))})}function VD(){return new $a}function Dy(t){return A((e,i)=>{let y=!1;e.subscribe(new B(i,L=>{y=!0,i.next(L)},()=>{y||i.next(t),i.complete()}))})}function uo(t,e){const i=arguments.length>=2;return y=>y.pipe(t?co((L,G)=>t(L,G,y)):h,Ts(1),i?Dy(e):Ay(()=>new $a))}function Ri(t,e,i){const y=ft(t)||e||i?{next:t,error:e,complete:i}:t;return y?A((L,G)=>{var tt;null===(tt=y.subscribe)||void 0===tt||tt.call(y);let rt=!0;L.subscribe(new B(G,ht=>{var gt;null===(gt=y.next)||void 0===gt||gt.call(y,ht),G.next(ht)},()=>{var ht;rt=!1,null===(ht=y.complete)||void 0===ht||ht.call(y),G.complete()},ht=>{var gt;rt=!1,null===(gt=y.error)||void 0===gt||gt.call(y,ht),G.error(ht)},()=>{var ht,gt;rt&&(null===(ht=y.unsubscribe)||void 0===ht||ht.call(y)),null===(gt=y.finalize)||void 0===gt||gt.call(y)}))}):h}class _n{constructor(e,i){this.id=e,this.url=i}}class Du extends _n{constructor(e,i,y="imperative",L=null){super(e,i),this.navigationTrigger=y,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends _n{constructor(e,i,y){super(e,i),this.urlAfterRedirects=y}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Py extends _n{constructor(e,i,y){super(e,i),this.reason=y}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class KD extends _n{constructor(e,i,y){super(e,i),this.error=y}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $D extends _n{constructor(e,i,y,L){super(e,i),this.urlAfterRedirects=y,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZD extends _n{constructor(e,i,y,L){super(e,i),this.urlAfterRedirects=y,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QD extends _n{constructor(e,i,y,L,G){super(e,i),this.urlAfterRedirects=y,this.state=L,this.shouldActivate=G}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JD extends _n{constructor(e,i,y,L){super(e,i),this.urlAfterRedirects=y,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qD extends _n{constructor(e,i,y,L){super(e,i),this.urlAfterRedirects=y,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ky{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tP{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eP{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iP{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nP{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ly{constructor(e,i,y){this.routerEvent=e,this.position=i,this.anchor=y}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xe="primary";class rP{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function po(t){return new rP(t)}const Iy="ngNavigationCancelingError";function Pu(t){const e=Error("NavigationCancelingError: "+t);return e[Iy]=!0,e}function sP(t,e,i){const y=i.path.split("/");if(y.length>t.length||"full"===i.pathMatch&&(e.hasChildren()||y.length<t.length))return null;const L={};for(let G=0;G<y.length;G++){const tt=y[G],rt=t[G];if(tt.startsWith(":"))L[tt.substring(1)]=rt;else if(tt!==rt.path)return null}return{consumed:t.slice(0,y.length),posParams:L}}function Cn(t,e){const i=t?Object.keys(t):void 0,y=e?Object.keys(e):void 0;if(!i||!y||i.length!=y.length)return!1;let L;for(let G=0;G<i.length;G++)if(L=i[G],!Ry(t[L],e[L]))return!1;return!0}function Ry(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),y=[...e].sort();return i.every((L,G)=>y[G]===L)}return t===e}function _y(t){return Array.prototype.concat.apply([],t)}function Ny(t){return t.length>0?t[t.length-1]:null}function ai(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function Sn(t){return gg(t)?t:ga(t)?ni(Promise.resolve(t)):ge(t)}const hP={exact:function Fy(t,e,i){if(!mr(t.segments,e.segments)||!Za(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const y in e.children)if(!t.children[y]||!Fy(t.children[y],e.children[y],i))return!1;return!0},subset:Uy},By={exact:function cP(t,e){return Cn(t,e)},subset:function uP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Ry(t[i],e[i]))},ignored:()=>!0};function jy(t,e,i){return hP[i.paths](t.root,e.root,i.matrixParams)&&By[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function Uy(t,e,i){return zy(t,e,e.segments,i)}function zy(t,e,i,y){if(t.segments.length>i.length){const L=t.segments.slice(0,i.length);return!(!mr(L,i)||e.hasChildren()||!Za(L,i,y))}if(t.segments.length===i.length){if(!mr(t.segments,i)||!Za(t.segments,i,y))return!1;for(const L in e.children)if(!t.children[L]||!Uy(t.children[L],e.children[L],y))return!1;return!0}{const L=i.slice(0,t.segments.length),G=i.slice(t.segments.length);return!!(mr(t.segments,L)&&Za(t.segments,L,y)&&t.children[xe])&&zy(t.children[xe],e,G,y)}}function Za(t,e,i){return e.every((y,L)=>By[i](t[L].parameters,y.parameters))}class gr{constructor(e,i,y){this.root=e,this.queryParams=i,this.fragment=y}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=po(this.queryParams)),this._queryParamMap}toString(){return fP.serialize(this)}}class Se{constructor(e,i){this.segments=e,this.children=i,this.parent=null,ai(i,(y,L)=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qa(this)}}class ds{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=po(this.parameters)),this._parameterMap}toString(){return Xy(this)}}function mr(t,e){return t.length===e.length&&t.every((i,y)=>i.path===e[y].path)}class Gy{}class Hy{parse(e){const i=new MP(e);return new gr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){const i=`/${ps(e.root,!0)}`,y=function vP(t){const e=Object.keys(t).map(i=>{const y=t[i];return Array.isArray(y)?y.map(L=>`${Ja(i)}=${Ja(L)}`).join("&"):`${Ja(i)}=${Ja(y)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${i}${y}${"string"==typeof e.fragment?`#${function gP(t){return encodeURI(t)}(e.fragment)}`:""}`}}const fP=new Hy;function Qa(t){return t.segments.map(e=>Xy(e)).join("/")}function ps(t,e){if(!t.hasChildren())return Qa(t);if(e){const i=t.children[xe]?ps(t.children[xe],!1):"",y=[];return ai(t.children,(L,G)=>{G!==xe&&y.push(`${G}:${ps(L,!1)}`)}),y.length>0?`${i}(${y.join("//")})`:i}{const i=function pP(t,e){let i=[];return ai(t.children,(y,L)=>{L===xe&&(i=i.concat(e(y,L)))}),ai(t.children,(y,L)=>{L!==xe&&(i=i.concat(e(y,L)))}),i}(t,(y,L)=>L===xe?[ps(t.children[xe],!1)]:[`${L}:${ps(y,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[xe]?`${Qa(t)}/${i[0]}`:`${Qa(t)}/(${i.join("//")})`}}function Wy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ja(t){return Wy(t).replace(/%3B/gi,";")}function Ou(t){return Wy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qa(t){return decodeURIComponent(t)}function Vy(t){return qa(t.replace(/\+/g,"%20"))}function Xy(t){return`${Ou(t.path)}${function mP(t){return Object.keys(t).map(e=>`;${Ou(e)}=${Ou(t[e])}`).join("")}(t.parameters)}`}const yP=/^[^\/()?;=#]+/;function tl(t){const e=t.match(yP);return e?e[0]:""}const xP=/^[^=?&#]+/,SP=/^[^&#]+/;class MP{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(y[xe]=new Se(e,i)),y}parseSegment(){const e=tl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ds(qa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=tl(this.remaining);if(!i)return;this.capture(i);let y="";if(this.consumeOptional("=")){const L=tl(this.remaining);L&&(y=L,this.capture(y))}e[qa(i)]=qa(y)}parseQueryParam(e){const i=function CP(t){const e=t.match(xP);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let y="";if(this.consumeOptional("=")){const tt=function EP(t){const e=t.match(SP);return e?e[0]:""}(this.remaining);tt&&(y=tt,this.capture(y))}const L=Vy(i),G=Vy(y);if(e.hasOwnProperty(L)){let tt=e[L];Array.isArray(tt)||(tt=[tt],e[L]=tt),tt.push(G)}else e[L]=G}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=tl(this.remaining),L=this.remaining[y.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let G;y.indexOf(":")>-1?(G=y.substr(0,y.indexOf(":")),this.capture(G),this.capture(":")):e&&(G=xe);const tt=this.parseChildren();i[G]=1===Object.keys(tt).length?tt[xe]:new Se([],tt),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Yy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=ku(e,this._root);return i?i.children.map(y=>y.value):[]}firstChild(e){const i=ku(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=Lu(e,this._root);return i.length<2?[]:i[i.length-2].children.map(L=>L.value).filter(L=>L!==e)}pathFromRoot(e){return Lu(e,this._root).map(i=>i.value)}}function ku(t,e){if(t===e.value)return e;for(const i of e.children){const y=ku(t,i);if(y)return y}return null}function Lu(t,e){if(t===e.value)return[e];for(const i of e.children){const y=Lu(t,i);if(y.length)return y.unshift(e),y}return[]}class Nn{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function fo(t){const e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}class Ky extends Yy{constructor(e,i){super(e),this.snapshot=i,Iu(this,e)}toString(){return this.snapshot.toString()}}function $y(t,e){const i=function TP(t,e){const tt=new el([],{},{},"",{},xe,e,null,t.root,-1,{});return new Qy("",new Nn(tt,[]))}(t,e),y=new ln([new ds("",{})]),L=new ln({}),G=new ln({}),tt=new ln({}),rt=new ln(""),ht=new go(y,L,tt,rt,G,xe,e,i.root);return ht.snapshot=i.root,new Ky(new Nn(ht,[]),i)}class go{constructor(e,i,y,L,G,tt,rt,ht){this.url=e,this.params=i,this.queryParams=y,this.fragment=L,this.data=G,this.outlet=tt,this.component=rt,this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(m(e=>po(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(m(e=>po(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zy(t,e="emptyOnly"){const i=t.pathFromRoot;let y=0;if("always"!==e)for(y=i.length-1;y>=1;){const L=i[y],G=i[y-1];if(L.routeConfig&&""===L.routeConfig.path)y--;else{if(G.component)break;y--}}return function bP(t){return t.reduce((e,i)=>({params:Object.assign(Object.assign({},e.params),i.params),data:Object.assign(Object.assign({},e.data),i.data),resolve:Object.assign(Object.assign({},e.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(y))}class el{constructor(e,i,y,L,G,tt,rt,ht,gt,Ct,Tt){this.url=e,this.params=i,this.queryParams=y,this.fragment=L,this.data=G,this.outlet=tt,this.component=rt,this.routeConfig=ht,this._urlSegment=gt,this._lastPathIndex=Ct,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=po(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=po(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qy extends Yy{constructor(e,i){super(i),this.url=e,Iu(this,i)}toString(){return Jy(this._root)}}function Iu(t,e){e.value._routerState=t,e.children.forEach(i=>Iu(t,i))}function Jy(t){const e=t.children.length>0?` { ${t.children.map(Jy).join(", ")} } `:"";return`${t.value}${e}`}function Ru(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Cn(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),Cn(e.params,i.params)||t.params.next(i.params),function aP(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Cn(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),Cn(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _u(t,e){const i=Cn(t.params,e.params)&&function dP(t,e){return mr(t,e)&&t.every((i,y)=>Cn(i.parameters,e[y].parameters))}(t.url,e.url);return i&&!(!t.parent!=!e.parent)&&(!t.parent||_u(t.parent,e.parent))}function fs(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const y=i.value;y._futureSnapshot=e.value;const L=function AP(t,e,i){return e.children.map(y=>{for(const L of i.children)if(t.shouldReuseRoute(y.value,L.value.snapshot))return fs(t,y,L);return fs(t,y)})}(t,e,i);return new Nn(y,L)}{if(t.shouldAttach(e.value)){const G=t.retrieve(e.value);if(null!==G){const tt=G.route;return tt.value._futureSnapshot=e.value,tt.children=e.children.map(rt=>fs(t,rt)),tt}}const y=function DP(t){return new go(new ln(t.url),new ln(t.params),new ln(t.queryParams),new ln(t.fragment),new ln(t.data),t.outlet,t.component,t)}(e.value),L=e.children.map(G=>fs(t,G));return new Nn(y,L)}}function il(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gs(t){return"object"==typeof t&&null!=t&&t.outlets}function Nu(t,e,i,y,L){let G={};if(y&&ai(y,(rt,ht)=>{G[ht]=Array.isArray(rt)?rt.map(gt=>`${gt}`):`${rt}`}),t===e)return new gr(i,G,L);const tt=qy(t,e,i);return new gr(tt,G,L)}function qy(t,e,i){const y={};return ai(t.children,(L,G)=>{y[G]=L===e?i:qy(L,e,i)}),new Se(t.segments,y)}class t0{constructor(e,i,y){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=y,e&&y.length>0&&il(y[0]))throw new Error("Root segment cannot have matrix parameters");const L=y.find(gs);if(L&&L!==Ny(y))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bu{constructor(e,i,y){this.segmentGroup=e,this.processChildren=i,this.index=y}}function e0(t,e,i){if(t||(t=new Se([],{})),0===t.segments.length&&t.hasChildren())return nl(t,e,i);const y=function RP(t,e,i){let y=0,L=e;const G={match:!1,pathIndex:0,commandIndex:0};for(;L<t.segments.length;){if(y>=i.length)return G;const tt=t.segments[L],rt=i[y];if(gs(rt))break;const ht=`${rt}`,gt=y<i.length-1?i[y+1]:null;if(L>0&&void 0===ht)break;if(ht&&gt&&"object"==typeof gt&&void 0===gt.outlets){if(!r0(ht,gt,tt))return G;y+=2}else{if(!r0(ht,{},tt))return G;y++}L++}return{match:!0,pathIndex:L,commandIndex:y}}(t,e,i),L=i.slice(y.commandIndex);if(y.match&&y.pathIndex<t.segments.length){const G=new Se(t.segments.slice(0,y.pathIndex),{});return G.children[xe]=new Se(t.segments.slice(y.pathIndex),t.children),nl(G,0,L)}return y.match&&0===L.length?new Se(t.segments,{}):y.match&&!t.hasChildren()?ju(t,e,i):y.match?nl(t,0,L):ju(t,e,i)}function nl(t,e,i){if(0===i.length)return new Se(t.segments,{});{const y=function IP(t){return gs(t[0])?t[0].outlets:{[xe]:t}}(i),L={};return ai(y,(G,tt)=>{"string"==typeof G&&(G=[G]),null!==G&&(L[tt]=e0(t.children[tt],e,G))}),ai(t.children,(G,tt)=>{void 0===y[tt]&&(L[tt]=G)}),new Se(t.segments,L)}}function ju(t,e,i){const y=t.segments.slice(0,e);let L=0;for(;L<i.length;){const G=i[L];if(gs(G)){const ht=_P(G.outlets);return new Se(y,ht)}if(0===L&&il(i[0])){y.push(new ds(t.segments[e].path,n0(i[0]))),L++;continue}const tt=gs(G)?G.outlets[xe]:`${G}`,rt=L<i.length-1?i[L+1]:null;tt&&rt&&il(rt)?(y.push(new ds(tt,n0(rt))),L+=2):(y.push(new ds(tt,{})),L++)}return new Se(y,{})}function _P(t){const e={};return ai(t,(i,y)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[y]=ju(new Se([],{}),0,i))}),e}function n0(t){const e={};return ai(t,(i,y)=>e[y]=`${i}`),e}function r0(t,e,i){return t==i.path&&Cn(e,i.parameters)}class BP{constructor(e,i,y,L){this.routeReuseStrategy=e,this.futureState=i,this.currState=y,this.forwardEvent=L}activate(e){const i=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,y,e),Ru(this.futureState.root),this.activateChildRoutes(i,y,e)}deactivateChildRoutes(e,i,y){const L=fo(i);e.children.forEach(G=>{const tt=G.value.outlet;this.deactivateRoutes(G,L[tt],y),delete L[tt]}),ai(L,(G,tt)=>{this.deactivateRouteAndItsChildren(G,y)})}deactivateRoutes(e,i,y){const L=e.value,G=i?i.value:null;if(L===G)if(L.component){const tt=y.getContext(L.outlet);tt&&this.deactivateChildRoutes(e,i,tt.children)}else this.deactivateChildRoutes(e,i,y);else G&&this.deactivateRouteAndItsChildren(i,y)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const y=i.getContext(e.value.outlet),L=y&&e.value.component?y.children:i,G=fo(e);for(const tt of Object.keys(G))this.deactivateRouteAndItsChildren(G[tt],L);if(y&&y.outlet){const tt=y.outlet.detach(),rt=y.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:tt,route:e,contexts:rt})}}deactivateRouteAndOutlet(e,i){const y=i.getContext(e.value.outlet),L=y&&e.value.component?y.children:i,G=fo(e);for(const tt of Object.keys(G))this.deactivateRouteAndItsChildren(G[tt],L);y&&y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated(),y.attachRef=null,y.resolver=null,y.route=null)}activateChildRoutes(e,i,y){const L=fo(i);e.children.forEach(G=>{this.activateRoutes(G,L[G.value.outlet],y),this.forwardEvent(new nP(G.value.snapshot))}),e.children.length&&this.forwardEvent(new eP(e.value.snapshot))}activateRoutes(e,i,y){const L=e.value,G=i?i.value:null;if(Ru(L),L===G)if(L.component){const tt=y.getOrCreateContext(L.outlet);this.activateChildRoutes(e,i,tt.children)}else this.activateChildRoutes(e,i,y);else if(L.component){const tt=y.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const rt=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),tt.children.onOutletReAttached(rt.contexts),tt.attachRef=rt.componentRef,tt.route=rt.route.value,tt.outlet&&tt.outlet.attach(rt.componentRef,rt.route.value),Ru(rt.route.value),this.activateChildRoutes(e,null,tt.children)}else{const rt=function jP(t){for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(L.snapshot),ht=rt?rt.module.componentFactoryResolver:null;tt.attachRef=null,tt.route=L,tt.resolver=ht,tt.outlet&&tt.outlet.activateWith(L,ht),this.activateChildRoutes(e,null,tt.children)}}else this.activateChildRoutes(e,null,y)}}class Fu{constructor(e,i){this.routes=e,this.module=i}}function er(t){return"function"==typeof t}function vr(t){return t instanceof gr}const ms=Symbol("INITIAL_VALUE");function vs(){return fr(t=>FD(t.map(e=>e.pipe(Ts(1),function HD(...t){const e=vo(t);return A((i,y)=>{(e?wu(t,i,e):wu(t,i)).subscribe(y)})}(ms)))).pipe(wy((e,i)=>{let y=!1;return i.reduce((L,G,tt)=>L!==ms?L:(G===ms&&(y=!0),y||!1!==G&&tt!==i.length-1&&!vr(G)?L:G),e)},ms),co(e=>e!==ms),m(e=>vr(e)?e:!0===e),Ts(1)))}class WP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ys,this.attachRef=null}}class ys{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const y=this.getOrCreateContext(e);y.outlet=i,this.contexts.set(e,y)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new WP,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}let Uu=(()=>{class t{constructor(i,y,L,G,tt){this.parentContexts=i,this.location=y,this.resolver=L,this.changeDetector=tt,this.activated=null,this._activatedRoute=null,this.activateEvents=new vi,this.deactivateEvents=new vi,this.attachEvents=new vi,this.detachEvents=new vi,this.name=G||xe,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,y){this.activated=i,this._activatedRoute=y,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,y){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const tt=(y=y||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),rt=this.parentContexts.getOrCreateContext(this.name).children,ht=new VP(i,rt,this.location.injector);this.activated=this.location.createComponent(tt,this.location.length,ht),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(i){return new(i||t)(te(ys),te(rn),te(qo),Ao("name"),te(Jc))},t.\u0275dir=oi({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class VP{constructor(e,i,y){this.route=e,this.childContexts=i,this.parent=y}get(e,i){return e===go?this.route:e===ys?this.childContexts:this.parent.get(e,i)}}let o0=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,y){1&i&&$t(0,"router-outlet")},directives:[Uu],encapsulation:2}),t})();function s0(t,e=""){for(let i=0;i<t.length;i++){const y=t[i];XP(y,YP(e,y))}}function XP(t,e){t.children&&s0(t.children,e)}function YP(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function zu(t){const e=t.children&&t.children.map(zu),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==xe&&(i.component=o0),i}function Yi(t){return t.outlet||xe}function a0(t,e){const i=t.filter(y=>Yi(y)===e);return i.push(...t.filter(y=>Yi(y)!==e)),i}const l0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rl(t,e,i){var y;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?Object.assign({},l0):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const G=(e.matcher||sP)(i,t,e);if(!G)return Object.assign({},l0);const tt={};ai(G.posParams,(ht,gt)=>{tt[gt]=ht.path});const rt=G.consumed.length>0?Object.assign(Object.assign({},tt),G.consumed[G.consumed.length-1].parameters):tt;return{matched:!0,consumedSegments:G.consumed,remainingSegments:i.slice(G.consumed.length),parameters:rt,positionalParamSegments:null!==(y=G.posParams)&&void 0!==y?y:{}}}function ol(t,e,i,y,L="corrected"){if(i.length>0&&function ZP(t,e,i){return i.some(y=>sl(t,e,y)&&Yi(y)!==xe)}(t,i,y)){const tt=new Se(e,function $P(t,e,i,y){const L={};L[xe]=y,y._sourceSegment=t,y._segmentIndexShift=e.length;for(const G of i)if(""===G.path&&Yi(G)!==xe){const tt=new Se([],{});tt._sourceSegment=t,tt._segmentIndexShift=e.length,L[Yi(G)]=tt}return L}(t,e,y,new Se(i,t.children)));return tt._sourceSegment=t,tt._segmentIndexShift=e.length,{segmentGroup:tt,slicedSegments:[]}}if(0===i.length&&function QP(t,e,i){return i.some(y=>sl(t,e,y))}(t,i,y)){const tt=new Se(t.segments,function KP(t,e,i,y,L,G){const tt={};for(const rt of y)if(sl(t,i,rt)&&!L[Yi(rt)]){const ht=new Se([],{});ht._sourceSegment=t,ht._segmentIndexShift="legacy"===G?t.segments.length:e.length,tt[Yi(rt)]=ht}return Object.assign(Object.assign({},L),tt)}(t,e,i,y,t.children,L));return tt._sourceSegment=t,tt._segmentIndexShift=e.length,{segmentGroup:tt,slicedSegments:i}}const G=new Se(t.segments,t.children);return G._sourceSegment=t,G._segmentIndexShift=e.length,{segmentGroup:G,slicedSegments:i}}function sl(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function h0(t,e,i,y){return!!(Yi(t)===y||y!==xe&&sl(e,i,t))&&("**"===t.path||rl(e,t,i).matched)}function c0(t,e,i){return 0===e.length&&!t.children[i]}class al{constructor(e){this.segmentGroup=e||null}}class u0{constructor(e){this.urlTree=e}}function xs(t){return Ka(new al(t))}function d0(t){return Ka(new u0(t))}class eO{constructor(e,i,y,L,G){this.configLoader=i,this.urlSerializer=y,this.urlTree=L,this.config=G,this.allowRedirects=!0,this.ngModule=e.get(kn)}apply(){const e=ol(this.urlTree.root,[],[],this.config).segmentGroup,i=new Se(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,i,xe).pipe(m(G=>this.createUrlTree(Gu(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tr(G=>{if(G instanceof u0)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof al?this.noMatchError(G):G}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xe).pipe(m(L=>this.createUrlTree(Gu(L),e.queryParams,e.fragment))).pipe(tr(L=>{throw L instanceof al?this.noMatchError(L):L}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,i,y){const L=e.segments.length>0?new Se([],{[xe]:e}):e;return new gr(L,i,y)}expandSegmentGroup(e,i,y,L){return 0===y.segments.length&&y.hasChildren()?this.expandChildren(e,i,y).pipe(m(G=>new Se([],G))):this.expandSegment(e,y,i,y.segments,L,!0)}expandChildren(e,i,y){const L=[];for(const G of Object.keys(y.children))"primary"===G?L.unshift(G):L.push(G);return ni(L).pipe(cs(G=>{const tt=y.children[G],rt=a0(i,G);return this.expandSegmentGroup(e,rt,tt,G).pipe(m(ht=>({segment:ht,outlet:G})))}),wy((G,tt)=>(G[tt.outlet]=tt.segment,G),{}),function XD(t,e){const i=arguments.length>=2;return y=>y.pipe(t?co((L,G)=>t(L,G,y)):h,Au(1),i?Dy(e):Ay(()=>new $a))}())}expandSegment(e,i,y,L,G,tt){return ni(y).pipe(cs(rt=>this.expandSegmentAgainstRoute(e,i,y,rt,L,G,tt).pipe(tr(gt=>{if(gt instanceof al)return ge(null);throw gt}))),uo(rt=>!!rt),tr((rt,ht)=>{if(rt instanceof $a||"EmptyError"===rt.name)return c0(i,L,G)?ge(new Se([],{})):xs(i);throw rt}))}expandSegmentAgainstRoute(e,i,y,L,G,tt,rt){return h0(L,i,G,tt)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(e,i,L,G,tt):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,y,L,G,tt):xs(i):xs(i)}expandSegmentAgainstRouteUsingRedirect(e,i,y,L,G,tt){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,y,L,tt):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,y,L,G,tt)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,y,L){const G=this.applyRedirectCommands([],y.redirectTo,{});return y.redirectTo.startsWith("/")?d0(G):this.lineralizeSegments(y,G).pipe(Xe(tt=>{const rt=new Se(tt,{});return this.expandSegment(e,rt,i,tt,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,y,L,G,tt){const{matched:rt,consumedSegments:ht,remainingSegments:gt,positionalParamSegments:Ct}=rl(i,L,G);if(!rt)return xs(i);const Tt=this.applyRedirectCommands(ht,L.redirectTo,Ct);return L.redirectTo.startsWith("/")?d0(Tt):this.lineralizeSegments(L,Tt).pipe(Xe(At=>this.expandSegment(e,i,y,At.concat(gt),tt,!1)))}matchSegmentAgainstRoute(e,i,y,L,G){if("**"===y.path)return y.loadChildren?(y._loadedConfig?ge(y._loadedConfig):this.configLoader.load(e.injector,y)).pipe(m(Tt=>(y._loadedConfig=Tt,new Se(L,{})))):ge(new Se(L,{}));const{matched:tt,consumedSegments:rt,remainingSegments:ht}=rl(i,y,L);return tt?this.getChildConfig(e,y,L).pipe(Xe(Ct=>{const Tt=Ct.module,At=Ct.routes,{segmentGroup:Pt,slicedSegments:_t}=ol(i,rt,ht,At),Gt=new Se(Pt.segments,Pt.children);if(0===_t.length&&Gt.hasChildren())return this.expandChildren(Tt,At,Gt).pipe(m(qt=>new Se(rt,qt)));if(0===At.length&&0===_t.length)return ge(new Se(rt,{}));const Vt=Yi(y)===G;return this.expandSegment(Tt,Gt,At,_t,Vt?xe:G,!0).pipe(m(jt=>new Se(rt.concat(jt.segments),jt.children)))})):xs(i)}getChildConfig(e,i,y){return i.children?ge(new Fu(i.children,e)):i.loadChildren?void 0!==i._loadedConfig?ge(i._loadedConfig):this.runCanLoadGuards(e.injector,i,y).pipe(Xe(L=>L?this.configLoader.load(e.injector,i).pipe(m(G=>(i._loadedConfig=G,G))):function qP(t){return Ka(Pu(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(i))):ge(new Fu([],e))}runCanLoadGuards(e,i,y){const L=i.canLoad;return L&&0!==L.length?ge(L.map(tt=>{const rt=e.get(tt);let ht;if(function UP(t){return t&&er(t.canLoad)}(rt))ht=rt.canLoad(i,y);else{if(!er(rt))throw new Error("Invalid CanLoad guard");ht=rt(i,y)}return Sn(ht)})).pipe(vs(),Ri(tt=>{if(!vr(tt))return;const rt=Pu(`Redirecting to "${this.urlSerializer.serialize(tt)}"`);throw rt.url=tt,rt}),m(tt=>!0===tt)):ge(!0)}lineralizeSegments(e,i){let y=[],L=i.root;for(;;){if(y=y.concat(L.segments),0===L.numberOfChildren)return ge(y);if(L.numberOfChildren>1||!L.children[xe])return Ka(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));L=L.children[xe]}}applyRedirectCommands(e,i,y){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),e,y)}applyRedirectCreatreUrlTree(e,i,y,L){const G=this.createSegmentGroup(e,i.root,y,L);return new gr(G,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const y={};return ai(e,(L,G)=>{if("string"==typeof L&&L.startsWith(":")){const rt=L.substring(1);y[G]=i[rt]}else y[G]=L}),y}createSegmentGroup(e,i,y,L){const G=this.createSegments(e,i.segments,y,L);let tt={};return ai(i.children,(rt,ht)=>{tt[ht]=this.createSegmentGroup(e,rt,y,L)}),new Se(G,tt)}createSegments(e,i,y,L){return i.map(G=>G.path.startsWith(":")?this.findPosParam(e,G,L):this.findOrReturn(G,y))}findPosParam(e,i,y){const L=y[i.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${e}'. Cannot find '${i.path}'.`);return L}findOrReturn(e,i){let y=0;for(const L of i){if(L.path===e.path)return i.splice(y),L;y++}return e}}function Gu(t){const e={};for(const y of Object.keys(t.children)){const G=Gu(t.children[y]);(G.segments.length>0||G.hasChildren())&&(e[y]=G)}return function iO(t){if(1===t.numberOfChildren&&t.children[xe]){const e=t.children[xe];return new Se(t.segments.concat(e.segments),e.children)}return t}(new Se(t.segments,e))}class p0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ll{constructor(e,i){this.component=e,this.route=i}}function rO(t,e,i){const y=t._root;return Cs(y,e?e._root:null,i,[y.value])}function hl(t,e,i){const y=function sO(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(y?y.module.injector:i).get(t)}function Cs(t,e,i,y,L={canDeactivateChecks:[],canActivateChecks:[]}){const G=fo(e);return t.children.forEach(tt=>{(function aO(t,e,i,y,L={canDeactivateChecks:[],canActivateChecks:[]}){const G=t.value,tt=e?e.value:null,rt=i?i.getContext(t.value.outlet):null;if(tt&&G.routeConfig===tt.routeConfig){const ht=function lO(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,e.url)||!Cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_u(t,e)||!Cn(t.queryParams,e.queryParams);default:return!_u(t,e)}}(tt,G,G.routeConfig.runGuardsAndResolvers);ht?L.canActivateChecks.push(new p0(y)):(G.data=tt.data,G._resolvedData=tt._resolvedData),Cs(t,e,G.component?rt?rt.children:null:i,y,L),ht&&rt&&rt.outlet&&rt.outlet.isActivated&&L.canDeactivateChecks.push(new ll(rt.outlet.component,tt))}else tt&&Ss(e,rt,L),L.canActivateChecks.push(new p0(y)),Cs(t,null,G.component?rt?rt.children:null:i,y,L)})(tt,G[tt.value.outlet],i,y.concat([tt.value]),L),delete G[tt.value.outlet]}),ai(G,(tt,rt)=>Ss(tt,i.getContext(rt),L)),L}function Ss(t,e,i){const y=fo(t),L=t.value;ai(y,(G,tt)=>{Ss(G,L.component?e?e.children.getContext(tt):null:e,i)}),i.canDeactivateChecks.push(new ll(L.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,L))}class vO{}function f0(t){return new o(e=>e.error(t))}class xO{constructor(e,i,y,L,G,tt){this.rootComponentType=e,this.config=i,this.urlTree=y,this.url=L,this.paramsInheritanceStrategy=G,this.relativeLinkResolution=tt}recognize(){const e=ol(this.urlTree.root,[],[],this.config.filter(tt=>void 0===tt.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,xe);if(null===i)return null;const y=new el([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xe,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Nn(y,i),G=new Qy(this.url,L);return this.inheritParamsAndData(G._root),G}inheritParamsAndData(e){const i=e.value,y=Zy(i,this.paramsInheritanceStrategy);i.params=Object.freeze(y.params),i.data=Object.freeze(y.data),e.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(e,i,y){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,i):this.processSegment(e,i,i.segments,y)}processChildren(e,i){const y=[];for(const G of Object.keys(i.children)){const tt=i.children[G],rt=a0(e,G),ht=this.processSegmentGroup(rt,tt,G);if(null===ht)return null;y.push(...ht)}const L=g0(y);return function CO(t){t.sort((e,i)=>e.value.outlet===xe?-1:i.value.outlet===xe?1:e.value.outlet.localeCompare(i.value.outlet))}(L),L}processSegment(e,i,y,L){for(const G of e){const tt=this.processSegmentAgainstRoute(G,i,y,L);if(null!==tt)return tt}return c0(i,y,L)?[]:null}processSegmentAgainstRoute(e,i,y,L){if(e.redirectTo||!h0(e,i,y,L))return null;let G,tt=[],rt=[];if("**"===e.path){const Pt=y.length>0?Ny(y).parameters:{};G=new el(y,Pt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y0(e),Yi(e),e.component,e,m0(i),v0(i)+y.length,x0(e))}else{const Pt=rl(i,e,y);if(!Pt.matched)return null;tt=Pt.consumedSegments,rt=Pt.remainingSegments,G=new el(tt,Pt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y0(e),Yi(e),e.component,e,m0(i),v0(i)+tt.length,x0(e))}const ht=function SO(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:gt,slicedSegments:Ct}=ol(i,tt,rt,ht.filter(Pt=>void 0===Pt.redirectTo),this.relativeLinkResolution);if(0===Ct.length&&gt.hasChildren()){const Pt=this.processChildren(ht,gt);return null===Pt?null:[new Nn(G,Pt)]}if(0===ht.length&&0===Ct.length)return[new Nn(G,[])];const Tt=Yi(e)===L,At=this.processSegment(ht,gt,Ct,Tt?xe:L);return null===At?null:[new Nn(G,At)]}}function EO(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function g0(t){const e=[],i=new Set;for(const y of t){if(!EO(y)){e.push(y);continue}const L=e.find(G=>y.value.routeConfig===G.value.routeConfig);void 0!==L?(L.children.push(...y.children),i.add(L)):e.push(y)}for(const y of i){const L=g0(y.children);e.push(new Nn(y.value,L))}return e.filter(y=>!i.has(y))}function m0(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function v0(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function y0(t){return t.data||{}}function x0(t){return t.resolve||{}}function C0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Hu(t){return fr(e=>{const i=t(e);return i?ni(i).pipe(m(()=>e)):ge(e)})}class OO extends class PO{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}{}const Wu=new Me("ROUTES");class S0{constructor(e,i,y,L){this.injector=e,this.compiler=i,this.onLoadStartListener=y,this.onLoadEndListener=L}load(e,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const L=this.loadModuleFactory(i.loadChildren).pipe(m(G=>{this.onLoadEndListener&&this.onLoadEndListener(i);const tt=G.create(e);return new Fu(_y(tt.injector.get(Wu,void 0,le.Self|le.Optional)).map(zu),tt)}),tr(G=>{throw i._loader$=void 0,G}));return i._loader$=new GD(L,()=>new O).pipe(by()),i._loader$}loadModuleFactory(e){return Sn(e()).pipe(Xe(i=>i instanceof Fm?ge(i):ni(this.compiler.compileModuleAsync(i))))}}class LO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}function IO(t){throw t}function RO(t,e,i){return e.parse("/")}function E0(t,e){return ge(null)}const _O={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class t{constructor(i,y,L,G,tt,rt,ht){this.rootComponentType=i,this.urlSerializer=y,this.rootContexts=L,this.location=G,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=IO,this.malformedUriErrorHandler=RO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:E0,afterPreactivation:E0},this.urlHandlingStrategy=new LO,this.routeReuseStrategy=new OO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=tt.get(kn),this.console=tt.get(Sv);const Tt=tt.get(si);this.isNgZoneEnabled=Tt instanceof si&&si.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=function lP(){return new gr(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new S0(tt,rt,At=>this.triggerEvent(new Oy(At)),At=>this.triggerEvent(new ky(At))),this.routerState=$y(this.currentUrlTree,this.rootComponentType),this.transitions=new ln({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const y=this.events;return i.pipe(co(L=>0!==L.id),m(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),fr(L=>{let G=!1,tt=!1;return ge(L).pipe(Ri(rt=>{this.currentNavigation={id:rt.id,initialUrl:rt.currentRawUrl,extractedUrl:rt.extractedUrl,trigger:rt.source,extras:rt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fr(rt=>{const ht=this.browserUrlTree.toString(),gt=!this.navigated||rt.extractedUrl.toString()!==ht||ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||gt)&&this.urlHandlingStrategy.shouldProcessUrl(rt.rawUrl))return M0(rt.source)&&(this.browserUrlTree=rt.extractedUrl),ge(rt).pipe(fr(Tt=>{const At=this.transitions.getValue();return y.next(new Du(Tt.id,this.serializeUrl(Tt.extractedUrl),Tt.source,Tt.restoredState)),At!==this.transitions.getValue()?En:Promise.resolve(Tt)}),function nO(t,e,i,y){return fr(L=>function tO(t,e,i,y,L){return new eO(t,e,i,y,L).apply()}(t,e,i,L.extractedUrl,y).pipe(m(G=>Object.assign(Object.assign({},L),{urlAfterRedirects:G}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ri(Tt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Tt.urlAfterRedirects})}),function MO(t,e,i,y,L){return Xe(G=>function yO(t,e,i,y,L="emptyOnly",G="legacy"){try{const tt=new xO(t,e,i,y,L,G).recognize();return null===tt?f0(new vO):ge(tt)}catch(tt){return f0(tt)}}(t,e,G.urlAfterRedirects,i(G.urlAfterRedirects),y,L).pipe(m(tt=>Object.assign(Object.assign({},G),{targetSnapshot:tt}))))}(this.rootComponentType,this.config,Tt=>this.serializeUrl(Tt),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ri(Tt=>{if("eager"===this.urlUpdateStrategy){if(!Tt.extras.skipLocationChange){const Pt=this.urlHandlingStrategy.merge(Tt.urlAfterRedirects,Tt.rawUrl);this.setBrowserUrl(Pt,Tt)}this.browserUrlTree=Tt.urlAfterRedirects}const At=new $D(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot);y.next(At)}));if(gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:At,extractedUrl:Pt,source:_t,restoredState:Gt,extras:Vt}=rt,Yt=new Du(At,this.serializeUrl(Pt),_t,Gt);y.next(Yt);const jt=$y(Pt,this.rootComponentType).snapshot;return ge(Object.assign(Object.assign({},rt),{targetSnapshot:jt,urlAfterRedirects:Pt,extras:Object.assign(Object.assign({},Vt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=rt.rawUrl,rt.resolve(null),En}),Hu(rt=>{const{targetSnapshot:ht,id:gt,extractedUrl:Ct,rawUrl:Tt,extras:{skipLocationChange:At,replaceUrl:Pt}}=rt;return this.hooks.beforePreactivation(ht,{navigationId:gt,appliedUrlTree:Ct,rawUrlTree:Tt,skipLocationChange:!!At,replaceUrl:!!Pt})}),Ri(rt=>{const ht=new ZD(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot);this.triggerEvent(ht)}),m(rt=>Object.assign(Object.assign({},rt),{guards:rO(rt.targetSnapshot,rt.currentSnapshot,this.rootContexts)})),function hO(t,e){return Xe(i=>{const{targetSnapshot:y,currentSnapshot:L,guards:{canActivateChecks:G,canDeactivateChecks:tt}}=i;return 0===tt.length&&0===G.length?ge(Object.assign(Object.assign({},i),{guardsResult:!0})):function cO(t,e,i,y){return ni(t).pipe(Xe(L=>function mO(t,e,i,y,L){const G=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return G&&0!==G.length?ge(G.map(rt=>{const ht=hl(rt,e,L);let gt;if(function HP(t){return t&&er(t.canDeactivate)}(ht))gt=Sn(ht.canDeactivate(t,e,i,y));else{if(!er(ht))throw new Error("Invalid CanDeactivate guard");gt=Sn(ht(t,e,i,y))}return gt.pipe(uo())})).pipe(vs()):ge(!0)}(L.component,L.route,i,e,y)),uo(L=>!0!==L,!0))}(tt,y,L,t).pipe(Xe(rt=>rt&&function FP(t){return"boolean"==typeof t}(rt)?function uO(t,e,i,y){return ni(e).pipe(cs(L=>wu(function pO(t,e){return null!==t&&e&&e(new tP(t)),ge(!0)}(L.route.parent,y),function dO(t,e){return null!==t&&e&&e(new iP(t)),ge(!0)}(L.route,y),function gO(t,e,i){const y=e[e.length-1],G=e.slice(0,e.length-1).reverse().map(tt=>function oO(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(tt)).filter(tt=>null!==tt).map(tt=>Ty(()=>ge(tt.guards.map(ht=>{const gt=hl(ht,tt.node,i);let Ct;if(function GP(t){return t&&er(t.canActivateChild)}(gt))Ct=Sn(gt.canActivateChild(y,t));else{if(!er(gt))throw new Error("Invalid CanActivateChild guard");Ct=Sn(gt(y,t))}return Ct.pipe(uo())})).pipe(vs())));return ge(G).pipe(vs())}(t,L.path,i),function fO(t,e,i){const y=e.routeConfig?e.routeConfig.canActivate:null;if(!y||0===y.length)return ge(!0);const L=y.map(G=>Ty(()=>{const tt=hl(G,e,i);let rt;if(function zP(t){return t&&er(t.canActivate)}(tt))rt=Sn(tt.canActivate(e,t));else{if(!er(tt))throw new Error("Invalid CanActivate guard");rt=Sn(tt(e,t))}return rt.pipe(uo())}));return ge(L).pipe(vs())}(t,L.route,i))),uo(L=>!0!==L,!0))}(y,G,t,e):ge(rt)),m(rt=>Object.assign(Object.assign({},i),{guardsResult:rt})))})}(this.ngModule.injector,rt=>this.triggerEvent(rt)),Ri(rt=>{if(vr(rt.guardsResult)){const gt=Pu(`Redirecting to "${this.serializeUrl(rt.guardsResult)}"`);throw gt.url=rt.guardsResult,gt}const ht=new QD(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot,!!rt.guardsResult);this.triggerEvent(ht)}),co(rt=>!!rt.guardsResult||(this.restoreHistory(rt),this.cancelNavigationTransition(rt,""),!1)),Hu(rt=>{if(rt.guards.canActivateChecks.length)return ge(rt).pipe(Ri(ht=>{const gt=new JD(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(gt)}),fr(ht=>{let gt=!1;return ge(ht).pipe(function TO(t,e){return Xe(i=>{const{targetSnapshot:y,guards:{canActivateChecks:L}}=i;if(!L.length)return ge(i);let G=0;return ni(L).pipe(cs(tt=>function bO(t,e,i,y){return function wO(t,e,i,y){const L=C0(t);if(0===L.length)return ge({});const G={};return ni(L).pipe(Xe(tt=>function AO(t,e,i,y){const L=hl(t,e,y);return Sn(L.resolve?L.resolve(e,i):L(e,i))}(t[tt],e,i,y).pipe(Ri(rt=>{G[tt]=rt}))),Au(1),Xe(()=>C0(G).length===L.length?ge(G):En))}(t._resolve,t,e,y).pipe(m(G=>(t._resolvedData=G,t.data=Object.assign(Object.assign({},t.data),Zy(t,i).resolve),null)))}(tt.route,y,t,e)),Ri(()=>G++),Au(1),Xe(tt=>G===L.length?ge(i):En))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ri({next:()=>gt=!0,complete:()=>{gt||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,"At least one route resolver didn't emit any value."))}}))}),Ri(ht=>{const gt=new qD(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(gt)}))}),Hu(rt=>{const{targetSnapshot:ht,id:gt,extractedUrl:Ct,rawUrl:Tt,extras:{skipLocationChange:At,replaceUrl:Pt}}=rt;return this.hooks.afterPreactivation(ht,{navigationId:gt,appliedUrlTree:Ct,rawUrlTree:Tt,skipLocationChange:!!At,replaceUrl:!!Pt})}),m(rt=>{const ht=function wP(t,e,i){const y=fs(t,e._root,i?i._root:void 0);return new Ky(y,e)}(this.routeReuseStrategy,rt.targetSnapshot,rt.currentRouterState);return Object.assign(Object.assign({},rt),{targetRouterState:ht})}),Ri(rt=>{this.currentUrlTree=rt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(rt.urlAfterRedirects,rt.rawUrl),this.routerState=rt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(rt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,rt),this.browserUrlTree=rt.urlAfterRedirects)}),((t,e,i)=>m(y=>(new BP(e,y.targetRouterState,y.currentRouterState,i).activate(t),y)))(this.rootContexts,this.routeReuseStrategy,rt=>this.triggerEvent(rt)),Ri({next(){G=!0},complete(){G=!0}}),function YD(t){return A((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}(()=>{var rt;G||tt||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(rt=this.currentNavigation)||void 0===rt?void 0:rt.id)===L.id&&(this.currentNavigation=null)}),tr(rt=>{if(tt=!0,function oP(t){return t&&t[Iy]}(rt)){const ht=vr(rt.url);ht||(this.navigated=!0,this.restoreHistory(L,!0));const gt=new Py(L.id,this.serializeUrl(L.extractedUrl),rt.message);y.next(gt),ht?setTimeout(()=>{const Ct=this.urlHandlingStrategy.merge(rt.url,this.rawUrlTree),Tt={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||M0(L.source)};this.scheduleNavigation(Ct,"imperative",null,Tt,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const ht=new KD(L.id,this.serializeUrl(L.extractedUrl),rt);y.next(ht);try{L.resolve(this.errorHandler(rt))}catch(gt){L.reject(gt)}}return En}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const y="popstate"===i.type?"popstate":"hashchange";"popstate"===y&&setTimeout(()=>{var L;const G={replaceUrl:!0},tt=(null===(L=i.state)||void 0===L?void 0:L.navigationId)?i.state:null;if(tt){const ht=Object.assign({},tt);delete ht.navigationId,delete ht.\u0275routerPageId,0!==Object.keys(ht).length&&(G.state=ht)}const rt=this.parseUrl(i.url);this.scheduleNavigation(rt,y,tt,G)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){s0(i),this.config=i.map(zu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,y={}){const{relativeTo:L,queryParams:G,fragment:tt,queryParamsHandling:rt,preserveFragment:ht}=y,gt=L||this.routerState.root,Ct=ht?this.currentUrlTree.fragment:tt;let Tt=null;switch(rt){case"merge":Tt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),G);break;case"preserve":Tt=this.currentUrlTree.queryParams;break;default:Tt=G||null}return null!==Tt&&(Tt=this.removeEmptyProps(Tt)),function PP(t,e,i,y,L){if(0===i.length)return Nu(e.root,e.root,e.root,y,L);const G=function OP(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new t0(!0,0,t);let e=0,i=!1;const y=t.reduce((L,G,tt)=>{if("object"==typeof G&&null!=G){if(G.outlets){const rt={};return ai(G.outlets,(ht,gt)=>{rt[gt]="string"==typeof ht?ht.split("/"):ht}),[...L,{outlets:rt}]}if(G.segmentPath)return[...L,G.segmentPath]}return"string"!=typeof G?[...L,G]:0===tt?(G.split("/").forEach((rt,ht)=>{0==ht&&"."===rt||(0==ht&&""===rt?i=!0:".."===rt?e++:""!=rt&&L.push(rt))}),L):[...L,G]},[]);return new t0(i,e,y)}(i);if(G.toRoot())return Nu(e.root,e.root,new Se([],{}),y,L);const tt=function kP(t,e,i){if(t.isAbsolute)return new Bu(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const G=i.snapshot._urlSegment;return new Bu(G,G===e.root,0)}const y=il(t.commands[0])?0:1;return function LP(t,e,i){let y=t,L=e,G=i;for(;G>L;){if(G-=L,y=y.parent,!y)throw new Error("Invalid number of '../'");L=y.segments.length}return new Bu(y,!1,L-G)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+y,t.numberOfDoubleDots)}(G,e,t),rt=tt.processChildren?nl(tt.segmentGroup,tt.index,G.commands):e0(tt.segmentGroup,tt.index,G.commands);return Nu(e.root,tt.segmentGroup,rt,y,L)}(gt,this.currentUrlTree,i,Tt,null!=Ct?Ct:null)}navigateByUrl(i,y={skipLocationChange:!1}){const L=vr(i)?i:this.parseUrl(i),G=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(G,"imperative",null,y)}navigate(i,y={skipLocationChange:!1}){return function BO(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(i),this.navigateByUrl(this.createUrlTree(i,y),y)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let y;try{y=this.urlSerializer.parse(i)}catch(L){y=this.malformedUriErrorHandler(L,this.urlSerializer,i)}return y}isActive(i,y){let L;if(L=!0===y?Object.assign({},_O):!1===y?Object.assign({},NO):y,vr(i))return jy(this.currentUrlTree,i,L);const G=this.parseUrl(i);return jy(this.currentUrlTree,G,L)}removeEmptyProps(i){return Object.keys(i).reduce((y,L)=>{const G=i[L];return null!=G&&(y[L]=G),y},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new us(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,y,L,G,tt){var rt,ht;if(this.disposed)return Promise.resolve(!1);let gt,Ct,Tt;tt?(gt=tt.resolve,Ct=tt.reject,Tt=tt.promise):Tt=new Promise((_t,Gt)=>{gt=_t,Ct=Gt});const At=++this.navigationId;let Pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Pt=L&&L.\u0275routerPageId?L.\u0275routerPageId:G.replaceUrl||G.skipLocationChange?null!==(rt=this.browserPageId)&&void 0!==rt?rt:0:(null!==(ht=this.browserPageId)&&void 0!==ht?ht:0)+1):Pt=0,this.setTransition({id:At,targetPageId:Pt,source:y,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:G,resolve:gt,reject:Ct,promise:Tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tt.catch(_t=>Promise.reject(_t))}setBrowserUrl(i,y){const L=this.urlSerializer.serialize(i),G=Object.assign(Object.assign({},y.extras.state),this.generateNgRouterState(y.id,y.targetPageId));this.location.isCurrentPathEqualTo(L)||y.extras.replaceUrl?this.location.replaceState(L,"",G):this.location.go(L,"",G)}restoreHistory(i,y=!1){var L,G;if("computed"===this.canceledNavigationResolution){const tt=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===tt?this.currentUrlTree===(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)&&0===tt&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(tt)}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,y){const L=new Py(i.id,this.serializeUrl(i.extractedUrl),y);this.triggerEvent(L),i.resolve(!1)}generateNgRouterState(i,y){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:y}:{navigationId:i}}}return t.\u0275fac=function(i){sc()},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();function M0(t){return"imperative"!==t}let Vu=(()=>{class t{constructor(i,y,L,G,tt){this.router=i,this.route=y,this.tabIndexAttribute=L,this.renderer=G,this.el=tt,this.commands=null,this.onChanges=new O,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){if(null!=this.tabIndexAttribute)return;const y=this.renderer,L=this.el.nativeElement;null!==i?y.setAttribute(L,"tabindex",i):y.removeAttribute(L,"tabindex")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const i={skipLocationChange:mo(this.skipLocationChange),replaceUrl:mo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mo(this.preserveFragment)})}}return t.\u0275fac=function(i){return new(i||t)(te(bi),te(go),Ao("tabindex"),te(Ea),te(On))},t.\u0275dir=oi({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,y){1&i&&Pe("click",function(){return y.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Gn]}),t})(),cl=(()=>{class t{constructor(i,y,L){this.router=i,this.route=y,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new O,this.subscription=i.events.subscribe(G=>{G instanceof us&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:null}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,y,L,G,tt){if(0!==i||y||L||G||tt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const rt={skipLocationChange:mo(this.skipLocationChange),replaceUrl:mo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,rt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mo(this.preserveFragment)})}}return t.\u0275fac=function(i){return new(i||t)(te(bi),te(go),te(lo))},t.\u0275dir=oi({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,y){1&i&&Pe("click",function(G){return y.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&i&&ec("target",y.target)("href",y.href,Br)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Gn]}),t})();function mo(t){return""===t||!!t}let T0=(()=>{class t{constructor(i,y,L,G,tt,rt){this.router=i,this.element=y,this.renderer=L,this.cdr=G,this.link=tt,this.linkWithHref=rt,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new vi,this.routerEventsSubscription=i.events.subscribe(ht=>{ht instanceof us&&this.update()})}ngAfterContentInit(){ge(this.links.changes,this.linksWithHrefs.changes,ge(null)).pipe(nr()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var i;null===(i=this.linkInputChangesSubscription)||void 0===i||i.unsubscribe();const y=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=ni(y).pipe(nr()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(i){const y=Array.isArray(i)?i:i.split(" ");this.classes=y.filter(L=>!!L)}ngOnChanges(i){this.update()}ngOnDestroy(){var i;this.routerEventsSubscription.unsubscribe(),null===(i=this.linkInputChangesSubscription)||void 0===i||i.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const i=this.hasActiveLinks();this.isActive!==i&&(this.isActive=i,this.cdr.markForCheck(),this.classes.forEach(y=>{i?this.renderer.addClass(this.element.nativeElement,y):this.renderer.removeClass(this.element.nativeElement,y)}),this.isActiveChange.emit(i))})}isLinkActive(i){const y=function jO(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&i.isActive(L.urlTree,y)}hasActiveLinks(){const i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.linkWithHref&&i(this.linkWithHref)||this.links.some(i)||this.linksWithHrefs.some(i)}}return t.\u0275fac=function(i){return new(i||t)(te(bi),te(On),te(Ea),te(Jc),te(Vu,8),te(cl,8))},t.\u0275dir=oi({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,y,L){if(1&i&&(_c(L,Vu,5),_c(L,cl,5)),2&i){let G;Ei(G=Mi())&&(y.links=G),Ei(G=Mi())&&(y.linksWithHrefs=G)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Gn]}),t})();class b0{}class w0{preload(e,i){return ge(null)}}let A0=(()=>{class t{constructor(i,y,L,G){this.router=i,this.injector=L,this.preloadingStrategy=G,this.loader=new S0(L,y,ht=>i.triggerEvent(new Oy(ht)),ht=>i.triggerEvent(new ky(ht)))}setUpPreloading(){this.subscription=this.router.events.pipe(co(i=>i instanceof us),cs(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(kn);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,y){const L=[];for(const G of y)if(G.loadChildren&&!G.canLoad&&G._loadedConfig){const tt=G._loadedConfig;L.push(this.processRoutes(tt.module,tt.routes))}else G.loadChildren&&!G.canLoad?L.push(this.preloadConfig(i,G)):G.children&&L.push(this.processRoutes(i,G.children));return ni(L).pipe(nr(),m(G=>{}))}preloadConfig(i,y){return this.preloadingStrategy.preload(y,()=>(y._loadedConfig?ge(y._loadedConfig):this.loader.load(i.injector,y)).pipe(Xe(G=>(y._loadedConfig=G,this.processRoutes(G.module,G.routes)))))}}return t.\u0275fac=function(i){return new(i||t)(ie(bi),ie(Ev),ie(Si),ie(b0))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})(),Xu=(()=>{class t{constructor(i,y,L={}){this.router=i,this.viewportScroller=y,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Du?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof us&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Ly&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,y){this.router.triggerEvent(new Ly(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,y))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(i){sc()},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();const yr=new Me("ROUTER_CONFIGURATION"),D0=new Me("ROUTER_FORROOT_GUARD"),UO=[ou,{provide:Gy,useClass:Hy},{provide:bi,useFactory:function VO(t,e,i,y,L,G,tt={},rt,ht){const gt=new bi(null,t,e,i,y,L,_y(G));return rt&&(gt.urlHandlingStrategy=rt),ht&&(gt.routeReuseStrategy=ht),function XO(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(tt,gt),tt.enableTracing&&gt.events.subscribe(Ct=>{var Tt,At;null===(Tt=console.group)||void 0===Tt||Tt.call(console,`Router Event: ${Ct.constructor.name}`),console.log(Ct.toString()),console.log(Ct),null===(At=console.groupEnd)||void 0===At||At.call(console)}),gt},deps:[Gy,ys,ou,Si,Ev,Wu,yr,[class kO{},new Xn],[class DO{},new Xn]]},ys,{provide:go,useFactory:function YO(t){return t.routerState.root},deps:[bi]},A0,w0,class FO{preload(e,i){return i().pipe(tr(()=>ge(null)))}},{provide:yr,useValue:{enableTracing:!1}}];function zO(){return new Av("Router",bi)}let P0=(()=>{class t{constructor(i,y){}static forRoot(i,y){return{ngModule:t,providers:[UO,O0(i),{provide:D0,useFactory:WO,deps:[[bi,new Xn,new Ro]]},{provide:yr,useValue:y||{}},{provide:lo,useFactory:HO,deps:[pr,[new Zs(ru),new Xn],yr]},{provide:Xu,useFactory:GO,deps:[bi,WA,yr]},{provide:b0,useExisting:y&&y.preloadingStrategy?y.preloadingStrategy:w0},{provide:Av,multi:!0,useFactory:zO},[Yu,{provide:zc,multi:!0,useFactory:KO,deps:[Yu]},{provide:k0,useFactory:$O,deps:[Yu]},{provide:Cv,multi:!0,useExisting:k0}]]}}static forChild(i){return{ngModule:t,providers:[O0(i)]}}}return t.\u0275fac=function(i){return new(i||t)(ie(D0,8),ie(bi,8))},t.\u0275mod=Un({type:t}),t.\u0275inj=Tn({}),t})();function GO(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new Xu(t,e,i)}function HO(t,e,i={}){return i.useHash?new ww(t,e):new Yv(t,e)}function WO(t){return"guarded"}function O0(t){return[{provide:f1,multi:!0,useValue:t},{provide:Wu,multi:!0,useValue:t}]}let Yu=(()=>{class t{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new O}appInitializer(){return this.injector.get(Mw,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let y=null;const L=new Promise(rt=>y=rt),G=this.injector.get(bi),tt=this.injector.get(yr);return"disabled"===tt.initialNavigation?(G.setUpLocationChangeListener(),y(!0)):"enabled"===tt.initialNavigation||"enabledBlocking"===tt.initialNavigation?(G.hooks.afterPreactivation=()=>this.initNavigation?ge(null):(this.initNavigation=!0,y(!0),this.resultOfPreactivationDone),G.initialNavigation()):y(!0),L})}bootstrapListener(i){const y=this.injector.get(yr),L=this.injector.get(A0),G=this.injector.get(Xu),tt=this.injector.get(bi),rt=this.injector.get(Zc);i===rt.components[0]&&(("enabledNonBlocking"===y.initialNavigation||void 0===y.initialNavigation)&&tt.initialNavigation(),L.setUpPreloading(),G.init(),tt.resetRootComponentType(rt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(i){return new(i||t)(ie(Si))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})();function KO(t){return t.appInitializer.bind(t)}function $O(t){return t.bootstrapListener.bind(t)}const k0=new Me("Router Initializer");let QO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-contact-page"]],decls:12,vars:0,consts:[[1,"jumbotron"],[1,"container"],[1,"header"],[1,"gradient"],[1,"content"],[1,"title"],[1,"paragraph"],["href","mailto: altoponix@gmail.com",1,"link"]],template:function(i,y){1&i&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Ut(6," Contact Us "),Bt()()()()()(),It(7,"div",4)(8,"div",6),Ut(9," Send email at "),It(10,"a",7),Ut(11,"altoponix@gmail.com"),Bt()()())},styles:[".jumbotron[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80vw}.gradient[_ngcontent-%COMP%]{background:linear-gradient(127deg,rgba(102,173,112,.8),rgba(74,148,72,0) 12.35%),linear-gradient(336deg,rgba(56,189,138,.8),rgba(134,179,52,0) 25.25%),linear-gradient(83deg,rgba(74,204,187,.8),rgba(57,214,117,0) 50.63%),linear-gradient(175deg,rgba(27,177,119,.8),rgba(21,177,117,0) 75.73%),linear-gradient(280deg,rgba(54,211,151,.8),rgba(34,212,174,0) 90.73%);background-size:400% 400%;display:flex;color:#000;animation:Gradient 10s ease infinite;overflow:hidden;background-color:#fff;flex-direction:row;width:100vw}@keyframes Gradient{0%{background-position:0% 72%}50%{background-position:100% 29%}to{background-position:0% 72%}}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100vw}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 0 auto;width:50%;padding:2% 5%;display:flex;flex-direction:column;justify-content:center}.header[_ngcontent-%COMP%]     .title{font-size:3vw;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]{background-color:#fff;padding:3% 5%}.section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.section[_ngcontent-%COMP%]     .title{font-size:55px;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]     .subtitle{font-size:30px;font-weight:300;line-height:1.5em}.link[_ngcontent-%COMP%]{color:#32a891}.paragraph[_ngcontent-%COMP%]{font-size:24px;margin-bottom:1em;margin-top:1em;padding-left:2em;line-height:1.5em}"]}),t})();function JO(t,e){if(1&t){const i=vn();It(0,"div",33),Pe("click",function(){const G=Ke(i).$implicit;return Re().route(G.url)}),It(1,"div",34),$t(2,"img",35),Bt(),It(3,"div",36),$t(4,"p",37),Bt()()}if(2&t){const i=e.$implicit;ne(2),pe("src",i.img,Br),ne(2),pe("innerHTML",i.description,ia)}}function qO(t,e){if(1&t&&(It(0,"div",38),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Gi(" ",i," ")}}function tk(t,e){if(1&t){const i=vn();It(0,"div",39),Pe("click",function(){const G=Ke(i).$implicit;return Re().route(G.url)}),It(1,"div",34),$t(2,"img",40),Bt(),It(3,"div",41),$t(4,"p",37),Bt()()}if(2&t){const i=e.$implicit;ne(2),pe("src",i.img,Br),ne(2),pe("innerHTML",i.description,ia)}}function ek(t,e){if(1&t&&(It(0,"div",42),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Gi(" ",i," ")}}function ik(t,e){if(1&t){const i=vn();It(0,"div",43),Pe("click",function(){const G=Ke(i).$implicit;return Re().route(G.url)}),It(1,"div",34),$t(2,"img",44),Bt(),It(3,"div",45),$t(4,"p",37),Bt()()}if(2&t){const i=e.$implicit;ne(2),pe("src",i.img,Br),ne(2),pe("innerHTML",i.description,ia)}}function nk(t,e){if(1&t&&(It(0,"div",46),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Gi(" ",i," ")}}let L0=(()=>{class t{constructor(){this.imageURLs=["../assets/s3.png","../assets/s2.png","../assets/s1.png"],this.sponsorOrgsGold=[{description:"<b>ODriveRobotics</b> produces high end, \n    high performance BLDC motor controllers, \n    used by top robotics research organizations \n    and educational institutions. They sponsor our \n    team by providing us free parts totalling hundreds of dollars, \n    making it possible for our team to use these standard industry \n    tools in our robotics solutions. <br><br><b>ODriveRobotics</b> continues to \n    drive forth innovation in the field of robotics, including \n    partnering with AltoPonix.",img:"../assets/sponsors/odrive.png",url:"https://odriverobotics.com"}],this.sponsorOrgsSilver=[],this.sponsorOrgsGreen=[{description:"Thank you to <b>ACTEnviro</b> for their monetary donation to the project!",img:"../assets/sponsors/actenviro.png",url:"https://www.actenviro.com/"}],this.sponsorIndividualsGold=[],this.sponsorIndividualsSilver=[],this.sponsorIndividualsGreen=[]}ngOnInit(){}route(i){window.location.href=i}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-home-page"]],decls:85,vars:6,consts:[[1,"header"],[1,"gradient"],[1,"content"],[1,"title-header"],[1,"subtitle-header"],["src","../../../assets/s2_detailed.png"],[1,"sponsors","gray"],[1,"sponsors-title"],[1,"gold-grad"],[1,"sponsor-grid"],["class","sponsor-item",3,"click",4,"ngFor","ngForOf"],["class","sponsor-name",4,"ngFor","ngForOf"],[1,"silver-grad"],["class","sponsor-item","style","width: 23vw; height: 14vw",3,"click",4,"ngFor","ngForOf"],["class","sponsor-name medium",4,"ngFor","ngForOf"],[1,"green-grad"],["class","sponsor-item","style","width: 12vw; height: 8vw",3,"click",4,"ngFor","ngForOf"],["class","sponsor-name small",4,"ngFor","ngForOf"],[1,"jumbotron"],[1,"section"],[1,"title","centered"],[1,"content","vert"],[1,"subtitle"],[1,"paragraph"],[1,"centered"],["src","../../../assets/s2.png"],[1,"caption"],[1,"section","green"],["href","https://github.com/altoponixclub"],["src","../../../assets/s2_software.png"],["src","../../../assets/webapp.png"],["src","../../../assets/s1.png"],[3,"click"],[1,"sponsor-item",3,"click"],[1,"sponsor-img"],[3,"src"],[1,"sponsor-desc"],[3,"innerHTML"],[1,"sponsor-name"],[1,"sponsor-item",2,"width","23vw","height","14vw",3,"click"],[2,"width","23vw","height","14w",3,"src"],[1,"sponsor-desc",2,"width","23vw","height","14w","top","-15vw"],[1,"sponsor-name","medium"],[1,"sponsor-item",2,"width","12vw","height","8vw",3,"click"],[2,"width","12vw","height","8vw",3,"src"],[1,"sponsor-desc",2,"width","12vw","height","8vw","top","-9vw"],[1,"sponsor-name","small"]],template:function(i,y){1&i&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ut(4," Building S2 "),Bt(),It(5,"div",4),Ut(6," Novel Vertical Hydroponics with Robotics and Computer Vision "),Bt()(),$t(7,"img",5),Bt()(),It(8,"div",6)(9,"div",7),Ut(10," Special thanks to our sponsors: "),Bt(),It(11,"div")(12,"div",8),Ut(13," Gold Tier: "),It(14,"div",9),De(15,JO,5,2,"div",10),Bt(),It(16,"div",9),De(17,qO,2,1,"div",11),Bt()()(),It(18,"div")(19,"div",12),Ut(20," Silver Tier: "),It(21,"div",9),De(22,tk,5,2,"div",13),Bt(),It(23,"div",9),De(24,ek,2,1,"div",14),Bt()()(),It(25,"div")(26,"div",15),Ut(27," Green Tier: "),It(28,"div",9),De(29,ik,5,2,"div",16),Bt(),It(30,"div",9),De(31,nk,2,1,"div",17),Bt()()()(),It(32,"div",18)(33,"div",19)(34,"div",20),Ut(35," S2 Design "),Bt(),It(36,"div",21)(37,"div",22)(38,"div",23),Ut(39," S2 is a 300 lb multi-level lift system used to mechanize our novel (patent-pending) lifting and lowering platform hydroponic system. Our advanced sensor suite and control solution allows us to modulate lighting parameters, composition of nutrient solution (pH, EC, DO), ambient state (temperature, humidity), and more. "),Bt()(),It(40,"div",24)(41,"div"),$t(42,"img",25),It(43,"div",26),Ut(44," Model of the S2 System "),Bt()()()()(),It(45,"div",27)(46,"div",20),Ut(47," S2 Software "),Bt(),It(48,"div",21)(49,"div",22)(50,"div",23),Ut(51," Aside from the automation software for S2 that includes subcomponents like control theory and microcontrollers, data monitoring has been another of our key software focuses. Via our large onboard sensor suite and the utilization of various computer vision and machine learning algorithms for tasks like stereo 3D mapping, foliage segmentation, disease detection, and foliage prediction, we can isolate what parameters best optimize for growth speed. We built a web app that allows us to continuously livestream the state of the system. "),Bt(),It(52,"div",23),Ut(53," Our robot code is written in CPP, and will soon be switched to the ROS2 framework. Check out some of our software here: "),It(54,"a",28),Ut(55," github.com/altoponixclub "),Bt()()(),It(56,"div",24)(57,"div"),$t(58,"img",29),It(59,"div",26),Ut(60," Visualization of 3d pointcloud of plant growing platform obtained with stereo vision "),Bt()(),It(61,"div"),$t(62,"img",30),It(63,"div",26),Ut(64," Webapp monitoring measurements from the device "),Bt()()()()(),It(65,"div",19)(66,"div",20),Ut(67," Our Past "),Bt(),It(68,"div",21)(69,"div",22)(70,"div",23),Ut(71," Our initial award-winning S1 (Series 1) $20 price-optimized kit used 0.15% of the electricity, grew 30% faster than competing hydroponic systems, used a fraction of the water and space, and was solar powered. This was made possible via our novel electro-mechanical design. "),Bt()(),It(72,"div",24)(73,"div"),$t(74,"img",31),It(75,"div",26),Ut(76," Model of the S1 System "),Bt()()()(),It(77,"div",20),Ut(78," Our Future "),Bt(),It(79,"div",2)(80,"div",22)(81,"div",23),Ut(82," Our challenge is to use our new planned S2 system to grow heads of lettuce consistently in under 20 days, a significant reduction from comparing systems in the field. We are building this expressly for research and educational purposes, hoping to further the field with some of the data we collect - the intent is not to sell. We are a fully student led team trying to bring this project to fruition, with the aim of learning as much as we can about software, mechanical, and electrical engineering along the way. However, we currently lack a funding source - individual contributions and corporate sponsorships are much appreciated. "),Bt(),It(83,"button",32),Pe("click",function(){return y.route("/sponsor")}),Ut(84,"Support Us"),Bt()()()()()),2&i&&(ne(15),pe("ngForOf",y.sponsorOrgsGold),ne(2),pe("ngForOf",y.sponsorIndividualsGold),ne(5),pe("ngForOf",y.sponsorOrgsSilver),ne(2),pe("ngForOf",y.sponsorIndividualsSilver),ne(5),pe("ngForOf",y.sponsorOrgsGreen),ne(2),pe("ngForOf",y.sponsorIndividualsGreen))},directives:[Ha],styles:[".jumbotron[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.gradient[_ngcontent-%COMP%]{background:linear-gradient(127deg,rgba(102,173,112,.8),rgba(74,148,72,0) 12.35%),linear-gradient(336deg,rgba(56,189,138,.8),rgba(134,179,52,0) 25.25%),linear-gradient(83deg,rgba(74,204,187,.8),rgba(57,214,117,0) 50.63%),linear-gradient(175deg,rgba(27,177,119,.8),rgba(21,177,117,0) 75.73%),linear-gradient(280deg,rgba(54,211,151,.8),rgba(34,212,174,0) 90.73%);background-size:400% 400%;display:flex;color:#000;animation:Gradient 10s ease infinite;overflow:hidden;background-color:#fff;flex-direction:row;width:100vw}@keyframes Gradient{0%{background-position:0% 72%}50%{background-position:100% 29%}to{background-position:0% 72%}}a[_ngcontent-%COMP%]{color:#32a891;text-decoration:none!important;transition-duration:.2s;transition-timing-function:ease-out;transition-property:color}a[_ngcontent-%COMP%]:hover{color:#47c7ad}.section[_ngcontent-%COMP%]{background-color:#fff;padding:5%}.section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 0 auto;display:flex;flex-direction:row}.section[_ngcontent-%COMP%]     .title{font-size:50px;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]     .subtitle{font-size:26px;font-weight:300;line-height:1.5em}.section[_ngcontent-%COMP%]     img{object-fit:contain;max-width:500px;max-height:300px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100vw}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 0 auto;width:50%;padding:5%;display:flex;flex-direction:column;justify-content:center}.title-header[_ngcontent-%COMP%]{font-size:5vw;font-weight:700;margin-bottom:10px}.subtitle-header[_ngcontent-%COMP%]{font-size:3vw;font-weight:300}.paragraph[_ngcontent-%COMP%]{margin-bottom:1em;line-height:1.5em}.caption[_ngcontent-%COMP%]{font-size:17px;margin-top:1em;margin-bottom:1em;line-height:1.5em}button[_ngcontent-%COMP%]{border-radius:10vw;border:1px #ddd solid;background-color:#1bb177;color:#fff;width:240px;height:70px;font-size:32px;font-weight:300;transition:ease-out;transition-duration:.3s;transition-property:background-color;margin-top:10px}.sponsors[_ngcontent-%COMP%]{padding:0% 5%;text-align:center;color:#000;font-size:50px;font-weight:700;display:flex;flex-direction:column;align-items:center}.sponsors-title[_ngcontent-%COMP%]{padding:2% 5%}.sponsor-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;flex-direction:row}.sponsor-grid[_ngcontent-%COMP%]   .sponsor-item[_ngcontent-%COMP%]{width:30vw;margin:1vw;height:15vw}.sponsor-desc[_ngcontent-%COMP%]{position:relative;top:-15vw;background:radial-gradient(ellipse closest-side,rgba(255,255,255,.7),rgba(255,255,255,0));display:flex;justify-content:center;flex-direction:column;color:#000;opacity:0;font-weight:300;transition:.3s cubic-bezier(.215,.61,.355,1);transition-property:filter,opacity;font-size:1.2vw;width:30vw;height:15vw;filter:blur(3px);line-height:1.25em;padding:10px}.sponsor-grid[_ngcontent-%COMP%]   .sponsor-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30vw;height:15vw;object-fit:contain;transition:.3s cubic-bezier(.215,.61,.355,1);transition-property:filter,transform}.sponsor-grid[_ngcontent-%COMP%]   .sponsor-item[_ngcontent-%COMP%]:hover   .sponsor-desc[_ngcontent-%COMP%], .sponsor-grid[_ngcontent-%COMP%]   .sponsor-item[_ngcontent-%COMP%]:active   .sponsor-desc[_ngcontent-%COMP%]{filter:blur(0px);opacity:1}.sponsor-grid[_ngcontent-%COMP%]   .sponsor-item[_ngcontent-%COMP%]:hover   .sponsor-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .sponsor-grid[_ngcontent-%COMP%]   .sponsor-item[_ngcontent-%COMP%]:active   .sponsor-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:blur(15px);transform:scale(.8)}.sponsor-name[_ngcontent-%COMP%]{width:20vw;margin:1vw;color:#000;font-weight:300;font-size:26px}.gold-grad[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(204,176,19,0),rgb(204,176,19),rgba(204,176,19,0));padding:20px 0;width:100vw}.silver-grad[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(180,180,180,0),rgb(180,180,180),rgba(180,180,180,0));padding:20px 0;width:100vw}.green-grad[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(118,211,160,0),rgb(118,211,160),rgba(118,211,160,0));padding:20px 0;width:100vw}button[_ngcontent-%COMP%]:hover{background-color:#41d89e}.green[_ngcontent-%COMP%]{background-color:#f3f8ee}.gray[_ngcontent-%COMP%]{background-color:#dbdbdb}.centered[_ngcontent-%COMP%]{text-align:center}.vert[_ngcontent-%COMP%]{flex-direction:column!important;align-items:center}.sponsor-line[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(219,219,219),rgb(192,192,192),rgb(219,219,219));height:2px;color:none;width:70vw}@media (max-width: 2000px){.section[_ngcontent-%COMP%]     .title{font-size:44px}.sponsors[_ngcontent-%COMP%]{font-size:44px}.sponsor-name[_ngcontent-%COMP%]{font-size:30px}.sponsor-name.medium[_ngcontent-%COMP%]{font-size:22px}.sponsor-name.small[_ngcontent-%COMP%]{font-size:15px}.section[_ngcontent-%COMP%]     .subtitle{font-size:22px}.section[_ngcontent-%COMP%]     img{max-width:500px;max-height:300px}button[_ngcontent-%COMP%]{width:208px;height:60px;font-size:29px}.caption[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 1600px){.section[_ngcontent-%COMP%]     .title{font-size:34px}.sponsors[_ngcontent-%COMP%]{font-size:34px}.sponsor-name[_ngcontent-%COMP%]{font-size:25px}.sponsor-name.medium[_ngcontent-%COMP%]{font-size:20px}.sponsor-name.small[_ngcontent-%COMP%]{font-size:15px}.section[_ngcontent-%COMP%]     .subtitle{font-size:15px}.section[_ngcontent-%COMP%]     img{max-width:400px;max-height:220px}button[_ngcontent-%COMP%]{width:120px;height:35px;font-size:15px}.caption[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 1200px){.jumbotron[_ngcontent-%COMP%]{display:flex;flex-direction:column}.vert[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center}.section[_ngcontent-%COMP%]     .subtitle{font-size:20px}.sponsor-name[_ngcontent-%COMP%]{font-size:25px}.sponsor-name.medium[_ngcontent-%COMP%]{font-size:20px}.sponsor-name.small[_ngcontent-%COMP%]{font-size:15px}.section[_ngcontent-%COMP%]     img{margin:0 10px}.section[_ngcontent-%COMP%]     img{max-width:300px;max-height:300px}button[_ngcontent-%COMP%]{width:154px;height:45px;font-size:20px}.caption[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 750px){.section[_ngcontent-%COMP%]     .subtitle{font-size:17px}.sponsor-name[_ngcontent-%COMP%]{font-size:20px}.sponsor-name.medium[_ngcontent-%COMP%]{font-size:18px}.sponsor-name.small[_ngcontent-%COMP%]{font-size:14px}.section[_ngcontent-%COMP%]     img{max-width:220px;max-height:150px}button[_ngcontent-%COMP%]{width:120px;height:35px;font-size:15px}caption[_ngcontent-%COMP%]{font-size:8px}}@media (max-width: 450px){.section[_ngcontent-%COMP%]     .subtitle{font-size:14px}.sponsor-name[_ngcontent-%COMP%]{font-size:16px}.sponsor-name.medium[_ngcontent-%COMP%]{font-size:3px}.sponsor-name.small[_ngcontent-%COMP%]{font-size:11px}.section[_ngcontent-%COMP%]     img{margin:20px 0}.section[_ngcontent-%COMP%]     img{max-width:120px;max-height:100px}button[_ngcontent-%COMP%]{width:86px;height:25px;font-size:12px}}"]}),t})(),rk=(()=>{class t{constructor(){this.imageURLs=["../assets/s3.png","../assets/s2.png","../assets/s1.png"]}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["team-page"]],decls:106,vars:0,consts:[[1,"jumbotron"],[1,"container"],[1,"header"],[1,"gradient"],[1,"content"],[1,"title"],[1,"team-div"],[1,"section-header"],[1,"section-members"],[1,"team-member"],["src","http://mdu.manchester.ac.uk/wp-content/uploads/2016/09/blank-profile-picture-973460_1280.png","alt","Test1"],[1,"team-member-text"],[1,"detail"],["src","http://mdu.manchester.ac.uk/wp-content/uploads/2016/09/blank-profile-picture-973460_1280.png","alt","Test2"],["src","http://mdu.manchester.ac.uk/wp-content/uploads/2016/09/blank-profile-picture-973460_1280.png","alt","Test3"]],template:function(i,y){1&i&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Ut(6," Our Team "),Bt()()()()()(),It(7,"div",6)(8,"h2",7),$t(9,"hr"),Ut(10,"Lead"),$t(11,"hr"),Bt(),It(12,"div",8)(13,"div",9),$t(14,"img",10),It(15,"div",11)(16,"h1"),Ut(17,"Aditya Oberai"),Bt(),$t(18,"p",12),Bt()()(),It(19,"h2",7),$t(20,"hr"),Ut(21,"Software"),$t(22,"hr"),Bt(),It(23,"div",8)(24,"div",9),$t(25,"img",10),It(26,"div",11)(27,"h1"),Ut(28,"Aniket Jain"),Bt(),$t(29,"p",12),Bt()(),It(30,"div",9),$t(31,"img",13),It(32,"div",11)(33,"h1"),Ut(34,"Arthur Chen"),Bt(),$t(35,"p",12),Bt()(),It(36,"div",9),$t(37,"img",14),It(38,"div",11)(39,"h1"),Ut(40,"Ashray Gupta"),Bt(),$t(41,"p",12),Bt()(),It(42,"div",9),$t(43,"img",10),It(44,"div",11)(45,"h1"),Ut(46,"Lucas Tan"),Bt(),$t(47,"p",12),Bt()(),It(48,"div",9),$t(49,"img",10),It(50,"div",11)(51,"h1"),Ut(52,"Maxwell Zhang"),Bt(),$t(53,"p",12),Bt()(),It(54,"div",9),$t(55,"img",10),It(56,"div",11)(57,"h1"),Ut(58,"Zach Szeto"),Bt(),$t(59,"p",12),Bt()()(),It(60,"h2",7),$t(61,"hr"),Ut(62,"Production"),$t(63,"hr"),Bt(),It(64,"div",8)(65,"div",9),$t(66,"img",10),It(67,"div",11)(68,"h1"),Ut(69,"Kenji Tella"),Bt(),$t(70,"p",12),Bt()(),It(71,"div",9),$t(72,"img",10),It(73,"div",11)(74,"h1"),Ut(75,"Anjali Bhattacharya"),Bt(),$t(76,"p",12),Bt()(),It(77,"div",9),$t(78,"img",13),It(79,"div",11)(80,"h1"),Ut(81,"Ben Pegg"),Bt(),$t(82,"p",12),Bt()()(),It(83,"h2",7),$t(84,"hr"),Ut(85,"Operation"),$t(86,"hr"),Bt(),It(87,"div",8)(88,"div",9),$t(89,"img",10),It(90,"div",11)(91,"h1"),Ut(92,"Sidd Sen"),Bt(),$t(93,"p",12),Bt()(),It(94,"div",9),$t(95,"img",10),It(96,"div",11)(97,"h1"),Ut(98,"Carissa Tsui"),Bt(),$t(99,"p",12),Bt()(),It(100,"div",9),$t(101,"img",13),It(102,"div",11)(103,"h1"),Ut(104,"Janya Jain"),Bt(),$t(105,"p",12),Bt()()()())},styles:[".team-member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:250px;margin-bottom:10px;border-radius:50%}.team-member-text[_ngcontent-%COMP%]{width:20vw;min-width:200px}.team-member[_ngcontent-%COMP%]{margin:1vw 4vw;padding:2vw;border-radius:1vw;display:inline-block;text-align:center}hr[_ngcontent-%COMP%]{width:calc(350px + 10vw);margin:auto}.team-member[_ngcontent-%COMP%]:hover{background-color:#ccc;transition:all .4s ease;-webkit-transition:all .4s ease}.team-member[_ngcontent-%COMP%]:hover     .detail{display:block}.detail[_ngcontent-%COMP%]{display:none}.section-members[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.team-div[_ngcontent-%COMP%]{margin-top:75px}.section-header[_ngcontent-%COMP%]{text-align:center;padding-top:30px;font-size:48px}.jumbotron[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80vw}.gradient[_ngcontent-%COMP%]{background:linear-gradient(127deg,rgba(102,173,112,.8),rgba(74,148,72,0) 12.35%),linear-gradient(336deg,rgba(56,189,138,.8),rgba(134,179,52,0) 25.25%),linear-gradient(83deg,rgba(74,204,187,.8),rgba(57,214,117,0) 50.63%),linear-gradient(175deg,rgba(27,177,119,.8),rgba(21,177,117,0) 75.73%),linear-gradient(280deg,rgba(54,211,151,.8),rgba(34,212,174,0) 90.73%);background-size:400% 400%;display:flex;color:#000;animation:Gradient 10s ease infinite;overflow:hidden;background-color:#fff;flex-direction:row;width:100vw}@keyframes Gradient{0%{background-position:0% 72%}50%{background-position:100% 29%}to{background-position:0% 72%}}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100vw}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 0 auto;width:50%;padding:2% 5%;display:flex;flex-direction:column;justify-content:center}.header[_ngcontent-%COMP%]     .title{font-size:80px;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]{background-color:#fff;padding:3% 5%}.section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.section[_ngcontent-%COMP%]     .title{font-size:55px;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]     .subtitle{font-size:30px;font-weight:300;line-height:1.5em}.link[_ngcontent-%COMP%]{color:#32a891}.paragraph[_ngcontent-%COMP%]{font-size:24px;margin-bottom:1em;margin-top:1em;padding-left:2em;line-height:1.5em}@media (max-width: 2000px){.header[_ngcontent-%COMP%]     .title{font-size:70px}.section-header[_ngcontent-%COMP%]{font-size:48px}.team-member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;margin-bottom:10px;border-radius:50%}}@media (max-width: 1600px){.header[_ngcontent-%COMP%]     .title{font-size:60px}.section-header[_ngcontent-%COMP%]{font-size:40px}.team-member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;margin-bottom:10px;border-radius:50%}.team-member[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 1200px){.header[_ngcontent-%COMP%]     .title{font-size:50px}.section-header[_ngcontent-%COMP%]{font-size:32px;padding-top:40px}}@media (max-width: 750px){.header[_ngcontent-%COMP%]     .title{font-size:45px}.section-header[_ngcontent-%COMP%]{font-size:24px}.team-member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:3px}.team-member[_ngcontent-%COMP%]{padding:25px}}@media (max-width: 450px){.header[_ngcontent-%COMP%]     .title{font-size:40px}.section-header[_ngcontent-%COMP%]{font-size:20px}}"]}),t})(),ok=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-page-not-found"]],decls:11,vars:0,consts:[[1,"container"],[1,"title"],[1,"subtitle"],[1,"description"],["routerLink","/","routerLinkActive","active",1,"link"]],template:function(i,y){1&i&&(It(0,"div",0)(1,"div",1),Ut(2,"404"),Bt(),It(3,"div",2),Ut(4,"Page Not Found"),Bt(),It(5,"div",3),Ut(6," The page you requested doesn't exist or has been moved."),$t(7,"br"),Ut(8," Check that you typed the link correctly or "),It(9,"a",4),Ut(10," return to the home page"),Bt()()())},directives:[cl,T0],styles:[".container[_ngcontent-%COMP%]{background:linear-gradient(127deg,rgba(102,173,112,.8),rgba(74,148,72,0) 12.35%),linear-gradient(336deg,rgba(56,189,138,.8),rgba(134,179,52,0) 25.25%),linear-gradient(83deg,rgba(74,204,187,.8),rgba(57,214,117,0) 50.63%),linear-gradient(175deg,rgba(27,177,119,.8),rgba(21,177,117,0) 75.73%),linear-gradient(280deg,rgba(54,211,151,.8),rgba(34,212,174,0) 90.73%);background-size:400% 400%;height:calc(100vh - 80px);display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;color:#000;padding:40px;animation:Gradient 10s ease infinite}@keyframes Gradient{0%{background-position:0% 72%}50%{background-position:100% 29%}to{background-position:0% 72%}}.title[_ngcontent-%COMP%]{font-size:100px;font-weight:200}.subtitle[_ngcontent-%COMP%]{font-size:50px;font-weight:300;margin-bottom:10px}.description[_ngcontent-%COMP%]{font-size:20px;font-weight:300}a[_ngcontent-%COMP%]{color:#289acf;text-decoration:none!important;transition-duration:.2s;transition-timing-function:ease-out;transition-property:color}a[_ngcontent-%COMP%]:hover{color:#40b1e6}@media (max-width: 700px){.title[_ngcontent-%COMP%]{font-size:80px;font-weight:200}.subtitle[_ngcontent-%COMP%]{font-size:40px;font-weight:300;margin-bottom:10px}.description[_ngcontent-%COMP%]{font-size:15px;font-weight:300}}@media (max-height: 400px){.title[_ngcontent-%COMP%]{font-size:30px;font-weight:200}.subtitle[_ngcontent-%COMP%]{font-size:20px;font-weight:300;margin-bottom:10px}.description[_ngcontent-%COMP%]{font-size:10px;font-weight:300}}"]}),t})(),sk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-positions-page"]],decls:27,vars:0,consts:[[1,"con"],[1,"section"],[1,"content"],[1,"title"],[1,"subtitle"],[1,"paragraph"],["href","https://docs.google.com/forms/d/e/1FAIpQLSd2GDCRi9tzvrf9-gL8tRiH7Hbm-4-jzqY_-5SrFwlprhgM7w/viewform"],["src","https://docs.google.com/forms/d/e/1FAIpQLSd2GDCRi9tzvrf9-gL8tRiH7Hbm-4-jzqY_-5SrFwlprhgM7w/viewform?embedded=true","frameborder","0"],[1,"section","green"],["href","https://docs.google.com/forms/d/e/1FAIpQLSeGW04cGRt_pvln0sKYVCuT5_lwhQ7k20Z0QNrFdGtxUOrJrw/viewform"],["src","https://docs.google.com/forms/d/e/1FAIpQLSeGW04cGRt_pvln0sKYVCuT5_lwhQ7k20Z0QNrFdGtxUOrJrw/viewform?embedded=true","frameborder","0"]],template:function(i,y){1&i&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ut(4," Join us! "),Bt(),It(5,"div",4)(6,"div",5),Ut(7," Interested in joining us? Fill out the form below. "),Bt(),It(8,"div",5),Ut(9," You can also view this form in a new tab "),It(10,"a",6),Ut(11,"here."),Bt()()(),It(12,"iframe",7),Ut(13,"Loading\u2026"),Bt()()(),It(14,"div",8)(15,"div",2)(16,"div",3),Ut(17," Become a mentor! "),Bt(),It(18,"div",4)(19,"div",5),Ut(20," You can also become a mentor for AltoPonix! If you are interested, you can fill out the form below. We are looking for mentors for computer vision, web, CAD, and other subsystems of our project. "),Bt(),It(21,"div",5),Ut(22," You can also view this form in a new tab "),It(23,"a",9),Ut(24,"here."),Bt()()(),It(25,"iframe",10),Ut(26,"Loading\u2026"),Bt()()()())},styles:[".con[_ngcontent-%COMP%]{display:flex;flex-direction:row}.section[_ngcontent-%COMP%]{background-color:#fff;padding:3% 5%;width:50%}.section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.section[_ngcontent-%COMP%]     .title{font-size:48px;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]     .subtitle{font-size:30px;font-weight:300;line-height:1.5em}iframe[_ngcontent-%COMP%]{align-self:center;margin-top:3vw;width:100%;height:1000px;border:1px solid #ddd;border-radius:5px;background-color:#eee}.green[_ngcontent-%COMP%]{background-color:#f3f8ee}@media (max-width: 2000px){.section[_ngcontent-%COMP%]     .title{font-size:40px}.section[_ngcontent-%COMP%]     .subtitle{font-size:26px}}@media (max-width: 1600px){.section[_ngcontent-%COMP%]     .title{font-size:29px}.section[_ngcontent-%COMP%]     .subtitle{font-size:20px}}@media (max-width: 1200px){.section[_ngcontent-%COMP%]     .title{font-size:25px}.section[_ngcontent-%COMP%]     .subtitle{font-size:15px}}@media (max-width: 750px){.section[_ngcontent-%COMP%]     .title{font-size:18px}.section[_ngcontent-%COMP%]     .subtitle{font-size:12px}.con[_ngcontent-%COMP%]{flex-direction:column}.section[_ngcontent-%COMP%]{width:100%}}"]}),t})();function I0(t,e,i,y,L,G,tt){try{var rt=t[G](tt),ht=rt.value}catch(gt){return void i(gt)}rt.done?e(ht):Promise.resolve(ht).then(y,L)}function He(t){return function(){var e=this,i=arguments;return new Promise(function(y,L){var G=t.apply(e,i);function tt(ht){I0(G,y,L,tt,rt,"next",ht)}function rt(ht){I0(G,y,L,tt,rt,"throw",ht)}tt(void 0)})}}var ak=Mt(342),lk=Mt(70),R0=Mt.n(lk);let Bn=(()=>{class t{constructor(){}}return t.endpoint="https://altoponix-database.herokuapp.com/api/v1",t.get=function(){var e=He(function*(i,y){return new Promise((L,G)=>{let tt=new XMLHttpRequest,rt=new URL(t.endpoint+i);for(var ht in y)rt.searchParams.append(ht,y[ht]+"");tt.timeout=1e4,tt.onload=function(gt){let Ct=JSON.parse(tt.responseText);return 1==Ct.success?L({code:tt.status,data:Ct.data}):G({code:tt.status,data:Ct.cause})},tt.ontimeout=function(gt){return G({code:408,data:"Timeout"})},tt.onerror=function(gt){return G({code:503,data:"Service Unavailable"})},tt.open("GET",rt.toString()),tt.send(null)})});return function(i,y){return e.apply(this,arguments)}}(),t.post=function(){var e=He(function*(i,y){return new Promise((L,G)=>{let tt=new XMLHttpRequest,rt=new URL(t.endpoint+i);tt.timeout=1e4,tt.onload=function(ht){let gt=JSON.parse(tt.responseText);return 1==gt.success?L({code:tt.status,data:gt.data}):G({code:tt.status,data:gt.cause})},tt.ontimeout=function(ht){return G({code:408,data:"Timeout"})},tt.onerror=function(ht){return G({code:503,data:"Service Unavailable"})},tt.open("POST",rt.toString()),tt.setRequestHeader("Content-Type","application/json"),tt.send(JSON.stringify(y))})});return function(i,y){return e.apply(this,arguments)}}(),t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ul=(()=>{class t{constructor(){}static getMonitorData(i,y){return He(function*(){return new Promise(function(){var L=He(function*(G,tt){if(""!=i){let rt;try{rt=(yield Bn.get("/monitors/get",{monitor_id:i,token:y})).data}catch(ht){return tt(ht)}return G(JSON.parse(JSON.stringify(rt)))}});return function(G,tt){return L.apply(this,arguments)}}())})()}static getUserData(i,y){return He(function*(){return new Promise(function(){var L=He(function*(G,tt){let rt;try{rt=(yield Bn.get("/owners/get",{user_id:i,token:y})).data}catch(ht){return tt(ht)}return G(JSON.parse(JSON.stringify(rt)))});return function(G,tt){return L.apply(this,arguments)}}())})()}static getAllUserData(i){return He(function*(){return new Promise(function(){var y=He(function*(L,G){let tt;try{tt=(yield Bn.get("/owners/get",{token:i})).data}catch(rt){return G(rt)}return L(JSON.parse(JSON.stringify(tt)))});return function(L,G){return y.apply(this,arguments)}}())})()}static verifyToken(i,y){return He(function*(){return new Promise(function(){var L=He(function*(G,tt){let rt;try{rt=(yield Bn.get("/login/verify",{user_id:y,token:i})).data}catch(ht){return tt(ht)}return rt});return function(G,tt){return L.apply(this,arguments)}}())})()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Es=(()=>{class t{constructor(){}static login(i,y,L){return He(function*(){return new Promise(function(){var G=He(function*(tt,rt){let ht;try{ht=(yield Bn.post("/login/user",{username:i,password:y,persist:L})).data}catch(gt){return rt(gt)}return tt(JSON.parse(JSON.stringify(ht)))});return function(tt,rt){return G.apply(this,arguments)}}())})()}static logout(i,y){return He(function*(){return new Promise(function(){var L=He(function*(G,tt){let rt;try{rt=(yield Bn.post("/logout/user",{user_id:i,token:y})).data}catch(ht){return tt(ht)}return G(!0)});return function(G,tt){return L.apply(this,arguments)}}())})()}static verify(i,y){return He(function*(){return new Promise(function(){var L=He(function*(G,tt){let rt;try{rt=(yield Bn.post("/login/user/verify",{user_id:i,token:y})).data}catch(ht){return tt(ht)}return G(rt)});return function(G,tt){return L.apply(this,arguments)}}())})()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_0=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-logo"]],decls:1,vars:0,consts:[["src","assets/logo.png"]],template:function(i,y){1&i&&$t(0,"img",0)},styles:[""]}),t})();var N0=Mt(470),hk=Mt.t(N0,2);class ir extends O{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:i,_hasValue:y,_value:L,thrownError:G,isStopped:tt,_isComplete:rt}=this;i?e.error(G):(tt||rt)&&(y&&e.next(L),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:i,_isComplete:y}=this;y||(this._isComplete=!0,e&&super.next(i),super.complete())}}var B0=Mt(220),ck=Mt.t(B0,2),j0=Mt(150),uk=Mt.t(j0,2),F0=Mt(700),dk=Mt.t(F0,2);class dl{constructor(e={series:[]}){this.options=e,this.refSubject=new ir,this.ref$=this.refSubject.asObservable()}addPoint(e,i=0,y=!0,L=!1){this.ref$.subscribe(G=>{G.series.length>i&&G.series[i].addPoint(e,y,L)})}addSeries(e,i=!0,y){this.ref$.subscribe(L=>{L.addSeries(e,i,y)})}removePoint(e,i=0){this.ref$.subscribe(y=>{y.series.length>i&&y.series[i].data.length>e&&y.series[i].removePoint(e,!0)})}removeSeries(e){this.ref$.subscribe(i=>{i.series.length>e&&i.series[e].remove(!0)})}init(e){this.ref||N0.chart(e.nativeElement,this.options,i=>{this.ref||(this.refSubject.next(i),this.ref=i,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new ir,this.ref$=this.refSubject.asObservable())}}class U0{constructor(e={series:[]}){this.options=e,this.refSubject=new ir,this.ref$=this.refSubject.asObservable()}init(e){this.ref||B0.mapChart(e.nativeElement,this.options,i=>{this.ref||(this.refSubject.next(i),this.ref=i,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new ir,this.ref$=this.refSubject.asObservable())}}class z0{constructor(e={series:[]}){this.options=e,this.refSubject=new ir,this.ref$=this.refSubject.asObservable()}init(e){this.ref||j0.stockChart(e.nativeElement,this.options,i=>{this.ref||(this.refSubject.next(i),this.ref=i,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new ir,this.ref$=this.refSubject.asObservable())}}class G0{constructor(e={series:[]}){this.options=e,this.refSubject=new ir,this.ref$=this.refSubject.asObservable()}init(e){this.ref||F0.ganttChart(e.nativeElement,this.options,i=>{this.ref||(this.refSubject.next(i),this.ref=i,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new ir,this.ref$=this.refSubject.asObservable())}}let pk=(()=>{class t{constructor(i){this.el=i}ngOnChanges(i){i.chart.isFirstChange()||(this.destroy(),this.init())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}init(){(this.chart instanceof dl||this.chart instanceof z0||this.chart instanceof U0||this.chart instanceof G0)&&this.chart.init(this.el)}destroy(){(this.chart instanceof dl||this.chart instanceof z0||this.chart instanceof U0||this.chart instanceof G0)&&this.chart.destroy()}}return t.\u0275fac=function(i){return new(i||t)(te(On))},t.\u0275dir=oi({type:t,selectors:[["","chart",""]],inputs:{chart:"chart"},features:[Gn]}),t})(),H0=new Me("HighchartsModules"),W0=(()=>{class t{constructor(i){this.chartModules=i}initModules(){this.chartModules.forEach(i=>{[hk,uk,ck,dk].forEach(i)})}}return t.\u0275fac=function(i){return new(i||t)(ie(H0))},t.\u0275prov=ve({token:t,factory:t.\u0275fac}),t})(),fk=(()=>{class t{constructor(i){this.cs=i,this.cs.initModules()}}return t.\u0275fac=function(i){return new(i||t)(ie(W0))},t.\u0275mod=Un({type:t}),t.\u0275inj=Tn({providers:[{provide:H0,useValue:[]},W0]}),t})();function gk(t,e){1&t&&(It(0,"div",2),Ut(1,"No Data"),Bt())}let mk=(()=>{class t{constructor(){this.data={value:null,history:{}},this.missing=!0,this.chart=new dl({chart:{type:"line",backgroundColor:"#f2f2f2",borderRadius:4,borderWidth:1,borderColor:"#cccccc",spacing:[20,20,20,20]},credits:{enabled:!1},title:{text:""}})}ngOnInit(){if(null!=this.data.history){let i=[];for(let y in this.data.history)i.push([parseInt(y),this.data.history[y]]);if(0==i.length)return;this.missing=!1,this.chart=new dl({chart:{type:"line",backgroundColor:"#f2f2f2",borderRadius:4,borderWidth:1,borderColor:"#cccccc",spacing:[20,20,20,20]},credits:{enabled:!1},xAxis:{type:"datetime",tickInterval:6e5,labels:{formatter:function(){let y=new Date(this.value),L=y.getHours(),G=y.getMinutes();return(L>9?"":"0")+L+":"+(G>9?"":"0")+G}}},yAxis:{title:{text:""}},title:{text:""},time:{getTimezoneOffset:function(y){return(new Date).getTimezoneOffset()}},series:[{type:"line",data:i,animation:{defer:0,duration:0},label:{enabled:!1},name:"",showInLegend:!1}]})}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-graph"]],inputs:{data:"data"},decls:2,vars:2,consts:[[1,"chart",3,"chart"],["class","missing",4,"ngIf"],[1,"missing"]],template:function(i,y){1&i&&($t(0,"div",0),De(1,gk,2,0,"div",1)),2&i&&(pe("chart",y.chart),ne(1),pe("ngIf",y.missing))},directives:[pk,ho],styles:[".chart[_ngcontent-%COMP%]{height:215px;width:300px}.missing[_ngcontent-%COMP%]{position:relative;top:-120px;left:115px;z-index:1;color:#ccc}"]}),t})();const vk=["endpoint"],yk=["user"],xk=["monitor"],Ck=["stream"],Sk=["icon"],Ek=["drop"];function Mk(t,e){if(1&t){const i=vn();It(0,"div",11,12)(2,"div",13),Pe("click",function(){return Ke(i),Re().logout()}),Ut(3,"Log Out"),Bt()()}}function Tk(t,e){if(1&t&&(It(0,"option"),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Zn(i)}}function bk(t,e){if(1&t&&(It(0,"option"),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Zn(i)}}function wk(t,e){1&t&&(It(0,"div",36),Ut(1,"-"),Bt())}function Ak(t,e){if(1&t&&(It(0,"div",36),Ut(1),Bt()),2&t){const i=Re().$implicit;ne(1),Zn(i.value.value)}}function Dk(t,e){if(1&t&&(It(0,"div",33)(1,"div",29)(2,"div",30),Ut(3),Bt(),De(4,wk,2,0,"div",34),De(5,Ak,2,1,"div",34),$t(6,"app-graph",35),Bt()()),2&t){const i=e.$implicit;ne(3),Zn(i.key),ne(1),pe("ngIf",null==i.value.value),ne(1),pe("ngIf",null!=i.value.value),ne(1),pe("data",i.value)}}function Pk(t,e){if(1&t&&(It(0,"div",28)(1,"div",29)(2,"div",30),Ut(3),Bt()()()),2&t){const i=e.$implicit;ne(3),fc("",i.key,": ",i.value,"")}}function Ok(t,e){if(1&t){const i=vn();It(0,"div")(1,"div",14)(2,"div",15),Ut(3," Select API Endpoint"),$t(4,"br"),It(5,"select",16,17),Pe("change",function(L){return Ke(i),Re().onChangeEndpoint(L.target)}),It(7,"option",18),Ut(8,"https://altoponix-database.herokuapp.com/api/v1"),Bt(),It(9,"option",19),Ut(10,"http://127.0.0.1:5000/api/v1"),Bt()()(),It(11,"div",15),Ut(12," Select User"),$t(13,"br"),It(14,"select",16,20),Pe("change",function(L){return Ke(i),Re().onChangeUser(L.target)}),De(16,Tk,2,1,"option",21),Bt()(),It(17,"div",15),Ut(18," Select Monitor"),$t(19,"br"),It(20,"select",16,22),Pe("change",function(L){return Ke(i),Re().onChangeMonitor(L.target)}),De(22,bk,2,1,"option",21),Bt()()(),It(23,"div",23)(24,"i"),Ut(25),Bt()(),It(26,"div",24),De(27,Dk,7,4,"div",25),bc(28,"keyvalue"),Bt(),It(29,"div",26),De(30,Pk,4,2,"div",27),bc(31,"keyvalue"),Bt(),It(32,"div",26)(33,"div",28)(34,"div",29)(35,"div",30),Ut(36,"Stream:"),Bt(),$t(37,"video",31,32),Bt()()()()}if(2&t){const i=Re();ne(16),pe("ngForOf",i.users),ne(6),pe("ngForOf",i.monitors),ne(3),Zn(i.lastUpdatedDateString),ne(2),pe("ngForOf",wc(28,5,i.monitorData)),ne(3),pe("ngForOf",wc(31,7,i.string_props))}}function kk(t,e){1&t&&$t(0,"div",37)}let Lk=(()=>{class t{constructor(){this.endpoint="https://altoponix-database.herokuapp.com/api/v1",this.users=[],this.monitors=[],this.selectedUser="",this.selectedMonitor="",this.monitorData={},this.string_props={foliage_feed:"-",root_stream:"-"},this.loading=!1,this.lastUpdatedDateString="Updating...",this.error=!1,this.dropdown=!1,this.token="",this.username="",this.user_id=""}ngOnInit(){var i,y,L,G,tt,rt;let ht=window.sessionStorage,gt=window.localStorage;if(this.token=null!==(y=null!==(i=ht.getItem("token"))&&void 0!==i?i:gt.getItem("token"))&&void 0!==y?y:"",this.username=null!==(G=null!==(L=ht.getItem("username"))&&void 0!==L?L:gt.getItem("username"))&&void 0!==G?G:"",this.user_id=null!==(rt=null!==(tt=ht.getItem("user_id"))&&void 0!==tt?tt:gt.getItem("user_id"))&&void 0!==rt?rt:"",""==this.token)return this.deAuth();this.load(),this.dataUpdateFunc=setInterval(()=>{this.getMonitorData()},15e3),this.timeUpdateFunc=setInterval(()=>{if(null!=this.lastUpdatedDate){let Ct=(0,ak.short)(Date.now(),this.lastUpdatedDate);this.lastUpdatedDateString=Ct.endsWith("ms")?"Last updated now":"Last updated "+Ct+" ago"}this.loading&&(this.lastUpdatedDateString="Updating..."),this.error&&(this.lastUpdatedDateString="Error fetching data")},100)}load(){var i=this;return He(function*(){(yield Es.verify(i.user_id,i.token))||i.deAuth();try{let y=yield ul.getAllUserData(i.token);i.users=Object.keys(y),i.changeUser(i.users[0])}catch(y){if(401==y.code)return i.deAuth();i.users=[i.user_id],i.changeUser(i.users[0])}i.userRef&&(i.userRef.nativeElement.selectedIndex=0)})()}getMonitorData(){var i=this;return He(function*(){if(null!=i.selectedMonitor){let L;i.lastUpdatedDate=new Date,i.loading=!0;try{L=yield ul.getMonitorData(i.selectedMonitor,i.token)}catch(tt){if(401==tt.code)return i.deAuth()}let G={};for(var y in L)void 0!==L[y].value?G[y]=L[y]:i.string_props[y]=L[y];i.monitorData=G,i.loading=!1}})()}ngOnDestroy(){clearInterval(this.timeUpdateFunc),clearInterval(this.dataUpdateFunc)}changeEndpoint(i){Bn.endpoint=i,this.load()}changeUser(i){var y=this;return He(function*(){let L;try{L=yield ul.getUserData(i,y.token)}catch(G){if(401==G.code)return y.deAuth()}y.monitors=L.monitor_ids,y.changeMonitor(y.monitors[0]),y.monitorRef&&(y.monitorRef.nativeElement.selectedIndex=0)})()}changeMonitor(i){this.selectedMonitor=i,this.getMonitorData()}onChangeEndpoint(i){this.changeEndpoint(i.options[i.selectedIndex].text)}onChangeUser(i){this.changeUser(i.options[i.selectedIndex].text)}onChangeMonitor(i){this.changeMonitor(i.options[i.selectedIndex].text)}updateLivestream(){var i;let y=null===(i=this.stream)||void 0===i?void 0:i.nativeElement,L="https://altoponix-cdn.sfo3.digitaloceanspaces.com/streaming/"+this.selectedMonitor+"/master.m3u8";if(y.canPlayType("application/vnd.apple.mpegurl"))y.src=L;else if(R0().isSupported()){var G=new(R0());G.loadSource(L),G.attachMedia(y)}y.play()}deAuth(){let i=window.sessionStorage,y=window.localStorage;i.removeItem("token"),i.removeItem("user_id"),i.removeItem("username"),y.removeItem("token"),y.removeItem("user_id"),y.removeItem("username"),window.location.href="/login"}logout(){var i=this;return He(function*(){var y,L,G,tt;let rt=window.sessionStorage,ht=window.localStorage;yield Es.logout(null!==(L=null!==(y=ht.getItem("user_id"))&&void 0!==y?y:rt.getItem("user_id"))&&void 0!==L?L:"",null!==(tt=null!==(G=ht.getItem("token"))&&void 0!==G?G:rt.getItem("token"))&&void 0!==tt?tt:""),rt.removeItem("token"),rt.removeItem("user_id"),rt.removeItem("username"),ht.removeItem("token"),ht.removeItem("user_id"),ht.removeItem("username"),i.route("/login")})()}route(i){window.location.href=i}onGlobalClick(i){this.icon.nativeElement.contains(i.target)&&(this.dropdown=!0),this.dropdown&&!this.drop.nativeElement.contains(i.target)&&(this.dropdown=!1)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-webapp-page"]],viewQuery:function(i,y){if(1&i&&(Hi(vk,5),Hi(yk,5),Hi(xk,5),Hi(Ck,5),Hi(Sk,5),Hi(Ek,5)),2&i){let L;Ei(L=Mi())&&(y.endpointRef=L.first),Ei(L=Mi())&&(y.userRef=L.first),Ei(L=Mi())&&(y.monitorRef=L.first),Ei(L=Mi())&&(y.stream=L.first),Ei(L=Mi())&&(y.icon=L.first),Ei(L=Mi())&&(y.drop=L.first)}},hostBindings:function(i,y){1&i&&Pe("mousedown",function(G){return y.onGlobalClick(G)},!1,Tp)},features:[Sc([ul])],decls:13,vars:3,consts:[[1,"container-spacing"],[1,"header-container"],[1,"title-container"],[1,"link",3,"click"],[1,"title"],[1,"spacing"],[1,"user"],["icon",""],["class","drop",4,"ngIf"],[4,"ngIf"],["class","hide",4,"ngIf"],[1,"drop"],["drop",""],[1,"dropdown-link",3,"click"],[1,"options-grid"],[1,"container"],[3,"change"],["endpoint",""],["value","heroku"],["value","localhost"],["user",""],[4,"ngFor","ngForOf"],["monitor",""],[1,"update"],[1,"data-grid"],["class","stat",4,"ngFor","ngForOf"],[1,"prop-grid"],["class","prop",4,"ngFor","ngForOf"],[1,"prop"],[1,"stat-container"],[1,"stat-name"],["src","","id","video","autoplay","","controls","",2,"border","1px black solid"],["stream",""],[1,"stat"],["class","stat-value",4,"ngIf"],[3,"data"],[1,"stat-value"],[1,"hide"]],template:function(i,y){1&i&&($t(0,"div",0),It(1,"div",1)(2,"div",2)(3,"div",3),Pe("click",function(){return y.route("/")}),$t(4,"app-logo"),It(5,"div",4),Ut(6,"AltoPonix Data Monitor"),Bt()()(),$t(7,"div",5)(8,"div",6,7),Bt(),De(10,Mk,4,0,"div",8),De(11,Ok,39,9,"div",9),De(12,kk,1,0,"div",10)),2&i&&(ne(10),pe("ngIf",y.dropdown),ne(1),pe("ngIf",""!=y.token),ne(1),pe("ngIf",""==y.token))},directives:[_0,ho,Ha,mk],pipes:[ay],styles:[".stat[_ngcontent-%COMP%]{padding:10px;border:1px #ddd solid;border-radius:10px;margin:5px;height:250px;background-color:#f2f2f2;min-width:300px;height:300px}.stat-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.stat-value[_ngcontent-%COMP%]{font-weight:600;font-size:30px}.data-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.container[_ngcontent-%COMP%]{padding:10px;border:1px #ddd solid;border-radius:10px;margin:5px;width:320px;height:60px;background-color:#f2f2f2;text-align:center;font-weight:500}.options-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;border:1px #ddd solid}.update[_ngcontent-%COMP%]{text-align:center;color:#ccc;font-size:10px;margin:10px}app-graph[_ngcontent-%COMP%]{align-items:center}.prop-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.prop[_ngcontent-%COMP%]{padding:10px;border:1px #ddd solid;border-radius:10px;margin:5px;background-color:#f2f2f2}video[_ngcontent-%COMP%]{width:900px}.hide[_ngcontent-%COMP%]{position:static;z-index:100000;background-color:#fff;height:100vh;width:100vw}.header-container[_ngcontent-%COMP%]{height:120px;width:100%;background-color:#fff;border-bottom:1px #ddd solid;padding-top:20px;padding-left:5%;padding-right:5%;display:flex;position:fixed;top:0px;z-index:100}.title[_ngcontent-%COMP%]{margin-left:15px;font-size:50px;font-weight:300;float:right}app-logo[_ngcontent-%COMP%]     img{position:relative;top:5px;height:70px}.spacing[_ngcontent-%COMP%]{flex:1 0 auto}.container-spacing[_ngcontent-%COMP%]{height:120px;width:100vw;background-color:#fff;position:relative;opacity:0}.link[_ngcontent-%COMP%]{font-weight:200;margin-right:20px;font-size:30px;transition:cubic-bezier(.23,1,.32,1);user-select:none;-moz-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;float:left;height:100%;line-height:80px;color:#000;text-decoration:none!important;transition-duration:.3s;transition-timing-function:cubic-bezier(.25,.15,0,.94);transition-property:color,font-size}.dropdown-link[_ngcontent-%COMP%]{font-weight:200;font-size:30px;transition:cubic-bezier(.23,1,.32,1);user-select:none;-moz-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;height:100%;color:#000;text-decoration:none!important;transition-duration:.3s;transition-timing-function:cubic-bezier(.25,.15,0,.94);transition-property:color,font-size}.title-container[_ngcontent-%COMP%]{flex:1 0 auto}.link[_ngcontent-%COMP%]:hover, .dropdown-link[_ngcontent-%COMP%]:hover{color:#999}.user[_ngcontent-%COMP%]{height:50px;width:50px;background-color:#ddd;position:relative;top:5px;border-radius:50%}.drop[_ngcontent-%COMP%]{background-color:#eee;position:fixed;border:1px solid #ddd;top:70px;padding:10px;border-radius:15px 0 15px 15px/15px 0px 15px 15px;left:calc(92.5vw - 100px);width:100px;z-index:101}@media (max-width: 2000px){.header-container[_ngcontent-%COMP%]{height:100px;padding-top:15px}.container-spacing[_ngcontent-%COMP%]{height:100px}.title[_ngcontent-%COMP%]{font-size:40px;margin-left:15px}app-logo[_ngcontent-%COMP%]     img{height:60px}.link[_ngcontent-%COMP%]{line-height:70px;font-size:25px}.dropdown-link[_ngcontent-%COMP%]{font-size:25px}}@media (max-width: 1600px){.header-container[_ngcontent-%COMP%]{height:80px;padding-top:10px}.container-spacing[_ngcontent-%COMP%]{height:80px}.title[_ngcontent-%COMP%]{font-size:32px;margin-left:15px}app-logo[_ngcontent-%COMP%]     img{height:50px}.link[_ngcontent-%COMP%]{line-height:60px;font-size:18px}.dropdown-link[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1200px){.header-container[_ngcontent-%COMP%]{height:80px;padding-top:10px}.container-spacing[_ngcontent-%COMP%]{height:80px}.title[_ngcontent-%COMP%]{font-size:32px;margin-left:15px}app-logo[_ngcontent-%COMP%]     img{height:50px}.link[_ngcontent-%COMP%]{line-height:60px;font-size:18px}.dropdown-link[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 750px){.overlay-button[_ngcontent-%COMP%]{display:block;transform:scale(1)}.link-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{opacity:0;font-size:0px;margin-right:0}.link-container-overlay[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{opacity:0;transition:cubic-bezier(.25,.15,0,.94);transition-duration:.3s}.link-container-overlay.overlay[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{opacity:1}.link-container-overlay.overlay[_ngcontent-%COMP%]{border-bottom:1px #ddd solid;width:100vw;height:200px;padding:10px 50px}}@media (max-width: 450px){.header-container[_ngcontent-%COMP%]{height:60px;padding-top:10px}.container-spacing[_ngcontent-%COMP%]{height:60px}.title[_ngcontent-%COMP%]{font-size:25px;margin-left:10px}app-logo[_ngcontent-%COMP%]     img{height:30px}.link[_ngcontent-%COMP%]{line-height:40px}.overlay-button[_ngcontent-%COMP%]{height:40px;width:40px;margin-top:0}.link-container-overlay[_ngcontent-%COMP%]{top:60px}.link-container-overlay.overlay[_ngcontent-%COMP%]{border-bottom:1px #ddd solid;width:100vw;height:160px;padding:10px 50px}}"]}),t})();const Ik=["bar"];function Rk(t,e){if(1&t&&(It(0,"div",28),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Gi(" ",i," ")}}function _k(t,e){if(1&t&&(It(0,"div",24)(1,"div",25),Ut(2),Bt(),$t(3,"hr"),It(4,"div",26),De(5,Rk,2,1,"div",27),Bt()()),2&t){const i=e.$implicit;dc(i.tier),ne(2),Gi(" $",i.amount," "),ne(3),pe("ngForOf",i.benefits)}}function Nk(t,e){if(1&t&&(It(0,"div",28),Ut(1),Bt()),2&t){const i=e.$implicit;ne(1),Gi(" ",i," ")}}function Bk(t,e){if(1&t&&(It(0,"div",24)(1,"div",25),Ut(2),Bt(),$t(3,"hr"),It(4,"div",26),De(5,Nk,2,1,"div",27),Bt()()),2&t){const i=e.$implicit;dc(i.tier),ne(2),Gi(" $",i.amount," "),ne(3),pe("ngForOf",i.benefits)}}let jk=(()=>{class t{constructor(){this.tiers=[{amount:1e3,benefits:["Name placed most prominently on plaque on our system","Name placed most prominently on donor list on our website","All below benefits"],tier:"gold"},{amount:500,benefits:["Name placed on a plaque on our system","Name on all promotional materials","All below benefits"],tier:"silver"},{amount:75,benefits:["Name placed on donor list on our website"],tier:"green"},{amount:5,benefits:["Our appreciation"],tier:"blue"}],this.moneyAmount=1100,this.displayMoney=0,this.displayMoneyRounded=0}ngOnInit(){this.barAnimationFunc=setInterval(()=>{this.displayMoney=.2*(this.moneyAmount-this.displayMoney)+this.displayMoney,this.displayMoneyRounded=Math.round(100*this.displayMoney)/100,this.bar&&(this.bar.nativeElement.style.width=this.moneyAmount/50+"%")},16)}ngOnDestroy(){clearInterval(this.barAnimationFunc)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-sponsor-page"]],viewQuery:function(i,y){if(1&i&&Hi(Ik,5),2&i){let L;Ei(L=Mi())&&(y.bar=L.first)}},decls:64,vars:3,consts:[[1,"jumbotron"],[1,"container"],[1,"header"],[1,"gradient"],[1,"content"],[1,"title"],[1,"money-bar"],[1,"amount","inline"],[1,"bar-container"],[1,"bar-filled"],["bar",""],[1,"section"],[1,"subtitle"],[1,"paragraph"],["id","benefits-section",1,"section","break","lightgray"],[1,"donations-inline"],["class","tier",3,"class",4,"ngFor","ngForOf"],[1,"grid"],[1,"section","green"],[1,"button"],["href","https://www.paypal.com/donate/?hosted_button_id=FVR6DD3FX8WPS","target","_blank"],[1,"section","gray"],["href","mailto:altoponix@gmail.com","target","_blank"],[1,"donations"],[1,"tier"],[1,"amount"],[1,"benefits"],["class","benefit",4,"ngFor","ngForOf"],[1,"benefit"]],template:function(i,y){1&i&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Ut(6," Support Us "),Bt()()()(),It(7,"div",6)(8,"div",7),Ut(9),Bt(),Ut(10," out of $5000 "),It(11,"div",8),$t(12,"div",9,10),Bt()(),It(14,"div",11)(15,"div",12)(16,"div",13)(17,"b"),Ut(18,"AltoPonix"),Bt(),Ut(19," is a "),It(20,"b"),Ut(21,"student-run non-profit tech research organization"),Bt(),Ut(22," aimed at developing a new fully automated hydroponics apparatus known as "),It(23,"b"),Ut(24,"S2"),Bt(),Ut(25,". Our planned robotics system is a platform elevator that periodically douses a set of plants in an aqueous nutrient solution while monitoring the chemical composition of the solution. This will allow us to grow plants in nearly half the time with more dense foliage resulting in "),It(26,"b"),Ut(27,"significantly higher yields."),Bt(),Ut(28," We track meaningful and relevant data via a large onboard sensor suite, utilizing software subcomponents that include "),It(29,"b"),Ut(30,"machine learning state prediction, foliage segmentation, stereo depth for 3d mapping, and general control theory."),Bt(),Ut(31," We also can continuously monitor the parameters of the system with a webapp. "),Bt(),It(32,"div",13),Ut(33," We, "),It(34,"b"),Ut(35,"students"),Bt(),Ut(36,", created AltoPonix wanting to bring an idea to life. Our team of 15 members has already spent six months and over 2000 hours working on our project but cannot go further without money, which is why we are reaching out to benevolent individuals like you for financial support. "),Bt(),It(37,"div",13),Ut(38," As high school students, we still have much to learn with AltoPonix, whether that be in software, electrical, or mechanical engineering - however that cannot happen without the opportunity to build this. Money is our primary constraint, and with your help, "),It(39,"b"),Ut(40,"we can bring this design to reality"),Bt(),Ut(41,". "),Bt(),It(42,"div",13)(43,"b"),Ut(44,"Note"),Bt(),Ut(45,": We are an IRS 501(c)3 validated organization. Any and all donations are considered tax deductible and may be eligible for company matching. "),Bt()()(),It(46,"div",14)(47,"div",15),De(48,_k,6,4,"div",16),Bt()(),It(49,"div",17)(50,"div",18)(51,"div",5),Ut(52," Donate with PayPal "),Bt(),It(53,"div",19)(54,"a",20),Ut(55,"Donate"),Bt()()(),It(56,"div",21)(57,"div",5),Ut(58," Or contact us for sponsorships "),It(59,"div",19)(60,"a",22),Ut(61,"Sponsor"),Bt()()()()()(),It(62,"div",23),De(63,Bk,6,4,"div",16),Bt()()),2&i&&(ne(9),Gi("$",y.displayMoneyRounded,""),ne(39),pe("ngForOf",y.tiers),ne(15),pe("ngForOf",y.tiers))},directives:[Ha],styles:[".jumbotron[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80vw}.gradient[_ngcontent-%COMP%]{background:linear-gradient(127deg,rgba(102,173,112,.8),rgba(74,148,72,0) 12.35%),linear-gradient(336deg,rgba(56,189,138,.8),rgba(134,179,52,0) 25.25%),linear-gradient(83deg,rgba(74,204,187,.8),rgba(57,214,117,0) 50.63%),linear-gradient(175deg,rgba(27,177,119,.8),rgba(21,177,117,0) 75.73%),linear-gradient(280deg,rgba(54,211,151,.8),rgba(34,212,174,0) 90.73%);background-size:400% 400%;display:flex;color:#000;animation:Gradient 10s ease infinite;overflow:hidden;background-color:#fff;flex-direction:row;width:100vw}@keyframes Gradient{0%{background-position:0% 72%}50%{background-position:100% 29%}to{background-position:0% 72%}}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 0 auto;width:50%;padding:2% 5%;display:flex;flex-direction:column;justify-content:center}.header[_ngcontent-%COMP%]     .title{font-size:3vw;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]{background-color:#fff;padding:3% 5%}.section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.section[_ngcontent-%COMP%]     .title{font-size:48px;font-weight:600;line-height:2em}.section[_ngcontent-%COMP%]     .subtitle{font-size:30px;font-weight:300;line-height:1.5em}.donations[_ngcontent-%COMP%]{border-left:1px solid #ddd;padding:15px;display:flex;flex-direction:column;width:20vw;position:fixed;right:0;height:90%;overflow:auto;background-color:#fff}.donations[_ngcontent-%COMP%]     .title{font-size:35px;font-weight:600;line-height:2em}.donations-inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:90vw;overflow-x:auto}#benefits-section[_ngcontent-%COMP%]{display:none}.donations-inline[_ngcontent-%COMP%]     .title{font-size:22px;font-weight:600;line-height:2em}.donations-inline[_ngcontent-%COMP%]     .tier{width:200px;height:200px;margin-right:10px}.money-bar[_ngcontent-%COMP%]{width:100%;padding:2% 5% 0%;font-weight:100}.bar-container[_ngcontent-%COMP%]{background-color:#ddd;border-radius:10vw;margin-top:10px}.bar-filled[_ngcontent-%COMP%]{background:linear-gradient(127deg,rgba(102,173,112,.8),rgba(74,148,72,0) 12.35%),linear-gradient(336deg,rgba(56,189,138,.8),rgba(134,179,52,0) 25.25%),linear-gradient(83deg,rgba(74,204,187,.8),rgba(57,214,117,0) 50.63%),linear-gradient(175deg,rgba(27,177,119,.8),rgba(21,177,117,0) 75.73%),linear-gradient(280deg,rgba(54,211,151,.8),rgba(34,212,174,0) 90.73%);animation:Gradient 10s ease infinite;height:30px;border-radius:10vw;width:0%;background-size:400% 400%;transition-duration:1s;transition-timing-function:cubic-bezier(.25,.15,0,.94);min-width:3%}.tier[_ngcontent-%COMP%]{background-color:#ebf1e4;border:1px solid rgb(193,221,165);padding:15px;height:200px;margin:10px 0;flex:0 0 auto;border-radius:10px}.tier[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:5px 0;border:1px solid rgba(0,0,0,.1);border-radius:1px}.amount[_ngcontent-%COMP%]{font-size:35px;font-weight:100}.benefit[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px}.paragraph[_ngcontent-%COMP%]{margin-bottom:1em;line-height:1.5em}.button[_ngcontent-%COMP%]{border-radius:10vw;border:1px #ddd solid;background-color:#1bb177;color:#fff;width:120px;height:35px;font-size:16px;font-weight:300;transition:ease-out;transition-duration:.3s;transition-property:background-color;margin-top:10px;display:flex;justify-content:center;line-height:35px}.donateContainer[_ngcontent-%COMP%]:hover{background-color:#41d89e}a[_ngcontent-%COMP%]{user-select:none;-moz-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;text-decoration:none!important;color:#fff}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}.gray[_ngcontent-%COMP%]{background-color:#ececec}.lightgray[_ngcontent-%COMP%]{background-color:#f7f7f7}.green[_ngcontent-%COMP%]{background-color:#5beeb6}.tier.silver[_ngcontent-%COMP%]{background-color:#aaa9ad;border:1px solid rgb(180,180,180)}.tier.gold[_ngcontent-%COMP%]{background-color:#d4af37;border:1px solid rgb(204,176,19)}.tier.green[_ngcontent-%COMP%]{background-color:#76d3a0;border:1px solid rgb(153,223,190)}.tier.blue[_ngcontent-%COMP%]{background-color:#90bffc;border:1px solid rgb(124,173,238)}.break[_ngcontent-%COMP%]{border-top:1px solid #eee;border-bottom:1px solid #eee}.centered[_ngcontent-%COMP%]{text-align:center}.inline[_ngcontent-%COMP%]{display:inline}@media (max-width: 2000px){.section[_ngcontent-%COMP%]     .title{font-size:40px}.section[_ngcontent-%COMP%]     .subtitle{font-size:26px}.donations[_ngcontent-%COMP%]     .title{font-size:26px}.amount[_ngcontent-%COMP%]{font-size:35px}.benefit[_ngcontent-%COMP%]{font-size:17px}button[_ngcontent-%COMP%]{width:208px;height:60px;font-size:29px}}@media (max-width: 1600px){.section[_ngcontent-%COMP%]     .title{font-size:29px}.section[_ngcontent-%COMP%]     .subtitle{font-size:20px}.donations[_ngcontent-%COMP%]     .title{font-size:23px}.amount[_ngcontent-%COMP%]{font-size:30px}.benefit[_ngcontent-%COMP%]{font-size:14px}button[_ngcontent-%COMP%]{width:120px;height:35px;font-size:15px}}@media (max-width: 1200px){.grid[_ngcontent-%COMP%]{display:flex;flex-direction:column}.donations[_ngcontent-%COMP%]{display:none}.donations-inline[_ngcontent-%COMP%]{display:flex}#benefits-section[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{width:100vw}.section[_ngcontent-%COMP%]     .title{font-size:25px}.section[_ngcontent-%COMP%]     .subtitle{font-size:15px}.section[_ngcontent-%COMP%]     img{margin:0 10px}.donations[_ngcontent-%COMP%]     .title{font-size:20px}.amount[_ngcontent-%COMP%]{font-size:25px}.benefit[_ngcontent-%COMP%]{font-size:15px}button[_ngcontent-%COMP%]{width:154px;height:45px;font-size:20px}}@media (max-width: 750px){.section[_ngcontent-%COMP%]     .title{font-size:18px}.section[_ngcontent-%COMP%]     .subtitle{font-size:12px}.amount[_ngcontent-%COMP%]{font-size:25px}.benefit[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{width:120px;height:35px;font-size:15px}}@media (max-width: 450px){button[_ngcontent-%COMP%]{width:86px;height:25px;font-size:12px}}"]}),t})(),Fk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["icon-failure"]],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","version","1.0","viewBox","0 0 1280.000000 1280.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,1280.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d","M6180 11089 c-921 -38 -1841 -368 -2584 -926 -356 -267 -701 -614 -961 -963 -907 -1222 -1165 -2801 -694 -4250 127 -389 329 -804 561 -1149 987 -1473 2722 -2269 4468 -2050 966 121 1831 515 2559 1165 1571 1403 2010 3690 1070 5574 -418 836 -1056 1515 -1869 1985 -608 352 -1377 582 -2040 610 -283 12 -330 12 -510 4z m555 -719 c1327 -114 2497 -871 3146 -2035 484 -870 622 -1920 378 -2895 -175 -702 -530 -1330 -1039 -1840 -329 -330 -687 -585 -1095 -781 -545 -261 -1114 -389 -1725 -389 -641 0 -1227 139 -1795 425 -760 383 -1377 1001 -1760 1763 -588 1171 -560 2582 74 3717 648 1160 1815 1918 3131 2034 139 12 546 12 685 1z"],["d","M4609 8719 c-26 -4 -57 -13 -70 -19 -40 -21 -409 -392 -432 -435 -29 -53 -30 -173 -3 -225 10 -19 378 -395 817 -835 l799 -800 -796 -795 c-462 -462 -804 -812 -817 -835 -33 -62 -31 -175 5 -235 39 -66 394 -414 442 -434 49 -20 152 -21 202 0 29 11 255 231 842 817 l802 802 803 -802 c586 -586 812 -806 841 -817 50 -21 153 -20 202 0 48 20 403 368 442 434 36 60 38 173 5 235 -13 23 -355 373 -817 835 l-796 795 799 800 c439 440 807 816 817 835 27 52 26 172 -3 225 -32 59 -399 420 -448 441 -51 21 -148 21 -200 -1 -30 -12 -249 -225 -842 -818 l-803 -802 -802 802 c-464 464 -816 807 -833 814 -47 19 -106 25 -156 18z"]],template:function(i,y){1&i&&(Hl(),It(0,"svg",0)(1,"g",1),$t(2,"path",2)(3,"path",3),Bt()())},styles:[""]}),t})();const Uk=["gradient"],zk=["username"],Gk=["password"],Hk=["persist"];function Wk(t,e){if(1&t&&(It(0,"div",17),$t(1,"icon-failure"),It(2,"div"),Ut(3),Bt()()),2&t){const i=Re();ne(3),Zn(i.errorMsg)}}function Vk(t,e){1&t&&(It(0,"div"),Ut(1,"Log In"),Bt())}function Xk(t,e){1&t&&(Hl(),It(0,"svg",18),$t(1,"circle",19),Bt())}const Yk=[{path:"",component:L0},{path:"login",component:(()=>{class t{constructor(){this.errorMsg="",this.loading=!1}ngOnInit(){this.check()}check(){var i=this;return He(function*(){var y,L,G,tt;let rt=window.sessionStorage,ht=window.localStorage,gt=null!==(L=null!==(y=ht.getItem("user_id"))&&void 0!==y?y:rt.getItem("user_id"))&&void 0!==L?L:"",Ct=null!==(tt=null!==(G=ht.getItem("token"))&&void 0!==G?G:rt.getItem("token"))&&void 0!==tt?tt:"";""!=gt&&""!=Ct&&(yield Es.verify(gt,Ct))&&i.route("/s2-webapp")})()}log(){var i=this;return He(function*(){var y,L,G;i.loading=!0,i.errorMsg="";let gt,tt=null===(y=i.usernameEl)||void 0===y?void 0:y.nativeElement.value,rt=null===(L=i.passwordEl)||void 0===L?void 0:L.nativeElement.value,ht=null===(G=i.persistEl)||void 0===G?void 0:G.nativeElement.checked;if(""==tt||""==rt)return i.loading=!1,void(i.errorMsg="Incorrect username or password.");try{gt=yield Es.login(tt,rt,ht)}catch(Ct){return i.loading=!1,void(i.errorMsg=401==Ct.code?"Incorrect username or password.":"An error occured. Please try again later.")}if(i.loading=!1,ht){let Ct=window.localStorage;Ct.setItem("username",gt.username),Ct.setItem("user_id",gt.user_id),Ct.setItem("token",gt.token),i.route("/s2-webapp")}else{let Ct=window.sessionStorage;Ct.setItem("username",gt.username),Ct.setItem("user_id",gt.user_id),Ct.setItem("token",gt.token),i.route("/s2-webapp")}})()}route(i){window.location.href=i}ngAfterViewInit(){if(this.gradient){const i=this.gradient.nativeElement;i.width=512,i.height=512;let y=i.getContext("webgl");y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight);let L=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,L),y.bufferData(y.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),y.STATIC_DRAW);let G="\n        attribute vec2 a_position;\n        void main() {\n          gl_Position = vec4(a_position, 0, 1);\n        }\n      ",tt="\n        precision mediump float;\n        uniform float iTime;\n        vec3 hsv2rgb(vec3 c) {\n          vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n          vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n          return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n        }\n        void main()\n        {\n          vec2 p = vec2(gl_FragCoord.xy / 512.0);\n          vec2 r = 2.0*vec2(gl_FragCoord.xy - 0.5*512.0)/512.0;\n          float t = iTime;\n          r = r * 6.0;\n          float v1 = sin(r.x + t*1.2);\n          float v2 = sin(r.y + t*1.6);\n          float v3 = sin(r.x+r.y +t*0.9);\n          float v4 = sin(length(r) +1.7*t);\n          float v = v1+v2+v3+v4;\n          v = (sin(v/50.)*1.3+cos(v/46.)*0.8+tan(v/50.))*0.7-0.05;\n          vec3 ret = hsv2rgb(vec3(v,.1,1.));\n          gl_FragColor = vec4(ret, 1);\n        }\n        \n      ",rt=y.createShader(y.VERTEX_SHADER);y.shaderSource(rt,G),y.compileShader(rt);let ht=y.createShader(y.FRAGMENT_SHADER);y.shaderSource(ht,tt),y.compileShader(ht);let gt=y.createProgram();y.attachShader(gt,rt),y.attachShader(gt,ht),y.linkProgram(gt),y.useProgram(gt);const Ct=Tt=>{y.clearColor(1,1,1,1),y.clear(y.COLOR_BUFFER_BIT);let At=y.getAttribLocation(gt,"a_position");y.enableVertexAttribArray(At),y.vertexAttribPointer(At,2,y.FLOAT,!1,0,0);let Pt=y.getUniformLocation(gt,"iTime");y.uniform1f(Pt,Tt/1e3),y.drawArrays(y.TRIANGLES,0,6),requestAnimationFrame(Ct)};requestAnimationFrame(Ct)}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-login-page"]],viewQuery:function(i,y){if(1&i&&(Hi(Uk,5),Hi(zk,5),Hi(Gk,5),Hi(Hk,5)),2&i){let L;Ei(L=Mi())&&(y.gradient=L.first),Ei(L=Mi())&&(y.usernameEl=L.first),Ei(L=Mi())&&(y.passwordEl=L.first),Ei(L=Mi())&&(y.persistEl=L.first)}},features:[Sc([Es])],decls:22,vars:3,consts:[[1,"login-container"],["id","gradient"],["gradient",""],[1,"login-box"],[3,"click"],["class","error",4,"ngIf"],[1,"inputs"],["type","text","placeholder","Username"],["username",""],["type","password","placeholder","Password"],["password",""],[1,"check"],["type","checkbox","id","log"],["persist",""],["for","log"],[4,"ngIf"],["class","loading","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","style","margin:auto;background:none;display:block;","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid",4,"ngIf"],[1,"error"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid",1,"loading",2,"margin","auto","background","none","display","block"],["cx","50","cy","50","r","25","stroke-width","4","stroke","#ffffff","stroke-dasharray","39.269908169872416 39.269908169872416","fill","none","stroke-linecap","round"]],template:function(i,y){1&i&&(It(0,"div",0),$t(1,"canvas",1,2),It(3,"div",3)(4,"a",4),Pe("click",function(){return y.route("/")}),Ut(5,"< Return to Home Page"),Bt(),It(6,"b"),Ut(7,"Log In"),Bt(),De(8,Wk,4,1,"div",5),It(9,"div",6),$t(10,"input",7,8)(12,"input",9,10),It(14,"div",11),$t(15,"input",12,13),It(17,"label",14),Ut(18,"Keep me logged in"),Bt()(),It(19,"button",4),Pe("click",function(){return y.log()}),De(20,Vk,2,0,"div",15),De(21,Xk,2,0,"svg",16),Bt()()()()),2&i&&(ne(8),pe("ngIf",""!=y.errorMsg),ne(12),pe("ngIf",!y.loading),ne(1),pe("ngIf",y.loading))},directives:[ho,Fk],styles:[".login-container[_ngcontent-%COMP%]{justify-content:center;width:100vw;height:100vh;overflow:hidden}.login-box[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border:1px solid #eee;border-radius:15px;font-weight:300;font-size:35px;padding:25px;background-color:#fff;display:flex;flex-direction:column;text-align:center;opacity:1;animation-name:fadeInOpacity;animation-iteration-count:1;animation-timing-function:cubic-bezier(.18,.39,.18,1.01);animation-duration:.4s}#gradient[_ngcontent-%COMP%]{width:100vw;height:100vh}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:500px;height:50px;font-size:20px;padding-left:10px;border-radius:5px;border:1px #ddd solid;margin:10px 10px 0}input[type=checkbox][_ngcontent-%COMP%]{margin-top:10px;margin-right:5px}.inputs[_ngcontent-%COMP%]{border-radius:15px;display:flex;flex-direction:column;font-size:12px;font-weight:400;align-items:center}button[_ngcontent-%COMP%]{width:100px;height:50px;font-size:22px;margin:10px 10px 0;border-radius:30px;border:1px #ddd solid;color:#fff;background-color:#23c44b;transition:.2s ease-out;transition-property:color}button[_ngcontent-%COMP%]:hover{background-color:#2ccc54}@keyframes fadeInOpacity{0%{opacity:0;transform:translate(-50%,-30%)}to{opacity:1;transform:translate(-50%,-50%)}}a[_ngcontent-%COMP%]{text-align:left;font-size:16px;margin-bottom:10px;user-select:none;-moz-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;color:#000;text-decoration:none!important;transition-duration:.3s;transition-timing-function:cubic-bezier(.25,.15,0,.94);transition-property:color,font-size}a[_ngcontent-%COMP%]:hover{color:#666}.check[_ngcontent-%COMP%]{transform:scale(1.5);margin-bottom:5px}.error[_ngcontent-%COMP%]{background-color:#f7c1c8;border:1px solid rgb(238,139,153);border-radius:5px;font-size:20px;text-align:left;padding:10px;margin:10px;font-weight:500;display:flex;line-height:35px;flex-direction:row}.loading[_ngcontent-%COMP%]{animation-name:rotate;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:ease-in-out;height:35px}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}icon-failure[_ngcontent-%COMP%]{height:35px;width:35px;margin-right:4px}icon-failure[_ngcontent-%COMP%]     svg{height:35px;width:35px}@media (max-width: 2000px){.login-box[_ngcontent-%COMP%]{font-size:30px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:400px;height:40px;font-size:18px;border-radius:5px}button[_ngcontent-%COMP%]{width:80px;height:40px;font-size:18px;border-radius:18px}.check[_ngcontent-%COMP%]{transform:scale(1.3);margin-bottom:5px}a[_ngcontent-%COMP%]{font-size:15px}.error[_ngcontent-%COMP%]{font-size:18px;line-height:32px}icon-failure[_ngcontent-%COMP%]{height:32px;width:32px;margin-right:4px}icon-failure[_ngcontent-%COMP%]     svg{height:32px;width:32px}.loading[_ngcontent-%COMP%]{height:32px}}@media (max-width: 1600px){.login-box[_ngcontent-%COMP%]{font-size:25px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:350px;height:35px;font-size:16px;border-radius:5px}button[_ngcontent-%COMP%]{width:70px;height:35px;font-size:16px;border-radius:15px}.check[_ngcontent-%COMP%]{transform:scale(1.2);margin-bottom:5px}a[_ngcontent-%COMP%]{font-size:14px}.error[_ngcontent-%COMP%]{font-size:16px;line-height:30px}icon-failure[_ngcontent-%COMP%]{height:30px;width:30px;margin-right:3px}icon-failure[_ngcontent-%COMP%]     svg{height:30px;width:30px}.loading[_ngcontent-%COMP%]{height:30px}}@media (max-width: 1200px){.login-box[_ngcontent-%COMP%]{font-size:22px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:300px;height:30px;font-size:14px;border-radius:5px}button[_ngcontent-%COMP%]{width:60px;height:30px;font-size:15px;border-radius:10px}.check[_ngcontent-%COMP%]{transform:scale(1)}a[_ngcontent-%COMP%]{font-size:12px}.error[_ngcontent-%COMP%]{font-size:14px;line-height:25px}icon-failure[_ngcontent-%COMP%]{height:25px;width:25px;margin-right:2px}icon-failure[_ngcontent-%COMP%]     svg{height:25px;width:25px}.loading[_ngcontent-%COMP%]{height:25px}}@media (max-width: 750px){.login-box[_ngcontent-%COMP%]{font-size:20px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:250px;height:25px;font-size:12px;border-radius:5px}button[_ngcontent-%COMP%]{width:50px;height:25px;font-size:13px;border-radius:10px}.check[_ngcontent-%COMP%]{transform:scale(1)}a[_ngcontent-%COMP%]{font-size:11px}.error[_ngcontent-%COMP%]{font-size:12px;line-height:22px}icon-failure[_ngcontent-%COMP%]{height:22px;width:22px;margin-right:2px}icon-failure[_ngcontent-%COMP%]     svg{height:22px;width:22px}.loading[_ngcontent-%COMP%]{height:22px}}@media (max-width: 450px){.login-box[_ngcontent-%COMP%]{font-size:20px;width:100vw;height:100vh}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:220px;height:22px;font-size:12px;border-radius:5px}button[_ngcontent-%COMP%]{width:50px;height:25px;font-size:13px;border-radius:10px}.check[_ngcontent-%COMP%]{transform:scale(1)}a[_ngcontent-%COMP%]{font-size:11px}.error[_ngcontent-%COMP%]{font-size:12px;line-height:18px}icon-failure[_ngcontent-%COMP%]{height:18px;width:18px;margin-right:2px}icon-failure[_ngcontent-%COMP%]     svg{height:18px;width:18px}.loading[_ngcontent-%COMP%]{height:18px}}"]}),t})()},{path:"about",component:L0},{path:"positions",component:sk},{path:"contact",component:QO},{path:"sponsor",component:jk},{path:"team",component:rk},{path:"s2-webapp",component:Lk},{path:"feed",redirectTo:"/s2-webapp",pathMatch:"full"},{path:"data",redirectTo:"/s2-webapp",pathMatch:"full"},{path:"**",component:ok}];let Kk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Tn({imports:[[P0.forRoot(Yk)],P0]}),t})();const Ku=function(t){return{" overlay":t}};function $k(t,e){if(1&t){const i=vn();It(0,"button",9),Pe("click",function(){return Ke(i),Re(2).toggleOverlay()}),Ut(1),Bt()}if(2&t){const i=Re(2);pe("ngClass",ba(2,Ku,!i.overlay)),ne(1),Gi(" ",i.overlay?"\u2261":"\u2573"," ")}}function Zk(t,e){if(1&t){const i=vn();It(0,"div",10)(1,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/")}),Ut(2,"Home"),Bt(),It(3,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/team")}),Ut(4,"Team"),Bt(),It(5,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/sponsor")}),Ut(6,"Sponsor"),Bt(),It(7,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/positions")}),Ut(8,"Apply"),Bt(),$t(9,"div",11),It(10,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/login")}),Ut(11,"Log In"),Bt()()}if(2&t){const i=Re(2);pe("ngClass",ba(1,Ku,!i.overlay))}}function Qk(t,e){if(1&t){const i=vn();It(0,"div")(1,"div",12)(2,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/")}),Ut(3,"Home"),Bt(),It(4,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/team")}),Ut(5,"Team"),Bt(),It(6,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/sponsor")}),Ut(7,"Sponsor"),Bt(),It(8,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/positions")}),Ut(9,"Apply"),Bt(),$t(10,"div",13),It(11,"div",4),Pe("click",function(){return Ke(i),Re(2).route("/login")}),Ut(12,"Log In"),Bt()()()}if(2&t){const i=Re(2);ne(1),pe("ngClass",ba(1,Ku,!i.overlay))}}function Jk(t,e){if(1&t){const i=vn();It(0,"div"),$t(1,"div",1),It(2,"div",2)(3,"div",3)(4,"div",4),Pe("click",function(){return Ke(i),Re().route("/")}),$t(5,"app-logo"),It(6,"div",5),Ut(7,"AltoPonix"),Bt()()(),$t(8,"div",6),De(9,$k,2,4,"button",7),De(10,Zk,12,3,"div",8),Bt(),De(11,Qk,13,3,"div",0),Bt()}if(2&t){const i=Re();ne(9),pe("ngIf",!i.disablelinks),ne(1),pe("ngIf",!i.disablelinks),ne(1),pe("ngIf",!i.disablelinks)}}let qk=(()=>{class t{constructor(i){this.router=i,this.overlay=!0,this.disablelinks=!1,this.disableheader=!1}ngOnInit(){let i=window.location.pathname;("/s2-webapp"===i||"/feed"===i||"/data"===i||"/login"===i)&&(this.disableheader=!0)}toggleOverlay(){this.overlay=!this.overlay}onResize(i){i.target.innerWidth>700&&!this.overlay&&(this.overlay=!0)}route(i){this.overlay=!0,window.location.href=i}}return t.\u0275fac=function(i){return new(i||t)(te(bi))},t.\u0275cmp=ri({type:t,selectors:[["app-header"]],hostBindings:function(i,y){1&i&&Pe("resize",function(G){return y.onResize(G)},!1,Mp)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"container-spacing"],[1,"container"],[1,"title-container"],[1,"link",3,"click"],[1,"title"],[1,"spacing"],["class","overlay-button",3,"ngClass","click",4,"ngIf"],["class","link-container",3,"ngClass",4,"ngIf"],[1,"overlay-button",3,"ngClass","click"],[1,"link-container",3,"ngClass"],[1,"vert"],[1,"link-container-overlay",3,"ngClass"],[1,"horz"]],template:function(i,y){1&i&&De(0,Jk,12,3,"div",0),2&i&&pe("ngIf",!y.disableheader)},directives:[ho,_0,ny],styles:[".container[_ngcontent-%COMP%]{height:120px;width:100%;background-color:#fff;border-bottom:1px #ddd solid;padding-top:20px;padding-left:5%;padding-right:5%;display:flex;position:fixed;top:0px;z-index:100}.title[_ngcontent-%COMP%]{margin-left:15px;font-size:50px;font-weight:300;float:right}app-logo[_ngcontent-%COMP%]     img{position:relative;top:5px;height:70px}.spacing[_ngcontent-%COMP%]{flex:1 0 auto}.container-spacing[_ngcontent-%COMP%]{height:120px;width:100vw;background-color:#fff;position:relative;opacity:0}.link[_ngcontent-%COMP%]{font-weight:200;margin-right:20px;font-size:30px;transition:cubic-bezier(.23,1,.32,1);user-select:none;-moz-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;float:left;height:100%;line-height:80px;color:#000;text-decoration:none!important;transition-duration:.3s;transition-timing-function:cubic-bezier(.25,.15,0,.94);transition-property:color,font-size}.title-container[_ngcontent-%COMP%]{flex:1 0 auto}.link-container[_ngcontent-%COMP%]{overflow:hidden}.link[_ngcontent-%COMP%]:hover{color:#999}.overlay-button[_ngcontent-%COMP%]{transition:cubic-bezier(.25,.15,0,.94);display:block;background-color:#fff;border:1px solid #ddd;border-radius:4px;transform:scale(0);margin-bottom:15px;margin-top:5px;height:50px;width:50px;font-size:30px;color:#000;transition-duration:.3s;transition-property:transform}.overlay-button.overlay[_ngcontent-%COMP%]{font-size:20px}.link-container-overlay[_ngcontent-%COMP%]{display:flex;position:fixed;overflow:hidden;flex-direction:column;background-color:#f6f6f6;border-bottom:0px #ddd solid;padding:0 50px;top:80px;height:0;width:100vw;transition:cubic-bezier(.25,.15,0,.94);transition-duration:.3s;transition-property:height,padding}.vert[_ngcontent-%COMP%]{float:left;border-left:1px solid #ccc;height:70px;margin-top:10px;margin-right:20px}.horz[_ngcontent-%COMP%]{border-top:1px solid #ddd}@media (max-width: 2000px){.container[_ngcontent-%COMP%]{height:100px;padding-top:15px}.container-spacing[_ngcontent-%COMP%]{height:100px}.title[_ngcontent-%COMP%]{font-size:40px;margin-left:15px}app-logo[_ngcontent-%COMP%]     img{height:60px}.link[_ngcontent-%COMP%]{line-height:70px;font-size:25px}.vert[_ngcontent-%COMP%]{height:55px}}@media (max-width: 1600px){.container[_ngcontent-%COMP%]{height:80px;padding-top:10px}.container-spacing[_ngcontent-%COMP%]{height:80px}.title[_ngcontent-%COMP%]{font-size:32px;margin-left:15px}app-logo[_ngcontent-%COMP%]     img{height:50px}.link[_ngcontent-%COMP%]{line-height:60px;font-size:18px}.vert[_ngcontent-%COMP%]{height:40px}}@media (max-width: 1200px){.container[_ngcontent-%COMP%]{height:80px;padding-top:10px}.container-spacing[_ngcontent-%COMP%]{height:80px}.title[_ngcontent-%COMP%]{font-size:32px;margin-left:15px}app-logo[_ngcontent-%COMP%]     img{height:50px}.link[_ngcontent-%COMP%]{line-height:60px;font-size:18px}}@media (max-width: 750px){.overlay-button[_ngcontent-%COMP%]{display:block;transform:scale(1)}.link-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{opacity:0;font-size:0px;margin-right:0}.link-container-overlay[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{opacity:0;transition:cubic-bezier(.25,.15,0,.94);transition-duration:.3s}.link-container-overlay.overlay[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{opacity:1}.link-container-overlay.overlay[_ngcontent-%COMP%]{border-bottom:1px #ddd solid;width:100vw;height:320px;padding:10px 50px}.vert[_ngcontent-%COMP%]{height:0px}}@media (max-width: 450px){.container[_ngcontent-%COMP%]{height:60px;padding-top:10px}.container-spacing[_ngcontent-%COMP%]{height:60px}.title[_ngcontent-%COMP%]{font-size:25px;margin-left:10px}app-logo[_ngcontent-%COMP%]     img{height:30px}.link[_ngcontent-%COMP%]{line-height:40px}.overlay-button[_ngcontent-%COMP%]{height:40px;width:40px;margin-top:0}.link-container-overlay[_ngcontent-%COMP%]{top:60px}.link-container-overlay.overlay[_ngcontent-%COMP%]{border-bottom:1px #ddd solid;width:100vw;height:200px;padding:10px 50px}}"]}),t})();function tL(t,e){1&t&&(It(0,"div",1)(1,"div"),Ut(2,"\xa9 2021 Altoponix"),Bt(),It(3,"div"),Ut(4," Contact us at "),It(5,"a",2),Ut(6,"altoponix@gmail.com"),Bt()()())}let eL=(()=>{class t{constructor(){this.disablefooter=!1}ngOnInit(){"/login"===window.location.pathname&&(this.disablefooter=!0)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-footer"]],decls:1,vars:1,consts:[["class","footer-container",4,"ngIf"],[1,"footer-container"],["href","mailto:altoponix@gmail.com"]],template:function(i,y){1&i&&De(0,tL,7,0,"div",0),2&i&&pe("ngIf",!y.disablefooter)},directives:[ho],styles:[".footer-container[_ngcontent-%COMP%]{background-color:#eee;padding:2% 5%;display:flex;justify-content:center;color:#999;flex-direction:column;border-top:1px solid #ccc;font-size:1.3vw}a[_ngcontent-%COMP%]{color:#999;transition-duration:.3s;transition-timing-function:ease-out}a[_ngcontent-%COMP%]:hover{color:#ccc}"]}),t})(),iL=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ri({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(i,y){1&i&&$t(0,"app-header")(1,"router-outlet")(2,"app-footer")},directives:[qk,Uu,eL],styles:[""]}),t})(),nL=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Un({type:t,bootstrap:[iL]}),t.\u0275inj=Tn({providers:[Bn],imports:[[yD,Kk,fk]]}),t})();(function iw(){Iv=!1})(),mD().bootstrapModule(nL).catch(t=>console.error(t))},700:function(ke,zt,Mt){"use strict";var ft,St,lt;St="undefined"!=typeof window?window:this,lt=function(St){function lt(H,K,V,Q){H.hasOwnProperty(K)||(H[K]=Q.apply(null,V))}var F={};return lt(F,"Core/Globals.js",[],function(){var K,V,H=void 0!==St?St:"undefined"!=typeof window?window:{};return(V=K||(K={})).SVG_NS="http://www.w3.org/2000/svg",V.product="Highcharts",V.version="9.3.3",V.win=H,V.doc=V.win.document,V.svg=V.doc&&V.doc.createElementNS&&!!V.doc.createElementNS(V.SVG_NS,"svg").createSVGRect,V.userAgent=V.win.navigator&&V.win.navigator.userAgent||"",V.isChrome=-1!==V.userAgent.indexOf("Chrome"),V.isFirefox=-1!==V.userAgent.indexOf("Firefox"),V.isMS=/(edge|msie|trident)/i.test(V.userAgent)&&!V.win.opera,V.isSafari=!V.isChrome&&-1!==V.userAgent.indexOf("Safari"),V.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(V.userAgent),V.isWebKit=-1!==V.userAgent.indexOf("AppleWebKit"),V.deg2rad=2*Math.PI/360,V.hasBidiBug=V.isFirefox&&4>parseInt(V.userAgent.split("Firefox/")[1],10),V.hasTouch=!!V.win.TouchEvent,V.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],V.noop=function(){},V.supportsPassiveEvents=function(){var Q=!1;if(!V.isMS){var W=Object.defineProperty({},"passive",{get:function(){Q=!0}});V.win.addEventListener&&V.win.removeEventListener&&(V.win.addEventListener("testPassive",V.noop,W),V.win.removeEventListener("testPassive",V.noop,W))}return Q}(),V.charts=[],V.dateFormats={},V.seriesTypes={},V.symbolSizes={},V.chartCount=0,K}),lt(F,"Core/Utilities.js",[F["Core/Globals.js"]],function(H){function K(r,u,c,b){var O=u?"Highcharts error":"Highcharts warning";32===r&&(r=O+": Deprecated member");var k=w(r),_=k?O+" #"+r+": www.highcharts.com/errors/"+r+"/":r.toString();if(void 0!==b){var A="";k&&(_+="?"),C(b,function(B,m){A+="\n - "+m+": "+B,k&&(_+=encodeURI(m)+"="+encodeURI(B))}),_+=A}M(H,"displayError",{chart:c,code:r,message:_,params:b},function(){if(u)throw Error(_);h.console&&-1===K.messages.indexOf(_)&&console.warn(_)}),K.messages.push(_)}function Q(r,u){return parseInt(r,u||10)}function W(r){return"string"==typeof r}function Y(r){return"[object Array]"===(r=Object.prototype.toString.call(r))||"[object Array Iterator]"===r}function z(r,u){return!(!r||"object"!=typeof r||u&&Y(r))}function I(r){return z(r)&&"number"==typeof r.nodeType}function P(r){var u=r&&r.constructor;return!(!z(r,!0)||I(r)||!u||!u.name||"Object"===u.name)}function w(r){return"number"==typeof r&&!isNaN(r)&&1/0>r&&-1/0<r}function E(r){return null!=r}function s(r,u,c){var b;return W(u)?E(c)?r.setAttribute(u,c):r&&r.getAttribute&&((b=r.getAttribute(u))||"class"!==u||(b=r.getAttribute(u+"Name"))):C(u,function(O,k){E(O)?r.setAttribute(k,O):r.removeAttribute(k)}),b}function l(r,u){var c;for(c in r||(r={}),u)r[c]=u[c];return r}function g(){for(var r=arguments,u=r.length,c=0;c<u;c++){var b=r[c];if(null!=b)return b}}function v(r,u){H.isMS&&!H.svg&&u&&void 0!==u.opacity&&(u.filter="alpha(opacity="+100*u.opacity+")"),l(r.style,u)}function S(r,u){return 1e14<r?r:parseFloat(r.toPrecision(u||14))}function C(r,u,c){for(var b in r)Object.hasOwnProperty.call(r,b)&&u.call(c||r[b],r[b],b,r)}function x(r,u,c){function b(A,B){var m=r.removeEventListener||H.removeEventListenerPolyfill;m&&m.call(r,A,B,!1)}function O(A){var B;if(r.nodeName){if(u){var m={};m[u]=!0}else m=A;C(m,function(T,R){if(A[R])for(B=A[R].length;B--;)b(R,A[R][B].fn)})}}var k="function"==typeof r&&r.prototype||r;if(Object.hasOwnProperty.call(k,"hcEvents")){var _=k.hcEvents;u?(k=_[u]||[],c?(_[u]=k.filter(function(A){return c!==A.fn}),b(u,c)):(O(_),_[u]=[])):(O(_),delete k.hcEvents)}}function M(r,u,c,b){if(c=c||{},a.createEvent&&(r.dispatchEvent||r.fireEvent&&r!==H)){var O=a.createEvent("Events");O.initEvent(u,!0,!0),c=l(O,c),r.dispatchEvent?r.dispatchEvent(c):r.fireEvent(u,c)}else if(r.hcEvents){c.target||l(c,{preventDefault:function(){c.defaultPrevented=!0},target:r,type:u}),O=[];for(var k=r,_=!1;k.hcEvents;)Object.hasOwnProperty.call(k,"hcEvents")&&k.hcEvents[u]&&(O.length&&(_=!0),O.unshift.apply(O,k.hcEvents[u])),k=Object.getPrototypeOf(k);_&&O.sort(function(A,B){return A.order-B.order}),O.forEach(function(A){!1===A.fn.call(r,c)&&c.preventDefault()})}b&&!c.defaultPrevented&&b.call(r,c)}var p=H.charts,a=H.doc,h=H.win;(K||(K={})).messages=[],Math.easeInOutSine=function(r){return-.5*(Math.cos(Math.PI*r)-1)};var n=Array.prototype.find?function(r,u){return r.find(u)}:function(r,u){var c,b=r.length;for(c=0;c<b;c++)if(u(r[c],c))return r[c]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(r,u){H[u]=function(c){var b;return K(32,!1,void 0,((b={})["Highcharts."+u]="use Array."+r,b)),Array.prototype[r].apply(c,[].slice.call(arguments,1))}});var d,r,u,o=(r=Math.random().toString(36).substring(2,9)+"-",u=0,function(){return"highcharts-"+(d?"":r)+u++});return h.jQuery&&(h.jQuery.fn.highcharts=function(){var r=[].slice.call(arguments);if(this[0])return r[0]?(new(H[W(r[0])?r.shift():"Chart"])(this[0],r[0],r[1]),this):p[s(this[0],"data-highcharts-chart")]}),n={addEvent:function(r,u,c,b){void 0===b&&(b={});var O="function"==typeof r&&r.prototype||r;Object.hasOwnProperty.call(O,"hcEvents")||(O.hcEvents={}),O=O.hcEvents,H.Point&&r instanceof H.Point&&r.series&&r.series.chart&&(r.series.chart.runTrackerClick=!0);var k=r.addEventListener||H.addEventListenerPolyfill;return k&&k.call(r,u,c,!!H.supportsPassiveEvents&&{passive:void 0===b.passive?-1!==u.indexOf("touch"):b.passive,capture:!1}),O[u]||(O[u]=[]),O[u].push({fn:c,order:"number"==typeof b.order?b.order:1/0}),O[u].sort(function(_,A){return _.order-A.order}),function(){x(r,u,c)}},arrayMax:function(r){for(var u=r.length,c=r[0];u--;)r[u]>c&&(c=r[u]);return c},arrayMin:function(r){for(var u=r.length,c=r[0];u--;)r[u]<c&&(c=r[u]);return c},attr:s,clamp:function(r,u,c){return r>u?r<c?r:c:u},cleanRecursively:function V(r,u){var c={};return C(r,function(b,O){z(r[O],!0)&&!r.nodeType&&u[O]?(b=V(r[O],u[O]),Object.keys(b).length&&(c[O]=b)):(z(r[O])||r[O]!==u[O])&&(c[O]=r[O])}),c},clearTimeout:function(r){E(r)&&clearTimeout(r)},correctFloat:S,createElement:function(r,u,c,b,O){return r=a.createElement(r),u&&l(r,u),O&&v(r,{padding:"0",border:"none",margin:"0"}),c&&v(r,c),b&&b.appendChild(r),r},css:v,defined:E,destroyObjectProperties:function(r,u){C(r,function(c,b){c&&c!==u&&c.destroy&&c.destroy(),delete r[b]})},discardElement:function(r){r&&r.parentElement&&r.parentElement.removeChild(r)},erase:function(r,u){for(var c=r.length;c--;)if(r[c]===u){r.splice(c,1);break}},error:K,extend:l,extendClass:function(r,u){var c=function(){};return l(c.prototype=new r,u),c},find:n,fireEvent:M,getMagnitude:function(r){return Math.pow(10,Math.floor(Math.log(r)/Math.LN10))},getNestedProperty:function(r,u){for(r=r.split(".");r.length&&E(u);){var c=r.shift();if(void 0===c||"__proto__"===c||!E(u=u[c])||"function"==typeof u||"number"==typeof u.nodeType||u===h)return}return u},getStyle:function f(r,u,c){var b=H.getStyle||f;if("width"===u)return u=Math.min(r.offsetWidth,r.scrollWidth),(c=r.getBoundingClientRect&&r.getBoundingClientRect().width)<u&&c>=u-1&&(u=Math.floor(c)),Math.max(0,u-(b(r,"padding-left",!0)||0)-(b(r,"padding-right",!0)||0));if("height"===u)return Math.max(0,Math.min(r.offsetHeight,r.scrollHeight)-(b(r,"padding-top",!0)||0)-(b(r,"padding-bottom",!0)||0));if(h.getComputedStyle||K(27,!0),r=h.getComputedStyle(r,void 0)){var O=r.getPropertyValue(u);g(c,"opacity"!==u)&&(O=Q(O))}return O},inArray:function(r,u,c){return K(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),u.indexOf(r,c)},isArray:Y,isClass:P,isDOMElement:I,isFunction:function(r){return"function"==typeof r},isNumber:w,isObject:z,isString:W,keys:function(r){return K(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(r)},merge:function(){var r,u=arguments,c={},b=function(k,_){return"object"!=typeof k&&(k={}),C(_,function(A,B){"__proto__"!==B&&"constructor"!==B&&(k[B]=!z(A,!0)||P(A)||I(A)?_[B]:b(k[B]||{},A))}),k};!0===u[0]&&(c=u[1],u=Array.prototype.slice.call(u,2));var O=u.length;for(r=0;r<O;r++)c=b(c,u[r]);return c},normalizeTickInterval:function(r,u,c,b,O){var k=r,_=r/(c=g(c,1));for(u||(u=O?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===b&&(1===c?u=u.filter(function(A){return A%1==0}):.1>=c&&(u=[1/c]))),b=0;b<u.length&&(k=u[b],!(O&&k*c>=r||!O&&_<=(u[b]+(u[b+1]||u[b]))/2));b++);return S(k*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(r){var u=a.documentElement;return{top:(r=r.parentElement||r.parentNode?r.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(h.pageYOffset||u.scrollTop)-(u.clientTop||0),left:r.left+(h.pageXOffset||u.scrollLeft)-(u.clientLeft||0),width:r.width,height:r.height}},pad:function(r,u,c){return Array((u||2)+1-String(r).replace("-","").length).join(c||"0")+r},pick:g,pInt:Q,relativeLength:function(r,u,c){return/%$/.test(r)?u*parseFloat(r)/100+(c||0):parseFloat(r)},removeEvent:x,splat:function(r){return Y(r)?r:[r]},stableSort:function(r,u){var b,O,c=r.length;for(O=0;O<c;O++)r[O].safeI=O;for(r.sort(function(k,_){return 0===(b=u(k,_))?k.safeI-_.safeI:b}),O=0;O<c;O++)delete r[O].safeI},syncTimeout:function(r,u,c){return 0<u?setTimeout(r,u,c):(r.call(0,c),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:o,useSerialIds:function(r){return d=g(r,d)},wrap:function(r,u,c){var b=r[u];r[u]=function(){var O=Array.prototype.slice.call(arguments),k=arguments,_=this;return _.proceed=function(){b.apply(_,arguments.length?arguments:k)},O.unshift(b),O=c.apply(this,O),_.proceed=null,O}}},n}),lt(F,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),lt(F,"Core/Color/Color.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=K.isNumber,Q=K.merge,W=K.pInt;return function(){function Y(z){this.rgba=[NaN,NaN,NaN,NaN],this.input=z;var I=H.Color;return I&&I!==Y?new I(z):this instanceof Y?void this.init(z):new Y(z)}return Y.parse=function(z){return z?new Y(z):Y.None},Y.prototype.init=function(z){var I;if("object"==typeof z&&void 0!==z.stops)this.stops=z.stops.map(function(s){return new Y(s[1])});else if("string"==typeof z){if(this.input=z=Y.names[z.toLowerCase()]||z,"#"===z.charAt(0)){var P=z.length,w=parseInt(z.substr(1),16);7===P?I=[(16711680&w)>>16,(65280&w)>>8,255&w,1]:4===P&&(I=[(3840&w)>>4|(3840&w)>>8,(240&w)>>4|240&w,(15&w)<<4|15&w,1])}if(!I)for(w=Y.parsers.length;w--&&!I;){var E=Y.parsers[w];(P=E.regex.exec(z))&&(I=E.parse(P))}}I&&(this.rgba=I)},Y.prototype.get=function(z){var I=this.input,P=this.rgba;if("object"==typeof I&&void 0!==this.stops){var w=Q(I);return w.stops=[].slice.call(w.stops),this.stops.forEach(function(E,s){w.stops[s]=[w.stops[s][0],E.get(z)]}),w}return P&&V(P[0])?"rgb"===z||!z&&1===P[3]?"rgb("+P[0]+","+P[1]+","+P[2]+")":"a"===z?""+P[3]:"rgba("+P.join(",")+")":I},Y.prototype.brighten=function(z){var I=this.rgba;if(this.stops)this.stops.forEach(function(w){w.brighten(z)});else if(V(z)&&0!==z)for(var P=0;3>P;P++)I[P]+=W(255*z),0>I[P]&&(I[P]=0),255<I[P]&&(I[P]=255);return this},Y.prototype.setOpacity=function(z){return this.rgba[3]=z,this},Y.prototype.tweenTo=function(z,I){var P=this.rgba,w=z.rgba;return V(P[0])&&V(w[0])?((z=1!==w[3]||1!==P[3])?"rgba(":"rgb(")+Math.round(w[0]+(P[0]-w[0])*(1-I))+","+Math.round(w[1]+(P[1]-w[1])*(1-I))+","+Math.round(w[2]+(P[2]-w[2])*(1-I))+(z?","+(w[3]+(P[3]-w[3])*(1-I)):"")+")":z.input||"none"},Y.names={white:"#ffffff",black:"#000000"},Y.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),parseFloat(z[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),1]}}],Y.None=new Y(""),Y}()}),lt(F,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),lt(F,"Core/Time.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.win,Q=K.defined,W=K.error,Y=K.extend,z=K.isObject,I=K.merge,P=K.objectEach,w=K.pad,E=K.pick,s=K.splat,l=K.timeUnits,g=H.isSafari&&V.Intl&&V.Intl.DateTimeFormat.prototype.formatRange,v=H.isSafari&&V.Intl&&!V.Intl.DateTimeFormat.prototype.formatRange;return K=function(){function S(f){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=V.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(f)}return S.prototype.get=function(f,C){if(this.variableTimezone||this.timezoneOffset){var x=C.getTime(),M=x-this.getTimezoneOffset(C);return C.setTime(M),f=C["getUTC"+f](),C.setTime(x),f}return this.useUTC?C["getUTC"+f]():C["get"+f]()},S.prototype.set=function(f,C,x){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===f||"Seconds"===f||"Minutes"===f&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+f](x);var M=this.getTimezoneOffset(C);return M=C.getTime()-M,C.setTime(M),C["setUTC"+f](x),f=this.getTimezoneOffset(C),M=C.getTime()+f,C.setTime(M)}return this.useUTC||g&&"FullYear"===f?C["setUTC"+f](x):C["set"+f](x)},S.prototype.update=function(f){var C=E(f&&f.useUTC,!0);this.options=f=I(!0,this.options||{},f),this.Date=f.Date||V.Date||Date,this.timezoneOffset=(this.useUTC=C)&&f.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!f.getTimezoneOffset&&!f.timezone)},S.prototype.makeTime=function(f,C,x,M,p,a){if(this.useUTC){var h=this.Date.UTC.apply(0,arguments),n=this.getTimezoneOffset(h),d=this.getTimezoneOffset(h+=n);n!==d?h+=d-n:n-36e5!==this.getTimezoneOffset(h-36e5)||v||(h-=36e5)}else h=new this.Date(f,C,E(x,1),E(M,0),E(p,0),E(a,0)).getTime();return h},S.prototype.timezoneOffsetFunction=function(){var f=this,C=this.options,x=C.getTimezoneOffset,M=C.moment||V.moment;if(!this.useUTC)return function(p){return 6e4*new Date(p.toString()).getTimezoneOffset()};if(C.timezone){if(M)return function(p){return 6e4*-M.tz(p,C.timezone).utcOffset()};W(25)}return this.useUTC&&x?function(p){return 6e4*x(p.valueOf())}:function(){return 6e4*(f.timezoneOffset||0)}},S.prototype.dateFormat=function(f,C,x){if(!Q(C)||isNaN(C))return H.defaultOptions.lang&&H.defaultOptions.lang.invalidDate||"";f=E(f,"%Y-%m-%d %H:%M:%S");var M=this,p=new this.Date(C),a=this.get("Hours",p),h=this.get("Day",p),n=this.get("Date",p),d=this.get("Month",p),o=this.get("FullYear",p),r=H.defaultOptions.lang,u=r&&r.weekdays,c=r&&r.shortWeekdays;return p=Y({a:c?c[h]:u[h].substr(0,3),A:u[h],d:w(n),e:w(n,2," "),w:h,b:r.shortMonths[d],B:r.months[d],m:w(d+1),o:d+1,y:o.toString().substr(2,2),Y:o,H:w(a),k:a,I:w(a%12||12),l:a%12||12,M:w(this.get("Minutes",p)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:w(p.getSeconds()),L:w(Math.floor(C%1e3),3)},H.dateFormats),P(p,function(b,O){for(;-1!==f.indexOf("%"+O);)f=f.replace("%"+O,"function"==typeof b?b.call(M,C):b)}),x?f.substr(0,1).toUpperCase()+f.substr(1):f},S.prototype.resolveDTLFormat=function(f){return z(f,!0)?f:{main:(f=s(f))[0],from:f[1],to:f[2]}},S.prototype.getTimeTicks=function(f,C,x,M){var r,p=this,a=[],h={},n=new p.Date(C),d=f.unitRange,o=f.count||1;if(M=E(M,1),Q(C)){if(p.set("Milliseconds",n,d>=l.second?0:o*Math.floor(p.get("Milliseconds",n)/o)),d>=l.second&&p.set("Seconds",n,d>=l.minute?0:o*Math.floor(p.get("Seconds",n)/o)),d>=l.minute&&p.set("Minutes",n,d>=l.hour?0:o*Math.floor(p.get("Minutes",n)/o)),d>=l.hour&&p.set("Hours",n,d>=l.day?0:o*Math.floor(p.get("Hours",n)/o)),d>=l.day&&p.set("Date",n,d>=l.month?1:Math.max(1,o*Math.floor(p.get("Date",n)/o))),d>=l.month){p.set("Month",n,d>=l.year?0:o*Math.floor(p.get("Month",n)/o));var u=p.get("FullYear",n)}d>=l.year&&p.set("FullYear",n,u-u%o),d===l.week&&(u=p.get("Day",n),p.set("Date",n,p.get("Date",n)-u+M+(u<M?-7:0))),u=p.get("FullYear",n),M=p.get("Month",n);var c=p.get("Date",n),b=p.get("Hours",n);for(C=n.getTime(),!p.variableTimezone&&p.useUTC||!Q(x)||(r=x-C>4*l.month||p.getTimezoneOffset(C)!==p.getTimezoneOffset(x)),C=n.getTime(),n=1;C<x;)a.push(C),C=d===l.year?p.makeTime(u+n*o,0):d===l.month?p.makeTime(u,M+n*o):!r||d!==l.day&&d!==l.week?r&&d===l.hour&&1<o?p.makeTime(u,M,c,b+n*o):C+d*o:p.makeTime(u,M,c+n*o*(d===l.day?1:7)),n++;a.push(C),d<=l.hour&&1e4>a.length&&a.forEach(function(O){O%18e5==0&&"000000000"===p.dateFormat("%H%M%S%L",O)&&(h[O]="day")})}return a.info=Y(f,{higherRanks:h,totalRange:d*o}),a},S.prototype.getDateFormat=function(f,C,x,M){var p=this.dateFormat("%m-%d %H:%M:%S.%L",C),a={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";for(n in l){if(f===l.week&&+this.dateFormat("%w",C)===x&&"00:00:00.000"===p.substr(6)){var n="week";break}if(l[n]>f){n=h;break}if(a[n]&&p.substr(a[n])!=="01-01 00:00:00.000".substr(a[n]))break;"week"!==n&&(h=n)}if(n)var d=this.resolveDTLFormat(M[n]).main;return d},S}(),K}),lt(F,"Core/DefaultOptions.js",[F["Core/Chart/ChartDefaults.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Color/Palettes.js"],F["Core/Time.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){K=K.parse;var z=Y.merge,I={colors:Q.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:H,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:V.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:V.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:K("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};I.chart.styledMode=!1;var P=new W(z(I.global,I.time));return{defaultOptions:I,defaultTime:P,getOptions:function(){return I},setOptions:function(w){return z(!0,I,w),(w.time||w.global)&&(V.time?V.time.update(z(I.global,I.time,w.global,w.time)):V.time=P),I}}}),lt(F,"Core/Animation/Fx.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=H.parse,W=K.win,Y=V.isNumber,z=V.objectEach;return function(){function I(P,w,E){this.pos=NaN,this.options=w,this.elem=P,this.prop=E}return I.prototype.dSetter=function(){var P=this.paths,w=P&&P[0];P=P&&P[1];var E=this.now||0,s=[];if(1!==E&&w&&P)if(w.length===P.length&&1>E)for(var l=0;l<P.length;l++){for(var g=w[l],v=P[l],S=[],f=0;f<v.length;f++){var C=g[f],x=v[f];S[f]=Y(C)&&Y(x)&&("A"!==v[0]||4!==f&&5!==f)?C+E*(x-C):x}s.push(S)}else s=P;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)},I.prototype.update=function(){var P=this.elem,w=this.prop,E=this.now,s=this.options.step;this[w+"Setter"]?this[w+"Setter"]():P.attr?P.element&&P.attr(w,E,null,!0):P.style[w]=E+this.unit,s&&s.call(P,E,this)},I.prototype.run=function(P,w,E){var s=this,l=s.options,g=function(f){return!g.stopped&&s.step(f)},v=W.requestAnimationFrame||function(f){setTimeout(f,13)},S=function(){for(var f=0;f<I.timers.length;f++)I.timers[f]()||I.timers.splice(f--,1);I.timers.length&&v(S)};P!==w||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=P,this.end=w,this.unit=E,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===I.timers.push(g)&&v(S)):(delete l.curAnim[this.prop],l.complete&&0===Object.keys(l.curAnim).length&&l.complete.call(this.elem))},I.prototype.step=function(P){var w=+new Date,E=this.options,s=this.elem,l=E.complete,g=E.duration,v=E.curAnim;if(s.attr&&!s.element)P=!1;else if(P||w>=g+this.startTime){this.now=this.end,this.pos=1,this.update();var S=v[this.prop]=!0;z(v,function(f){!0!==f&&(S=!1)}),S&&l&&l.call(s),P=!1}else this.pos=E.easing((w-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),P=!0;return P},I.prototype.initPath=function(P,w,E){function s(p,a){for(;p.length<M;){var h=p[0],n=a[M-p.length];n&&"M"===h[0]&&(p[0]="C"===n[0]?["C",h[1],h[2],h[1],h[2],h[1],h[2]]:["L",h[1],h[2]]),p.unshift(h),S&&(h=p.pop(),p.push(p[p.length-1],h))}}function l(p,a){for(;p.length<M;)if("C"===(a=p[Math.floor(p.length/f)-1].slice())[0]&&(a[1]=a[5],a[2]=a[6]),S){var h=p[Math.floor(p.length/f)].slice();p.splice(p.length/2,0,a,h)}else p.push(a)}var g=P.startX,v=P.endX;E=E.slice();var S=P.isArea,f=S?2:1;if(!(w=w&&w.slice()))return[E,E];if(g&&v&&v.length){for(P=0;P<g.length;P++){if(g[P]===v[0]){var C=P;break}if(g[0]===v[v.length-g.length+P]){C=P;var x=!0;break}if(g[g.length-1]===v[v.length-g.length+P]){C=g.length-P;break}}void 0===C&&(w=[])}if(w.length&&Y(C)){var M=E.length+C*f;x?(s(w,E),l(E,w)):(s(E,w),l(w,E))}return[w,E]},I.prototype.fillSetter=function(){I.prototype.strokeSetter.apply(this,arguments)},I.prototype.strokeSetter=function(){this.elem.attr(this.prop,Q(this.start).tweenTo(Q(this.end),this.pos),void 0,!0)},I.timers=[],I}()}),lt(F,"Core/Animation/AnimationUtilities.js",[F["Core/Animation/Fx.js"],F["Core/Utilities.js"]],function(H,K){function V(l){return P(l)?w({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function Q(l,g){for(var v=H.timers.length;v--;)H.timers[v].elem!==l||g&&g!==H.timers[v].prop||(H.timers[v].stopped=!0)}var W=K.defined,Y=K.getStyle,z=K.isArray,I=K.isNumber,P=K.isObject,w=K.merge,E=K.objectEach,s=K.pick;return{animate:function(l,g,v){var S,C,x,f="";if(!P(v)){var M=arguments;v={duration:M[2],easing:M[3],complete:M[4]}}I(v.duration)||(v.duration=400),v.easing="function"==typeof v.easing?v.easing:Math[v.easing]||Math.easeInOutSine,v.curAnim=w(g),E(g,function(p,a){Q(l,a),x=new H(l,v,a),C=void 0,"d"===a&&z(g.d)?(x.paths=x.initPath(l,l.pathArray,g.d),x.toD=g.d,S=0,C=1):l.attr?S=l.attr(a):(S=parseFloat(Y(l,a))||0,"opacity"!==a&&(f="px")),C||(C=p),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),x.run(S,C,f)})},animObject:V,getDeferredAnimation:function(l,g,v){var S=V(g),f=0,C=0;return(v?[v]:l.series).forEach(function(x){x=V(x.options.animation),f=g&&W(g.defer)?S.defer:Math.max(f,x.duration+x.defer),C=Math.min(S.duration,x.duration)}),l.renderer.forExport&&(f=0),{defer:Math.max(0,f-C),duration:Math.min(f,C)}},setAnimation:function(l,g){g.renderer.globalAnimation=s(l,g.options.chart.animation,!0)},stop:Q}}),lt(F,"Core/Renderer/HTML/AST.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.SVG_NS,Q=K.attr,W=K.createElement,Y=K.error,z=K.isFunction,I=K.isString,P=K.objectEach,w=K.splat,E=(K=H.win.trustedTypes)&&z(K.createPolicy)&&K.createPolicy("highcharts",{createHTML:function(g){return g}}),s=E?E.createHTML(""):"";try{var l=!!(new DOMParser).parseFromString(s,"text/html")}catch(g){l=!1}return function(){function g(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}return g.filterUserAttributes=function(v){return P(v,function(S,f){var C=!0;-1===g.allowedAttributes.indexOf(f)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(f)&&(C=I(S)&&g.allowedReferences.some(function(x){return 0===S.indexOf(x)})),C||(Y("Highcharts warning: Invalid attribute '"+f+"' in config"),delete v[f])}),v},g.setElementHTML=function(v,S){v.innerHTML=g.emptyHTML,S&&new g(S).addToDOM(v)},g.prototype.addToDOM=function(v){return function S(f,C){var x;return w(f).forEach(function(M){var p=M.tagName,a=M.textContent?H.doc.createTextNode(M.textContent):void 0;if(p)if("#text"===p)var h=a;else if(-1!==g.allowedTags.indexOf(p)){p=H.doc.createElementNS("svg"===p?V:C.namespaceURI||V,p);var n=M.attributes||{};P(M,function(d,o){"tagName"!==o&&"attributes"!==o&&"children"!==o&&"textContent"!==o&&(n[o]=d)}),Q(p,g.filterUserAttributes(n)),a&&p.appendChild(a),S(M.children||[],p),h=p}else Y("Highcharts warning: Invalid tagName "+p+" in config");h&&C.appendChild(h),x=h}),x}(this.nodes,v)},g.prototype.parseMarkup=function(v){var S=[];if(v=v.trim(),l)v=(new DOMParser).parseFromString(E?E.createHTML(v):v,"text/html");else{var f=W("div");f.innerHTML=v,v={body:f}}var C=function(x,M){var p=x.nodeName.toLowerCase(),a={tagName:p};if("#text"===p&&(a.textContent=x.textContent||""),p=x.attributes){var h={};[].forEach.call(p,function(d){h[d.name]=d.value}),a.attributes=h}if(x.childNodes.length){var n=[];[].forEach.call(x.childNodes,function(d){C(d,n)}),n.length&&(a.children=n)}M.push(a)};return[].forEach.call(v.body.childNodes,function(x){return C(x,S)}),S},g.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),g.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),g.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),g.emptyHTML=s,g}()}),lt(F,"Core/FormatUtilities.js",[F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E,s,l){E=+E;var g=Q.lang,v=((w=+w||0).toString().split(".")[1]||"").split("e")[0].length,S=w.toString().split("e"),f=E;if(-1===E)E=Math.min(v,20);else if(z(E)){if(E&&S[1]&&0>S[1]){var C=E+ +S[1];0<=C?(S[0]=(+S[0]).toExponential(C).split("e")[0],E=C):(S[0]=S[0].split(".")[0]||0,w=20>E?(S[0]*Math.pow(10,S[1])).toFixed(E):0,S[1]=0)}}else E=2;C=(Math.abs(S[1]?S[0]:w)+Math.pow(10,-Math.max(E,v)-1)).toFixed(E);var x=3<(v=String(P(C))).length?v.length%3:0;return s=I(s,g.decimalPoint),l=I(l,g.thousandsSep),w=(0>w?"-":"")+(x?v.substr(0,x)+l:""),w=0>+S[1]&&!f?"0":w+v.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+l),E&&(w+=s+C.slice(-E)),S[1]&&0!=+w&&(w+="e"+S[1]),w}var Q=H.defaultOptions,W=H.defaultTime,Y=K.getNestedProperty,z=K.isNumber,I=K.pick,P=K.pInt;return{dateFormat:function(w,E,s){return W.dateFormat(w,E,s)},format:function(w,E,s){var l="{",g=!1,v=/f$/,S=/\.([0-9])/,f=Q.lang,C=s&&s.time||W;s=s&&s.numberFormatter||V;for(var x=[];w;){var M=w.indexOf(l);if(-1===M)break;var p=w.slice(0,M);if(g){if(p=p.split(":"),l=Y(p.shift()||"",E),p.length&&"number"==typeof l)if(p=p.join(":"),v.test(p)){var a=parseInt((p.match(S)||["","-1"])[1],10);null!==l&&(l=s(l,a,f.decimalPoint,-1<p.indexOf(",")?f.thousandsSep:""))}else l=C.dateFormat(p,l);x.push(l)}else x.push(p);w=w.slice(M+1),l=(g=!g)?"}":"{"}return x.push(w),x.join("")},numberFormat:V}}),lt(F,"Core/Renderer/RendererUtilities.js",[F["Core/Utilities.js"]],function(H){var W,K=H.clamp,V=H.pick,Q=H.stableSort;return(W||(W={})).distribute=function z(I,P,w){var v,E=I,s=E.reducedLen||P,l=function(x,M){return(M.rank||0)-(x.rank||0)},g=function(x,M){return x.target-M.target},S=!0,f=[],C=0;for(v=I.length;v--;)C+=I[v].size;if(C>s){for(Q(I,l),C=v=0;C<=s;)C+=I[v].size,v++;f=I.splice(v-1,I.length)}for(Q(I,g),I=I.map(function(x){return{size:x.size,targets:[x.target],align:V(x.align,.5)}});S;){for(v=I.length;v--;)s=I[v],l=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=K(l-s.size*s.align,0,P-s.size);for(v=I.length,S=!1;v--;)0<v&&I[v-1].pos+I[v-1].size>I[v].pos&&(I[v-1].size+=I[v].size,I[v-1].targets=I[v-1].targets.concat(I[v].targets),I[v-1].align=.5,I[v-1].pos+I[v-1].size>P&&(I[v-1].pos=P-I[v-1].size),I.splice(v,1),S=!0)}return E.push.apply(E,f),v=0,I.some(function(x){var M=0;return(x.targets||[]).some(function(){return E[v].pos=x.pos+M,void 0!==w&&Math.abs(E[v].pos-E[v].target)>w?(E.slice(0,v+1).forEach(function(p){return delete p.pos}),E.reducedLen=(E.reducedLen||P)-.1*P,E.reducedLen>.1*P&&z(E,P,w),!0):(M+=E[v].size,v++,!1)})}),Q(E,g),E},W}),lt(F,"Core/Renderer/SVG/SVGElement.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.animate,z=H.animObject,I=H.stop,P=Q.deg2rad,w=Q.doc,E=Q.noop,s=Q.svg,l=Q.SVG_NS,g=Q.win,v=W.addEvent,S=W.attr,f=W.createElement,C=W.css,x=W.defined,M=W.erase,p=W.extend,a=W.fireEvent,h=W.isArray,n=W.isFunction,d=W.isNumber,o=W.isString,r=W.merge,u=W.objectEach,c=W.pick,b=W.pInt,O=W.syncTimeout,k=W.uniqueKey;return H=function(){function _(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=l,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return _.prototype._defaultGetter=function(A){return A=c(this[A+"Value"],this[A],this.element?this.element.getAttribute(A):null,0),/^[\-0-9\.]+$/.test(A)&&(A=parseFloat(A)),A},_.prototype._defaultSetter=function(A,B,m){m.setAttribute(B,A)},_.prototype.add=function(A){var B=this.renderer,m=this.element;if(A&&(this.parentGroup=A),this.parentInverted=A&&A.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!A||A.handleZ||this.zIndex)var T=this.zIndexSetter();return T||(A?A.element:B.box).appendChild(m),this.onAdd&&this.onAdd(),this},_.prototype.addClass=function(A,B){var m=B?"":this.attr("class")||"";return(A=(A||"").split(/ /g).reduce(function(T,R){return-1===m.indexOf(R)&&T.push(R),T},m?[m]:[]).join(" "))!==m&&this.attr("class",A),this},_.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},_.prototype.align=function(A,B,m){var X,$,D,T={},R=this.renderer,j=R.alignedObjects;A?(this.alignOptions=A,this.alignByTranslate=B,(!m||o(m))&&(this.alignTo=X=m||"renderer",M(j,this),j.push(this),m=void 0)):(A=this.alignOptions,B=this.alignByTranslate,X=this.alignTo),m=c(m,R[X],"scrollablePlotBox"===X?R.plotBox:void 0,R);var U=A.verticalAlign;return R=(m.x||0)+(A.x||0),j=(m.y||0)+(A.y||0),"right"===(X=A.align)?$=1:"center"===X&&($=2),$&&(R+=(m.width-(A.width||0))/$),T[B?"translateX":"x"]=Math.round(R),"bottom"===U?D=1:"middle"===U&&(D=2),D&&(j+=(m.height-(A.height||0))/D),T[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](T),this.placed=!0,this.alignAttr=T,this},_.prototype.alignSetter=function(A){var B={left:"start",center:"middle",right:"end"};B[A]&&(this.alignValue=A,this.element.setAttribute("text-anchor",B[A]))},_.prototype.animate=function(A,B,m){var T=this,R=z(c(B,this.renderer.globalAnimation,!0));return B=R.defer,c(w.hidden,w.msHidden,w.webkitHidden,!1)&&(R.duration=0),0!==R.duration?(m&&(R.complete=m),O(function(){T.element&&Y(T,A,R)},B)):(this.attr(A,void 0,m),u(A,function(j,X){R.step&&R.step.call(this,j,{prop:X,pos:1,elem:this})},this)),this},_.prototype.applyTextOutline=function(A){var B=this.element;-1!==A.indexOf("contrast")&&(A=A.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var m=A.split(" ");if(A=m[m.length-1],(m=m[0])&&"none"!==m&&Q.svg){this.fakeTS=!0,this.ySetter=this.xSetter,m=m.replace(/(^[\d\.]+)(.*?)$/g,function(j,X,$){return 2*Number(X)+$}),this.removeTextOutline();var T=w.createElementNS(l,"tspan");S(T,{class:"highcharts-text-outline",fill:A,stroke:A,"stroke-width":m,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var X=j.cloneNode(!0);X.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function($){return X.removeAttribute($)}),T.appendChild(X)});var R=w.createElementNS(l,"tspan");R.textContent="\u200b",["x","y"].forEach(function(j){var X=B.getAttribute(j);X&&R.setAttribute(j,X)}),T.appendChild(R),B.insertBefore(T,B.firstChild)}},_.prototype.attr=function(A,B,m,T){var X,D,U,R=this.element,j=this.symbolCustomAttribs,$=this;if("string"==typeof A&&void 0!==B){var N=A;(A={})[N]=B}return"string"==typeof A?$=(this[A+"Getter"]||this._defaultGetter).call(this,A,R):(u(A,function(Z,q){D=!1,T||I(this,q),this.symbolName&&-1!==j.indexOf(q)&&(X||(this.symbolAttr(A),X=!0),D=!0),!this.rotation||"x"!==q&&"y"!==q||(this.doTransform=!0),D||((U=this[q+"Setter"]||this._defaultSetter).call(this,Z,q,R),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(q)&&this.updateShadows(q,Z,U))},this),this.afterSetters()),m&&m.call(this),$},_.prototype.clip=function(A){return this.attr("clip-path",A?"url("+this.renderer.url+"#"+A.id+")":"none")},_.prototype.crisp=function(A,B){B=B||A.strokeWidth||0;var m=Math.round(B)%2/2;return A.x=Math.floor(A.x||this.x||0)+m,A.y=Math.floor(A.y||this.y||0)+m,A.width=Math.floor((A.width||this.width||0)-2*m),A.height=Math.floor((A.height||this.height||0)-2*m),x(A.strokeWidth)&&(A.strokeWidth=B),A},_.prototype.complexColor=function(A,B,m){var R,j,X,$,D,U,N,Z,q,nt,ot,T=this.renderer,it=[];a(this.renderer,"complexColor",{args:arguments},function(){if(A.radialGradient?j="radialGradient":A.linearGradient&&(j="linearGradient"),j){if(D=T.gradients,U=A.stops,q=m.radialReference,h(X=A[j])&&(A[j]=X={x1:X[0],y1:X[1],x2:X[2],y2:X[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&q&&!x(X.gradientUnits)&&(X=r(X,T.getRadialAttr(q,$=X),{gradientUnits:"userSpaceOnUse"})),u(X,function(mt,yt){"id"!==yt&&it.push(yt,mt)}),u(U,function(mt){it.push(mt)}),it=it.join(","),D[it])nt=D[it].attr("id");else{X.id=nt=k();var at=D[it]=T.createElement(j).attr(X).add(T.defs);at.radAttr=$,at.stops=[],U.forEach(function(mt){0===mt[1].indexOf("rgba")?(R=V.parse(mt[1]),N=R.get("rgb"),Z=R.get("a")):(N=mt[1],Z=1),mt=T.createElement("stop").attr({offset:mt[0],"stop-color":N,"stop-opacity":Z}).add(at),at.stops.push(mt)})}m.setAttribute(B,ot="url("+T.url+"#"+nt+")"),m.gradient=it,A.toString=function(){return ot}}})},_.prototype.css=function(A){var B=this.styles,m={},T=this.element,R=["textOutline","textOverflow","width"],j="",X=!B;if(A&&A.color&&(A.fill=A.color),B&&u(A,function(U,N){B&&B[N]!==U&&(m[N]=U,X=!0)}),X){if(B&&(A=p(B,m)),A)if(null===A.width||"auto"===A.width)delete this.textWidth;else if("text"===T.nodeName.toLowerCase()&&A.width)var $=this.textWidth=b(A.width);if(this.styles=A,$&&!s&&this.renderer.forExport&&delete A.width,T.namespaceURI===this.SVG_NS){var D=function(U,N){return"-"+N.toLowerCase()};u(A,function(U,N){-1===R.indexOf(N)&&(j+=N.replace(/([A-Z])/g,D)+":"+U+";")}),j&&S(T,"style",j)}else C(T,A);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),A&&A.textOutline&&this.applyTextOutline(A.textOutline))}return this},_.prototype.dashstyleSetter=function(A){var B=this["stroke-width"];if("inherit"===B&&(B=1),A=A&&A.toLowerCase()){var m=A.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=m.length;A--;)m[A]=""+b(m[A])*c(B,NaN);A=m.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",A)}},_.prototype.destroy=function(){var A=this,B=A.element||{},m=A.renderer,T=B.ownerSVGElement,R=m.isSVG&&"SPAN"===B.nodeName&&A.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,I(A),A.clipPath&&T){var j=A.clipPath;[].forEach.call(T.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){-1<X.getAttribute("clip-path").indexOf(j.element.id)&&X.removeAttribute("clip-path")}),A.clipPath=j.destroy()}if(A.stops){for(T=0;T<A.stops.length;T++)A.stops[T].destroy();A.stops.length=0,A.stops=void 0}for(A.safeRemoveChild(B),m.styledMode||A.destroyShadows();R&&R.div&&0===R.div.childNodes.length;)B=R.parentGroup,A.safeRemoveChild(R.div),delete R.div,R=B;A.alignTo&&M(m.alignedObjects,A),u(A,function(X,$){A[$]&&A[$].parentGroup===A&&A[$].destroy&&A[$].destroy(),delete A[$]})},_.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(A){this.safeRemoveChild(A)},this),this.shadows=void 0},_.prototype.destroyTextPath=function(A,B){var m=A.getElementsByTagName("text")[0];if(m){if(m.removeAttribute("dx"),m.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&m.getElementsByTagName("textPath").length){for(A=this.textPathWrapper.element.childNodes;A.length;)m.appendChild(A[0]);m.removeChild(this.textPathWrapper.element)}}else(A.getAttribute("dx")||A.getAttribute("dy"))&&(A.removeAttribute("dx"),A.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},_.prototype.dSetter=function(A,B,m){h(A)&&("string"==typeof A[0]&&(A=this.renderer.pathToSegments(A)),this.pathArray=A,A=A.reduce(function(T,R,j){return R&&R.join?(j?T+" ":"")+R.join(" "):(R||"").toString()},"")),/(NaN| {2}|^$)/.test(A)&&(A="M 0 0"),this[B]!==A&&(m.setAttribute(B,A),this[B]=A)},_.prototype.fadeOut=function(A){var B=this;B.animate({opacity:0},{duration:c(A,150),complete:function(){B.attr({y:-9999}).hide()}})},_.prototype.fillSetter=function(A,B,m){"string"==typeof A?m.setAttribute(B,A):A&&this.complexColor(A,B,m)},_.prototype.getBBox=function(A,B){var m=this.renderer,T=this.element,R=this.styles,j=this.textStr,X=m.cache,$=m.cacheKeys,D=T.namespaceURI===this.SVG_NS;B=c(B,this.rotation,0);var N,U=m.styledMode?T&&_.prototype.getStyle.call(T,"font-size"):R&&R.fontSize;if(x(j)){var Z=j.toString();-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",B,U,this.textWidth,R&&R.textOverflow,R&&R.fontWeight].join()}if(Z&&!A&&(N=X[Z]),!N){if(D||m.forExport){try{var q=this.fakeTS&&function(nt){var it=T.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};n(q)&&q("none"),N=T.getBBox?p({},T.getBBox()):{width:T.offsetWidth,height:T.offsetHeight},n(q)&&q("")}catch(nt){}(!N||0>N.width)&&(N={width:0,height:0})}else N=this.htmlGetBBox();if(m.isSVG&&(A=N.width,m=N.height,D&&(N.height=m={"11px,17":14,"13px,20":16}[(U||"")+","+Math.round(m)]||m),B&&(D=B*P,N.width=Math.abs(m*Math.sin(D))+Math.abs(A*Math.cos(D)),N.height=Math.abs(m*Math.cos(D))+Math.abs(A*Math.sin(D)))),Z&&(""===j||0<N.height)){for(;250<$.length;)delete X[$.shift()];X[Z]||$.push(Z),X[Z]=N}}return N},_.prototype.getStyle=function(A){return g.getComputedStyle(this.element||this,"").getPropertyValue(A)},_.prototype.hasClass=function(A){return-1!==(""+this.attr("class")).split(" ").indexOf(A)},_.prototype.hide=function(A){return this.attr(A?{y:-9999}:{visibility:"hidden"}),this},_.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},_.prototype.init=function(A,B){this.element="span"===B?f(B):w.createElementNS(this.SVG_NS,B),this.renderer=A,a(this,"afterInit")},_.prototype.invert=function(A){return this.inverted=A,this.updateTransform(),this},_.prototype.on=function(A,B){var m=this.onEvents;return m[A]&&m[A](),m[A]=v(this.element,A,B),this},_.prototype.opacitySetter=function(A,B,m){this.opacity=A=Number(Number(A).toFixed(3)),m.setAttribute(B,A)},_.prototype.removeClass=function(A){return this.attr("class",(""+this.attr("class")).replace(o(A)?new RegExp("(^| )"+A+"( |$)"):A," ").replace(/ +/g," ").trim())},_.prototype.removeTextOutline=function(){var A=this.element.querySelector("tspan.highcharts-text-outline");A&&this.safeRemoveChild(A)},_.prototype.safeRemoveChild=function(A){var B=A.parentNode;B&&B.removeChild(A)},_.prototype.setRadialReference=function(A){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=A,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(A,B.radAttr)),this},_.prototype.setTextPath=function(A,B){var m=this.element,T=this.text?this.text.element:m,R={textAnchor:"text-anchor"},j=!1,X=this.textPathWrapper,$=!X;B=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var D=K.filterUserAttributes(B.attributes);if(A&&B&&B.enabled){X&&null===X.element.parentNode?($=!0,X=X.destroy()):X&&this.removeTextOutline.call(X.parentGroup),this.options&&this.options.padding&&(D.dx=-this.options.padding),X||(this.textPathWrapper=X=this.renderer.createElement("textPath"),j=!0);var U=X.element;if((B=A.element.getAttribute("id"))||A.element.setAttribute("id",B=k()),$)for(T.setAttribute("y",0),d(D.dx)&&T.setAttribute("x",-D.dx),A=[].slice.call(T.childNodes),$=0;$<A.length;$++){var N=A[$];N.nodeType!==g.Node.TEXT_NODE&&"tspan"!==N.nodeName||U.appendChild(N)}j&&X&&X.add({element:T}),U.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),x(D.dy)&&(U.parentNode.setAttribute("dy",D.dy),delete D.dy),x(D.dx)&&(U.parentNode.setAttribute("dx",D.dx),delete D.dx),u(D,function(Z,q){U.setAttribute(R[q]||q,Z)}),m.removeAttribute("transform"),this.removeTextOutline.call(X),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=E}else X&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(m,A),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},_.prototype.shadow=function(A,B,m){var D,T=[],R=this.element,j=this.oldShadowOptions,X={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},$=!1;if(!0===A?D=X:"object"==typeof A&&(D=p(X,A)),D&&(D&&j&&u(D,function(nt,it){nt!==j[it]&&($=!0)}),$&&this.destroyShadows(),this.oldShadowOptions=D),D){if(!this.shadows){var U=D.opacity/D.width,N=this.parentInverted?"translate("+D.offsetY+", "+D.offsetX+")":"translate("+D.offsetX+", "+D.offsetY+")";for(X=1;X<=D.width;X++){var Z=R.cloneNode(!1),q=2*D.width+1-2*X;S(Z,{stroke:A.color||"#000000","stroke-opacity":U*X,"stroke-width":q,transform:N,fill:"none"}),Z.setAttribute("class",(Z.getAttribute("class")||"")+" highcharts-shadow"),m&&(S(Z,"height",Math.max(S(Z,"height")-q,0)),Z.cutHeight=q),B?B.element.appendChild(Z):R.parentNode&&R.parentNode.insertBefore(Z,R),T.push(Z)}this.shadows=T}}else this.destroyShadows();return this},_.prototype.show=function(A){return this.attr({visibility:A?"inherit":"visible"})},_.prototype.strokeSetter=function(A,B,m){this[B]=A,this.stroke&&this["stroke-width"]?(_.prototype.fillSetter.call(this,this.stroke,"stroke",m),m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===A&&this.hasStroke?(m.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},_.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var A=this.getStyle("stroke-width"),B=0;if(A.indexOf("px")===A.length-2)B=b(A);else if(""!==A){var m=w.createElementNS(l,"rect");S(m,{width:A,"stroke-width":0}),this.element.parentNode.appendChild(m),B=m.getBBox().width,m.parentNode.removeChild(m)}return B},_.prototype.symbolAttr=function(A){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(m){B[m]=c(A[m],B[m])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},_.prototype.textSetter=function(A){A!==this.textStr&&(delete this.textPxLength,this.textStr=A,this.added&&this.renderer.buildText(this))},_.prototype.titleSetter=function(A){var B=this.element,m=B.getElementsByTagName("title")[0]||w.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(m,B.firstChild):B.appendChild(m),m.textContent=String(c(A,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},_.prototype.toFront=function(){var A=this.element;return A.parentNode.appendChild(A),this},_.prototype.translate=function(A,B){return this.attr({translateX:A,translateY:B})},_.prototype.updateShadows=function(A,B,m){var T=this.shadows;if(T)for(var R=T.length;R--;)m.call(T[R],"height"===A?Math.max(B-(T[R].cutHeight||0),0):"d"===A?this.d:B,A,T[R])},_.prototype.updateTransform=function(){var A=this.scaleX,B=this.scaleY,m=this.inverted,T=this.rotation,R=this.matrix,j=this.element,X=this.translateX||0,$=this.translateY||0;m&&(X+=this.width,$+=this.height),X=["translate("+X+","+$+")"],x(R)&&X.push("matrix("+R.join(",")+")"),m?X.push("rotate(90) scale(-1,1)"):T&&X.push("rotate("+T+" "+c(this.rotationOriginX,j.getAttribute("x"),0)+" "+c(this.rotationOriginY,j.getAttribute("y")||0)+")"),(x(A)||x(B))&&X.push("scale("+c(A,1)+" "+c(B,1)+")"),X.length&&j.setAttribute("transform",X.join(" "))},_.prototype.visibilitySetter=function(A,B,m){"inherit"===A?m.removeAttribute(B):this[B]!==A&&m.setAttribute(B,A),this[B]=A},_.prototype.xGetter=function(A){return"circle"===this.element.nodeName&&("x"===A?A="cx":"y"===A&&(A="cy")),this._defaultGetter(A)},_.prototype.zIndexSetter=function(A,B){var m=this.renderer,T=this.parentGroup,R=(T||m).element||m.box,j=this.element;m=R===m.box;var D,X=!1,$=this.added;if(x(A)?(j.setAttribute("data-z-index",A),this[B]===(A=+A)&&($=!1)):x(this[B])&&j.removeAttribute("data-z-index"),this[B]=A,$){for((A=this.zIndex)&&T&&(T.handleZ=!0),D=(B=R.childNodes).length-1;0<=D&&!X;D--){$=(T=B[D]).getAttribute("data-z-index");var U=!x($);T!==j&&(0>A&&U&&!m&&!D?(R.insertBefore(j,B[D]),X=!0):(b($)<=A||U&&(!x(A)||0<=A))&&(R.insertBefore(j,B[D+1]||null),X=!0))}X||(R.insertBefore(j,B[m?3:0]||null),X=!0)}return X},_}(),H.prototype["stroke-widthSetter"]=H.prototype.strokeSetter,H.prototype.yGetter=H.prototype.xGetter,H.prototype.matrixSetter=H.prototype.rotationOriginXSetter=H.prototype.rotationOriginYSetter=H.prototype.rotationSetter=H.prototype.scaleXSetter=H.prototype.scaleYSetter=H.prototype.translateXSetter=H.prototype.translateYSetter=H.prototype.verticalAlignSetter=function(_,A){this[A]=_,this.doTransform=!0},H}),lt(F,"Core/Renderer/RendererRegistry.js",[F["Core/Globals.js"]],function(H){var K,V,Q;return(V=K||(K={})).rendererTypes={},V.getRendererType=function(W){return void 0===W&&(W=Q),V.rendererTypes[W]||V.rendererTypes[Q]},V.registerRendererType=function(W,Y,z){V.rendererTypes[W]=Y,(!Q||z)&&(Q=W,H.Renderer=Y)},K}),lt(F,"Core/Renderer/SVG/SVGLabel.js",[F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K){var w,V=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Q=K.defined,W=K.extend,Y=K.isNumber,z=K.merge,I=K.pick,P=K.removeEvent;return function(w){function E(s,l,g,v,S,f,C,x,M,p){var h,a=w.call(this)||this;return a.paddingLeftSetter=a.paddingSetter,a.paddingRightSetter=a.paddingSetter,a.init(s,"g"),a.textStr=l,a.x=g,a.y=v,a.anchorX=f,a.anchorY=C,a.baseline=M,a.className=p,a.addClass("button"===p?"highcharts-no-tooltip":"highcharts-label"),p&&a.addClass("highcharts-"+p),a.text=s.text(void 0,0,0,x).attr({zIndex:1}),"string"==typeof S&&((h=/^url\((.*?)\)$/.test(S))||a.renderer.symbols[S])&&(a.symbolKey=S),a.bBox=E.emptyBBox,a.padding=3,a.baselineOffset=0,a.needsBox=s.styledMode||h,a.deferredAttr={},a.alignFactor=0,a}return V(E,w),E.prototype.alignSetter=function(s){(s={left:0,center:.5,right:1}[s])!==this.alignFactor&&(this.alignFactor=s,this.bBox&&Y(this.xSetting)&&this.attr({x:this.xSetting}))},E.prototype.anchorXSetter=function(s,l){this.anchorX=s,this.boxAttr(l,Math.round(s)-this.getCrispAdjust()-this.xSetting)},E.prototype.anchorYSetter=function(s,l){this.anchorY=s,this.boxAttr(l,s-this.ySetting)},E.prototype.boxAttr=function(s,l){this.box?this.box.attr(s,l):this.deferredAttr[s]=l},E.prototype.css=function(s){if(s){var l={};s=z(s),E.textProps.forEach(function(v){void 0!==s[v]&&(l[v]=s[v],delete s[v])}),this.text.css(l);var g="width"in l;"fontSize"in l||"fontWeight"in l?this.updateTextPadding():g&&this.updateBoxSize()}return H.prototype.css.call(this,s)},E.prototype.destroy=function(){P(this.element,"mouseenter"),P(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),H.prototype.destroy.call(this)},E.prototype.fillSetter=function(s,l){s&&(this.needsBox=!0),this.fill=s,this.boxAttr(l,s)},E.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var s=this.padding,l=I(this.paddingLeft,s);return{width:this.width,height:this.height,x:this.bBox.x-l,y:this.bBox.y-s}},E.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},E.prototype.heightSetter=function(s){this.heightSetting=s},E.prototype.onAdd=function(){var s=this.textStr;this.text.add(this),this.attr({text:Q(s)?s:"",x:this.x,y:this.y}),this.box&&Q(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},E.prototype.paddingSetter=function(s,l){Y(s)?s!==this[l]&&(this[l]=s,this.updateTextPadding()):this[l]=void 0},E.prototype.rSetter=function(s,l){this.boxAttr(l,s)},E.prototype.shadow=function(s){return s&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(s)),this},E.prototype.strokeSetter=function(s,l){this.stroke=s,this.boxAttr(l,s)},E.prototype["stroke-widthSetter"]=function(s,l){s&&(this.needsBox=!0),this["stroke-width"]=s,this.boxAttr(l,s)},E.prototype["text-alignSetter"]=function(s){this.textAlign=s},E.prototype.textSetter=function(s){void 0!==s&&this.text.attr({text:s}),this.updateTextPadding()},E.prototype.updateBoxSize=function(){var s=this.text.element.style,l={},g=this.padding,v=this.bBox=Y(this.widthSetting)&&Y(this.heightSetting)&&!this.textAlign||!Q(this.text.textStr)?E.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||v.height||0)+2*g,s=this.renderer.fontMetrics(s&&s.fontSize,this.text),this.baselineOffset=g+Math.min((this.text.firstLineMetrics||s).b,v.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-s.h)/2),this.needsBox&&(this.box||((g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)),g=this.getCrispAdjust(),l.x=g,l.y=(this.baseline?-this.baselineOffset:0)+g,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(W(l,this.deferredAttr)),this.deferredAttr={})},E.prototype.updateTextPadding=function(){var s=this.text;this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,g=I(this.paddingLeft,this.padding);Q(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(g+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(g!==s.x||l!==s.y)&&(s.attr("x",g),s.hasBoxWidthChanged&&(this.bBox=s.getBBox(!0)),void 0!==l&&s.attr("y",l)),s.x=g,s.y=l},E.prototype.widthSetter=function(s){this.widthSetting=Y(s)?s:void 0},E.prototype.getPaddedWidth=function(){var s=this.padding,l=I(this.paddingLeft,s);return s=I(this.paddingRight,s),(this.widthSetting||this.bBox.width||0)+l+s},E.prototype.xSetter=function(s){this.x=s,this.alignFactor&&(s-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(s),this.attr("translateX",this.xSetting)},E.prototype.ySetter=function(s){this.ySetting=this.y=Math.round(s),this.attr("translateY",this.ySetting)},E.emptyBBox={width:0,height:0,x:0,y:0},E.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),E}(H)}),lt(F,"Core/Renderer/SVG/Symbols.js",[F["Core/Utilities.js"]],function(H){function K(I,P,w,E,s){var l=[];if(s){var g=s.start||0,v=z(s.r,w);w=z(s.r,E||w);var S=(s.end||0)-.001;E=s.innerR;var f=z(s.open,.001>Math.abs((s.end||0)-g-2*Math.PI)),C=Math.cos(g),x=Math.sin(g),M=Math.cos(S),p=Math.sin(S);g=z(s.longArc,.001>S-g-Math.PI?0:1),l.push(["M",I+v*C,P+w*x],["A",v,w,0,g,z(s.clockwise,1),I+v*M,P+w*p]),W(E)&&l.push(f?["M",I+E*M,P+E*p]:["L",I+E*M,P+E*p],["A",E,E,0,g,W(s.clockwise)?1-s.clockwise:0,I+E*C,P+E*x]),f||l.push(["Z"])}return l}function V(I,P,w,E,s){return s&&s.r?Q(I,P,w,E,s):[["M",I,P],["L",I+w,P],["L",I+w,P+E],["L",I,P+E],["Z"]]}function Q(I,P,w,E,s){return[["M",I+(s=s&&s.r||0),P],["L",I+w-s,P],["C",I+w,P,I+w,P,I+w,P+s],["L",I+w,P+E-s],["C",I+w,P+E,I+w,P+E,I+w-s,P+E],["L",I+s,P+E],["C",I,P+E,I,P+E,I,P+E-s],["L",I,P+s],["C",I,P,I,P,I+s,P]]}var W=H.defined,Y=H.isNumber,z=H.pick;return{arc:K,callout:function(I,P,w,E,s){var l=Math.min(s&&s.r||0,w,E),g=l+6,v=s&&s.anchorX;s=s&&s.anchorY||0;var S=Q(I,P,w,E,{r:l});return Y(v)&&(I+v>=w?s>P+g&&s<P+E-g?S.splice(3,1,["L",I+w,s-6],["L",I+w+6,s],["L",I+w,s+6],["L",I+w,P+E-l]):S.splice(3,1,["L",I+w,E/2],["L",v,s],["L",I+w,E/2],["L",I+w,P+E-l]):0>=I+v?s>P+g&&s<P+E-g?S.splice(7,1,["L",I,s+6],["L",I-6,s],["L",I,s-6],["L",I,P+l]):S.splice(7,1,["L",I,E/2],["L",v,s],["L",I,E/2],["L",I,P+l]):s&&s>E&&v>I+g&&v<I+w-g?S.splice(5,1,["L",v+6,P+E],["L",v,P+E+6],["L",v-6,P+E],["L",I+l,P+E]):s&&0>s&&v>I+g&&v<I+w-g&&S.splice(1,1,["L",v-6,P],["L",v,P-6],["L",v+6,P],["L",w-l,P])),S},circle:function(I,P,w,E){return K(I+w/2,P+E/2,w/2,E/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E/2],["L",I+w/2,P+E],["L",I,P+E/2],["Z"]]},rect:V,roundedRect:Q,square:V,triangle:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E],["L",I,P+E],["Z"]]},"triangle-down":function(I,P,w,E){return[["M",I,P],["L",I+w,P],["L",I+w/2,P+E],["Z"]]}}}),lt(F,"Core/Renderer/SVG/TextBuilder.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.doc,W=K.SVG_NS,Y=K.win,z=V.attr,I=V.isString,P=V.objectEach,w=V.pick;return function(){function E(s){var l=s.styles;this.renderer=s.renderer,this.svgElement=s,this.width=s.textWidth,this.textLineHeight=l&&l.lineHeight,this.textOutline=l&&l.textOutline,this.ellipsis=!(!l||"ellipsis"!==l.textOverflow),this.noWrap=!(!l||"nowrap"!==l.whiteSpace),this.fontSize=l&&l.fontSize}return E.prototype.buildSVG=function(){var s=this.svgElement,l=s.element,g=s.renderer,v=w(s.textStr,"").toString(),S=-1!==v.indexOf("<"),f=l.childNodes;g=this.width&&!s.added&&g.box;var x=[v,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(x!==s.textCache){for(s.textCache=x,delete s.actualWidth,x=f.length;x--;)l.removeChild(f[x]);S||this.ellipsis||this.width||-1!==v.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(v))?""!==v&&(g&&g.appendChild(l),v=new H(v),this.modifyTree(v.nodes),v.addToDOM(s.element),this.modifyDOM(),this.ellipsis&&-1!==(l.textContent||"").indexOf("\u2026")&&s.attr("title",this.unescapeEntities(s.textStr||"",["&lt;","&gt;"])),g&&g.removeChild(l)):l.appendChild(Q.createTextNode(this.unescapeEntities(v))),I(this.textOutline)&&s.applyTextOutline&&s.applyTextOutline(this.textOutline)}},E.prototype.modifyDOM=function(){var v,s=this,l=this.svgElement,g=z(l.element,"x");for(l.firstLineMetrics=void 0;(v=l.element.firstChild)&&/^[\s\u200B]*$/.test(v.textContent||" ");)l.element.removeChild(v);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),function(x,M){x.nextSibling&&x.previousSibling&&(0===M&&1===x.previousSibling.nodeType&&(l.firstLineMetrics=l.renderer.fontMetrics(void 0,x.previousSibling)),z(x,{dy:s.getLineHeight(x.nextSibling),x:g}))});var S=this.width||0;if(S){var C=function(x){[].slice.call(x.childNodes).forEach(function(M){M.nodeType===Y.Node.TEXT_NODE?function(x,M){var p=x.textContent||"",a=p.replace(/([^\^])-/g,"$1- ").split(" "),h=!s.noWrap&&(1<a.length||1<l.element.childNodes.length),n=s.getLineHeight(M),d=0,o=l.actualWidth;if(s.ellipsis)p&&s.truncate(x,p,void 0,0,Math.max(0,S-parseInt(s.fontSize||12,10)),function(r,u){return r.substring(0,u)+"\u2026"});else if(h){for(p=[],h=[];M.firstChild&&M.firstChild!==x;)h.push(M.firstChild),M.removeChild(M.firstChild);for(;a.length;)a.length&&!s.noWrap&&0<d&&(p.push(x.textContent||""),x.textContent=a.join(" ").replace(/- /g,"-")),s.truncate(x,void 0,a,0===d&&o||0,S,function(r,u){return a.slice(0,u).join(" ").replace(/- /g,"-")}),o=l.actualWidth,d++;h.forEach(function(r){M.insertBefore(r,x)}),p.forEach(function(r){M.insertBefore(Q.createTextNode(r),x),(r=Q.createElementNS(W,"tspan")).textContent="\u200b",z(r,{dy:n,x:g}),M.insertBefore(r,x)})}}(M,x):(-1!==M.className.baseVal.indexOf("highcharts-br")&&(l.actualWidth=0),C(M))})};C(l.element)}},E.prototype.getLineHeight=function(s){var l;return s=s.nodeType===Y.Node.TEXT_NODE?s.parentElement:s,this.renderer.styledMode||(l=s&&/(px|em)$/.test(s.style.fontSize)?s.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l,s||this.svgElement.element).h},E.prototype.modifyTree=function(s){var l=this,g=function(v,S){var f=v.attributes;f=void 0===f?{}:f;var C=v.children,x=v.tagName,M=l.renderer.styledMode;"b"===x||"strong"===x?M?f.class="highcharts-strong":f.style="font-weight:bold;"+(f.style||""):("i"===x||"em"===x)&&(M?f.class="highcharts-emphasized":f.style="font-style:italic;"+(f.style||"")),I(f.style)&&(f.style=f.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===x?(f.class="highcharts-br",v.textContent="\u200b",(S=s[S+1])&&S.textContent&&(S.textContent=S.textContent.replace(/^ +/gm,""))):"a"===x&&C&&C.some(function(p){return"#text"===p.tagName})&&(v.children=[{children:C,tagName:"tspan"}]),"#text"!==x&&"a"!==x&&(v.tagName="tspan"),v.attributes=f,C&&C.filter(function(p){return"#text"!==p.tagName}).forEach(g)};s.forEach(g)},E.prototype.truncate=function(s,l,g,v,S,f){var d,C=this.svgElement,x=C.renderer,M=C.rotation,p=[],a=g?1:0,h=(l||g||"").length,n=h,o=function(u,c){c=c||u;var b=s.parentNode;if(b&&void 0===p[c])if(b.getSubStringLength)try{p[c]=v+b.getSubStringLength(0,g?c+1:c)}catch(O){}else x.getSpanWidth&&(s.textContent=f(l||g,u),p[c]=v+x.getSpanWidth(C,s));return p[c]};C.rotation=0;var r=o(s.textContent.length);if(v+r>S){for(;a<=h;)n=Math.ceil((a+h)/2),g&&(d=f(g,n)),r=o(n,d&&d.length-1),a===h?a=h+1:r>S?h=n-1:a=n;0===h?s.textContent="":l&&h===l.length-1||(s.textContent=d||f(l||g,n))}g&&g.splice(0,n),C.actualWidth=r,C.rotation=M},E.prototype.unescapeEntities=function(s,l){return P(this.renderer.escapes,function(g,v){l&&-1!==l.indexOf(g)||(s=s.toString().replace(new RegExp(g,"g"),v))}),s},E}()}),lt(F,"Core/Renderer/SVG/SVGRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGLabel.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Renderer/SVG/TextBuilder.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var B,w=V.charts,E=V.deg2rad,s=V.doc,l=V.isFirefox,g=V.isMS,v=V.isWebKit,S=V.noop,f=V.SVG_NS,C=V.symbolSizes,x=V.win,M=P.addEvent,p=P.attr,a=P.createElement,h=P.css,n=P.defined,d=P.destroyObjectProperties,o=P.extend,r=P.isArray,u=P.isNumber,c=P.isObject,b=P.isString,O=P.merge,k=P.pick,_=P.pInt,A=P.uniqueKey;return V=function(){function m(T,R,j,X,$,D,U){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(T,R,j,X,$,D,U)}return m.prototype.init=function(T,R,j,X,$,D,U){var q,N=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=N.element;U||N.css(this.getStyle(X)),T.appendChild(Z),p(T,"dir","ltr"),-1===T.innerHTML.indexOf("xmlns")&&p(Z,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Z,this.boxWrapper=N,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(s.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=D,this.forExport=$,this.styledMode=U,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(R,j,!1),l&&T.getBoundingClientRect&&((R=function(){h(T,{left:0,top:0}),q=T.getBoundingClientRect(),h(T,{left:Math.ceil(q.left)-q.left+"px",top:Math.ceil(q.top)-q.top+"px"})})(),this.unSubPixelFix=M(x,"resize",R))},m.prototype.definition=function(T){return new H([T]).addToDOM(this.defs.element)},m.prototype.getReferenceURL=function(){if((l||v)&&s.getElementsByTagName("base").length){if(!n(B)){var T=A();T=new H([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:T},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+T+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(s.body),h(T,{position:"fixed",top:0,left:0,zIndex:9e5});var R=s.elementFromPoint(6,6);B="hitme"===(R&&R.id),s.body.removeChild(T)}if(B)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},m.prototype.getStyle=function(T){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},T)},m.prototype.setStyle=function(T){this.boxWrapper.css(this.getStyle(T))},m.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},m.prototype.destroy=function(){var T=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,T&&(this.defs=T.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},m.prototype.createElement=function(T){var R=new this.Element;return R.init(this,T),R},m.prototype.getRadialAttr=function(T,R){return{cx:T[0]-T[2]/2+(R.cx||0)*T[2],cy:T[1]-T[2]/2+(R.cy||0)*T[2],r:(R.r||0)*T[2]}},m.prototype.buildText=function(T){new I(T).buildSVG()},m.prototype.getContrast=function(T){return(T=K.parse(T).rgba)[0]*=1,T[1]*=1.2,T[2]*=.5,459<T[0]+T[1]+T[2]?"#000000":"#FFFFFF"},m.prototype.button=function(T,R,j,X,$,D,U,N,Z,q){var nt=this.label(T,R,j,Z,void 0,void 0,q,void 0,"button"),it=this.styledMode,ot=0,at=$?O($):{};if(T=at&&at.style||{},at=H.filterUserAttributes(at),nt.attr(O({padding:8,r:2},at)),!it){var mt=(at=O({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:T},at)).style;delete at.style;var yt=(D=O(at,{fill:"#e6e6e6"},H.filterUserAttributes(D||{}))).style;delete D.style;var vt=(U=O(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},H.filterUserAttributes(U||{}))).style;delete U.style;var pt=(N=O(at,{style:{color:"#cccccc"}},H.filterUserAttributes(N||{}))).style;delete N.style}return M(nt.element,g?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),M(nt.element,g?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,D,U,N][ct||0]).css([mt,yt,vt,pt][ct||0])},it||nt.attr(at).css(o({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&X.call(nt,ct)})},m.prototype.crispLine=function(T,R,j){void 0===j&&(j="round");var X=T[0],$=T[1];return n(X[1])&&X[1]===$[1]&&(X[1]=$[1]=Math[j](X[1])-R%2/2),n(X[2])&&X[2]===$[2]&&(X[2]=$[2]=Math[j](X[2])+R%2/2),T},m.prototype.path=function(T){var R=this.styledMode?{}:{fill:"none"};return r(T)?R.d=T:c(T)&&o(R,T),this.createElement("path").attr(R)},m.prototype.circle=function(T,R,j){return T=c(T)?T:void 0===T?{}:{x:T,y:R,r:j},(R=this.createElement("circle")).xSetter=R.ySetter=function(X,$,D){D.setAttribute("c"+$,X)},R.attr(T)},m.prototype.arc=function(T,R,j,X,$,D){return c(T)?(R=(X=T).y,j=X.r,T=X.x):X={innerR:X,start:$,end:D},(T=this.symbol("arc",T,R,j,j,X)).r=j,T},m.prototype.rect=function(T,R,j,X,$,D){$=c(T)?T.r:$;var U=this.createElement("rect");return T=c(T)?T:void 0===T?{}:{x:T,y:R,width:Math.max(j,0),height:Math.max(X,0)},this.styledMode||(void 0!==D&&(T["stroke-width"]=D,T=U.crisp(T)),T.fill="none"),$&&(T.r=$),U.rSetter=function(N,Z,q){U.r=N,p(q,{rx:N,ry:N})},U.rGetter=function(){return U.r||0},U.attr(T)},m.prototype.setSize=function(T,R,j){this.width=T,this.height=R,this.boxWrapper.animate({width:T,height:R},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:k(j,!0)?void 0:0}),this.alignElements()},m.prototype.g=function(T){var R=this.createElement("g");return T?R.attr({class:"highcharts-"+T}):R},m.prototype.image=function(T,R,j,X,$,D){var U={preserveAspectRatio:"none"},N=function(q,nt){q.setAttributeNS?q.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):q.setAttribute("hc-svg-href",nt)};u(R)&&(U.x=R),u(j)&&(U.y=j),u(X)&&(U.width=X),u($)&&(U.height=$);var Z=this.createElement("image").attr(U);return R=function(q){N(Z.element,T),D.call(Z,q)},D?(N(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new x.Image,M(j,"load",R),j.src=T,j.complete&&R({})):N(Z.element,T),Z},m.prototype.symbol=function(T,R,j,X,$,D){var it,U=this,N=/^url\((.*?)\)$/,Z=N.test(T),q=!Z&&(this.symbols[T]?T:"circle"),nt=q&&this.symbols[q];if(nt){"number"==typeof R&&(it=nt.call(this.symbols,Math.round(R||0),Math.round(j||0),X||0,$||0,D));var ot=this.path(it);U.styledMode||ot.attr("fill","none"),o(ot,{symbolName:q||void 0,x:R,y:j,width:X,height:$}),D&&o(ot,D)}else if(Z){var at=T.match(N)[1],mt=ot=this.image(at);mt.imgwidth=k(C[at]&&C[at].width,D&&D.width),mt.imgheight=k(C[at]&&C[at].height,D&&D.height);var yt=function(vt){return vt.attr({width:vt.width,height:vt.height})};["width","height"].forEach(function(vt){mt[vt+"Setter"]=function(pt,ct){var J=this["img"+ct];this[ct]=pt,n(J)&&(D&&"within"===D.backgroundSize&&this.width&&this.height&&(J=Math.round(J*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,J),this.alignByTranslate||(pt=((this[ct]||0)-J)/2,this.attr("width"===ct?{translateX:pt}:{translateY:pt})))}}),n(R)&&mt.attr({x:R,y:j}),mt.isImg=!0,n(mt.imgwidth)&&n(mt.imgheight)?yt(mt):(mt.attr({width:0,height:0}),a("img",{onload:function(){var vt=w[U.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),s.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&yt(mt),this.parentNode&&this.parentNode.removeChild(this),U.imgCount--,!U.imgCount&&vt&&!vt.hasLoaded&&vt.onload()},src:at}),this.imgCount++)}return ot},m.prototype.clipRect=function(T,R,j,X){var $=A()+"-",D=this.createElement("clipPath").attr({id:$}).add(this.defs);return(T=this.rect(T,R,j,X,0).add(D)).id=$,T.clipPath=D,T.count=0,T},m.prototype.text=function(T,R,j,X){var $={};return!X||!this.allowHTML&&this.forExport?($.x=Math.round(R||0),j&&($.y=Math.round(j)),n(T)&&($.text=T),T=this.createElement("text").attr($),(!X||this.forExport&&!this.allowHTML)&&(T.xSetter=function(D,U,N){for(var it,Z=N.getElementsByTagName("tspan"),q=N.getAttribute(U),nt=0;nt<Z.length;nt++)(it=Z[nt]).getAttribute(U)===q&&it.setAttribute(U,D);N.setAttribute(U,D)}),T):this.html(T,R,j)},m.prototype.fontMetrics=function(T,R){return T=!this.styledMode&&/px/.test(T)||!x.getComputedStyle?T||R&&R.style&&R.style.fontSize||this.style&&this.style.fontSize:R&&W.prototype.getStyle.call(R,"font-size"),{h:R=24>(T=/px/.test(T)?_(T):12)?T+3:Math.round(1.2*T),b:Math.round(.8*R),f:T}},m.prototype.rotCorr=function(T,R,j){var X=T;return R&&j&&(X=Math.max(X*Math.cos(R*E),4)),{x:-T/3*Math.sin(R*E),y:X}},m.prototype.pathToSegments=function(T){for(var R=[],j=[],X={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},$=0;$<T.length;$++)b(j[0])&&u(T[$])&&j.length===X[j[0].toUpperCase()]&&T.splice($,0,j[0].replace("M","L").replace("m","l")),"string"==typeof T[$]&&(j.length&&R.push(j.slice(0)),j.length=0),j.push(T[$]);return R.push(j.slice(0)),R},m.prototype.label=function(T,R,j,X,$,D,U,N,Z){return new Y(this,T,R,j,X,$,D,U,N,Z)},m.prototype.alignElements=function(){this.alignedObjects.forEach(function(T){return T.align()})},m}(),o(V.prototype,{Element:W,SVG_NS:f,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:z,draw:S}),Q.registerRendererType("svg",V,!0),V}),lt(F,"Core/Renderer/HTML/HTMLElement.js",[F["Core/Globals.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=this&&this.__extends||(g=function(v,S){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var x in C)C.hasOwnProperty(x)&&(f[x]=C[x])})(v,S)},function(v,S){function f(){this.constructor=v}g(v,S),v.prototype=null===S?Object.create(S):(f.prototype=S.prototype,new f)}),W=H.isFirefox,Y=H.isMS,z=H.isWebKit,I=H.win,P=V.css,w=V.defined,E=V.extend,s=V.pick,l=V.pInt;return function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return Q(v,g),v.compose=function(S){if(-1===v.composedClasses.indexOf(S)){v.composedClasses.push(S);var f=v.prototype,C=S.prototype;C.getSpanCorrection=f.getSpanCorrection,C.htmlCss=f.htmlCss,C.htmlGetBBox=f.htmlGetBBox,C.htmlUpdateTransform=f.htmlUpdateTransform,C.setSpanRotation=f.setSpanRotation}return S},v.prototype.getSpanCorrection=function(S,f,C){this.xCorr=-S*C,this.yCorr=-f},v.prototype.htmlCss=function(S){var f="SPAN"===this.element.tagName&&S&&"width"in S,C=s(f&&S.width,void 0);if(f){delete S.width,this.textWidth=C;var x=!0}return S&&"ellipsis"===S.textOverflow&&(S.whiteSpace="nowrap",S.overflow="hidden"),this.styles=E(this.styles,S),P(this.element,S),x&&this.htmlUpdateTransform(),this},v.prototype.htmlGetBBox=function(){var S=this.element;return{x:S.offsetLeft,y:S.offsetTop,width:S.offsetWidth,height:S.offsetHeight}},v.prototype.htmlUpdateTransform=function(){if(this.added){var S=this.renderer,f=this.element,C=this.translateX||0,x=this.translateY||0,M=this.x||0,p=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],n=this.styles;if(n=n&&n.whiteSpace,P(f,{marginLeft:C,marginTop:x}),!S.styledMode&&this.shadows&&this.shadows.forEach(function(b){P(b,{marginLeft:C+1,marginTop:x+1})}),this.inverted&&[].forEach.call(f.childNodes,function(b){S.invertChild(b,f)}),"SPAN"===f.tagName){var d=this.rotation,o=this.textWidth&&l(this.textWidth),r=[d,a,f.innerHTML,this.textWidth,this.textAlign].join(),u=void 0;if(u=!1,o!==this.oldTextWidth){if(this.textPxLength)var c=this.textPxLength;else P(f,{width:"",whiteSpace:n||"nowrap"}),c=f.offsetWidth;(o>this.oldTextWidth||c>o)&&(/[ \-]/.test(f.textContent||f.innerText)||"ellipsis"===f.style.textOverflow)&&(P(f,{width:c>o||d?o+"px":"auto",display:"block",whiteSpace:n||"normal"}),this.oldTextWidth=o,u=!0)}this.hasBoxWidthChanged=u,r!==this.cTT&&(u=S.fontMetrics(f.style.fontSize,f).b,!w(d)||d===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(d,h,u),this.getSpanCorrection(!w(d)&&this.textPxLength||f.offsetWidth,u,h,d,a)),P(f,{left:M+(this.xCorr||0)+"px",top:p+(this.yCorr||0)+"px"}),this.cTT=r,this.oldRotation=d,this.oldAlign=a}}else this.alignOnAdd=!0},v.prototype.setSpanRotation=function(S,f,C){var x={},M=Y&&!/Edge/.test(I.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":W?"MozTransform":I.opera?"-o-transform":void 0;M&&(x[M]=x.transform="rotate("+S+"deg)",x[M+(W?"Origin":"-origin")]=x.transformOrigin=100*f+"% "+C+"px",P(this.element,x))},v.composedClasses=[],v}(K)}),lt(F,"Core/Renderer/HTML/HTMLRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var w,W=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Y=Q.attr,z=Q.createElement,I=Q.extend,P=Q.pick;return function(w){function E(){return null!==w&&w.apply(this,arguments)||this}return W(E,w),E.compose=function(s){return-1===E.composedClasses.indexOf(s)&&(E.composedClasses.push(s),s.prototype.html=E.prototype.html),s},E.prototype.html=function(s,l,g){var v=this.createElement("span"),S=v.element,f=v.renderer,C=f.isSVG,x=function(M,p){["opacity","visibility"].forEach(function(a){M[a+"Setter"]=function(h,n,d){var o=M.div?M.div.style:p;K.prototype[a+"Setter"].call(this,h,n,d),o&&(o[n]=h)}}),M.addedSetters=!0};return v.textSetter=function(M){M!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,H.setElementHTML(this.element,P(M,"")),this.textStr=M,v.doTransform=!0)},C&&x(v,v.element.style),v.xSetter=v.ySetter=v.alignSetter=v.rotationSetter=function(M,p){"align"===p?v.alignValue=v.textAlign=M:v[p]=M,v.doTransform=!0},v.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},v.attr({text:s,x:Math.round(l),y:Math.round(g)}).css({position:"absolute"}),f.styledMode||v.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),S.style.whiteSpace="nowrap",v.css=v.htmlCss,C&&(v.add=function(M){var p=f.box.parentNode,a=[];if(this.parentGroup=M){var h=M.div;if(!h){for(;M;)a.push(M),M=M.parentGroup;a.reverse().forEach(function(n){function d(c,b){n[b]=c,"translateX"===b?u.left=c+"px":u.top=c+"px",n.doTransform=!0}var c,o=Y(n.element,"class"),r=n.styles||{},u=(h=n.div=n.div||z("div",o?{className:o}:void 0,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,cursor:r.cursor,pointerEvents:r.pointerEvents,visibility:n.visibility},h||p)).style;I(n,{classSetter:(c=h,function(b){this.element.setAttribute("class",b),c.className=b}),on:function(){return a[0].div&&v.on.apply({element:a[0].div,onEvents:n.onEvents},arguments),n},translateXSetter:d,translateYSetter:d}),n.addedSetters||x(n)})}}else h=p;return h.appendChild(S),v.added=!0,v.alignOnAdd&&v.htmlUpdateTransform(),v}),v},E.composedClasses=[],E}(V)}),lt(F,"Core/Axis/AxisDefaults.js",[],function(){var H=(()=>{return(K=H||(H={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},K.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},K.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},K.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},K.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},K.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},H;var K})();return H}),lt(F,"Core/Foundation.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.isFunction,Q=H.objectEach,W=H.removeEvent;return(Y||(Y={})).registerEventOptions=function(I,P){I.eventOptions=I.eventOptions||{},Q(P.events,function(w,E){I.eventOptions[E]!==w&&(I.eventOptions[E]&&(W(I,E,I.eventOptions[E]),delete I.eventOptions[E]),V(w)&&(I.eventOptions[E]=w,K(I,E,w)))})},Y}),lt(F,"Core/Axis/Tick.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.deg2rad,W=V.clamp,Y=V.correctFloat,z=V.defined,I=V.destroyObjectProperties,P=V.extend,w=V.fireEvent,E=V.isNumber,s=V.merge,l=V.objectEach,g=V.pick;return function(){function v(S,f,C,x,M){this.isNewLabel=this.isNew=!0,this.axis=S,this.pos=f,this.type=C||"",this.parameters=M||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,w(this,"init"),C||x||this.addLabel()}return v.prototype.addLabel=function(){var S=this,f=S.axis,C=f.options,x=f.chart,M=f.categories,p=f.logarithmic,a=f.names,h=S.pos,n=g(S.options&&S.options.labels,C.labels),d=f.tickPositions,o=h===d[0],r=h===d[d.length-1],u=(!n.step||1===n.step)&&1===f.tickInterval;d=d.info;var b,c=S.label;if(M=this.parameters.category||(M?g(M[h],a[h],h):h),p&&E(M)&&(M=Y(p.lin2log(M))),f.dateTime)if(d)var O=x.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&d.higherRanks[h]||d.unitName]),k=O.main;else E(M)&&(k=f.dateTime.getXDateFormat(M,C.dateTimeLabelFormats||{}));S.isFirst=o,S.isLast=r;var _={axis:f,chart:x,dateTimeLabelFormat:k,isFirst:o,isLast:r,pos:h,tick:S,tickPositionInfo:d,value:M};w(this,"labelFormat",_);var A=function(m){return n.formatter?n.formatter.call(m,m):n.format?(m.text=f.defaultLabelFormatter.call(m),H.format(n.format,m,x)):f.defaultLabelFormatter.call(m,m)};C=A.call(_,_);var B=O&&O.list;S.shortenLabel=B?function(){for(b=0;b<B.length;b++)if(P(_,{dateTimeLabelFormat:B[b]}),c.attr({text:A.call(_,_)}),c.getBBox().width<f.getSlotWidth(S)-2*n.padding)return;c.attr({text:""})}:void 0,u&&f._addedPlotLB&&S.moveLabel(C,n),z(c)||S.movedLabel?c&&c.textStr!==C&&!u&&(!c.textWidth||n.style.width||c.styles.width||c.css({width:null}),c.attr({text:C}),c.textPxLength=c.getBBox().width):(S.label=c=S.createLabel({x:0,y:0},C,n),S.rotation=0)},v.prototype.createLabel=function(S,f,C){var x=this.axis,M=x.chart;return(S=z(f)&&C.enabled?M.renderer.text(f,S.x,S.y,C.useHTML).add(x.labelGroup):null)&&(M.styledMode||S.css(s(C.style)),S.textPxLength=S.getBBox().width),S},v.prototype.destroy=function(){I(this,this.axis)},v.prototype.getPosition=function(S,f,C,x){var M=this.axis,p=M.chart,a=x&&p.oldChartHeight||p.chartHeight;return(S={x:S?Y(M.translate(f+C,null,null,x)+M.transB):M.left+M.offset+(M.opposite?(x&&p.oldChartWidth||p.chartWidth)-M.right-M.left:0),y:S?a-M.bottom+M.offset-(M.opposite?M.height:0):Y(a-M.translate(f+C,null,null,x)-M.transB)}).y=W(S.y,-1e5,1e5),w(this,"afterGetPosition",{pos:S}),S},v.prototype.getLabelPosition=function(S,f,C,x,M,p,a,h){var n=this.axis,d=n.transA,o=n.isLinked&&n.linkedParent?n.linkedParent.reversed:n.reversed,r=n.staggerLines,u=n.tickRotCorr||{x:0,y:0},c=x||n.reserveSpaceDefault?0:-n.labelOffset*("center"===n.labelAlign?.5:1),b={},O=M.y;return z(O)||(O=0===n.side?C.rotation?-8:-C.getBBox().height:2===n.side?u.y+8:Math.cos(C.rotation*Q)*(u.y-C.getBBox(!1,0).height/2)),f=f+O-(p&&!x?p*d*(o?1:-1):0),r&&(C=a/(h||1)%r,n.opposite&&(C=r-C-1),f+=n.labelOffset/r*C),b.x=S=S+M.x+c+u.x-(p&&x?p*d*(o?-1:1):0),b.y=Math.round(f),w(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:p,index:a}),b},v.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},v.prototype.getMarkPath=function(S,f,C,x,M,p){return p.crispLine([["M",S,f],["L",S+(M?0:-C),f+(M?C:0)]],x)},v.prototype.handleOverflow=function(S){var f=this.axis,C=f.options.labels,x=S.x,M=f.chart.chartWidth,p=f.chart.spacing,a=g(f.labelLeft,Math.min(f.pos,p[3]));p=g(f.labelRight,Math.max(f.isRadial?0:f.pos+f.len,M-p[1]));var O,h=this.label,n=this.rotation,d={left:0,center:.5,right:1}[f.labelAlign||h.attr("align")],o=h.getBBox().width,r=f.getSlotWidth(this),u={},c=r,b=1;n||"justify"!==C.overflow?0>n&&x-d*o<a?O=Math.round(x/Math.cos(n*Q)-a):0<n&&x+d*o>p&&(O=Math.round((M-x)/Math.cos(n*Q))):(M=x+(1-d)*o,x-d*o<a?c=S.x+c*(1-d)-a:M>p&&(c=p-S.x+c*d,b=-1),(c=Math.min(r,c))<r&&"center"===f.labelAlign&&(S.x+=b*(r-c-d*(r-Math.min(o,c)))),(o>c||f.autoRotation&&(h.styles||{}).width)&&(O=c)),O&&(this.shortenLabel?this.shortenLabel():(u.width=Math.floor(O)+"px",(C.style||{}).textOverflow||(u.textOverflow="ellipsis"),h.css(u)))},v.prototype.moveLabel=function(S,f){var C=this,x=C.label,M=C.axis,p=M.reversed,a=!1;if(x&&x.textStr===S?(C.movedLabel=x,a=!0,delete C.label):l(M.ticks,function(n){a||n.isNew||n===C||!n.label||n.label.textStr!==S||(C.movedLabel=n.label,a=!0,n.labelPos=C.movedLabel.xy,delete n.label)}),!a&&(C.labelPos||x)){var h=C.labelPos||x.xy;C.movedLabel=C.createLabel({x:x=M.horiz?p?0:M.width+M.left:h.x,y:M=M.horiz?h.y:p?M.width+M.left:0},S,f),C.movedLabel&&C.movedLabel.attr({opacity:0})}},v.prototype.render=function(S,f,C){var x=this.axis,M=x.horiz,p=this.pos,a=g(this.tickmarkOffset,x.tickmarkOffset);a=(p=this.getPosition(M,p,a,f)).x,x=M&&a===x.pos+x.len||!M&&p.y===x.pos?-1:1,M=g(C,this.label&&this.label.newOpacity,1),C=g(C,1),this.isActive=!0,this.renderGridLine(f,C,x),this.renderMark(p,C,x),this.renderLabel(p,f,M,S),this.isNew=!1,w(this,"afterRender")},v.prototype.renderGridLine=function(S,f,C){var x=this.axis,M=x.options,p={},a=this.pos,h=this.type,n=g(this.tickmarkOffset,x.tickmarkOffset),d=x.chart.renderer,o=this.gridLine,r=M.gridLineWidth,u=M.gridLineColor,c=M.gridLineDashStyle;"minor"===this.type&&(r=M.minorGridLineWidth,u=M.minorGridLineColor,c=M.minorGridLineDashStyle),o||(x.chart.styledMode||(p.stroke=u,p["stroke-width"]=r||0,p.dashstyle=c),h||(p.zIndex=1),S&&(f=0),this.gridLine=o=d.path().attr(p).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(x.gridGroup)),o&&(C=x.getPlotLinePath({value:a+n,lineWidth:o.strokeWidth()*C,force:"pass",old:S}))&&o[S||this.isNew?"attr":"animate"]({d:C,opacity:f})},v.prototype.renderMark=function(S,f,C){var x=this.axis,M=x.options,p=x.chart.renderer,a=this.type,h=x.tickSize(a?a+"Tick":"tick"),n=S.x;S=S.y;var d=g(M["minor"!==a?"tickWidth":"minorTickWidth"],!a&&x.isXAxis?1:0);M=M["minor"!==a?"tickColor":"minorTickColor"];var o=this.mark,r=!o;h&&(x.opposite&&(h[0]=-h[0]),o||(this.mark=o=p.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(x.axisGroup),x.chart.styledMode||o.attr({stroke:M,"stroke-width":d})),o[r?"attr":"animate"]({d:this.getMarkPath(n,S,h[0],o.strokeWidth()*C,x.horiz,p),opacity:f}))},v.prototype.renderLabel=function(S,f,C,x){var M=this.axis,p=M.horiz,a=M.options,h=this.label,n=a.labels,d=n.step;M=g(this.tickmarkOffset,M.tickmarkOffset);var o=S.x;S=S.y;var r=!0;h&&E(o)&&(h.xy=S=this.getLabelPosition(o,S,h,p,n,M,x,d),this.isFirst&&!this.isLast&&!a.showFirstLabel||this.isLast&&!this.isFirst&&!a.showLastLabel?r=!1:!p||n.step||n.rotation||f||0===C||this.handleOverflow(S),d&&x%d&&(r=!1),r&&E(S.y)?(S.opacity=C,h[this.isNewLabel?"attr":"animate"](S),this.isNewLabel=!1):(h.attr("y",-9999),this.isNewLabel=!0))},v.prototype.replaceMovedLabel=function(){var S=this.label,f=this.axis,C=f.reversed;S&&!this.isNew&&(S.animate({x:f.horiz?C?f.left:f.width+f.left:S.xy.x,y:C=f.horiz?S.xy.y:C?f.width+f.top:f.top,opacity:0},void 0,S.destroy),delete this.label),f.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},v}()}),lt(F,"Core/Axis/Axis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/AxisDefaults.js"],F["Core/Color/Color.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Axis/Tick.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){var P=H.animObject,w=Q.defaultOptions,E=W.registerEventOptions,s=Y.deg2rad,l=I.arrayMax,g=I.arrayMin,v=I.clamp,S=I.correctFloat,f=I.defined,C=I.destroyObjectProperties,x=I.erase,M=I.error,p=I.extend,a=I.fireEvent,h=I.getMagnitude,n=I.isArray,d=I.isNumber,o=I.isString,r=I.merge,u=I.normalizeTickInterval,c=I.objectEach,b=I.pick,O=I.relativeLength,k=I.removeEvent,_=I.splat,A=I.syncTimeout;return function(){function B(m,T){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(m,T)}return B.prototype.init=function(m,T){var R=T.isX;this.chart=m,this.horiz=m.inverted&&!this.isZAxis?!R:R,this.isXAxis=R,this.coll=this.coll||(R?"xAxis":"yAxis"),a(this,"init",{userOptions:T}),this.opposite=b(T.opposite,this.opposite),this.side=b(T.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(T);var j=this.options,X=j.labels,$=j.type;this.userOptions=T,this.minPixelPadding=0,this.reversed=b(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===$||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=f(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,T=b(j.crosshair,_(m.options.tooltip.crosshairs)[R?0:1]),this.crosshair=!0===T?{}:T,-1===m.axes.indexOf(this)&&(R?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),m[this.coll].push(this)),this.series=this.series||[],m.inverted&&!this.isZAxis&&R&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=d(X.rotation)?X.rotation:void 0,E(this,j),a(this,"afterInit")},B.prototype.setOptions=function(m){this.options=r(K.defaultXAxisOptions,"yAxis"===this.coll&&K.defaultYAxisOptions,[K.defaultTopAxisOptions,K.defaultRightAxisOptions,K.defaultBottomAxisOptions,K.defaultLeftAxisOptions][this.side],r(w[this.coll],m)),a(this,"afterSetOptions",{userOptions:m})},B.prototype.defaultLabelFormatter=function(m){var T=this.axis;m=this.chart.numberFormatter;var R=d(this.value)?this.value:NaN,j=T.chart.time,X=this.dateTimeLabelFormat,$=w.lang,D=$.numericSymbols;$=$.numericSymbolMagnitude||1e3;var U=T.logarithmic?Math.abs(R):T.tickInterval,N=D&&D.length;if(T.categories)var Z=""+this.value;else if(X)Z=j.dateFormat(X,R);else if(N&&1e3<=U)for(;N--&&void 0===Z;)U>=(T=Math.pow($,N+1))&&10*R%T==0&&null!==D[N]&&0!==R&&(Z=m(R/T,-1)+D[N]);return void 0===Z&&(Z=1e4<=Math.abs(R)?m(R,-1):m(R,-1,void 0,"")),Z},B.prototype.getSeriesExtremes=function(){var R,m=this,T=m.chart;a(this,"getSeriesExtremes",null,function(){m.hasVisibleSeries=!1,m.dataMin=m.dataMax=m.threshold=null,m.softThreshold=!m.isXAxis,m.stacking&&m.stacking.buildStacks(),m.series.forEach(function(j){if(j.visible||!T.options.chart.ignoreHiddenSeries){var X=j.options,$=X.threshold;if(m.hasVisibleSeries=!0,m.positiveValuesOnly&&0>=$&&($=null),m.isXAxis){if((X=j.xData).length){X=m.logarithmic?X.filter(m.validatePositiveValue):X;var D=(R=j.getXExtremes(X)).min,U=R.max;d(D)||D instanceof Date||(X=X.filter(d),D=(R=j.getXExtremes(X)).min,U=R.max),X.length&&(m.dataMin=Math.min(b(m.dataMin,D),D),m.dataMax=Math.max(b(m.dataMax,U),U))}}else j=j.applyExtremes(),d(j.dataMin)&&(D=j.dataMin,m.dataMin=Math.min(b(m.dataMin,D),D)),d(j.dataMax)&&(U=j.dataMax,m.dataMax=Math.max(b(m.dataMax,U),U)),f($)&&(m.threshold=$),(!X.softThreshold||m.positiveValuesOnly)&&(m.softThreshold=!1)}})}),a(this,"afterGetSeriesExtremes")},B.prototype.translate=function(m,T,R,j,X,$){var D=this.linkedParent||this,U=j&&D.old?D.old.min:D.min,N=D.minPixelPadding;X=(D.isOrdinal||D.brokenAxis&&D.brokenAxis.hasBreaks||D.logarithmic&&X)&&D.lin2val;var Z=1,q=0;return(j=j&&D.old?D.old.transA:D.transA)||(j=D.transA),R&&(Z*=-1,q=D.len),D.reversed&&(q-=(Z*=-1)*(D.sector||D.len)),T?(m=(m*Z+q-N)/j+U,X&&(m=D.lin2val(m))):(X&&(m=D.val2lin(m)),m=d(U)?Z*(m-U)*j+q+Z*N+(d($)?j*$:0):void 0),m},B.prototype.toPixels=function(m,T){return this.translate(m,!1,!this.horiz,null,!0)+(T?0:this.pos)},B.prototype.toValue=function(m,T){return this.translate(m-(T?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(m){function T(ct,J,et){return("pass"!==ot&&ct<J||ct>et)&&(ot?ct=v(ct,J,et):pt=!0),ct}var at,mt,yt,vt,pt,R=this,j=R.chart,X=R.left,$=R.top,D=m.old,U=m.value,N=m.lineWidth,Z=D&&j.oldChartHeight||j.chartHeight,q=D&&j.oldChartWidth||j.chartWidth,nt=R.transB,it=m.translatedValue,ot=m.force;return a(this,"getPlotLinePath",m={value:U,lineWidth:N,old:D,force:ot,acrossPanes:m.acrossPanes,translatedValue:it},function(ct){it=b(it,R.translate(U,null,null,D)),it=v(it,-1e5,1e5),at=yt=Math.round(it+nt),mt=vt=Math.round(Z-it-nt),d(it)?R.horiz?(mt=$,vt=Z-R.bottom,at=yt=T(at,X,X+R.width)):(at=X,yt=q-R.right,mt=vt=T(mt,$,$+R.height)):(pt=!0,ot=!1),ct.path=pt&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",yt,vt]],N||1)}),m.path},B.prototype.getLinearTickPositions=function(m,T,R){var j=S(Math.floor(T/m)*m);R=S(Math.ceil(R/m)*m);var $,X=[];if(S(j+m)===j&&($=20),this.single)return[T];for(T=j;T<=R&&(X.push(T),(T=S(T+m,$))!==D);)var D=T;return X},B.prototype.getMinorTickInterval=function(){var m=this.options;return!0===m.minorTicks?b(m.minorTickInterval,"auto"):!1===m.minorTicks?null:m.minorTickInterval},B.prototype.getMinorTickPositions=function(){var m=this.options,T=this.tickPositions,R=this.minorTickInterval,j=this.pointRangePadding||0,X=this.min-j,$=(j=this.max+j)-X,D=[];if($&&$/R<this.len/3){var U=this.logarithmic;if(U)this.paddedTicks.forEach(function(N,Z,q){Z&&D.push.apply(D,U.getLogTickPositions(R,q[Z-1],q[Z],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())D=D.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(R),X,j,m.startOfWeek));else for(m=X+(T[0]-X)%R;m<=j&&m!==D[0];m+=R)D.push(m)}return 0!==D.length&&this.trimTicks(D),D},B.prototype.adjustForMinRange=function(){var $,D,U,N,m=this.options,T=this.logarithmic,R=this.min,j=this.max,X=0;if(this.isXAxis&&void 0===this.minRange&&!T&&(f(m.min)||f(m.max)||f(m.floor)||f(m.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(U=it.xData,N=it.xIncrement?1:U.length-1,1<U.length)for($=N;0<$;$--)D=U[$]-U[$-1],(!X||D<X)&&(X=D)}),this.minRange=Math.min(5*X,this.dataMax-this.dataMin))),j-R<this.minRange){var Z=this.dataMax-this.dataMin>=this.minRange,q=this.minRange,nt=(q-j+R)/2;nt=[R-nt,b(m.min,R-nt)],Z&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(R=l(nt))+q,b(m.max,R+q)],Z&&(j[2]=T?T.log2lin(this.dataMax):this.dataMax),(j=g(j))-R<q&&(nt[0]=j-q,nt[1]=b(m.min,j-q),R=l(nt))}this.min=R,this.max=j},B.prototype.getClosest=function(){var m;return this.categories?m=1:this.series.forEach(function(T){var R=T.closestPointRange,j=T.visible||!T.chart.options.chart.ignoreHiddenSeries;!T.noSharedTooltip&&f(R)&&j&&(m=f(m)?Math.min(m,R):R)}),m},B.prototype.nameToX=function(m){var T=n(this.categories),R=T?this.categories:this.names,j=m.options.x;if(m.series.requireSorting=!1,f(j)||(j=this.options.uniqueNames?T?R.indexOf(m.name):b(R.keys[m.name],-1):m.series.autoIncrement()),-1===j){if(!T)var X=R.length}else X=j;return void 0!==X&&(this.names[X]=m.name,this.names.keys[m.name]=X),X},B.prototype.updateNames=function(){var m=this,T=this.names;0<T.length&&(Object.keys(T.keys).forEach(function(R){delete T.keys[R]}),T.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(R){R.xIncrement=null,(!R.points||R.isDirtyData)&&(m.max=Math.max(m.max,R.xData.length-1),R.processData(),R.generatePoints()),R.data.forEach(function(j,X){if(j&&j.options&&void 0!==j.name){var $=m.nameToX(j);void 0!==$&&$!==j.x&&(j.x=$,R.xData[X]=$)}})}))},B.prototype.setAxisTranslation=function(){var N,m=this,T=m.max-m.min,R=m.linkedParent,j=!!m.categories,X=m.isXAxis,$=m.axisPointRange||0,D=0,U=0;if(X||j||$){var Z=m.getClosest();R?(D=R.minPointOffset,U=R.pointRangePadding):m.series.forEach(function(q){var nt=j?1:X?b(q.options.pointRange,Z,0):m.axisPointRange||0,it=q.options.pointPlacement;$=Math.max($,nt),(!m.single||j)&&(q=q.is("xrange")?!X:X,D=Math.max(D,q&&o(it)?0:nt/2),U=Math.max(U,q&&"on"===it?0:nt))}),m.minPointOffset=D*=R=m.ordinal&&m.ordinal.slope&&Z?m.ordinal.slope/Z:1,m.pointRangePadding=U*=R,m.pointRange=Math.min($,m.single&&j?1:T),X&&(m.closestPointRange=Z)}m.translationSlope=m.transA=N=m.staticScale||m.len/(T+U||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=N*D,a(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(m){var T=this.chart,R=this.logarithmic,j=this.options,X=this.isXAxis,$=this.isLinked,D=j.tickPixelInterval,U=this.categories,N=this.softThreshold,Z=j.maxPadding,q=j.minPadding,nt=d(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=d(this.threshold)?this.threshold:null;this.dateTime||U||$||this.getTickAmount();var ot=b(this.userMin,j.min),at=b(this.userMax,j.max);if($){this.linkedParent=T[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=b(mt.min,mt.dataMin),this.max=b(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&M(11,1,T)}else{if(N&&f(it))if(this.dataMin>=it)mt=it,q=0;else if(this.dataMax<=it){var yt=it;Z=0}this.min=b(ot,mt,this.dataMin),this.max=b(at,yt,this.dataMax)}if(R&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,b(this.dataMin,this.min))&&M(10,1,T),this.min=S(R.log2lin(this.min),16),this.max=S(R.log2lin(this.max),16)),this.range&&f(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),a(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(U||this.axisPointRange||this.stacking&&this.stacking.usePercentage||$)&&f(this.min)&&f(this.max)&&(T=this.max-this.min)&&(!f(ot)&&q&&(this.min-=T*q),!f(at)&&Z&&(this.max+=T*Z)),d(this.userMin)||(d(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),d(j.floor)&&(this.min=Math.max(this.min,j.floor))),d(this.userMax)||(d(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),d(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),N&&f(this.dataMin)&&(it=it||0,!f(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!f(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),d(this.min)&&d(this.max)&&!this.chart.polar&&this.min>this.max&&(f(this.options.min)?this.max=this.min:f(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:$&&this.linkedParent&&!nt&&D===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:b(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,U?1:(this.max-this.min)*D/Math.max(this.len,D)),X&&!m){var vt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(pt){pt.forceCrop=pt.forceCropping&&pt.forceCropping(),pt.processData(vt)}),a(this,"postProcessData",{hasExtemesChanged:vt})}this.setAxisTranslation(),a(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),m=b(j.minTickInterval,this.dateTime&&!this.series.some(function(pt){return pt.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<m&&(this.tickInterval=m),this.dateTime||this.logarithmic||nt||(this.tickInterval=u(this.tickInterval,void 0,h(this.tickInterval),b(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var m=this.options,T=m.tickPositions,R=this.getMinorTickInterval(),j=this.hasVerticalPanning(),X="colorAxis"===this.coll,$=(X||!j)&&m.startOnTick;j=(X||!j)&&m.endOnTick,X=m.tickPositioner,this.tickmarkOffset=this.categories&&"between"===m.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===R&&this.tickInterval?this.tickInterval/5:R,this.single=this.min===this.max&&f(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==m.allowDecimals),this.tickPositions=R=T&&T.slice(),!R&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?R=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(R=[this.min,this.max],M(19,!1,this.chart)),R.length>this.len&&(R=[R[0],R.pop()])[0]===R[1]&&(R.length=1),this.tickPositions=R,X&&(X=X.apply(this,[this.min,this.max])))&&(this.tickPositions=R=X),this.paddedTicks=R.slice(0),this.trimTicks(R,$,j),this.isLinked||(this.single&&2>R.length&&!this.categories&&!this.series.some(function(D){return D.is("heatmap")&&"between"===D.options.pointPlacement})&&(this.min-=.5,this.max+=.5),T||X||this.adjustTickAmount()),a(this,"afterSetTickPositions")},B.prototype.trimTicks=function(m,T,R){var j=m[0],X=m[m.length-1],$=!this.isOrdinal&&this.minPointOffset||0;if(a(this,"trimTicks"),!this.isLinked){if(T&&j!==-1/0)this.min=j;else for(;this.min-$>m[0];)m.shift();if(R)this.max=X;else for(;this.max+$<m[m.length-1];)m.pop();0===m.length&&f(j)&&!this.options.tickPositions&&m.push((X+j)/2)}},B.prototype.alignToOthers=function(){var R,m={},T=this.options;return!1!==this.chart.options.chart.alignTicks&&T.alignTicks&&!1!==T.startOnTick&&!1!==T.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var X=j.options;X=[j.horiz?X.left:X.top,X.width,X.height,X.pane].join(),j.series.length&&(m[X]?R=!0:m[X]=1)}),R},B.prototype.getTickAmount=function(){var m=this.options,T=m.tickPixelInterval,R=m.tickAmount;!f(m.tickInterval)&&!R&&this.len<T&&!this.isRadial&&!this.logarithmic&&m.startOnTick&&m.endOnTick&&(R=2),!R&&this.alignToOthers()&&(R=Math.ceil(this.len/T)+1),4>R&&(this.finalTickAmt=R,R=5),this.tickAmount=R},B.prototype.adjustTickAmount=function(){var m=this.options,T=this.tickInterval,R=this.tickPositions,j=this.tickAmount,X=this.finalTickAmt,$=R&&R.length,D=b(this.threshold,this.softThreshold?0:null);if(this.hasData()&&d(this.min)&&d(this.max)){if($<j){for(;R.length<j;)R.length%2||this.min===D?R.push(S(R[R.length-1]+T)):R.unshift(S(R[0]-T));this.transA*=($-1)/(j-1),this.min=m.startOnTick?R[0]:Math.min(this.min,R[0]),this.max=m.endOnTick?R[R.length-1]:Math.max(this.max,R[R.length-1])}else $>j&&(this.tickInterval*=2,this.setTickPositions());if(f(X)){for(T=m=R.length;T--;)(3===X&&T%2==1||2>=X&&0<T&&T<m-1)&&R.splice(T,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var m=!1,T=!1;this.series.forEach(function(j){m=m||j.isDirtyData||j.isDirty,T=T||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var R=this.len!==(this.old&&this.old.len);R||m||T||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=R||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),m&&this.panningState&&(this.panningState.isDirty=!0),a(this,"afterSetScale")},B.prototype.setExtremes=function(m,T,R,j,X){var $=this,D=$.chart;R=b(R,!0),$.series.forEach(function(U){delete U.kdTree}),X=p(X,{min:m,max:T}),a($,"setExtremes",X,function(){$.userMin=m,$.userMax=T,$.eventArgs=X,R&&D.redraw(j)})},B.prototype.zoom=function(m,T){var R=this,j=this.dataMin,X=this.dataMax,$=this.options,D=Math.min(j,b($.min,j)),U=Math.max(X,b($.max,X));return a(this,"zoom",m={newMin:m,newMax:T},function(N){var Z=N.newMin,q=N.newMax;(Z!==R.min||q!==R.max)&&(R.allowZoomOutside||(f(j)&&(Z<D&&(Z=D),Z>U&&(Z=U)),f(X)&&(q<D&&(q=D),q>U&&(q=U))),R.displayBtn=void 0!==Z||void 0!==q,R.setExtremes(Z,q,!1,void 0,{trigger:"zoom"})),N.zoomed=!0}),m.zoomed},B.prototype.setAxisSize=function(){var m=this.chart,T=this.options,R=T.offsets||[0,0,0,0],j=this.horiz,X=this.width=Math.round(O(b(T.width,m.plotWidth-R[3]+R[1]),m.plotWidth)),$=this.height=Math.round(O(b(T.height,m.plotHeight-R[0]+R[2]),m.plotHeight)),D=this.top=Math.round(O(b(T.top,m.plotTop+R[0]),m.plotHeight,m.plotTop));T=this.left=Math.round(O(b(T.left,m.plotLeft+R[3]),m.plotWidth,m.plotLeft)),this.bottom=m.chartHeight-$-D,this.right=m.chartWidth-X-T,this.len=Math.max(j?X:$,0),this.pos=j?T:D},B.prototype.getExtremes=function(){var m=this.logarithmic;return{min:m?S(m.lin2log(this.min)):this.min,max:m?S(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(m){var T=this.logarithmic,R=T?T.lin2log(this.min):this.min;return T=T?T.lin2log(this.max):this.max,null===m||m===-1/0?m=R:m===1/0?m=T:R>m?m=R:T<m&&(m=T),this.translate(m,0,1,0,1)},B.prototype.autoLabelAlign=function(m){var T=(b(m,0)-90*this.side+720)%360;return a(this,"autoLabelAlign",m={align:"center"},function(R){15<T&&165>T?R.align="right":195<T&&345>T&&(R.align="left")}),m.align},B.prototype.tickSize=function(m){var T=this.options,R=b(T["tick"===m?"tickWidth":"minorTickWidth"],"tick"===m&&this.isXAxis&&!this.categories?1:0),j=T["tick"===m?"tickLength":"minorTickLength"];if(R&&j){"inside"===T[m+"Position"]&&(j=-j);var X=[j,R]}return a(this,"afterTickSize",m={tickSize:X}),m.tickSize},B.prototype.labelMetrics=function(){var m=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[m]&&this.ticks[m].label)},B.prototype.unsquish=function(){var Z,q,m=this.options.labels,T=this.horiz,R=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/R),X=m.rotation,$=this.labelMetrics(),D=Math.max(this.max-this.min,0),U=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*R>D&&ot!==1/0&&j!==1/0&&D&&(at=Math.ceil(D/R)),S(at*R)},N=R,nt=Number.MAX_VALUE;if(T){if(!m.staggerLines&&!m.step)if(d(X))var it=[X];else j<m.autoRotationLimit&&(it=m.autoRotation);it&&it.forEach(function(ot){if(ot===X||ot&&-90<=ot&&90>=ot){var at=(q=U(Math.abs($.h/Math.sin(s*ot))))+Math.abs(ot/360);at<nt&&(nt=at,Z=ot,N=q)}})}else m.step||(N=U($.h));return this.autoRotation=it,this.labelRotation=b(Z,d(X)?X:0),N},B.prototype.getSlotWidth=function(m){var T=this.chart,R=this.horiz,j=this.options.labels,X=Math.max(this.tickPositions.length-(this.categories?0:1),1),$=T.margin[3];if(m&&d(m.slotWidth))return m.slotWidth;if(R&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/X;if(!R){if(void 0!==(m=j.style.width))return parseInt(String(m),10);if($)return $-T.spacing[3]}return.33*T.chartWidth},B.prototype.renderUnsquish=function(){var m=this.chart,T=m.renderer,R=this.tickPositions,j=this.ticks,X=this.options.labels,$=X.style,D=this.horiz,U=this.getSlotWidth(),N=Math.max(1,Math.round(U-2*X.padding)),Z={},q=this.labelMetrics(),nt=$.textOverflow,it=0;if(o(X.rotation)||(Z.rotation=X.rotation||0),R.forEach(function(yt){(yt=j[yt]).movedLabel&&yt.replaceMovedLabel(),yt&&yt.label&&yt.label.textPxLength>it&&(it=yt.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>N&&it>q.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(U){var ot=N;if(!nt){var at="clip";for(N=R.length;!D&&N--;){var mt=R[N];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>U&&mt.css({width:U+"px"}),mt.getBBox().height>this.len/R.length-(q.h-q.f)&&(mt.specificTextOverflow="ellipsis"))}}}Z.rotation&&(ot=it>.5*m.chartHeight?.33*m.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=X.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),R.forEach(function(yt){var vt=(yt=j[yt])&&yt.label,pt=$.width,ct={};vt&&(vt.attr(Z),yt.shortenLabel?yt.shortenLabel():ot&&!pt&&"nowrap"!==$.whiteSpace&&(ot<vt.textPxLength||"SPAN"===vt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=vt.specificTextOverflow||at),vt.css(ct)):vt.styles&&vt.styles.width&&!ct.width&&!pt&&vt.css({width:null}),delete vt.specificTextOverflow,yt.rotation=Z.rotation)},this),this.tickRotCorr=T.rotCorr(q.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&f(this.min)&&f(this.max)},B.prototype.addTitle=function(m){var D,j=this.opposite,X=this.options.title,$=this.chart.styledMode;this.axisTitle||((D=X.textAlign)||(D=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[X.align]),this.axisTitle=this.chart.renderer.text(X.text||"",0,0,X.useHTML).attr({zIndex:7,rotation:X.rotation,align:D}).addClass("highcharts-axis-title"),$||this.axisTitle.css(r(X.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),$||X.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)},B.prototype.generateTick=function(m){var T=this.ticks;T[m]?T[m].addLabel():T[m]=new z(this,m)},B.prototype.getOffset=function(){var m=this,T=this,R=T.chart,j=T.horiz,X=T.options,$=T.side,D=T.ticks,U=T.tickPositions,N=T.coll,Z=T.axisParent,q=R.renderer,nt=R.inverted&&!T.isZAxis?[1,0,3,2][$]:$,it=T.hasData(),ot=X.title,at=X.labels,mt=R.axisOffset;R=R.clipOffset;var pt,yt=[-1,1,1,-1][$],vt=X.className,ct=0,J=0,et=0;if(T.showAxis=pt=it||X.showEmpty,T.staggerLines=T.horiz&&at.staggerLines||void 0,!T.axisGroup){var st=function(dt,xt,Et){return q.g(dt).attr({zIndex:Et}).addClass("highcharts-"+N.toLowerCase()+xt+" "+(m.isRadial?"highcharts-radial-axis"+xt+" ":"")+(vt||"")).add(Z)};T.gridGroup=st("grid","-grid",X.gridZIndex),T.axisGroup=st("axis","",X.zIndex),T.labelGroup=st("axis-labels","-labels",at.zIndex)}if(it||T.isLinked?(U.forEach(function(dt){T.generateTick(dt)}),T.renderUnsquish(),T.reserveSpaceDefault=0===$||2===$||{1:"left",3:"right"}[$]===T.labelAlign,b(at.reserveSpace,"center"===T.labelAlign||null,T.reserveSpaceDefault)&&U.forEach(function(dt){et=Math.max(D[dt].getLabelSize(),et)}),T.staggerLines&&(et*=T.staggerLines),T.labelOffset=et*(T.opposite?-1:1)):c(D,function(dt,xt){dt.destroy(),delete D[xt]}),ot&&ot.text&&!1!==ot.enabled&&(T.addTitle(pt),pt&&!1!==ot.reserveSpace)){T.titleOffset=ct=T.axisTitle.getBBox()[j?"height":"width"];var ut=ot.offset;J=f(ut)?0:b(ot.margin,j?5:10)}T.renderLine(),T.offset=yt*b(X.offset,mt[$]?mt[$]+(X.margin||0):0),T.tickRotCorr=T.tickRotCorr||{x:0,y:0},ot=0===$?-T.labelMetrics().h:2===$?T.tickRotCorr.y:0,it=Math.abs(et)+J,et&&(it=it-ot+yt*(j?b(at.y,T.tickRotCorr.y+8*yt):at.x)),T.axisTitleMargin=b(ut,it),T.getMaxLabelDimensions&&(T.maxLabelDimensions=T.getMaxLabelDimensions(D,U)),"colorAxis"!==N&&(j=this.tickSize("tick"),mt[$]=Math.max(mt[$],(T.axisTitleMargin||0)+ct+yt*T.offset,it,U&&U.length&&j?j[0]+yt*T.offset:0),X=!T.axisLine||X.offset?0:2*Math.floor(T.axisLine.strokeWidth()/2),R[nt]=Math.max(R[nt],X)),a(this,"afterGetOffset")},B.prototype.getLinePath=function(m){var T=this.chart,R=this.opposite,j=this.offset,X=this.horiz,$=this.left+(R?this.width:0)+j;return j=T.chartHeight-this.bottom-(R?this.height:0)+j,R&&(m*=-1),T.renderer.crispLine([["M",X?this.left:$,X?j:this.top],["L",X?T.chartWidth-this.right:$,X?j:T.chartHeight-this.bottom]],m)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var m=this.horiz,T=this.left,R=this.top,j=this.len,X=this.options.title,$=m?T:R,D=this.opposite,U=this.offset,N=X.x,Z=X.y,q=this.axisTitle,nt=this.chart.renderer.fontMetrics(X.style.fontSize,q);return q=Math.max(q.getBBox(null,0).height-nt.h-1,0),j={low:$+(m?0:j),middle:$+j/2,high:$+(m?j:0)}[X.align],T=(m?R+this.height:T)+(m?1:-1)*(D?-1:1)*this.axisTitleMargin+[-q,q,nt.f,-q][this.side],a(this,"afterGetTitlePosition",{titlePosition:m={x:m?j+N:T+(D?this.width:0)+U+N,y:m?T+Z-(D?this.height:0)+U:j+Z}}),m},B.prototype.renderMinorTick=function(m,T){var R=this.minorTicks;R[m]||(R[m]=new z(this,m,"minor")),T&&R[m].isNew&&R[m].render(null,!0),R[m].render(null,!1,1)},B.prototype.renderTick=function(m,T,R){var j=this.ticks;(!this.isLinked||m>=this.min&&m<=this.max||this.grid&&this.grid.isColumn)&&(j[m]||(j[m]=new z(this,m)),R&&j[m].isNew&&j[m].render(T,!0,-1),j[m].render(T))},B.prototype.render=function(){var yt,vt,m=this,T=m.chart,R=m.logarithmic,j=m.options,X=m.isLinked,$=m.tickPositions,D=m.axisTitle,U=m.ticks,N=m.minorTicks,Z=m.alternateBands,q=j.stackLabels,nt=j.alternateGridColor,it=m.tickmarkOffset,ot=m.axisLine,at=m.showAxis,mt=P(T.renderer.globalAnimation);if(m.labelEdge.length=0,m.overlap=!1,[U,N,Z].forEach(function(ct){c(ct,function(J){J.isActive=!1})}),m.hasData()||X){var pt=m.chart.hasRendered&&m.old&&d(m.old.min);m.minorTickInterval&&!m.categories&&m.getMinorTickPositions().forEach(function(ct){m.renderMinorTick(ct,pt)}),$.length&&($.forEach(function(ct,J){m.renderTick(ct,J,pt)}),it&&(0===m.min||m.single)&&(U[-1]||(U[-1]=new z(m,-1,null,!0)),U[-1].render(-1))),nt&&$.forEach(function(ct,J){vt=void 0!==$[J+1]?$[J+1]+it:m.max-it,J%2==0&&ct<m.max&&vt<=m.max+(T.polar?-it:it)&&(Z[ct]||(Z[ct]=new Y.PlotLineOrBand(m)),yt=ct+it,Z[ct].options={from:R?R.lin2log(yt):yt,to:R?R.lin2log(vt):vt,color:nt,className:"highcharts-alternate-grid"},Z[ct].render(),Z[ct].isActive=!0)}),m._addedPlotLB||(m._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){m.addPlotBandOrLine(ct)}))}[U,N,Z].forEach(function(ct){var J=[],et=mt.duration;c(ct,function(st,ut){st.isActive||(st.render(ut,!1,0),st.isActive=!1,J.push(ut))}),A(function(){for(var st=J.length;st--;)ct[J[st]]&&!ct[J[st]].isActive&&(ct[J[st]].destroy(),delete ct[J[st]])},ct!==Z&&T.hasRendered&&et?et:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),D&&at&&(j=m.getTitlePosition(),d(j.y)?(D[D.isNew?"attr":"animate"](j),D.isNew=!1):(D.attr("y",-9999),D.isNew=!0)),q&&q.enabled&&m.stacking&&m.stacking.renderStackTotals(),m.old={len:m.len,max:m.max,min:m.min,transA:m.transA,userMax:m.userMax,userMin:m.userMin},m.isDirty=!1,a(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(m){var T=this,R=T.plotLinesAndBands,j=this.eventOptions;if(a(this,"destroy",{keepEvents:m}),m||k(T),[T.ticks,T.minorTicks,T.alternateBands].forEach(function($){C($)}),R)for(m=R.length;m--;)R[m].destroy();for(var X in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function($){T[$]&&(T[$]=T[$].destroy())}),T.plotLinesAndBandsGroups)T.plotLinesAndBandsGroups[X]=T.plotLinesAndBandsGroups[X].destroy();c(T,function($,D){-1===T.getKeepProps().indexOf(D)&&delete T[D]}),this.eventOptions=j},B.prototype.drawCrosshair=function(m,T){var $,R=this.crosshair,j=b(R&&R.snap,!0),X=this.chart,D=this.cross;if(a(this,"drawCrosshair",{e:m,point:T}),m||(m=this.cross&&this.cross.e),R&&!1!==(f(T)||!j)){if(j?f(T)&&($=b("colorAxis"!==this.coll?T.crosshairPos:null,this.isXAxis?T.plotX:this.len-T.plotY)):$=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),f($)){var U={value:T&&(this.isXAxis?T.x:b(T.stackY,T.y)),translatedValue:$};X.polar&&p(U,{isCrosshair:!0,chartX:m&&m.chartX,chartY:m&&m.chartY,point:T}),U=this.getPlotLinePath(U)||null}if(!f(U))return void this.hideCrosshair();j=this.categories&&!this.isRadial,D||(this.cross=D=X.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(R.className||"")).attr({zIndex:b(R.zIndex,2)}).add(),X.styledMode||(D.attr({stroke:R.color||(j?V.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":b(R.width,1)}).css({"pointer-events":"none"}),R.dashStyle&&D.attr({dashstyle:R.dashStyle}))),D.show().attr({d:U}),j&&!R.width&&D.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();a(this,"afterDrawCrosshair",{e:m,point:T})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),a(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var m=this.chart.options.chart.panning;return!!(m&&m.enabled&&/y/.test(m.type))},B.prototype.validatePositiveValue=function(m){return d(m)&&0<m},B.prototype.update=function(m,T){var R=this.chart;m=r(this.userOptions,m),this.destroy(!0),this.init(R,m),R.isDirtyBox=!0,b(T,!0)&&R.redraw()},B.prototype.remove=function(m){for(var T=this.chart,R=this.coll,j=this.series,X=j.length;X--;)j[X]&&j[X].remove(!1);x(T.axes,this),x(T[R],this),T[R].forEach(function($,D){$.options.index=$.userOptions.index=D}),this.destroy(),T.isDirtyBox=!0,b(m,!0)&&T.redraw()},B.prototype.setTitle=function(m,T){this.update({title:m},T)},B.prototype.setCategories=function(m,T){this.update({categories:m},T)},B.defaultOptions=K.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),lt(F,"Core/Axis/DateTimeAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.timeUnits;return function(z){function I(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function P(s){"datetime"!==s.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new E(this))}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("dateTime"),s.prototype.getTimeTicks=I,K(s,"init",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.normalizeTimeTickInterval=function(l,g){var C,v=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],S=W[(g=v[v.length-1])[0]],f=g[1];for(C=0;C<v.length&&(S=W[(g=v[C])[0]],f=g[1],!(v[C+1]&&l<=(S*f[f.length-1]+W[v[C+1][0]])/2));C++);return S===W.year&&l<5*S&&(f=[1,2,5]),{unitRange:S,count:l=Q(l/S,f,"year"===g[0]?Math.max(V(l/S),1):1),unitName:g[0]}},s.prototype.getXDateFormat=function(l,g){var v=this.axis;return v.closestPointRange?v.chart.time.getDateFormat(v.closestPointRange,l,v.options.startOfWeek,g)||g.year:g.day},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/LogarithmicAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.pick;return function(z){function I(s){var l=this.logarithmic;"logarithmic"!==s.userOptions.type?this.logarithmic=void 0:l||(this.logarithmic=new E(this))}function P(){var s=this.logarithmic;s&&(this.lin2val=function(l){return s.lin2log(l)},this.val2lin=function(l){return s.log2lin(l)})}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("logarithmic"),K(s,"init",I),K(s,"afterInit",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.getLogTickPositions=function(l,g,v,S){var f=this.axis,C=f.len,x=f.options,M=[];if(S||(this.minorAutoInterval=void 0),.5<=l)l=Math.round(l),M=f.getLinearTickPositions(l,g,v);else if(.08<=l){var a,p=Math.floor(g),h=x=void 0;for(C=.3<l?[1,2,4]:.15<l?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];p<v+1&&!h;p++){var n=C.length;for(a=0;a<n&&!h;a++){var d=this.log2lin(this.lin2log(p)*C[a]);d>g&&(!S||x<=v)&&void 0!==x&&M.push(x),x>v&&(h=!0),x=d}}}else g=this.lin2log(g),v=this.lin2log(v),l=S?f.getMinorTickInterval():x.tickInterval,l=W("auto"===l?null:l,this.minorAutoInterval,x.tickPixelInterval/(S?5:1)*(v-g)/((S?C/f.tickPositions.length:C)||1)),l=Q(l,void 0,V(l)),M=f.getLinearTickPositions(l,g,v).map(this.log2lin),S||(this.minorAutoInterval=l/5);return S||(f.tickInterval=l),M},s.prototype.lin2log=function(l){return Math.pow(10,l)},s.prototype.log2lin=function(l){return Math.log(l)/Math.LN10},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[F["Core/Utilities.js"]],function(H){var W,K=H.erase,V=H.extend,Q=H.isNumber;return function(Y){var I,z=[];Y.compose=function(w,E){return I||(I=w),-1===z.indexOf(E)&&(z.push(E),V(E.prototype,P.prototype)),E};var P=function(){function w(){}return w.prototype.getPlotBandPath=function(E,s,l){void 0===l&&(l=this.options);var g=this.getPlotLinePath({value:s,force:!0,acrossPanes:l.acrossPanes}),v=[],S=this.horiz;if(s=!Q(this.min)||!Q(this.max)||E<this.min&&s<this.min||E>this.max&&s>this.max,E=this.getPlotLinePath({value:E,force:!0,acrossPanes:l.acrossPanes}),l=1,E&&g){if(s){var f=E.toString()===g.toString();l=0}for(s=0;s<E.length;s+=2){var C=E[s],x=E[s+1],M=g[s],p=g[s+1];"M"!==C[0]&&"L"!==C[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==p[0]&&"L"!==p[0]||(S&&M[1]===C[1]?(M[1]+=l,p[1]+=l):S||M[2]!==C[2]||(M[2]+=l,p[2]+=l),v.push(["M",C[1],C[2]],["L",x[1],x[2]],["L",p[1],p[2]],["L",M[1],M[2]],["Z"])),v.isFlat=f}}return v},w.prototype.addPlotBand=function(E){return this.addPlotBandOrLine(E,"plotBands")},w.prototype.addPlotLine=function(E){return this.addPlotBandOrLine(E,"plotLines")},w.prototype.addPlotBandOrLine=function(E,s){var l=this,g=this.userOptions,v=new I(this,E);if(this.visible&&(v=v.render()),v){if(this._addedPlotLB||(this._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(f){l.addPlotBandOrLine(f)})),s){var S=g[s]||[];S.push(E),g[s]=S}this.plotLinesAndBands.push(v)}return v},w.prototype.removePlotBandOrLine=function(E){var s=this.plotLinesAndBands,l=this.options,g=this.userOptions;if(s){for(var v=s.length;v--;)s[v].id===E&&s[v].destroy();[l.plotLines||[],g.plotLines||[],l.plotBands||[],g.plotBands||[]].forEach(function(S){for(v=S.length;v--;)(S[v]||{}).id===E&&K(S,S[v])})}},w.prototype.removePlotBand=function(E){this.removePlotBandOrLine(E)},w.prototype.removePlotLine=function(E){this.removePlotBandOrLine(E)},w}()}(W||(W={})),W}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[F["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],F["Core/Utilities.js"]],function(H,K){var V=K.arrayMax,Q=K.arrayMin,W=K.defined,Y=K.destroyObjectProperties,z=K.erase,I=K.fireEvent,P=K.merge,w=K.objectEach,E=K.pick;return function(){function s(l,g){this.axis=l,g&&(this.options=g,this.id=g.id)}return s.compose=function(l){return H.compose(s,l)},s.prototype.render=function(){I(this,"render");var l=this,g=l.axis,v=g.horiz,S=g.logarithmic,f=l.options,C=f.color,x=E(f.zIndex,0),M=f.events,p={},a=g.chart.renderer,h=f.label,n=l.label,d=f.to,o=f.from,r=f.value,u=l.svgElem,c=[],b=W(o)&&W(d);c=W(r);var O=!u,k={class:"highcharts-plot-"+(b?"band ":"line ")+(f.className||"")},_=b?"bands":"lines";if(S&&(o=S.log2lin(o),d=S.log2lin(d),r=S.log2lin(r)),g.chart.styledMode||(c?(k.stroke=C||"#999999",k["stroke-width"]=E(f.width,1),f.dashStyle&&(k.dashstyle=f.dashStyle)):b&&(k.fill=C||"#e6ebf5",f.borderWidth&&(k.stroke=f.borderColor,k["stroke-width"]=f.borderWidth))),p.zIndex=x,(S=g.plotLinesAndBandsGroups[_+="-"+x])||(g.plotLinesAndBandsGroups[_]=S=a.g("plot-"+_).attr(p).add()),O&&(l.svgElem=u=a.path().attr(k).add(S)),c)c=g.getPlotLinePath({value:r,lineWidth:u.strokeWidth(),acrossPanes:f.acrossPanes});else{if(!b)return;c=g.getPlotBandPath(o,d,f)}return!l.eventsAdded&&M&&(w(M,function(A,B){u.on(B,function(m){M[B].apply(l,[m])})}),l.eventsAdded=!0),(O||!u.d)&&c&&c.length?u.attr({d:c}):u&&(c?(u.show(!0),u.animate({d:c})):u.d&&(u.hide(),n&&(l.label=n=n.destroy()))),h&&(W(h.text)||W(h.formatter))&&c&&c.length&&0<g.width&&0<g.height&&!c.isFlat?(h=P({align:v&&b&&"center",x:v?!b&&4:10,verticalAlign:!v&&b&&"middle",y:v?b?16:10:b?6:-4,rotation:v&&!b&&90},h),this.renderLabel(h,c,b,x)):n&&n.hide(),l},s.prototype.renderLabel=function(l,g,v,S){var f=this.axis,C=f.chart.renderer,x=this.label;x||(this.label=x=C.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(v?"band":"line")+"-label "+(l.className||""),zIndex:S}).add(),f.chart.styledMode||x.css(P({textOverflow:"ellipsis"},l.style))),S=g.xBounds||[g[0][1],g[1][1],v?g[2][1]:g[0][1]],g=g.yBounds||[g[0][2],g[1][2],v?g[2][2]:g[0][2]],v=Q(S),C=Q(g),x.align(l,!1,{x:v,y:C,width:V(S)-v,height:V(g)-C}),x.alignValue&&"left"!==x.alignValue||x.css({width:(90===x.rotation?f.height-(x.alignAttr.y-f.top):f.width-(x.alignAttr.x-f.left))+"px"}),x.show(!0)},s.prototype.getLabelText=function(l){return W(l.formatter)?l.formatter.call(this):l.text},s.prototype.destroy=function(){z(this.axis.plotLinesAndBands,this),delete this.axis,Y(this)},s}()}),lt(F,"Core/Tooltip.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.format,z=K.doc,I=V.distribute,P=W.addEvent,w=W.clamp,E=W.css,s=W.defined,l=W.discardElement,g=W.extend,v=W.fireEvent,S=W.isArray,f=W.isNumber,C=W.isString,x=W.merge,M=W.pick,p=W.splat,a=W.syncTimeout;return function(){function h(n,d){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=n,this.init(n,d)}return h.prototype.applyFilter=function(){var n=this.chart;n.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+n.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},h.prototype.bodyFormatter=function(n){return n.map(function(d){var o=d.series.tooltipOptions;return(o[(d.point.formatPrefix||"point")+"Formatter"]||d.point.tooltipFormatter).call(d.point,o[(d.point.formatPrefix||"point")+"Format"]||"")})},h.prototype.cleanSplit=function(n){this.chart.series.forEach(function(d){var o=d&&d.tt;o&&(!o.isActive||n?d.tt=o.destroy():o.isActive=!1)})},h.prototype.defaultFormatter=function(n){var d=this.points||p(this),o=[n.tooltipFooterHeaderFormatter(d[0])];return(o=o.concat(n.bodyFormatter(d))).push(n.tooltipFooterHeaderFormatter(d[0],!0)),o},h.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),l(this.container)),W.clearTimeout(this.hideTimer),W.clearTimeout(this.tooltipTimeout)},h.prototype.getAnchor=function(n,d){var O,k,o=this.chart,r=o.pointer,u=o.inverted,c=o.plotTop,b=o.plotLeft,_=0,A=0;return n=p(n),this.followPointer&&d?(void 0===d.chartX&&(d=r.normalize(d)),r=[d.chartX-b,d.chartY-c]):n[0].tooltipPos?r=n[0].tooltipPos:(n.forEach(function(B){O=B.series.yAxis,_+=B.plotX||0,A+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(k=B.series.xAxis)&&O&&(u?(_+=c+o.plotHeight-k.len-k.pos,A+=b+o.plotWidth-O.len-O.pos):(_+=k.pos-b,A+=O.pos-c))}),_/=n.length,A/=n.length,r=[u?o.plotWidth-A:_,u?o.plotHeight-_:A],this.shared&&1<n.length&&d&&(u?r[0]=d.chartX-b:r[1]=d.chartY-c)),r.map(Math.round)},h.prototype.getLabel=function(){var k,n=this,d=this.chart.styledMode,o=this.options,r=this.split&&this.allowShared,u="tooltip"+(s(o.className)?" "+o.className:""),c=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),b=function(){n.inContact=!0},O=function(j){var X=n.chart.hoverSeries;n.inContact=n.shouldStickOnContact()&&n.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!n.inContact&&X&&X.onMouseOut&&X.onMouseOut()},_=this.chart.renderer;if(n.label){var A=!n.label.hasClass("highcharts-label");(r&&!A||!r&&A)&&n.destroy()}if(!this.label){if(this.outside){A=this.chart.options.chart.style;var B=Q.getRendererType();this.container=k=K.doc.createElement("div"),k.className="highcharts-tooltip-container",E(k,{position:"absolute",top:"1px",pointerEvents:c,zIndex:Math.max(this.options.style.zIndex||0,(A&&A.zIndex||0)+3)}),P(k,"mouseenter",b),P(k,"mouseleave",O),K.doc.body.appendChild(k),this.renderer=_=new B(k,0,0,A,void 0,void 0,_.styledMode)}if(r?this.label=_.g(u):(this.label=_.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,u).attr({padding:o.padding,r:o.borderRadius}),d||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:c}).shadow(o.shadow)),d&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),n.outside&&!n.split){var m=this.label,T=m.xSetter,R=m.ySetter;m.xSetter=function(j){T.call(m,n.distance),k.style.left=j+"px"},m.ySetter=function(j){R.call(m,n.distance),k.style.top=j+"px"}}this.label.on("mouseenter",b).on("mouseleave",O).attr({zIndex:8}).add()}return this.label},h.prototype.getPosition=function(n,d,o){var R,r=this.chart,u=this.distance,c={},b=r.inverted&&o.h||0,O=this.outside,k=O?z.documentElement.clientWidth-2*u:r.chartWidth,_=O?Math.max(z.body.scrollHeight,z.documentElement.scrollHeight,z.body.offsetHeight,z.documentElement.offsetHeight,z.documentElement.clientHeight):r.chartHeight,A=r.pointer.getChartPosition(),B=function(N){var Z="x"===N;return[N,Z?k:_,Z?n:d].concat(O?[Z?n*A.scaleX:d*A.scaleY,Z?A.left-u+(o.plotX+r.plotLeft)*A.scaleX:A.top-u+(o.plotY+r.plotTop)*A.scaleY,0,Z?k:_]:[Z?n:d,Z?o.plotX+r.plotLeft:o.plotY+r.plotTop,Z?r.plotLeft:r.plotTop,Z?r.plotLeft+r.plotWidth:r.plotTop+r.plotHeight])},m=B("y"),T=B("x");B=!!o.negative,!r.polar&&r.hoverSeries&&r.hoverSeries.yAxis&&r.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&M(o.ttBelow,!r.inverted===B),X=function(N,Z,q,nt,it,ot,at){var mt=O?"y"===N?u*A.scaleY:u*A.scaleX:u,yt=(q-nt)/2,vt=nt<it-u,pt=it+u+nt<Z,ct=it-mt-q+yt;if(it=it+mt-yt,j&&pt)c[N]=it;else if(!j&&vt)c[N]=ct;else if(vt)c[N]=Math.min(at-nt,0>ct-b?ct:ct-b);else{if(!pt)return!1;c[N]=Math.max(ot,it+b+q>Z?it:it+b)}},$=function(N,Z,q,nt,it){var ot;return it<u||it>Z-u?ot=!1:c[N]=it<q/2?1:it>Z-nt/2?Z-nt-2:it-q/2,ot},D=function(N){var Z=m;m=T,T=Z,R=N},U=function(){!1!==X.apply(0,m)?!1!==$.apply(0,T)||R||(D(!0),U()):R?c.x=c.y=0:(D(!0),U())};return(r.inverted||1<this.len)&&D(),U(),c},h.prototype.hide=function(n){var d=this;W.clearTimeout(this.hideTimer),n=M(n,this.options.hideDelay),this.isHidden||(this.hideTimer=a(function(){d.getLabel().fadeOut(n&&void 0),d.isHidden=!0},n))},h.prototype.init=function(n,d){this.chart=n,this.options=d,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=d.split&&!n.inverted&&!n.polar,this.shared=d.shared||this.split,this.outside=M(d.outside,!(!n.scrollablePixelsX&&!n.scrollablePixelsY))},h.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},h.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},h.prototype.move=function(n,d,o,r){var u=this,c=u.now,b=!1!==u.options.animation&&!u.isHidden&&(1<Math.abs(n-c.x)||1<Math.abs(d-c.y)),O=u.followPointer||1<u.len;g(c,{x:b?(2*c.x+n)/3:n,y:b?(c.y+d)/2:d,anchorX:O?void 0:b?(2*c.anchorX+o)/3:o,anchorY:O?void 0:b?(c.anchorY+r)/2:r}),u.getLabel().attr(c),u.drawTracker(),b&&(W.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,d,o,r)},32))},h.prototype.refresh=function(n,d){var o=this.chart,r=this.options,u=p(n),c=u[0],b=[],O=r.formatter||this.defaultFormatter,k=this.shared,_=o.styledMode,A={};if(r.enabled){W.clearTimeout(this.hideTimer),this.allowShared=!(!S(n)&&n.series&&n.series.noSharedTooltip),this.followPointer=!this.split&&c.series.tooltipOptions.followPointer;var B=(n=this.getAnchor(n,d))[0],m=n[1];if(k&&this.allowShared?(o.pointer.applyInactiveState(u),u.forEach(function(j){j.setState("hover"),b.push(j.getLabelConfig())}),(A={x:c.category,y:c.y}).points=b):A=c.getLabelConfig(),this.len=b.length,O=O.call(A,this),this.distance=M((k=c.series).tooltipOptions.distance,16),!1===O)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(O,u);else{var T=B,R=m;if(d&&o.pointer.isDirectTouch&&(T=d.chartX-o.plotLeft,R=d.chartY-o.plotTop),!o.polar&&!1!==k.options.clip&&!u.some(function(j){return j.series.shouldShowTooltip(T,R)}))return void this.hide();d=this.getLabel(),r.style.width&&!_||d.css({width:this.chart.spacingBox.width+"px"}),d.attr({text:O&&O.join?O.join(""):O}),d.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+M(c.colorIndex,k.colorIndex)),_||d.attr({stroke:r.borderColor||c.color||k.color||"#666666"}),this.updatePosition({plotX:B,plotY:m,negative:c.negative,ttBelow:c.ttBelow,h:n[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}},h.prototype.renderSplit=function(n,d){function o(pt,ct,J,et,st){return void 0===st&&(st=!0),J?(ct=nt?0:mt,pt=w(pt-et/2,N.left,N.right-et-(r.outside?it:0))):(ct-=ot,pt=w(pt=st?pt-et-$:pt+$,st?pt:N.left,N.right)),{x:pt,y:ct}}var r=this,u=r.chart,c=r.chart,b=c.chartWidth,O=c.chartHeight,k=c.plotHeight,_=c.plotLeft,A=c.plotTop,B=c.pointer,m=c.scrollablePixelsY;m=void 0===m?0:m;var R=c.scrollingContainer,j=(R=void 0===R?{scrollLeft:0,scrollTop:0}:R).scrollLeft;R=R.scrollTop;var X=c.styledMode,$=r.distance,D=r.options,U=r.options.positioner,N=r.outside&&"number"!=typeof c.scrollablePixelsX?z.documentElement.getBoundingClientRect():{left:j,right:j+b,top:R,bottom:R+O},Z=r.getLabel(),q=this.renderer||u.renderer,nt=!(!u.xAxis[0]||!u.xAxis[0].opposite),it=(u=B.getChartPosition()).left;u=u.top;var ot=A+R,at=0,mt=k-m;C(n)&&(n=[!1,n]),n=n.slice(0,d.length+1).reduce(function(pt,ct,J){if(!1!==ct&&""!==ct){var et=(J=d[J-1]||{isHeader:!0,plotX:d[0].plotX,plotY:k,series:{}}).isHeader,st=et?r:J.series;ct=ct.toString();var ut=st.tt,dt=J.isHeader,xt=J.series,Et="highcharts-color-"+M(J.colorIndex,xt.colorIndex,"none");if(ut||(ut={padding:D.padding,r:D.borderRadius},X||(ut.fill=D.backgroundColor,ut["stroke-width"]=D.borderWidth),ut=q.label("",0,0,D[dt?"headerShape":"shape"],void 0,void 0,D.useHTML).addClass((dt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Et).attr(ut).add(Z)),ut.isActive=!0,ut.attr({text:ct}),X||ut.css(D.style).shadow(D.shadow).attr({stroke:D.borderColor||J.color||xt.color||"#333333"}),ct=(dt=(st=st.tt=ut).getBBox()).width+st.strokeWidth(),et&&(mt+=at=dt.height,nt&&(ot-=at)),xt=void 0===(xt=J.plotX)?0:xt,Et=void 0===(Et=J.plotY)?0:Et,ut=J.series,J.isHeader){xt=_+xt;var wt=A+k/2}else{var kt=ut.xAxis,Dt=ut.yAxis;xt=kt.pos+w(xt,-$,kt.len+$),ut.shouldShowTooltip(0,Dt.pos-A+Et,{ignoreX:!0})&&(wt=Dt.pos+Et)}xt=w(xt,N.left-$,N.right+$),"number"==typeof wt?(dt=dt.height+1,Et=U?U.call(r,ct,dt,J):o(xt,wt,et,ct),pt.push({align:U?0:void 0,anchorX:xt,anchorY:wt,boxWidth:ct,point:J,rank:M(Et.rank,et?1:0),size:dt,target:Et.y,tt:st,x:Et.x})):st.isActive=!1}return pt},[]),!U&&n.some(function(pt){var ct=(r.outside?it:0)+pt.anchorX;return ct<N.left&&ct+pt.boxWidth<N.right||ct<it-N.left+pt.boxWidth&&N.right-ct>ct})&&(n=n.map(function(pt){var ct=o(pt.anchorX,pt.anchorY,pt.point.isHeader,pt.boxWidth,!1);return g(pt,{target:ct.y,x:ct.x})})),r.cleanSplit(),I(n,mt);var yt=it,vt=it;n.forEach(function(pt){var ct=pt.x,J=pt.boxWidth;(pt=pt.isHeader)||(r.outside&&it+ct<yt&&(yt=it+ct),!pt&&r.outside&&yt+J>vt&&(vt=it+ct))}),n.forEach(function(pt){var ct=pt.x,J=pt.anchorX,et=pt.pos,st=pt.point.isHeader;if(et={visibility:void 0===et?"hidden":"inherit",x:ct,y:et+ot,anchorX:J,anchorY:pt.anchorY},r.outside&&ct<J){var ut=it-yt;0<ut&&(st||(et.x=ct+ut,et.anchorX=J+ut),st&&(et.x=(vt-yt)/2,et.anchorX=J+ut))}pt.tt.attr(et)}),n=r.container,m=r.renderer,r.outside&&n&&m&&(c=Z.getBBox(),m.setSize(c.width+c.x,c.height+c.y,!1),n.style.left=yt+"px",n.style.top=u+"px")},h.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var n=this.chart,d=this.label,o=this.shared?n.hoverPoints:n.hoverPoint;if(d&&o){var r={x:0,y:0,width:0,height:0};o=this.getAnchor(o);var u=d.getBBox();o[0]+=n.plotLeft-d.translateX,o[1]+=n.plotTop-d.translateY,r.x=Math.min(0,o[0]),r.y=Math.min(0,o[1]),r.width=0>o[0]?Math.max(Math.abs(o[0]),u.width-o[0]):Math.max(Math.abs(o[0]),u.width),r.height=0>o[1]?Math.max(Math.abs(o[1]),u.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),u.height),this.tracker?this.tracker.attr(r):(this.tracker=d.renderer.rect(r).addClass("highcharts-tracker").add(d),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},h.prototype.styledModeFormat=function(n){return n.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},h.prototype.tooltipFooterHeaderFormatter=function(n,d){var o=n.series,r=o.tooltipOptions,u=o.xAxis,c=u&&u.dateTime,b=r.xDateFormat,O=r[d?"footerFormat":"headerFormat"];return v(this,"headerFormatter",u={isFooter:d,labelConfig:n},function(k){c&&!b&&f(n.key)&&(b=c.getXDateFormat(n.key,r.dateTimeLabelFormats)),c&&b&&(n.point&&n.point.tooltipDateKeys||["key"]).forEach(function(_){O=O.replace("{point."+_+"}","{point."+_+":"+b+"}")}),o.chart.styledMode&&(O=this.styledModeFormat(O)),k.text=Y(O,{point:n,series:o},this.chart)}),u.text},h.prototype.update=function(n){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,n),this.init(this.chart,x(!0,this.options,n))},h.prototype.updatePosition=function(n){var d=this.chart,o=this.options,r=d.pointer,u=this.getLabel();r=r.getChartPosition();var c=(o.positioner||this.getPosition).call(this,u.width,u.height,n),b=n.plotX+d.plotLeft;n=n.plotY+d.plotTop,this.outside&&(this.renderer.setSize(u.width+(o=o.borderWidth+2*this.distance),u.height+o,!1),(1!==r.scaleX||1!==r.scaleY)&&(E(this.container,{transform:"scale("+r.scaleX+", "+r.scaleY+")"}),b*=r.scaleX,n*=r.scaleY),b+=r.left-c.x,n+=r.top-c.y),this.move(Math.round(c.x),Math.round(c.y||0),b,n)},h}()}),lt(F,"Core/Series/Point.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=K.animObject,z=V.defaultOptions,I=Q.format,P=W.addEvent,w=W.defined,E=W.erase,s=W.extend,l=W.fireEvent,g=W.getNestedProperty,v=W.isArray,S=W.isFunction,f=W.isNumber,C=W.isObject,x=W.merge,M=W.objectEach,p=W.pick,a=W.syncTimeout,h=W.removeEvent,n=W.uniqueKey;return function(){function d(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return d.prototype.animateBeforeDestroy=function(){var o=this,r={x:o.startXPos,opacity:0},u=o.getGraphicalProps();u.singular.forEach(function(c){o[c]=o[c].animate("dataLabel"===c?{x:o[c].startXPos,y:o[c].startYPos,opacity:0}:r)}),u.plural.forEach(function(c){o[c].forEach(function(b){b.element&&b.animate(s({x:o.startXPos},b.startYPos?{x:b.startXPos,y:b.startYPos}:{}))})})},d.prototype.applyOptions=function(o,r){var u=this.series,c=u.options.pointValKey||u.pointValKey;return o=d.prototype.optionsToObject.call(this,o),s(this,o),this.options=this.options?s(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,c&&(this.y=d.prototype.getNestedProperty.call(this,c)),this.formatPrefix=(this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!f(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===r&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),void 0===this.x&&u?this.x=void 0===r?u.autoIncrement():r:f(o.x)&&u.options.relativeXValue&&(this.x=u.autoIncrement(o.x)),this},d.prototype.destroy=function(){function o(){for(k in(r.graphic||r.dataLabel||r.dataLabels)&&(h(r),r.destroyElements()),r)r[k]=null}var r=this,u=r.series,c=u.chart;u=u.options.dataSorting;var k,b=c.hoverPoints,O=Y(r.series.chart.renderer.globalAnimation);r.legendItem&&c.legend.destroyItem(r),b&&(r.setState(),E(b,r),b.length||(c.hoverPoints=null)),r===c.hoverPoint&&r.onMouseOut(),u&&u.enabled?(this.animateBeforeDestroy(),a(o,O.duration)):o(),c.pointCount--},d.prototype.destroyElements=function(o){var r=this;(o=r.getGraphicalProps(o)).singular.forEach(function(u){r[u]=r[u].destroy()}),o.plural.forEach(function(u){r[u].forEach(function(c){c.element&&c.destroy()}),delete r[u]})},d.prototype.firePointEvent=function(o,r,u){var c=this,b=this.series.options;(b.point.events[o]||c.options&&c.options.events&&c.options.events[o])&&c.importEvents(),"click"===o&&b.allowPointSelect&&(u=function(O){c.select&&c.select(null,O.ctrlKey||O.metaKey||O.shiftKey)}),l(c,o,r,u)},d.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},d.prototype.getGraphicalProps=function(o){var b,r=this,u=[],c={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","upperGraphic","shadowGroup"),o.dataLabel&&u.push("dataLabel","dataLabelUpper","connector"),b=u.length;b--;){var O=u[b];r[O]&&c.singular.push(O)}return["dataLabel","connector"].forEach(function(k){var _=k+"s";o[k]&&r[_]&&c.plural.push(_)}),c},d.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},d.prototype.getNestedProperty=function(o){if(o)return 0===o.indexOf("custom.")?g(o,this.options):this[o]},d.prototype.getZone=function(){var o=this.series,r=o.zones;o=o.zoneAxis||"y";var u,c=0;for(u=r[c];this[o]>=u.value;)u=r[++c];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=u&&u.color&&!this.options.color?u.color:this.nonZonedColor,u},d.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},d.prototype.init=function(o,r,u){return this.series=o,this.applyOptions(r,u),this.id=w(this.id)?this.id:n(),this.resolveColor(),o.chart.pointCount++,l(this,"afterInit"),this},d.prototype.optionsToObject=function(o){var r=this.series,u=r.options.keys,c=u||r.pointArrayMap||["y"],b=c.length,O={},k=0,_=0;if(f(o)||null===o)O[c[0]]=o;else if(v(o))for(!u&&o.length>b&&("string"==(r=typeof o[0])?O.name=o[0]:"number"===r&&(O.x=o[0]),k++);_<b;)u&&void 0===o[k]||(0<c[_].indexOf(".")?d.prototype.setNestedProperty(O,o[k],c[_]):O[c[_]]=o[k]),k++,_++;else"object"==typeof o&&(O=o,o.dataLabels&&(r._hasPointLabels=!0),o.marker&&(r._hasPointMarkers=!0));return O},d.prototype.resolveColor=function(){var o=this.series,r=o.chart.styledMode,u=o.chart.options.chart.colorCount;if(delete this.nonZonedColor,o.options.colorByPoint){if(!r){var c=(u=o.options.colors||o.chart.options.colors)[o.colorCounter];u=u.length}r=o.colorCounter,o.colorCounter++,o.colorCounter===u&&(o.colorCounter=0)}else r||(c=o.color),r=o.colorIndex;this.colorIndex=p(this.options.colorIndex,r),this.color=p(this.options.color,c)},d.prototype.setNestedProperty=function(o,r,u){return u.split(".").reduce(function(c,b,O,k){return c[b]=k.length-1===O?r:C(c[b],!0)?c[b]:{},c[b]},o),o},d.prototype.tooltipFormatter=function(o){var r=this.series,u=r.tooltipOptions,c=p(u.valueDecimals,""),b=u.valuePrefix||"",O=u.valueSuffix||"";return r.chart.styledMode&&(o=r.chart.tooltip.styledModeFormat(o)),(r.pointArrayMap||["y"]).forEach(function(k){k="{point."+k,(b||O)&&(o=o.replace(RegExp(k+"}","g"),b+k+"}"+O)),o=o.replace(RegExp(k+"}","g"),k+":,."+c+"f}")}),I(o,{point:this,series:this.series},r.chart)},d.prototype.update=function(o,r,u,c){function b(){O.applyOptions(o);var T=_&&O.hasDummyGraphic;T=null===O.y?!T:T,_&&T&&(O.graphic=_.destroy(),delete O.hasDummyGraphic),C(o,!0)&&(_&&_.element&&o&&o.marker&&void 0!==o.marker.symbol&&(O.graphic=_.destroy()),o&&o.dataLabels&&O.dataLabel&&(O.dataLabel=O.dataLabel.destroy()),O.connector&&(O.connector=O.connector.destroy())),k.updateParallelArrays(O,m=O.index),B.data[m]=C(B.data[m],!0)||C(o,!0)?O.options:p(o,B.data[m]),k.isDirty=k.isDirtyData=!0,!k.fixedBox&&k.hasCartesianSeries&&(A.isDirtyBox=!0),"point"===B.legendType&&(A.isDirtyLegend=!0),r&&A.redraw(u)}var m,O=this,k=O.series,_=O.graphic,A=k.chart,B=k.options;r=p(r,!0),!1===c?b():O.firePointEvent("update",{options:o},b)},d.prototype.remove=function(o,r){this.series.removePoint(this.series.data.indexOf(this),o,r)},d.prototype.select=function(o,r){var u=this,c=u.series,b=c.chart;this.selectedStaging=o=p(o,!u.selected),u.firePointEvent(o?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=o,c.options.data[c.data.indexOf(u)]=u.options,u.setState(o&&"select"),r||b.getSelectedPoints().forEach(function(O){var k=O.series;O.selected&&O!==u&&(O.selected=O.options.selected=!1,k.options.data[k.data.indexOf(O)]=O.options,O.setState(b.hoverPoints&&k.options.inactiveOtherPoints?"inactive":""),O.firePointEvent("unselect"))})}),delete this.selectedStaging},d.prototype.onMouseOver=function(o){var r=this.series.chart,u=r.pointer;o=o?u.normalize(o):u.getChartCoordinatesFromPoint(this,r.inverted),u.runPointActions(o,this)},d.prototype.onMouseOut=function(){var o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(r){r.setState()}),o.hoverPoints=o.hoverPoint=null},d.prototype.importEvents=function(){if(!this.hasImportedEvents){var o=this,r=x(o.series.options.point,o.options).events;o.events=r,M(r,function(u,c){S(u)&&P(o,c,u)}),this.hasImportedEvents=!0}},d.prototype.setState=function(o,r){var j,u=this.series,c=this.state,b=u.options.states[o||"normal"]||{},O=z.plotOptions[u.type].marker&&u.options.marker,_=O&&O.states&&O.states[o||"normal"]||{},B=this.marker||{},m=u.chart,T=O&&u.markerAttribs,R=u.halo,X=u.stateMarkerGraphic;if(!((o=o||"")===this.state&&!r||this.selected&&"select"!==o||!1===b.enabled||o&&(!1===_.enabled||O&&!1===O.enabled&&!1===_.enabled)||o&&B.states&&B.states[o]&&!1===B.states[o].enabled)){if(this.state=o,T&&(j=u.markerAttribs(this,o)),this.graphic&&!this.hasDummyGraphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),o&&this.graphic.addClass("highcharts-point-"+o),!m.styledMode){var $=u.pointAttribs(this,o),D=p(m.options.chart.animation,b.animation);u.options.inactiveOtherPoints&&f($.opacity)&&((this.dataLabels||[]).forEach(function(U){U&&U.animate({opacity:$.opacity},D)}),this.connector&&this.connector.animate({opacity:$.opacity},D)),this.graphic.animate($,D)}j&&this.graphic.animate(j,p(m.options.chart.animation,_.animation,O.animation)),X&&X.hide()}else o&&_&&(c=B.symbol||u.symbol,X&&X.currentSymbol!==c&&(X=X.destroy()),j&&(X?X[r?"animate":"attr"]({x:j.x,y:j.y}):c&&(u.stateMarkerGraphic=X=m.renderer.symbol(c,j.x,j.y,j.width,j.height).add(u.markerGroup),X.currentSymbol=c)),!m.styledMode&&X&&"inactive"!==this.state&&X.attr(u.pointAttribs(this,o))),X&&(X[o&&this.isInside?"show":"hide"](),X.element.point=this,X.addClass(this.getClassName(),!0));j=(X=this.graphic||X)&&X.visibility||"inherit",(b=b.halo)&&b.size&&X&&"hidden"!==j&&!this.isCluster?(R||(u.halo=R=m.renderer.path().add(X.parentGroup)),R.show()[r?"animate":"attr"]({d:this.haloPath(b.size)}),R.attr({class:"highcharts-halo highcharts-color-"+p(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),R.point=this,m.styledMode||R.attr(s({fill:this.color||u.color,"fill-opacity":b.opacity},H.filterUserAttributes(b.attributes||{})))):R&&R.point&&R.point.haloPath&&R.animate({d:R.point.haloPath(0)},null,R.hide),l(this,"afterSetState",{state:o})}},d.prototype.haloPath=function(o){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-o,this.plotY-o,2*o,2*o)},d}()}),lt(F,"Core/Pointer.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Tooltip.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var W=H.parse,Y=K.charts,z=K.noop,I=Q.addEvent,P=Q.attr,w=Q.css,E=Q.defined,s=Q.extend,l=Q.find,g=Q.fireEvent,v=Q.isNumber,S=Q.isObject,f=Q.objectEach,C=Q.offset,x=Q.pick,M=Q.splat;return function(){function p(a,h){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=a,this.hasDragged=!1,this.options=h,this.init(a,h)}return p.prototype.applyInactiveState=function(a){var n,h=[];(a||[]).forEach(function(d){h.push(n=d.series),n.linkedParent&&h.push(n.linkedParent),n.linkedSeries&&(h=h.concat(n.linkedSeries)),n.navigatorSeries&&h.push(n.navigatorSeries)}),this.chart.series.forEach(function(d){-1===h.indexOf(d)?d.setState("inactive",!0):d.options.inactiveOtherPoints&&d.setAllPointsToState("inactive")})},p.prototype.destroy=function(){var a=this;this.eventsToUnbind.forEach(function(h){return h()}),this.eventsToUnbind=[],K.chartCount||(p.unbindDocumentMouseUp&&(p.unbindDocumentMouseUp=p.unbindDocumentMouseUp()),p.unbindDocumentTouchEnd&&(p.unbindDocumentTouchEnd=p.unbindDocumentTouchEnd())),clearInterval(a.tooltipTimeout),f(a,function(h,n){a[n]=void 0})},p.prototype.drag=function(a){var h=this.chart,n=h.options.chart,d=this.zoomHor,o=this.zoomVert,r=h.plotLeft,u=h.plotTop,c=h.plotWidth,b=h.plotHeight,O=this.mouseDownX||0,k=this.mouseDownY||0,_=S(n.panning)?n.panning&&n.panning.enabled:n.panning,A=n.panKey&&a[n.panKey+"Key"],B=a.chartX,m=a.chartY,T=this.selectionMarker;if((!T||!T.touch)&&(B<r?B=r:B>r+c&&(B=r+c),m<u?m=u:m>u+b&&(m=u+b),this.hasDragged=Math.sqrt(Math.pow(O-B,2)+Math.pow(k-m,2)),10<this.hasDragged)){var R=h.isInsidePlot(O-r,k-u,{visiblePlotOnly:!0});!h.hasCartesianSeries&&!h.mapView||!this.zoomX&&!this.zoomY||!R||A||T||(this.selectionMarker=T=h.renderer.rect(r,u,d?1:c,o?1:b,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),h.styledMode||T.attr({fill:n.selectionMarkerFill||W("#335cad").setOpacity(.25).get()})),T&&d&&(d=B-O,T.attr({width:Math.abs(d),x:(0<d?0:d)+O})),T&&o&&(d=m-k,T.attr({height:Math.abs(d),y:(0<d?0:d)+k})),R&&!T&&_&&h.pan(a,n.panning)}},p.prototype.dragStart=function(a){var h=this.chart;h.mouseIsDown=a.type,h.cancelClick=!1,h.mouseDownX=this.mouseDownX=a.chartX,h.mouseDownY=this.mouseDownY=a.chartY},p.prototype.drop=function(a){var h=this,n=this.chart,d=this.hasPinched;if(this.selectionMarker){var o=this.selectionMarker,r=o.attr?o.attr("x"):o.x,u=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,b=o.attr?o.attr("height"):o.height,O={originalEvent:a,xAxis:[],yAxis:[],x:r,y:u,width:c,height:b},k=!!n.mapView;(this.hasDragged||d)&&(n.axes.forEach(function(_){if(_.zoomEnabled&&E(_.min)&&(d||h[{xAxis:"zoomX",yAxis:"zoomY"}[_.coll]])&&v(r)&&v(u)){var A=_.horiz,B="touchend"===a.type?_.minPixelPadding:0,m=_.toValue((A?r:u)+B);A=_.toValue((A?r+c:u+b)-B),O[_.coll].push({axis:_,min:Math.min(m,A),max:Math.max(m,A)}),k=!0}}),k&&g(n,"selection",O,function(_){n.zoom(s(_,d?{animation:!1}:null))})),v(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),d&&this.scaleGroups()}n&&v(n.index)&&(w(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},p.prototype.findNearestKDPoint=function(a,h,n){var r,d=this.chart,o=d.hoverPoint;return d=d.tooltip,o&&d&&d.isStickyOnContact()?o:(a.forEach(function(u){var c=!(u.noSharedTooltip&&h)&&0>u.options.findNearestPointBy.indexOf("y");if(u=u.searchPoint(n,c),(c=S(u,!0)&&u.series)&&!(c=!S(r,!0))){var b=r.dist-u.dist,O=(u.series.group&&u.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);c=0<(0!=(c=r.distX-u.distX)&&h?c:0!==b?b:0!==O?O:r.series.index>u.series.index?-1:1)}c&&(r=u)}),r)},p.prototype.getChartCoordinatesFromPoint=function(a,h){var n=a.series,d=n.xAxis;n=n.yAxis;var o=a.shapeArgs;if(d&&n){var r=x(a.clientX,a.plotX),u=a.plotY||0;return a.isNode&&o&&v(o.x)&&v(o.y)&&(r=o.x,u=o.y),h?{chartX:n.len+n.pos-u,chartY:d.len+d.pos-r}:{chartX:r+d.pos,chartY:u+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}},p.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var a=this.chart.container,h=C(a);this.chartPosition={left:h.left,top:h.top,scaleX:1,scaleY:1};var n=a.offsetWidth;return a=a.offsetHeight,2<n&&2<a&&(this.chartPosition.scaleX=h.width/n,this.chartPosition.scaleY=h.height/a),this.chartPosition},p.prototype.getCoordinates=function(a){var h={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(n){h[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(a[n.horiz?"chartX":"chartY"])})}),h},p.prototype.getHoverData=function(a,h,n,d,o,r){var u=[];d=!(!d||!a);var c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};g(this,"beforeGetHoverData",c);var b=h&&!h.stickyTracking?[h]:n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&k.stickyTracking}),O=d||!r?a:this.findNearestKDPoint(b,o,r);return h=O&&O.series,O&&(o&&!h.noSharedTooltip?(b=n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&!k.noSharedTooltip})).forEach(function(k){var _=l(k.points,function(A){return A.x===O.x&&!A.isNull});S(_)&&(k.chart.isBoosting&&(_=k.getPoint(_)),u.push(_))}):u.push(O)),g(this,"afterGetHoverData",c={hoverPoint:O}),{hoverPoint:c.hoverPoint,hoverSeries:h,hoverPoints:u}},p.prototype.getPointFromEvent=function(a){a=a.target;for(var h;a&&!h;)h=a.point,a=a.parentNode;return h},p.prototype.onTrackerMouseOut=function(a){a=a.relatedTarget||a.toElement;var h=this.chart.hoverSeries;this.isDirectTouch=!1,!h||!a||h.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+h.index)&&this.inClass(a,"highcharts-tracker")||h.onMouseOut()},p.prototype.inClass=function(a,h){for(var n;a;){if(n=P(a,"class")){if(-1!==n.indexOf(h))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}a=a.parentNode}},p.prototype.init=function(a,h){this.options=h,this.chart=a,this.runChartClick=!(!h.chart.events||!h.chart.events.click),this.pinchDown=[],this.lastValidTouch={},V&&(a.tooltip=new V(a,h.tooltip),this.followTouchMove=x(h.tooltip.followTouchMove,!0)),this.setDOMEvents()},p.prototype.normalize=function(a,h){var n=a.touches,d=n?n.length?n.item(0):x(n.changedTouches,a.changedTouches)[0]:a;return h||(h=this.getChartPosition()),n=d.pageX-h.left,d=d.pageY-h.top,n/=h.scaleX,d/=h.scaleY,s(a,{chartX:Math.round(n),chartY:Math.round(d)})},p.prototype.onContainerClick=function(a){var h=this.chart,n=h.hoverPoint;a=this.normalize(a);var d=h.plotLeft,o=h.plotTop;h.cancelClick||(n&&this.inClass(a.target,"highcharts-tracker")?(g(n.series,"click",s(a,{point:n})),h.hoverPoint&&n.firePointEvent("click",a)):(s(a,this.getCoordinates(a)),h.isInsidePlot(a.chartX-d,a.chartY-o,{visiblePlotOnly:!0})&&g(h,"click",a)))},p.prototype.onContainerMouseDown=function(a){var h=1==(1&(a.buttons||a.button));a=this.normalize(a),K.isFirefox&&0!==a.button&&this.onContainerMouseMove(a),(void 0===a.button||h)&&(this.zoomOption(a),h&&a.preventDefault&&a.preventDefault(),this.dragStart(a))},p.prototype.onContainerMouseLeave=function(a){var h=Y[x(p.hoverChartIndex,-1)],n=this.chart.tooltip;n&&n.shouldStickOnContact()&&this.inClass(a.relatedTarget,"highcharts-tooltip-container")||(a=this.normalize(a),h&&(a.relatedTarget||a.toElement)&&(h.pointer.reset(),h.pointer.chartPosition=void 0),n&&!n.isHidden&&this.reset())},p.prototype.onContainerMouseEnter=function(a){delete this.chartPosition},p.prototype.onContainerMouseMove=function(a){var h=this.chart;a=this.normalize(a),this.setHoverChartIndex(),a.preventDefault||(a.returnValue=!1),("mousedown"===h.mouseIsDown||this.touchSelect(a))&&this.drag(a),h.openMenu||!this.inClass(a.target,"highcharts-tracker")&&!h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||(this.inClass(a.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(a))},p.prototype.onDocumentTouchEnd=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.onContainerTouchMove=function(a){this.touchSelect(a)?this.onContainerMouseMove(a):this.touch(a)},p.prototype.onContainerTouchStart=function(a){this.touchSelect(a)?this.onContainerMouseDown(a):(this.zoomOption(a),this.touch(a,!0))},p.prototype.onDocumentMouseMove=function(a){var h=this.chart,n=this.chartPosition;a=this.normalize(a,n);var d=h.tooltip;!n||d&&d.isStickyOnContact()||h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||this.inClass(a.target,"highcharts-tracker")||this.reset()},p.prototype.onDocumentMouseUp=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.pinch=function(a){var h=this,n=h.chart,d=h.pinchDown,o=a.touches||[],r=o.length,u=h.lastValidTouch,c=h.hasZoom,b={},O=1===r&&(h.inClass(a.target,"highcharts-tracker")&&n.runTrackerClick||h.runChartClick),k={},_=h.selectionMarker;1<r?h.initiated=!0:1===r&&this.followTouchMove&&(h.initiated=!1),c&&h.initiated&&!O&&!1!==a.cancelable&&a.preventDefault(),[].map.call(o,function(A){return h.normalize(A)}),"touchstart"===a.type?([].forEach.call(o,function(A,B){d[B]={chartX:A.chartX,chartY:A.chartY}}),u.x=[d[0].chartX,d[1]&&d[1].chartX],u.y=[d[0].chartY,d[1]&&d[1].chartY],n.axes.forEach(function(A){if(A.zoomEnabled){var B=n.bounds[A.horiz?"h":"v"],m=A.minPixelPadding,T=A.toPixels(Math.min(x(A.options.min,A.dataMin),A.dataMin)),R=A.toPixels(Math.max(x(A.options.max,A.dataMax),A.dataMax)),j=Math.max(T,R);B.min=Math.min(A.pos,Math.min(T,R)-m),B.max=Math.max(A.pos+A.len,j+m)}}),h.res=!0):h.followTouchMove&&1===r?this.runPointActions(h.normalize(a)):d.length&&(g(n,"touchpan",{originalEvent:a},function(){_||(h.selectionMarker=_=s({destroy:z,touch:!0},n.plotBox)),h.pinchTranslate(d,o,b,_,k,u),h.hasPinched=c,h.scaleGroups(b,k)}),h.res&&(h.res=!1,this.reset(!1,0)))},p.prototype.pinchTranslate=function(a,h,n,d,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,a,h,n,d,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,a,h,n,d,o,r)},p.prototype.pinchTranslateDirection=function(a,h,n,d,o,r,u,c){var b=this.chart,O=a?"x":"y",k=a?"X":"Y",_="chart"+k,A=a?"width":"height",B=b["plot"+(a?"Left":"Top")],m=b.inverted,T=b.bounds[a?"h":"v"],R=1===h.length,j=h[0][_],X=!R&&h[1][_];h=function(){"number"==typeof Z&&20<Math.abs(j-X)&&(U=c||Math.abs(N-Z)/Math.abs(j-X)),D=(B-N)/U+j,$=b["plot"+(a?"Width":"Height")]/U};var $,D,U=c||1,N=n[0][_],Z=!R&&n[1][_];if(h(),(n=D)<T.min){n=T.min;var q=!0}else n+$>T.max&&(n=T.max-$,q=!0);q?(N-=.8*(N-u[O][0]),"number"==typeof Z&&(Z-=.8*(Z-u[O][1])),h()):u[O]=[N,Z],m||(r[O]=D-B,r[A]=$),r=m?1/U:U,o[A]=$,o[O]=n,d[m?a?"scaleY":"scaleX":"scale"+k]=U,d["translate"+k]=r*B+(N-r*j)},p.prototype.reset=function(a,h){var n=this.chart,d=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,u=n.tooltip,c=u&&u.shared?r:o;a&&c&&M(c).forEach(function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?u&&c&&M(c).length&&(u.refresh(c),u.shared&&r?r.forEach(function(b){b.setState(b.state,!0),b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):o&&(o.setState(o.state,!0),n.axes.forEach(function(b){b.crosshair&&o.series[b.coll]===b&&b.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),r&&r.forEach(function(b){b.setState()}),d&&d.onMouseOut(),u&&u.hide(h),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(b){b.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},p.prototype.runPointActions=function(a,h){var n=this.chart,d=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,o=!!d&&d.shared,r=h||n.hoverPoint,u=r&&r.series||n.hoverSeries;r=(h=this.getHoverData(r,u,n.series,(!a||"touchmove"!==a.type)&&(!!h||u&&u.directTouch&&this.isDirectTouch),o,a)).hoverPoint;var c=h.hoverPoints;if(h=(u=h.hoverSeries)&&u.tooltipOptions.followPointer&&!u.tooltipOptions.split,o=o&&u&&!u.noSharedTooltip,r&&(r!==n.hoverPoint||d&&d.isHidden)){if((n.hoverPoints||[]).forEach(function(b){-1===c.indexOf(b)&&b.setState()}),n.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(c),(c||[]).forEach(function(b){b.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!r.series)return;n.hoverPoints=c,n.hoverPoint=r,r.firePointEvent("mouseOver"),d&&d.refresh(o?c:r,a)}else h&&d&&!d.isHidden&&(r=d.getAnchor([{}],a),n.isInsidePlot(r[0],r[1],{visiblePlotOnly:!0})&&d.updatePosition({plotX:r[0],plotY:r[1]}));this.unDocMouseMove||(this.unDocMouseMove=I(n.container.ownerDocument,"mousemove",function(b){var O=Y[p.hoverChartIndex];O&&O.pointer.onDocumentMouseMove(b)}),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(b){var k,O=x((b.crosshair||{}).snap,!0);O&&((k=n.hoverPoint)&&k.series[b.coll]===b||(k=l(c,function(_){return _.series[b.coll]===b}))),k||!O?b.drawCrosshair(a,k):b.hideCrosshair()})},p.prototype.scaleGroups=function(a,h){var n=this.chart;n.series.forEach(function(d){var o=a||d.getPlotBox();d.group&&(d.xAxis&&d.xAxis.zoomEnabled||n.mapView)&&(d.group.attr(o),d.markerGroup&&(d.markerGroup.attr(o),d.markerGroup.clip(h?n.clipRect:null)),d.dataLabelsGroup&&d.dataLabelsGroup.attr(o))}),n.clipRect.attr(h||n.clipBox)},p.prototype.setDOMEvents=function(){var a=this,h=this.chart.container,n=h.ownerDocument;h.onmousedown=this.onContainerMouseDown.bind(this),h.onmousemove=this.onContainerMouseMove.bind(this),h.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(I(h,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(I(h,"mouseleave",this.onContainerMouseLeave.bind(this))),p.unbindDocumentMouseUp||(p.unbindDocumentMouseUp=I(n,"mouseup",this.onDocumentMouseUp.bind(this)));for(var d=this.chart.renderTo.parentElement;d&&"BODY"!==d.tagName;)this.eventsToUnbind.push(I(d,"scroll",function(){delete a.chartPosition})),d=d.parentElement;K.hasTouch&&(this.eventsToUnbind.push(I(h,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(I(h,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),p.unbindDocumentTouchEnd||(p.unbindDocumentTouchEnd=I(n,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},p.prototype.setHoverChartIndex=function(){var a=this.chart,h=K.charts[x(p.hoverChartIndex,-1)];h&&h!==a&&h.pointer.onContainerMouseLeave({relatedTarget:!0}),h&&h.mouseIsDown||(p.hoverChartIndex=a.index)},p.prototype.touch=function(a,h){var n=this.chart;if(this.setHoverChartIndex(),1===a.touches.length)if(a=this.normalize(a),n.isInsidePlot(a.chartX-n.plotLeft,a.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu){if(h&&this.runPointActions(a),"touchmove"===a.type)var o=!!(h=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(h[0].chartX-a.chartX,2)+Math.pow(h[0].chartY-a.chartY,2));x(o,!0)&&this.pinch(a)}else h&&this.reset();else 2===a.touches.length&&this.pinch(a)},p.prototype.touchSelect=function(a){return!(!this.chart.options.chart.zoomBySingleTouch||!a.touches||1!==a.touches.length)},p.prototype.zoomOption=function(a){var h=this.chart,n=h.options.chart;h=h.inverted;var d=n.zoomType||"";/touch/.test(a.type)&&(d=x(n.pinchType,d)),this.zoomX=a=/x/.test(d),this.zoomY=n=/y/.test(d),this.zoomHor=a&&!h||n&&h,this.zoomVert=n&&!h||a&&h,this.hasZoom=a||n},p}()}),lt(F,"Core/MSPointer.js",[F["Core/Globals.js"],F["Core/Pointer.js"],F["Core/Utilities.js"]],function(H,K,V){function Q(){var f=[];return f.item=function(C){return this[C]},l(v,function(C){f.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),f}function W(f,C,x,M){var p=z[K.hoverChartIndex||NaN];"touch"!==f.pointerType&&f.pointerType!==f.MSPOINTER_TYPE_TOUCH||!p||(p=p.pointer,M(f),p[C]({type:x,target:f.currentTarget,preventDefault:P,touches:Q()}))}var f,Y=this&&this.__extends||(f=function(C,x){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,p){M.__proto__=p}||function(M,p){for(var a in p)p.hasOwnProperty(a)&&(M[a]=p[a])})(C,x)},function(C,x){function M(){this.constructor=C}f(C,x),C.prototype=null===x?Object.create(x):(M.prototype=x.prototype,new M)}),z=H.charts,I=H.doc,P=H.noop,w=H.win,E=V.addEvent,s=V.css,l=V.objectEach,g=V.removeEvent,v={},S=!!w.PointerEvent;return function(f){function C(){return null!==f&&f.apply(this,arguments)||this}return Y(C,f),C.isRequired=function(){return!(H.hasTouch||!w.PointerEvent&&!w.MSPointerEvent)},C.prototype.batchMSEvents=function(x){x(this.chart.container,S?"pointerdown":"MSPointerDown",this.onContainerPointerDown),x(this.chart.container,S?"pointermove":"MSPointerMove",this.onContainerPointerMove),x(I,S?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(g),f.prototype.destroy.call(this)},C.prototype.init=function(x,M){f.prototype.init.call(this,x,M),this.hasZoom&&s(x.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(x){W(x,"onContainerTouchStart","touchstart",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY,target:M.currentTarget}})},C.prototype.onContainerPointerMove=function(x){W(x,"onContainerTouchMove","touchmove",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY},v[M.pointerId].target||(v[M.pointerId].target=M.currentTarget)})},C.prototype.onDocumentPointerUp=function(x){W(x,"onDocumentTouchEnd","touchend",function(M){delete v[M.pointerId]})},C.prototype.setDOMEvents=function(){f.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(E)},C}(K)}),lt(F,"Core/Legend/Legend.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Point.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.animObject,I=H.setAnimation,P=K.format;H=V.isFirefox;var w=V.marginNames;V=V.win;var E=W.distribute,s=Y.addEvent,l=Y.createElement,g=Y.css,v=Y.defined,S=Y.discardElement,f=Y.find,C=Y.fireEvent,x=Y.isNumber,M=Y.merge,p=Y.pick,a=Y.relativeLength,h=Y.stableSort,n=Y.syncTimeout;return W=Y.wrap,Y=function(){function d(o,r){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=o,this.init(o,r)}return d.prototype.init=function(o,r){this.chart=o,this.setOptions(r),r.enabled&&(this.render(),s(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=s(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},d.prototype.setOptions=function(o){var r=p(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=M(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop||0,this.itemMarginBottom=o.itemMarginBottom||0,this.padding=r,this.initialItemY=r-5,this.symbolWidth=p(o.symbolWidth,16),this.pages=[],this.proximate="proximate"===o.layout&&!this.chart.inverted,this.baseline=void 0},d.prototype.update=function(o,r){var u=this.chart;this.setOptions(M(!0,this.options,o)),this.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,p(r,!0)&&u.redraw(),C(this,"afterUpdate")},d.prototype.colorizeItem=function(o,r){if(o.legendGroup[r?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var u=this.options,c=o.legendItem,b=o.legendLine,O=o.legendSymbol,k=this.itemHiddenStyle.color;u=r?u.itemStyle.color:k;var _=r&&o.color||k,A=o.options&&o.options.marker,B={fill:_};c&&c.css({fill:u,color:u}),b&&b.attr({stroke:_}),O&&(A&&O.isMarker&&(B=o.pointAttribs(),r||(B.stroke=B.fill=k)),O.attr(B))}C(this,"afterColorizeItem",{item:o,visible:r})},d.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},d.prototype.positionItem=function(o){var r=this,u=this.options,c=u.symbolPadding,b=!u.rtl,O=o._legendItemPos;u=O[0],O=O[1];var k=o.checkbox,_=o.legendGroup;_&&_.element&&(c={translateX:b?u:this.legendWidth-u-2*c-4,translateY:O},b=function(){C(r,"afterPositionItem",{item:o})},v(_.translateY)?_.animate(c,void 0,b):(_.attr(c),b())),k&&(k.x=u,k.y=O)},d.prototype.destroyItem=function(o){var r=o.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(u){o[u]&&(o[u]=o[u].destroy())}),r&&S(o.checkbox)},d.prototype.destroy=function(){function o(r){this[r]&&(this[r]=this[r].destroy())}this.getAllItems().forEach(function(r){["legendItem","legendGroup"].forEach(o,r)}),"clipRect up down pager nav box title group".split(" ").forEach(o,this),this.display=null},d.prototype.positionCheckboxes=function(){var o=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,u=this.titleHeight;if(o){var c=o.translateY;this.allItems.forEach(function(b){var O=b.checkbox;if(O){var k=c+u+O.y+(this.scrollOffset||0)+3;g(O,{left:o.translateX+b.checkboxOffset+O.x-20+"px",top:k+"px",display:this.proximate||k>c-6&&k<c+r-6?"":"none"})}},this)}},d.prototype.renderTitle=function(){var o=this.options,r=this.padding,u=o.title,c=0;u.text&&(this.title||(this.title=this.chart.renderer.label(u.text,r-3,r-4,null,null,null,o.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(u.style),this.title.add(this.group)),u.width||this.title.css({width:this.maxLegendWidth+"px"}),c=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},d.prototype.setText=function(o){var r=this.options;o.legendItem.attr({text:r.labelFormat?P(r.labelFormat,o,this.chart):r.labelFormatter.call(o)})},d.prototype.renderItem=function(o){var r=this.chart,u=r.renderer,c=this.options,b=this.symbolWidth,O=c.symbolPadding||0,k=this.itemStyle,_=this.itemHiddenStyle,A="horizontal"===c.layout?p(c.itemDistance,20):0,B=!c.rtl,m=!o.series,T=!m&&o.series.drawLegendSymbol?o.series:o,R=T.options,j=this.createCheckboxForItem&&R&&R.showCheckbox,X=c.useHTML,$=o.options.className,D=o.legendItem;R=b+O+A+(j?20:0),D||(o.legendGroup=u.g("legend-item").addClass("highcharts-"+T.type+"-series highcharts-color-"+o.colorIndex+($?" "+$:"")+(m?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.legendItem=D=u.text("",B?b+O:-O,this.baseline||0,X),r.styledMode||D.css(M(o.visible?k:_)),D.attr({align:B?"left":"right",zIndex:2}).add(o.legendGroup),this.baseline||(this.fontMetrics=u.fontMetrics(r.styledMode?12:k.fontSize,D),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,D.attr("y",this.baseline),this.symbolHeight=c.symbolHeight||this.fontMetrics.f,c.squareSymbol&&(this.symbolWidth=p(c.symbolWidth,Math.max(this.symbolHeight,16)),R=this.symbolWidth+O+A+(j?20:0),B&&D.attr("x",this.symbolWidth+O))),T.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,D,X)),j&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),!r.styledMode&&k.width||D.css({width:(c.itemWidth||this.widthOption||r.spacingBox.width)-R+"px"}),this.setText(o),r=D.getBBox(),u=this.fontMetrics&&this.fontMetrics.h||0,o.itemWidth=o.checkboxOffset=c.itemWidth||o.legendItemWidth||r.width+R,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(o.legendItemHeight||(r.height>1.5*u?r.height:u))},d.prototype.layoutItem=function(o){var r=this.options,u=this.padding,c="horizontal"===r.layout,b=o.itemHeight,O=this.itemMarginBottom,k=this.itemMarginTop,_=c?p(r.itemDistance,20):0,A=this.maxLegendWidth;r=r.alignColumns&&this.totalItemWidth>A?this.maxItemWidth:o.itemWidth,c&&this.itemX-u+r>A&&(this.itemX=u,this.lastLineHeight&&(this.itemY+=k+this.lastLineHeight+O),this.lastLineHeight=0),this.lastItemY=k+this.itemY+O,this.lastLineHeight=Math.max(b,this.lastLineHeight),o._legendItemPos=[this.itemX,this.itemY],c?this.itemX+=r:(this.itemY+=k+b+O,this.lastLineHeight=b),this.offsetWidth=this.widthOption||Math.max((c?this.itemX-u-(o.checkbox?0:_):r)+u,this.offsetWidth)},d.prototype.getAllItems=function(){var o=[];return this.chart.series.forEach(function(r){var u=r&&r.options;r&&p(u.showInLegend,!v(u.linkedTo)&&void 0,!0)&&(o=o.concat(r.legendItems||("point"===u.legendType?r.data:r)))}),C(this,"afterGetAllItems",{allItems:o}),o},d.prototype.getAlignment=function(){var o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)},d.prototype.adjustMargins=function(o,r){var u=this.chart,c=this.options,b=this.getAlignment();b&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(O,k){O.test(b)&&!v(o[k])&&(u[w[k]]=Math.max(u[w[k]],u.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*c[k%2?"x":"y"]+p(c.margin,12)+r[k]+(u.titleOffset[k]||0)))})},d.prototype.proximatePositions=function(){var o=this.chart,r=[],u="left"===this.options.align;this.allItems.forEach(function(c){var b,O=u;if(c.yAxis){c.xAxis.options.reversed&&(O=!O),c.points&&(b=f(O?c.points:c.points.slice(0).reverse(),function(_){return x(_.plotY)})),O=this.itemMarginTop+c.legendItem.getBBox().height+this.itemMarginBottom;var k=c.yAxis.top-o.plotTop;c.visible?(b=b?b.plotY:c.yAxis.height,b+=k-.3*O):b=k+c.yAxis.height,r.push({target:b,size:O,item:c})}},this),E(r,o.plotHeight).forEach(function(c){c.item._legendItemPos&&(c.item._legendItemPos[1]=o.plotTop-o.spacing[0]+c.pos)})},d.prototype.render=function(){var o=this.chart,r=o.renderer,u=this.options,c=this.padding,b=this.getAllItems(),O=this.group,k=this.box;this.itemX=c,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=a(u.width,o.spacingBox.width-c);var _=o.spacingBox.width-2*c-u.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(_/=2),this.maxLegendWidth=this.widthOption||_,O||(this.group=O=r.g("legend").addClass(u.className||"").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(O),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),h(b,function(B,m){return(B.options&&B.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)}),u.reversed&&b.reverse(),this.allItems=b,this.display=_=!!b.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,b.forEach(this.renderItem,this),b.forEach(this.layoutItem,this),b=(this.widthOption||this.offsetWidth)+c;var A=this.lastItemY+this.lastLineHeight+this.titleHeight;A=this.handleOverflow(A),A+=c,k||(this.box=k=r.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(O),k.isNew=!0),o.styledMode||k.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<b&&0<A&&(k[k.isNew?"attr":"animate"](k.crisp.call({},{x:0,y:0,width:b,height:A},k.strokeWidth())),k.isNew=!1),k[_?"show":"hide"](),o.styledMode&&"none"===O.getStyle("display")&&(b=A=0),this.legendWidth=b,this.legendHeight=A,_&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},d.prototype.align=function(o){void 0===o&&(o=this.chart.spacingBox);var r=this.chart,u=this.options,c=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<r.titleOffset[0]?c+=r.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<r.titleOffset[2]&&(c-=r.titleOffset[2]),c!==o.y&&(o=M(o,{y:c})),this.group.align(M(u,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,o)},d.prototype.handleOverflow=function(o){var D,U,r=this,u=this.chart,c=u.renderer,b=this.options,O=b.y,k="top"===b.verticalAlign,_=this.padding,A=b.maxHeight,B=b.navigation,m=p(B.animation,!0),T=B.arrowSize||12,R=this.pages,j=this.allItems,X=function(q){"number"==typeof q?Z.attr({height:q}):Z&&(r.clipRect=Z.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=q?"rect("+_+"px,9999px,"+(_+q)+"px,0)":"auto")},$=function(q){return r[q]=c.circle(0,0,1.3*T).translate(T/2,T/2).add(N),u.styledMode||r[q].attr("fill","rgba(0,0,0,0.0001)"),r[q]};O=u.spacingBox.height+(k?-O:O)-_;var N=this.nav,Z=this.clipRect;return"horizontal"!==b.layout||"middle"===b.verticalAlign||b.floating||(O/=2),A&&(O=Math.min(O,A)),R.length=0,o&&0<O&&o>O&&!1!==B.enabled?(this.clipHeight=D=Math.max(O-20-this.titleHeight-_,0),this.currentPage=p(this.currentPage,1),this.fullHeight=o,j.forEach(function(q,nt){var it=q._legendItemPos[1],ot=Math.round(q.legendItem.getBBox().height),at=R.length;(!at||it-R[at-1]>D&&(U||it)!==R[at-1])&&(R.push(U||it),at++),q.pageIx=at-1,U&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-R[at-1]>D&&ot<=D&&(R.push(it),q.pageIx=at),it!==U&&(U=it)}),Z||(Z=r.clipRect=c.clipRect(0,_,9999,0),r.contentGroup.clip(Z)),X(D),N||(this.nav=N=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,T,T).add(N),$("upTracker").on("click",function(){r.scroll(-1,m)}),this.pager=c.text("",15,10).addClass("highcharts-legend-navigation"),u.styledMode||this.pager.css(B.style),this.pager.add(N),this.down=c.symbol("triangle-down",0,0,T,T).add(N),$("downTracker").on("click",function(){r.scroll(1,m)})),r.scroll(0),o=O):N&&(X(),this.nav=N.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o},d.prototype.scroll=function(o,r){var u=this,c=this.chart,b=this.pages,O=b.length,k=this.clipHeight,_=this.options.navigation,A=this.pager,B=this.padding,m=this.currentPage+o;m>O&&(m=O),0<m&&(void 0!==r&&I(r,c),this.nav.attr({translateX:B,translateY:k+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(T){T.attr({class:1===m?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),A.attr({text:m+"/"+O}),[this.down,this.downTracker].forEach(function(T){T.attr({x:18+this.pager.getBBox().width,class:m===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:1===m?_.inactiveColor:_.activeColor}),this.upTracker.css({cursor:1===m?"default":"pointer"}),this.down.attr({fill:m===O?_.inactiveColor:_.activeColor}),this.downTracker.css({cursor:m===O?"default":"pointer"})),this.scrollOffset=-b[m-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=m,this.positionCheckboxes(),o=z(p(r,c.renderer.globalAnimation,!0)),n(function(){C(u,"afterScroll",{currentPage:m})},o.duration))},d.prototype.setItemEvents=function(o,r,u){var c=this,b=c.chart.renderer.boxWrapper,O=o instanceof Q,k="highcharts-legend-"+(O?"point":"series")+"-active",_=c.chart.styledMode,A=function(B){c.allItems.forEach(function(m){o!==m&&[m].concat(m.linkedSeries||[]).forEach(function(T){T.setState(B,!O)})})};(u?[r,o.legendSymbol]:[o.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){o.visible&&A("inactive"),o.setState("hover"),o.visible&&b.addClass(k),_||r.css(c.options.itemHoverStyle)}).on("mouseout",function(){c.chart.styledMode||r.css(M(o.visible?c.itemStyle:c.itemHiddenStyle)),A(""),b.removeClass(k),o.setState()}).on("click",function(m){var T=function(){o.setVisible&&o.setVisible(),A(o.visible?"inactive":"")};b.removeClass(k),m={browserEvent:m},o.firePointEvent?o.firePointEvent("legendItemClick",m,T):C(o,"legendItemClick",m,T)})})},d.prototype.createCheckboxForItem=function(o){o.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),s(o.checkbox,"click",function(r){C(o.series||o,"checkboxClick",{checked:r.target.checked,item:o},function(){o.select()})})},d}(),(/Trident\/7\.0/.test(V.navigator&&V.navigator.userAgent)||H)&&W(Y.prototype,"positionItem",function(d,o){var r=this,u=function(){o._legendItemPos&&d.call(r,o)};u(),r.bubbleLegend||setTimeout(u)}),Y}),lt(F,"Core/Series/SeriesRegistry.js",[F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=K.defaultOptions,Y=Q.error,z=Q.extendClass,I=Q.merge;return function(w){function E(s,l){var g=W.plotOptions||{},v=l.defaultOptions;l.prototype.pointClass||(l.prototype.pointClass=V),l.prototype.type=s,v&&(g[s]=v),w.seriesTypes[s]=l}w.seriesTypes=H.seriesTypes,w.getSeries=function(s,l){void 0===l&&(l={});var g=s.options.chart,v=w.seriesTypes[g=l.type||g.type||g.defaultSeriesType||""];return w||Y(17,!0,s,{missingModuleFor:g}),"function"==typeof(g=new v).init&&g.init(s,l),g},w.registerSeriesType=E,w.seriesType=function(s,l,g,v,S){var f=W.plotOptions||{};return f[s]=I(f[l=l||""],g),E(s,z(w.seriesTypes[l]||function(){},v)),w.seriesTypes[s].prototype.type=s,S&&(w.seriesTypes[s].prototype.pointClass=z(V,S)),w.seriesTypes[s]}}(P||(P={})),P}),lt(F,"Core/Chart/Chart.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/FormatUtilities.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/Legend.js"],F["Core/MSPointer.js"],F["Core/DefaultOptions.js"],F["Core/Pointer.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Time.js"],F["Core/Utilities.js"],F["Core/Renderer/HTML/AST.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v){var S=H.animate,f=H.animObject,C=H.setAnimation,x=V.numberFormat,M=Q.registerEventOptions,p=W.charts,a=W.doc,h=W.marginNames,n=W.svg,d=W.win,o=I.defaultOptions,r=I.defaultTime,u=E.seriesTypes,c=g.addEvent,b=g.attr,O=g.cleanRecursively,k=g.createElement,_=g.css,A=g.defined,B=g.discardElement,m=g.erase,T=g.error,R=g.extend,j=g.find,X=g.fireEvent,$=g.getStyle,D=g.isArray,U=g.isNumber,N=g.isObject,Z=g.isString,q=g.merge,nt=g.objectEach,it=g.pick,ot=g.pInt,at=g.relativeLength,mt=g.removeEvent,yt=g.splat,vt=g.syncTimeout,pt=g.uniqueKey;return H=function(){function ct(J,et,st){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(J,et,st)}return ct.chart=function(J,et,st){return new ct(J,et,st)},ct.prototype.getArgs=function(J,et,st){Z(J)||J.nodeName?(this.renderTo=J,this.init(et,st)):this.init(J,et)},ct.prototype.init=function(J,et){var st=J.plotOptions||{};X(this,"init",{args:arguments},function(){var ut=q(o,J),dt=ut.chart;nt(ut.plotOptions,function(xt,Et){N(xt)&&(xt.tooltip=st[Et]&&q(st[Et].tooltip)||void 0)}),ut.tooltip.userOptions=J.chart&&J.chart.forExport&&J.tooltip.userOptions||J.tooltip,this.userOptions=J,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=et,this.isResizing=0,this.options=ut,this.axes=[],this.series=[],this.time=J.time&&Object.keys(J.time).length?new l(J.time):W.time,this.numberFormatter=dt.numberFormatter||x,this.styledMode=dt.styledMode,this.hasCartesianSeries=dt.showAxes,this.index=p.length,p.push(this),W.chartCount++,M(this,dt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,X(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(J){var et=this.options.chart,st=u[et=J.type||et.type||et.defaultSeriesType];return st||T(17,!0,this,{missingModuleFor:et}),"function"==typeof(et=new st).init&&et.init(this,J),et},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(J){J.points||J.data||!J.enabledDataSorting||J.setData(J.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(J,et){return J.linkedSeries.length||et.linkedSeries.length?et.linkedSeries.length-J.linkedSeries.length:0})},ct.prototype.orderSeries=function(J){var et=this.series;J=J||0;for(var st=et.length;J<st;++J)et[J]&&(et[J].index=J,et[J].name=et[J].getName())},ct.prototype.isInsidePlot=function(J,et,st){void 0===st&&(st={});var ut=this.inverted,dt=this.plotBox,xt=this.plotLeft,Et=this.plotTop,wt=this.scrollablePlotBox,kt=0,Dt=0;st.visiblePlotOnly&&this.scrollingContainer&&(kt=(Dt=this.scrollingContainer).scrollLeft,Dt=Dt.scrollTop);var bt=st.series;if(dt=st.visiblePlotOnly&&wt||dt,J={x:wt=st.inverted?et:J,y:et=st.inverted?J:et,isInsidePlot:!0},!st.ignoreX){var Lt=bt&&(ut?bt.yAxis:bt.xAxis)||{pos:xt,len:1/0};(wt=st.paneCoordinates?Lt.pos+wt:xt+wt)>=Math.max(kt+xt,Lt.pos)&&wt<=Math.min(kt+xt+dt.width,Lt.pos+Lt.len)||(J.isInsidePlot=!1)}return!st.ignoreY&&J.isInsidePlot&&(ut=bt&&(ut?bt.xAxis:bt.yAxis)||{pos:Et,len:1/0},(st=st.paneCoordinates?ut.pos+et:Et+et)>=Math.max(Dt+Et,ut.pos)&&st<=Math.min(Dt+Et+dt.height,ut.pos+ut.len)||(J.isInsidePlot=!1)),X(this,"afterIsInsidePlot",J),J.isInsidePlot},ct.prototype.redraw=function(J){X(this,"beforeRedraw");var et=this.hasCartesianSeries?this.axes:this.colorAxis||[],st=this.series,ut=this.pointer,dt=this.legend,xt=this.userOptions.legend,Et=this.renderer,wt=Et.isHidden(),kt=[],Dt=this.isDirtyBox,bt=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&J,this),wt&&this.temporaryDisplay(),this.layOutTitles(),J=st.length;J--;){var Lt=st[J];if(Lt.options.stacking||Lt.options.centerInCategory){var Rt=!0;if(Lt.isDirty){var Nt=!0;break}}}if(Nt)for(J=st.length;J--;)(Lt=st[J]).options.stacking&&(Lt.isDirty=!0);st.forEach(function(Ot){Ot.isDirty&&("point"===Ot.options.legendType?("function"==typeof Ot.updateTotals&&Ot.updateTotals(),bt=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(bt=!0)),Ot.isDirtyData&&X(Ot,"updatedData")}),bt&&dt&&dt.options.enabled&&(dt.render(),this.isDirtyLegend=!1),Rt&&this.getStacks(),et.forEach(function(Ot){Ot.updateNames(),Ot.setScale()}),this.getMargins(),et.forEach(function(Ot){Ot.isDirty&&(Dt=!0)}),et.forEach(function(Ot){var Wt=Ot.min+","+Ot.max;Ot.extKey!==Wt&&(Ot.extKey=Wt,kt.push(function(){X(Ot,"afterSetExtremes",R(Ot.eventArgs,Ot.getExtremes())),delete Ot.eventArgs})),(Dt||Rt)&&Ot.redraw()}),Dt&&this.drawChartBox(),X(this,"predraw"),st.forEach(function(Ot){(Dt||Ot.isDirty)&&Ot.visible&&Ot.redraw(),Ot.isDirtyData=!1}),ut&&ut.reset(!0),Et.draw(),X(this,"redraw"),X(this,"render"),wt&&this.temporaryDisplay(!0),kt.forEach(function(Ot){Ot.call()})},ct.prototype.get=function(J){function et(xt){return xt.id===J||xt.options&&xt.options.id===J}for(var st=this.series,ut=j(this.axes,et)||j(this.series,et),dt=0;!ut&&dt<st.length;dt++)ut=j(st[dt].points||[],et);return ut},ct.prototype.getAxes=function(){var J=this,et=this.options,st=et.xAxis=yt(et.xAxis||{});et=et.yAxis=yt(et.yAxis||{}),X(this,"getAxes"),st.forEach(function(ut,dt){ut.index=dt,ut.isX=!0}),et.forEach(function(ut,dt){ut.index=dt}),st.concat(et).forEach(function(ut){new K(J,ut)}),X(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(J,et){return et.getPointsCollection().forEach(function(st){it(st.selectedStaging,st.selected)&&J.push(st)}),J},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(J){return J.selected})},ct.prototype.setTitle=function(J,et,st){this.applyDescription("title",J),this.applyDescription("subtitle",et),this.applyDescription("caption",void 0),this.layOutTitles(st)},ct.prototype.applyDescription=function(J,et){var st=this,ut="title"===J?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ut=this.options[J]=q(!this.styledMode&&{style:ut},this.options[J],et);var dt=this[J];dt&&et&&(this[J]=dt=dt.destroy()),ut&&!dt&&((dt=this.renderer.text(ut.text,0,0,ut.useHTML).attr({align:ut.align,class:"highcharts-"+J,zIndex:ut.zIndex||4}).add()).update=function(xt){st[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[J]](xt)},this.styledMode||dt.css(ut.style),this[J]=dt)},ct.prototype.layOutTitles=function(J){var et=[0,0,0],st=this.renderer,ut=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){var Dt,Et=this[xt],wt=this.options[xt],kt=wt.verticalAlign||"top";if(xt="title"===xt?"top"===kt?-3:0:"top"===kt?et[0]+2:0,Et){this.styledMode||(Dt=wt.style&&wt.style.fontSize),Dt=st.fontMetrics(Dt,Et).b,Et.css({width:(wt.width||ut.width+(wt.widthAdjust||0))+"px"});var bt=Math.round(Et.getBBox(wt.useHTML).height);Et.align(R({y:"bottom"===kt?Dt:xt+Dt,height:bt},wt),!1,"spacingBox"),wt.floating||("top"===kt?et[0]=Math.ceil(et[0]+bt):"bottom"===kt&&(et[2]=Math.ceil(et[2]+bt)))}},this),et[0]&&"top"===(this.options.title.verticalAlign||"top")&&(et[0]+=this.options.title.margin),et[2]&&"bottom"===this.options.caption.verticalAlign&&(et[2]+=this.options.caption.margin);var dt=!this.titleOffset||this.titleOffset.join(",")!==et.join(",");this.titleOffset=et,X(this,"afterLayOutTitles"),!this.isDirtyBox&&dt&&(this.isDirtyBox=this.isDirtyLegend=dt,this.hasRendered&&it(J,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var J=this.options.chart,et=J.width;J=J.height;var st=this.renderTo;A(et)||(this.containerWidth=$(st,"width")),A(J)||(this.containerHeight=$(st,"height")),this.chartWidth=Math.max(0,et||this.containerWidth||600),this.chartHeight=Math.max(0,at(J,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(J){var et=this.renderTo;if(J)for(;et&&et.style;)et.hcOrigStyle&&(_(et,et.hcOrigStyle),delete et.hcOrigStyle),et.hcOrigDetached&&(a.body.removeChild(et),et.hcOrigDetached=!1),et=et.parentNode;else for(;et&&et.style&&(a.body.contains(et)||et.parentNode||(et.hcOrigDetached=!0,a.body.appendChild(et)),("none"===$(et,"display",!1)||et.hcOricDetached)&&(et.hcOrigStyle={display:et.style.display,height:et.style.height,overflow:et.style.overflow},J={display:"block",overflow:"hidden"},et!==this.renderTo&&(J.height=0),_(et,J),et.offsetWidth||et.style.setProperty("display","block","important")),(et=et.parentNode)!==a.body););},ct.prototype.setClassName=function(J){this.container.className="highcharts-container "+(J||"")},ct.prototype.getContainer=function(){var ut,J=this.options,et=J.chart,st=pt(),dt=this.renderTo;dt||(this.renderTo=dt=et.renderTo),Z(dt)&&(this.renderTo=dt=a.getElementById(dt)),dt||T(13,!0,this);var xt=ot(b(dt,"data-highcharts-chart"));U(xt)&&p[xt]&&p[xt].hasRendered&&p[xt].destroy(),b(dt,"data-highcharts-chart",this.index),dt.innerHTML=v.emptyHTML,et.skipClone||dt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;var Et=this.chartHeight;if(_(dt,{overflow:"hidden"}),this.styledMode||(ut=R({position:"relative",overflow:"hidden",width:xt+"px",height:Et+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},et.style||{})),this.container=st=k("div",{id:st},ut,dt),this._cursor=st.style.cursor,this.renderer=new(et.renderer||!n?w.getRendererType(et.renderer):s)(st,xt,Et,void 0,et.forExport,J.exporting&&J.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(et.className),this.styledMode)for(var wt in J.defs)this.renderer.definition(J.defs[wt]);else this.renderer.setStyle(et.style);this.renderer.chartIndex=this.index,X(this,"afterGetContainer")},ct.prototype.getMargins=function(J){var et=this.spacing,st=this.margin,ut=this.titleOffset;this.resetMargins(),ut[0]&&!A(st[0])&&(this.plotTop=Math.max(this.plotTop,ut[0]+et[0])),ut[2]&&!A(st[2])&&(this.marginBottom=Math.max(this.marginBottom,ut[2]+et[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(st,et),X(this,"getMargins"),J||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var J=this,et=J.axisOffset=[0,0,0,0],st=J.colorAxis,ut=J.margin,dt=function(xt){xt.forEach(function(Et){Et.visible&&Et.getOffset()})};J.hasCartesianSeries?dt(J.axes):st&&st.length&&dt(st),h.forEach(function(xt,Et){A(ut[Et])||(J[xt]+=et[Et])}),J.setChartSize()},ct.prototype.reflow=function(J){var et=this,st=et.options.chart,ut=et.renderTo,dt=A(st.width)&&A(st.height),xt=st.width||$(ut,"width");st=st.height||$(ut,"height"),ut=J?J.target:d,delete et.pointer.chartPosition,!dt&&!et.isPrinting&&xt&&st&&(ut===d||ut===a)&&((xt!==et.containerWidth||st!==et.containerHeight)&&(g.clearTimeout(et.reflowTimeout),et.reflowTimeout=vt(function(){et.container&&et.setSize(void 0,void 0,!1)},J?100:0)),et.containerWidth=xt,et.containerHeight=st)},ct.prototype.setReflow=function(J){var et=this;!1===J||this.unbindReflow?!1===J&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=c(d,"resize",function(st){et.options&&et.reflow(st)}),c(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(J,et,st){var ut=this,dt=ut.renderer;ut.isResizing+=1,C(st,ut),st=dt.globalAnimation,ut.oldChartHeight=ut.chartHeight,ut.oldChartWidth=ut.chartWidth,void 0!==J&&(ut.options.chart.width=J),void 0!==et&&(ut.options.chart.height=et),ut.getChartSize(),ut.styledMode||(st?S:_)(ut.container,{width:ut.chartWidth+"px",height:ut.chartHeight+"px"},st),ut.setChartSize(!0),dt.setSize(ut.chartWidth,ut.chartHeight,st),ut.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),ut.isDirtyLegend=!0,ut.isDirtyBox=!0,ut.layOutTitles(),ut.getMargins(),ut.redraw(st),ut.oldChartHeight=null,X(ut,"resize"),vt(function(){ut&&X(ut,"endResize",null,function(){--ut.isResizing})},f(st).duration)},ct.prototype.setChartSize=function(J){var kt,Dt,bt,Lt,et=this.inverted,st=this.renderer,ut=this.chartWidth,dt=this.chartHeight,xt=this.options.chart,Et=this.spacing,wt=this.clipOffset;this.plotLeft=kt=Math.round(this.plotLeft),this.plotTop=Dt=Math.round(this.plotTop),this.plotWidth=bt=Math.max(0,Math.round(ut-kt-this.marginRight)),this.plotHeight=Lt=Math.max(0,Math.round(dt-Dt-this.marginBottom)),this.plotSizeX=et?Lt:bt,this.plotSizeY=et?bt:Lt,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=st.spacingBox={x:Et[3],y:Et[0],width:ut-Et[3]-Et[1],height:dt-Et[0]-Et[2]},this.plotBox=st.plotBox={x:kt,y:Dt,width:bt,height:Lt},et=2*Math.floor(this.plotBorderWidth/2),ut=Math.ceil(Math.max(et,wt[3])/2),dt=Math.ceil(Math.max(et,wt[0])/2),this.clipBox={x:ut,y:dt,width:Math.floor(this.plotSizeX-Math.max(et,wt[1])/2-ut),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(et,wt[2])/2-dt))},J||(this.axes.forEach(function(Rt){Rt.setAxisSize(),Rt.setAxisTranslation()}),st.alignElements()),X(this,"afterSetChartSize",{skipAxes:J})},ct.prototype.resetMargins=function(){X(this,"resetMargins");var J=this,et=J.options.chart;["margin","spacing"].forEach(function(st){var ut=et[st],dt=N(ut)?ut:[ut,ut,ut,ut];["Top","Right","Bottom","Left"].forEach(function(xt,Et){J[st][Et]=it(et[st+xt],dt[Et])})}),h.forEach(function(st,ut){J[st]=it(J.margin[ut],J.spacing[ut])}),J.axisOffset=[0,0,0,0],J.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var ae,J=this.options.chart,et=this.renderer,st=this.chartWidth,ut=this.chartHeight,dt=this.styledMode,xt=this.plotBGImage,Et=J.backgroundColor,wt=J.plotBackgroundColor,kt=J.plotBackgroundImage,Dt=this.plotLeft,bt=this.plotTop,Lt=this.plotWidth,Rt=this.plotHeight,Nt=this.plotBox,Ot=this.clipRect,Wt=this.clipBox,Kt=this.chartBackground,Ft=this.plotBackground,Jt=this.plotBorder,Xt="animate";if(Kt||(this.chartBackground=Kt=et.rect().addClass("highcharts-background").add(),Xt="attr"),dt)var ee=ae=Kt.strokeWidth();else ae=(ee=J.borderWidth||0)+(J.shadow?8:0),Et={fill:Et||"none"},(ee||Kt["stroke-width"])&&(Et.stroke=J.borderColor,Et["stroke-width"]=ee),Kt.attr(Et).shadow(J.shadow);Kt[Xt]({x:ae/2,y:ae/2,width:st-ae-ee%2,height:ut-ae-ee%2,r:J.borderRadius}),Xt="animate",Ft||(Xt="attr",this.plotBackground=Ft=et.rect().addClass("highcharts-plot-background").add()),Ft[Xt](Nt),dt||(Ft.attr({fill:wt||"none"}).shadow(J.plotShadow),kt&&(xt?(kt!==xt.attr("href")&&xt.attr("href",kt),xt.animate(Nt)):this.plotBGImage=et.image(kt,Dt,bt,Lt,Rt).add())),Ot?Ot.animate({width:Wt.width,height:Wt.height}):this.clipRect=et.clipRect(Wt),Xt="animate",Jt||(Xt="attr",this.plotBorder=Jt=et.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),dt||Jt.attr({stroke:J.plotBorderColor,"stroke-width":J.plotBorderWidth||0,fill:"none"}),Jt[Xt](Jt.crisp({x:Dt,y:bt,width:Lt,height:Rt},-Jt.strokeWidth())),this.isDirtyBox=!1,X(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var ut,dt,xt,J=this,et=J.options.chart,st=J.options.series;["inverted","angular","polar"].forEach(function(Et){for(dt=u[et.type||et.defaultSeriesType],xt=et[Et]||dt&&dt.prototype[Et],ut=st&&st.length;!xt&&ut--;)(dt=u[st[ut].type])&&dt.prototype[Et]&&(xt=!0);J[Et]=xt})},ct.prototype.linkSeries=function(){var J=this,et=J.series;et.forEach(function(st){st.linkedSeries.length=0}),et.forEach(function(st){var ut=st.options.linkedTo;Z(ut)&&(ut=":previous"===ut?J.series[st.index-1]:J.get(ut))&&ut.linkedParent!==st&&(ut.linkedSeries.push(st),st.linkedParent=ut,ut.enabledDataSorting&&st.setDataSortingOptions(),st.visible=it(st.options.visible,ut.options.visible,st.visible))}),X(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(J){J.translate(),J.render()})},ct.prototype.renderLabels=function(){var J=this,et=J.options.labels;et.items&&et.items.forEach(function(st){var ut=R(et.style,st.style),dt=ot(ut.left)+J.plotLeft,xt=ot(ut.top)+J.plotTop+12;delete ut.left,delete ut.top,J.renderer.text(st.html,dt,xt).attr({zIndex:2}).css(ut).add()})},ct.prototype.render=function(){var J=this.axes,et=this.colorAxis,st=this.renderer,ut=this.options,dt=function(Dt){Dt.forEach(function(bt){bt.visible&&bt.render()})},xt=0;this.setTitle(),this.legend=new Y(this,ut.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ut=this.plotWidth,J.some(function(Dt){if(Dt.horiz&&Dt.visible&&Dt.options.labels.enabled&&Dt.series.length)return xt=21,!0});var Et=this.plotHeight=Math.max(this.plotHeight-xt,0);J.forEach(function(Dt){Dt.setScale()}),this.getAxisMargins();var wt=1.1<ut/this.plotWidth,kt=1.05<Et/this.plotHeight;(wt||kt)&&(J.forEach(function(Dt){(Dt.horiz&&wt||!Dt.horiz&&kt)&&Dt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?dt(J):et&&et.length&&dt(et),this.seriesGroup||(this.seriesGroup=st.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(J){var et=this,st=q(!0,this.options.credits,J);st.enabled&&!this.credits&&(this.credits=this.renderer.text(st.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){st.href&&(d.location.href=st.href)}).attr({align:st.position.align,zIndex:8}),et.styledMode||this.credits.css(st.style),this.credits.add().align(st.position),this.credits.update=function(ut){et.credits=et.credits.destroy(),et.addCredits(ut)})},ct.prototype.destroy=function(){var xt,J=this,et=J.axes,st=J.series,ut=J.container,dt=ut&&ut.parentNode;for(X(J,"destroy"),J.renderer.forExport?m(p,J):p[J.index]=void 0,W.chartCount--,J.renderTo.removeAttribute("data-highcharts-chart"),mt(J),xt=et.length;xt--;)et[xt]=et[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=st.length;xt--;)st[xt]=st[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Et){var wt=J[Et];wt&&wt.destroy&&(J[Et]=wt.destroy())}),ut&&(ut.innerHTML=v.emptyHTML,mt(ut),dt&&B(ut)),nt(J,function(Et,wt){delete J[wt]})},ct.prototype.firstRender=function(){var J=this,et=J.options;(!J.isReadyToRender||J.isReadyToRender())&&(J.getContainer(),J.resetMargins(),J.setChartSize(),J.propFromSeries(),J.getAxes(),(D(et.series)?et.series:[]).forEach(function(st){J.initSeries(st)}),J.linkSeries(),J.setSeriesData(),X(J,"beforeRender"),P&&(J.pointer=z.isRequired()?new z(J,et):new P(J,et)),J.render(),J.pointer.getChartPosition(),!J.renderer.imgCount&&!J.hasLoaded&&J.onload(),J.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(J){J&&void 0!==this.index&&J.apply(this,[this])},this),X(this,"load"),X(this,"render"),A(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(J,et,st){var dt,ut=this;return J&&(et=it(et,!0),X(ut,"addSeries",{options:J},function(){dt=ut.initSeries(J),ut.isDirtyLegend=!0,ut.linkSeries(),dt.enabledDataSorting&&dt.setData(J.data,!1),X(ut,"afterAddSeries",{series:dt}),et&&ut.redraw(st)})),dt},ct.prototype.addAxis=function(J,et,st,ut){return this.createAxis(et?"xAxis":"yAxis",{axis:J,redraw:st,animation:ut})},ct.prototype.addColorAxis=function(J,et,st){return this.createAxis("colorAxis",{axis:J,redraw:et,animation:st})},ct.prototype.createAxis=function(J,et){return J=new K(this,q(et.axis,{index:this[J].length,isX:"xAxis"===J})),it(et.redraw,!0)&&this.redraw(et.animation),J},ct.prototype.showLoading=function(J){var et=this,st=et.options,ut=st.loading,dt=function(){xt&&_(xt,{left:et.plotLeft+"px",top:et.plotTop+"px",width:et.plotWidth+"px",height:et.plotHeight+"px"})},xt=et.loadingDiv,Et=et.loadingSpan;xt||(et.loadingDiv=xt=k("div",{className:"highcharts-loading highcharts-loading-hidden"},null,et.container)),Et||(et.loadingSpan=Et=k("span",{className:"highcharts-loading-inner"},null,xt),c(et,"redraw",dt)),xt.className="highcharts-loading",v.setElementHTML(Et,it(J,st.lang.loading,"")),et.styledMode||(_(xt,R(ut.style,{zIndex:10})),_(Et,ut.labelStyle),et.loadingShown||(_(xt,{opacity:0,display:""}),S(xt,{opacity:ut.style.opacity||.5},{duration:ut.showDuration||0}))),et.loadingShown=!0,dt()},ct.prototype.hideLoading=function(){var J=this.options,et=this.loadingDiv;et&&(et.className="highcharts-loading highcharts-loading-hidden",this.styledMode||S(et,{opacity:0},{duration:J.loading.hideDuration||100,complete:function(){_(et,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(J,et,st,ut){var kt,Dt,dt=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Et=J.isResponsiveOptions,wt=[];X(dt,"update",{options:J}),Et||dt.setResponsive(!1,!0),J=O(J,dt.options),dt.userOptions=q(dt.userOptions,J);var bt=J.chart;if(bt){if(q(!0,dt.options.chart,bt),"className"in bt&&dt.setClassName(bt.className),"reflow"in bt&&dt.setReflow(bt.reflow),"inverted"in bt||"polar"in bt||"type"in bt){dt.propFromSeries();var Lt=!0}"alignTicks"in bt&&(Lt=!0),"events"in bt&&M(this,bt),nt(bt,function(Rt,Nt){-1!==dt.propsRequireUpdateSeries.indexOf("chart."+Nt)&&(kt=!0),-1!==dt.propsRequireDirtyBox.indexOf(Nt)&&(dt.isDirtyBox=!0),-1!==dt.propsRequireReflow.indexOf(Nt)&&(Et?dt.isDirtyBox=!0:Dt=!0)}),!dt.styledMode&&bt.style&&dt.renderer.setStyle(dt.options.chart.style||{})}!dt.styledMode&&J.colors&&(this.options.colors=J.colors),J.time&&(this.time===r&&(this.time=new l(J.time)),q(!0,dt.options.time,J.time)),nt(J,function(Rt,Nt){dt[Nt]&&"function"==typeof dt[Nt].update?dt[Nt].update(Rt,!1):"function"==typeof dt[xt[Nt]]?dt[xt[Nt]](Rt):"colors"!==Nt&&-1===dt.collectionsWithUpdate.indexOf(Nt)&&q(!0,dt.options[Nt],J[Nt]),"chart"!==Nt&&-1!==dt.propsRequireUpdateSeries.indexOf(Nt)&&(kt=!0)}),this.collectionsWithUpdate.forEach(function(Rt){if(J[Rt]){var Nt=[];dt[Rt].forEach(function(Ot,Wt){Ot.options.isInternal||Nt.push(it(Ot.options.index,Wt))}),yt(J[Rt]).forEach(function(Ot,Wt){var Ft,Kt=A(Ot.id);Kt&&(Ft=dt.get(Ot.id)),!Ft&&dt[Rt]&&(Ft=dt[Rt][Nt?Nt[Wt]:Wt])&&Kt&&A(Ft.options.id)&&(Ft=void 0),Ft&&Ft.coll===Rt&&(Ft.update(Ot,!1),st&&(Ft.touched=!0)),!Ft&&st&&dt.collectionsWithInit[Rt]&&(dt.collectionsWithInit[Rt][0].apply(dt,[Ot].concat(dt.collectionsWithInit[Rt][1]||[]).concat([!1])).touched=!0)}),st&&dt[Rt].forEach(function(Ot){Ot.touched||Ot.options.isInternal?delete Ot.touched:wt.push(Ot)})}}),wt.forEach(function(Rt){Rt.chart&&Rt.remove&&Rt.remove(!1)}),Lt&&dt.axes.forEach(function(Rt){Rt.update({},!1)}),kt&&dt.getSeriesOrderByLinks().forEach(function(Rt){Rt.chart&&Rt.update({},!1)},this),Lt=bt&&bt.width,bt=bt&&(Z(bt.height)?at(bt.height,Lt||dt.chartWidth):bt.height),Dt||U(Lt)&&Lt!==dt.chartWidth||U(bt)&&bt!==dt.chartHeight?dt.setSize(Lt,bt,ut):it(et,!0)&&dt.redraw(ut),X(dt,"afterUpdate",{options:J,redraw:et,animation:ut})},ct.prototype.setSubtitle=function(J,et){this.applyDescription("subtitle",J),this.layOutTitles(et)},ct.prototype.setCaption=function(J,et){this.applyDescription("caption",J),this.layOutTitles(et)},ct.prototype.showResetZoom=function(){function J(){et.zoomOut()}var et=this,st=o.lang,ut=et.options.chart.resetZoomButton,dt=ut.theme,xt=dt.states,Et="chart"===ut.relativeTo||"spacingBox"===ut.relativeTo?null:"scrollablePlotBox";X(this,"beforeShowResetZoom",null,function(){et.resetZoomButton=et.renderer.button(st.resetZoom,null,null,J,dt,xt&&xt.hover).attr({align:ut.position.align,title:st.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ut.position,!1,Et)}),X(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){X(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(J){var xt,et=this,st=et.pointer,ut=et.inverted?st.mouseDownX:st.mouseDownY,dt=!1;!J||J.resetSelection?(et.axes.forEach(function(wt){xt=wt.zoom()}),st.initiated=!1):J.xAxis.concat(J.yAxis).forEach(function(wt){var kt=wt.axis,Dt=et.inverted?kt.left:kt.top,Lt=kt.isXAxis,Rt=!1;(!Lt&&ut>=Dt&&ut<=(et.inverted?Dt+kt.width:Dt+kt.height)||Lt||!A(ut))&&(Rt=!0),st[Lt?"zoomX":"zoomY"]&&Rt&&(xt=kt.zoom(wt.min,wt.max),kt.displayBtn&&(dt=!0))});var Et=et.resetZoomButton;dt&&!Et?et.showResetZoom():!dt&&N(Et)&&(et.resetZoomButton=Et.destroy()),xt&&et.redraw(it(et.options.chart.animation,J&&J.animation,100>et.pointCount))},ct.prototype.pan=function(J,et){var st=this,ut=st.hoverPoints;et="object"==typeof et?et:{enabled:et,type:"x"};var dt=st.options.chart,xt=st.options.mapNavigation&&st.options.mapNavigation.enabled;dt&&dt.panning&&(dt.panning=et);var wt,Et=et.type;X(this,"pan",{originalEvent:J},function(){ut&&ut.forEach(function(bt){bt.setState()});var kt=st.xAxis;"xy"===Et?kt=kt.concat(st.yAxis):"y"===Et&&(kt=st.yAxis);var Dt={};kt.forEach(function(bt){if(bt.options.panningEnabled&&!bt.options.isInternal){var Lt=bt.horiz,Rt=J[Lt?"chartX":"chartY"],Nt=st[Lt=Lt?"mouseDownX":"mouseDownY"],Ot=bt.minPointOffset||0,Wt=bt.reversed&&!st.inverted||!bt.reversed&&st.inverted?-1:1,Kt=bt.getExtremes(),Ft=bt.toValue(Nt-Rt,!0)+Ot*Wt,Jt=bt.toValue(Nt+bt.len-Rt,!0)-(Ot*Wt||bt.isXAxis&&bt.pointRangePadding||0),ae=Jt<Ft;Wt=bt.hasVerticalPanning(),Nt=ae?Jt:Ft,Ft=ae?Ft:Jt;var Xt=bt.panningState;!Wt||bt.isXAxis||Xt&&!Xt.isDirty||bt.series.forEach(function(ee){var be=ee.getProcessedData(!0);be=ee.getExtremes(be.yData,!0),Xt||(Xt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),U(be.dataMin)&&U(be.dataMax)&&(Xt.startMin=Math.min(it(ee.options.threshold,1/0),be.dataMin,Xt.startMin),Xt.startMax=Math.max(it(ee.options.threshold,-1/0),be.dataMax,Xt.startMax))}),Wt=Math.min(it(Xt&&Xt.startMin,Kt.dataMin),Ot?Kt.min:bt.toValue(bt.toPixels(Kt.min)-bt.minPixelPadding)),Jt=Math.max(it(Xt&&Xt.startMax,Kt.dataMax),Ot?Kt.max:bt.toValue(bt.toPixels(Kt.max)+bt.minPixelPadding)),bt.panningState=Xt,bt.isOrdinal||(0<(Ot=Wt-Nt)&&(Ft+=Ot,Nt=Wt),0<(Ot=Ft-Jt)&&(Ft=Jt,Nt-=Ot),bt.series.length&&Nt!==Kt.min&&Ft!==Kt.max&&Nt>=Wt&&Ft<=Jt&&(bt.setExtremes(Nt,Ft,!1,!1,{trigger:"pan"}),st.resetZoomButton||xt||Nt===Wt||Ft===Jt||!Et.match("y")||(st.showResetZoom(),bt.displayBtn=!1),wt=!0),Dt[Lt]=Rt)}}),nt(Dt,function(bt,Lt){st[Lt]=bt}),wt&&st.redraw(!1),_(st.container,{cursor:"move"})})},ct}(),R(H.prototype,{callbacks:[],collectionsWithInit:{xAxis:[H.prototype.addAxis,[!0]],yAxis:[H.prototype.addAxis,[!1]],series:[H.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),H}),lt(F,"Core/Legend/LegendSymbol.js",[F["Core/Utilities.js"]],function(H){var Q,W,K=H.merge,V=H.pick;return(W=Q||(Q={})).drawLineMarker=function(Y){var z=this.options,I=Y.symbolWidth,P=Y.symbolHeight,w=P/2,E=this.chart.renderer,s=this.legendGroup;Y=Y.baseline-Math.round(.3*Y.fontMetrics.b);var l={},g=z.marker;this.chart.styledMode||(l={"stroke-width":z.lineWidth||0},z.dashStyle&&(l.dashstyle=z.dashStyle)),this.legendLine=E.path([["M",0,Y],["L",I,Y]]).addClass("highcharts-graph").attr(l).add(s),g&&!1!==g.enabled&&I&&(z=Math.min(V(g.radius,w),w),0===this.symbol.indexOf("url")&&(g=K(g,{width:P,height:P}),z=0),this.legendSymbol=I=E.symbol(this.symbol,I/2-z,Y-z,2*z,2*z,g).addClass("highcharts-point").add(s),I.isMarker=!0)},W.drawRectangle=function(Y,z){var I=Y.symbolHeight,P=Y.options.squareSymbol;z.legendSymbol=this.chart.renderer.rect(P?(Y.symbolWidth-I)/2:0,Y.baseline-I+1,P?I:Y.symbolWidth,I,V(Y.options.symbolRadius,I/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.legendGroup)},Q}),lt(F,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),lt(F,"Core/Series/Series.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Point.js"],F["Core/Series/SeriesDefaults.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w){var E=H.animObject,s=H.setAnimation,l=K.defaultOptions,g=V.registerEventOptions,v=Q.hasTouch,S=Q.svg,f=Q.win,C=I.seriesTypes,x=w.addEvent,M=w.arrayMax,p=w.arrayMin,a=w.clamp,h=w.cleanRecursively,n=w.correctFloat,d=w.defined,o=w.erase,r=w.error,u=w.extend,c=w.find,b=w.fireEvent,O=w.getNestedProperty,k=w.isArray,_=w.isNumber,A=w.isString,B=w.merge,m=w.objectEach,T=w.pick,R=w.removeEvent,j=w.splat,X=w.syncTimeout;return H=function(){function $(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return $.prototype.init=function(D,U){b(this,"init",{options:U});var N=this,Z=D.series;this.eventsToUnbind=[],N.chart=D,N.options=N.setOptions(U),U=N.options,N.linkedSeries=[],N.bindAxes(),u(N,{name:U.name,state:"",visible:!1!==U.visible,selected:!0===U.selected}),g(this,U);var nt,q=U.events;(q&&q.click||U.point&&U.point.events&&U.point.events.click||U.allowPointSelect)&&(D.runTrackerClick=!0),N.getColor(),N.getSymbol(),N.parallelArrays.forEach(function(it){N[it+"Data"]||(N[it+"Data"]=[])}),N.isCartesian&&(D.hasCartesianSeries=!0),Z.length&&(nt=Z[Z.length-1]),N._i=T(nt&&nt._i,-1)+1,N.opacity=N.options.opacity,D.orderSeries(this.insert(Z)),U.dataSorting&&U.dataSorting.enabled?N.setDataSortingOptions():N.points||N.data||N.setData(U.data,!1),b(this,"afterInit")},$.prototype.is=function(D){return C[D]&&this instanceof C[D]},$.prototype.insert=function(D){var N,U=this.options.index;if(_(U)){for(N=D.length;N--;)if(U>=T(D[N].options.index,D[N]._i)){D.splice(N+1,0,this);break}-1===N&&D.unshift(this),N+=1}else D.push(this);return T(N,D.length-1)},$.prototype.bindAxes=function(){var Z,D=this,U=D.options,N=D.chart;b(this,"bindAxes",null,function(){(D.axisTypes||[]).forEach(function(q){var nt=0;N[q].forEach(function(it){Z=it.options,(U[q]===nt&&!Z.isInternal||void 0!==U[q]&&U[q]===Z.id||void 0===U[q]&&0===Z.index)&&(D.insert(it.series),D[q]=it,it.isDirty=!0),Z.isInternal||nt++}),D[q]||D.optionalAxis===q||r(18,!0,N)})}),b(this,"afterBindAxes")},$.prototype.updateParallelArrays=function(D,U){var N=D.series,Z=arguments,q=_(U)?function(nt){var it="y"===nt&&N.toYData?N.toYData(D):D[nt];N[nt+"Data"][U]=it}:function(nt){Array.prototype[U].apply(N[nt+"Data"],Array.prototype.slice.call(Z,2))};N.parallelArrays.forEach(q)},$.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},$.prototype.autoIncrement=function(D){var it,U=this.options,N=U.pointIntervalUnit,Z=U.relativeXValue,q=this.chart.time,nt=this.xIncrement;return nt=T(nt,U.pointStart,0),this.pointInterval=it=T(this.pointInterval,U.pointInterval,1),Z&&_(D)&&(it*=D),N&&(U=new q.Date(nt),"day"===N?q.set("Date",U,q.get("Date",U)+it):"month"===N?q.set("Month",U,q.get("Month",U)+it):"year"===N&&q.set("FullYear",U,q.get("FullYear",U)+it),it=U.getTime()-nt),Z&&_(D)?nt+it:(this.xIncrement=nt+it,nt)},$.prototype.setDataSortingOptions=function(){var D=this.options;u(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),d(D.pointRange)||(D.pointRange=1)},$.prototype.setOptions=function(D){var U=this.chart,N=U.options,Z=N.plotOptions,q=U.userOptions||{};D=B(D),U=U.styledMode;var nt={plotOptions:Z,userOptions:D};b(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=q.plotOptions||{};return this.userOptions=nt.userOptions,q=B(it,Z.series,q.plotOptions&&q.plotOptions[this.type],D),this.tooltipOptions=B(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,N.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,D.tooltip),this.stickyTracking=T(D.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||q.stickyTracking),null===it.marker&&delete q.marker,this.zoneAxis=q.zoneAxis,Z=this.zones=(q.zones||[]).slice(),!q.negativeColor&&!q.negativeFillColor||q.zones||(N={value:q[this.zoneAxis+"Threshold"]||q.threshold||0,className:"highcharts-negative"},U||(N.color=q.negativeColor,N.fillColor=q.negativeFillColor),Z.push(N)),Z.length&&d(Z[Z.length-1].value)&&Z.push(U?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:q}),q},$.prototype.getName=function(){return T(this.options.name,"Series "+(this.index+1))},$.prototype.getCyclic=function(D,U,N){var Z=this.chart,q=this.userOptions,nt=D+"Index",it=D+"Counter",ot=N?N.length:T(Z.options.chart[D+"Count"],Z[D+"Count"]);if(!U){var at=T(q[nt],q["_"+nt]);d(at)||(Z.series.length||(Z[it]=0),q["_"+nt]=at=Z[it]%ot,Z[it]+=1),N&&(U=N[at])}void 0!==at&&(this[nt]=at),this[D]=U},$.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)},$.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},$.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},$.prototype.findPointIndex=function(D,U){var it,ot,N=D.id,Z=D.x,q=this.points,nt=this.options.dataSorting;if(N)(nt=this.chart.get(N))instanceof Y&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===D.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===D.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===D.x}),!(it=c(q,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&_(Z)&&(at=this.xData.indexOf(Z,U)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&_(at)&&q[at]&&q[at].touched&&(at=void 0),at},$.prototype.updateData=function(D,U){var at,mt,yt,N=this.options,Z=N.dataSorting,q=this.points,nt=[],it=this.requireSorting,ot=D.length===q.length,vt=!0;if(this.xIncrement=null,D.forEach(function(pt,ct){var J=d(pt)&&this.pointClass.prototype.optionsToObject.call({series:this},pt)||{};J.id||_(J.x)?(-1===(J=this.findPointIndex(J,yt))||void 0===J?nt.push(pt):q[J]&&pt!==N.data[J]?(q[J].update(pt,!1,null,!1),q[J].touched=!0,it&&(yt=J+1)):q[J]&&(q[J].touched=!0),(!ot||ct!==J||Z&&Z.enabled||this.hasDerivedData)&&(at=!0)):nt.push(pt)},this),at)for(D=q.length;D--;)(mt=q[D])&&!mt.touched&&mt.remove&&mt.remove(!1,U);else!ot||Z&&Z.enabled?vt=!1:(D.forEach(function(pt,ct){pt!==q[ct].y&&q[ct].update&&q[ct].update(pt,!1,null,!1)}),nt.length=0);return q.forEach(function(pt){pt&&(pt.touched=!1)}),!!vt&&(nt.forEach(function(pt){this.addPoint(pt,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=M(this.xData),this.autoIncrement()),!0)},$.prototype.setData=function(D,U,N,Z){var q=this,nt=q.points,it=nt&&nt.length||0,ot=q.options,at=q.chart,mt=ot.dataSorting,yt=q.xAxis,vt=ot.turboThreshold,pt=this.xData,ct=this.yData,J=q.pointArrayMap;J=J&&J.length;var st,et=ot.keys,ut=0,dt=1,xt=null,Et=(D=D||[]).length;if(U=T(U,!0),mt&&mt.enabled&&(D=this.sortData(D)),!1!==Z&&Et&&it&&!q.cropped&&!q.hasGroupedData&&q.visible&&!q.isSeriesBoosting&&(st=this.updateData(D,N)),!st){if(q.xIncrement=null,q.colorCounter=0,this.parallelArrays.forEach(function(wt){q[wt+"Data"].length=0}),vt&&Et>vt)if(xt=q.getFirstValidPoint(D),_(xt))for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else if(k(xt))if(J)if(xt.length===J)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[0],ct[N]=Z.slice(1,J+1);else if(et&&(ut=0<=(ut=et.indexOf("x"))?ut:0,dt=0<=(dt=et.indexOf("y"))?dt:1),1===xt.length&&(dt=0),ut===dt)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N][dt];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[ut],ct[N]=Z[dt];else r(12,!1,at);else for(N=0;N<Et;N++)void 0!==D[N]&&(q.pointClass.prototype.applyOptions.apply(Z={series:q},[D[N]]),q.updateParallelArrays(Z,N));for(ct&&A(ct[0])&&r(14,!0,at),q.data=[],q.options.data=q.userOptions.data=D,N=it;N--;)nt[N]&&nt[N].destroy&&nt[N].destroy();yt&&(yt.minRange=yt.userMinRange),q.isDirty=at.isDirtyBox=!0,q.isDirtyData=!!nt,N=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),U&&at.redraw(N)},$.prototype.sortData=function(D){var U=this,N=U.options.dataSorting.sortKey||"y",Z=function(q,nt){return d(nt)&&q.pointClass.prototype.optionsToObject.call({series:q},nt)||{}};return D.forEach(function(q,nt){D[nt]=Z(U,q),D[nt].index=nt},this),D.concat().sort(function(q,nt){return q=O(N,q),(nt=O(N,nt))<q?-1:nt>q?1:0}).forEach(function(q,nt){q.x=nt},this),U.linkedSeries&&U.linkedSeries.forEach(function(q){var nt=q.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=Z(q,ot),D[at]&&(it[at].x=D[at].x,it[at].index=at)}),q.setData(it,!1))}),D},$.prototype.getProcessedData=function(D){var U=this.xAxis,N=this.options,Z=N.cropThreshold,q=D||this.getExtremesFromAll||N.getExtremesFromAll,nt=this.isCartesian;D=U&&U.val2lin,N=!(!U||!U.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,yt=!1,vt=ot.length;if(U){var pt=(yt=U.getExtremes()).min,ct=yt.max;yt=U.categories&&!U.names.length}if(nt&&this.sorted&&!q&&(!Z||vt>Z||this.forceCrop))if(ot[vt-1]<pt||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<pt||ot[vt-1]>ct)){var J=this.cropData(this.xData,this.yData,pt,ct);ot=J.xData,at=J.yData,it=J.start,J=!0}for(Z=ot.length||1;--Z;)if(0<(U=N?D(ot[Z])-D(ot[Z-1]):ot[Z]-ot[Z-1])&&(void 0===et||U<et))var et=U;else 0>U&&mt&&!yt&&(r(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:J,cropStart:it,closestPointRange:et}},$.prototype.processData=function(D){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!D)return!1;D=this.getProcessedData(),this.cropped=D.cropped,this.cropStart=D.cropStart,this.processedXData=D.xData,this.processedYData=D.yData,this.closestPointRange=this.basePointRange=D.closestPointRange,b(this,"afterProcessData")},$.prototype.cropData=function(D,U,N,Z,q){var it,nt=D.length,ot=0,at=nt;for(q=T(q,this.cropShoulder),it=0;it<nt;it++)if(D[it]>=N){ot=Math.max(0,it-q);break}for(N=it;N<nt;N++)if(D[N]>Z){at=N+q;break}return{xData:D.slice(ot,at),yData:U.slice(ot,at),start:ot,end:at}},$.prototype.generatePoints=function(){var D=this.options,U=D.data,N=this.processedXData,Z=this.processedYData,q=this.pointClass,nt=N.length,it=this.cropStart||0,ot=this.hasGroupedData,at=D.keys,mt=[];D=D.dataGrouping&&D.dataGrouping.groupAll?it:0;var yt,vt,pt=this.data;if(!pt&&!ot){var ct=[];ct.length=U.length,pt=this.data=ct}for(at&&ot&&(this.options.keys=!1),vt=0;vt<nt;vt++){if(ct=it+vt,ot){var J=(new q).init(this,[N[vt]].concat(j(Z[vt])));J.dataGroup=this.groupMap[D+vt],J.dataGroup.options&&(J.options=J.dataGroup.options,u(J,J.dataGroup.options),delete J.dataLabels)}else(J=pt[ct])||void 0===U[ct]||(pt[ct]=J=(new q).init(this,U[ct],N[vt]));J&&(J.index=ot?D+vt:ct,mt[vt]=J)}if(this.options.keys=at,pt&&(nt!==(yt=pt.length)||ot))for(vt=0;vt<yt;vt++)vt!==it||ot||(vt+=nt),pt[vt]&&(pt[vt].destroyElements(),pt[vt].plotX=void 0);this.data=pt,this.points=mt,b(this,"afterGeneratePoints")},$.prototype.getXExtremes=function(D){return{min:p(D),max:M(D)}},$.prototype.getExtremes=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;Z=!!Z&&Z.positiveValuesOnly;var ot,at=0,mt=0,yt=0,vt=(D=D||this.stackedYData||this.processedYData||[]).length;if(N){var pt=N.getExtremes();at=pt.min,mt=pt.max}for(ot=0;ot<vt;ot++){var ct=q[ot],J=(_(pt=D[ot])||k(pt))&&(pt.length||0<pt||!Z);if(ct=U||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!N||(q[ot+it]||ct)>=at&&(q[ot-it]||ct)<=mt,J&&ct)if(J=pt.length)for(;J--;)_(pt[J])&&(nt[yt++]=pt[J]);else nt[yt++]=pt}return D={activeYData:nt,dataMin:p(nt),dataMax:M(nt)},b(this,"afterGetExtremes",{dataExtremes:D}),D},$.prototype.applyExtremes=function(){var D=this.getExtremes();return this.dataMin=D.dataMin,this.dataMax=D.dataMax,D},$.prototype.getFirstValidPoint=function(D){for(var U=D.length,N=0,Z=null;null===Z&&N<U;)Z=D[N],N++;return Z},$.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,J,D=this.options,U=D.stacking,N=this.xAxis,Z=N.categories,q=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,yt=D.threshold,vt=D.startFromThreshold?yt:0,pt=this.zoneAxis||"y",et=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var st=it[ct],ut=st.x,dt=void 0,xt=void 0,Et=st.y,wt=st.low,kt=U&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Et<(vt?0:yt)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Et)||N.positiveValuesOnly&&!N.validatePositiveValue(ut))&&(st.isNull=!0),st.plotX=J=n(a(N.translate(ut,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),U&&this.visible&&kt&&kt[ut]){var Dt=this.getStackIndicator(Dt,ut,this.index);st.isNull||(xt=(dt=kt[ut]).points[Dt.key])}if(k(xt)&&(Et=xt[1],(wt=xt[0])===vt&&Dt.key===kt[ut].base&&(wt=T(_(yt)&&yt,nt.min)),nt.positiveValuesOnly&&0>=wt&&(wt=null),st.total=st.stackTotal=dt.total,st.percentage=dt.total&&st.y/dt.total*100,st.stackY=Et,this.irregularWidths||dt.setOffset(this.pointXOffset||0,this.barW||0)),st.yBottom=d(wt)?a(nt.translate(wt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Et=this.dataModify.modifyValue(Et,ct)),st.plotY=void 0,_(Et)&&void 0!==(dt=nt.translate(Et,!1,!0,!1,!0))&&(st.plotY=a(dt,-1e5,1e5)),st.isInside=this.isPointInside(st),st.clientX=mt?n(N.translate(ut,0,0,0,1,at)):J,st.negative=st[pt]<(D[pt+"Threshold"]||yt||0),st.category=Z&&void 0!==Z[st.x]?Z[st.x]:st.x,!st.isNull&&!1!==st.visible){void 0!==bt&&(et=Math.min(et,Math.abs(J-bt)));var bt=J}st.zone=this.zones.length?st.getZone():void 0,!st.graphic&&this.group&&q&&(st.isNew=!0)}this.closestPointRangePx=et,b(this,"afterTranslate")},$.prototype.getValidPoints=function(D,U,N){var Z=this.chart;return(D||this.points||[]).filter(function(q){return!(U&&!Z.isInsidePlot(q.plotX,q.plotY,{inverted:Z.inverted}))&&!1!==q.visible&&(N||!q.isNull)})},$.prototype.getClipBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis,Z=B(D.clipBox);return U&&U.len!==D.plotSizeX&&(Z.width=U.len),N&&N.len!==D.plotSizeY&&(Z.height=N.len),Z},$.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},$.prototype.setClip=function(){var D=this.chart,U=this.group,N=this.markerGroup,Z=D.sharedClips;D=D.renderer;var q=this.getClipBox(),nt=this.getSharedClipKey(),it=Z[nt];it?it.animate(q):Z[nt]=it=D.clipRect(q),U&&U.clip(!1===this.options.clip?void 0:it),N&&N.clip()},$.prototype.animate=function(D){var U=this.chart,N=this.group,Z=this.markerGroup,q=U.inverted,nt=E(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=U.sharedClips[it],at=U.sharedClips[it+"m"];if(D&&N)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,q&&(nt.x=U.plotHeight),ot=U.renderer.clipRect(nt),U.sharedClips[it]=ot,at=U.renderer.clipRect({x:q?(U.plotSizeX||0)+99:-99,y:q?-U.plotLeft:-U.plotTop,width:99,height:q?U.chartWidth:U.chartHeight}),U.sharedClips[it+"m"]=at),N.clip(ot),Z&&Z.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){U=this.getClipBox();var mt=nt.step;Z&&Z.element.childNodes.length&&(nt.step=function(yt,vt){mt&&mt.apply(vt,arguments),at&&at.element&&at.attr(vt.prop,"width"===vt.prop?yt+99:yt)}),ot.addClass("highcharts-animating").animate(U,nt)}},$.prototype.afterAnimate=function(){var D=this;this.setClip(),m(this.chart.sharedClips,function(U,N,Z){U&&!D.chart.container.querySelector('[clip-path="url(#'+U.id+')"]')&&(U.destroy(),delete Z[N])}),this.finishedAnimating=!0,b(this,"afterAnimate")},$.prototype.drawPoints=function(){var it,ot,D=this.points,U=this.chart,N=this.options.marker,Z=this[this.specialGroup]||this.markerGroup,q=this.xAxis,nt=T(N.enabled,!(q&&!q.isRadial)||null,this.closestPointRangePx>=N.enabledThreshold*N.radius);if(!1!==N.enabled||this._hasPointMarkers)for(it=0;it<D.length;it++){var at=D[it],mt=(ot=at.graphic)?"animate":"attr",yt=at.marker||{},vt=!!at.marker;if((nt&&void 0===yt.enabled||yt.enabled)&&!at.isNull&&!1!==at.visible){var pt=T(yt.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=q.reversed?-(ct.width||0):q.width);var J=!1!==at.isInside;ot?ot[J?"show":"hide"](J).animate(ct):J&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=U.renderer.symbol(pt,ct.x,ct.y,ct.width,ct.height,vt?yt:N).add(Z),this.enabledDataSorting&&U.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[J?"show":"hide"](J).animate(ct),ot&&!U.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},$.prototype.markerAttribs=function(D,U){var N=this.options,Z=N.marker,q=D.marker||{},nt=q.symbol||Z.symbol,it=T(q.radius,Z.radius);return U&&(Z=Z.states[U],it=T((U=q.states&&q.states[U])&&U.radius,Z&&Z.radius,it+(Z&&Z.radiusPlus||0))),D.hasImage=nt&&0===nt.indexOf("url"),D.hasImage&&(it=0),D={x:N.crisp?Math.floor(D.plotX-it):D.plotX-it,y:D.plotY-it},it&&(D.width=D.height=2*it),D},$.prototype.pointAttribs=function(D,U){var N=this.options.marker,Z=D&&D.options,q=Z&&Z.marker||{},nt=Z&&Z.color,it=D&&D.color,ot=D&&D.zone&&D.zone.color,at=this.color;return D=T(q.lineWidth,N.lineWidth),Z=1,at=nt||ot||it||at,nt=q.fillColor||N.fillColor||at,it=q.lineColor||N.lineColor||at,N=N.states[U=U||"normal"]||{},D=T((U=q.states&&q.states[U]||{}).lineWidth,N.lineWidth,D+T(U.lineWidthPlus,N.lineWidthPlus,0)),{stroke:it=U.lineColor||N.lineColor||it,"stroke-width":D,fill:nt=U.fillColor||N.fillColor||nt,opacity:Z=T(U.opacity,N.opacity,Z)}},$.prototype.destroy=function(D){var it,ot,at,U=this,N=U.chart,Z=/AppleWebKit\/533/.test(f.navigator.userAgent),q=U.data||[];for(b(U,"destroy"),this.removeEvents(D),(U.axisTypes||[]).forEach(function(mt){(at=U[mt])&&at.series&&(o(at.series,U),at.isDirty=at.forceRedraw=!0)}),U.legendItem&&U.chart.legend.destroyItem(U),it=q.length;it--;)(ot=q[it])&&ot.destroy&&ot.destroy();U.clips&&U.clips.forEach(function(mt){return mt.destroy()}),w.clearTimeout(U.animationTimeout),m(U,function(mt,yt){mt instanceof P&&!mt.survive&&mt[Z&&"group"===yt?"hide":"destroy"]()}),N.hoverSeries===U&&(N.hoverSeries=void 0),o(N.series,U),N.orderSeries(),m(U,function(mt,yt){D&&"hcEvents"===yt||delete U[yt]})},$.prototype.applyZones=function(){var yt,vt,pt,ct,J,et,st,ut,D=this,U=this.chart,N=U.renderer,Z=this.zones,q=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(U.chartWidth,U.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=U.inverted,dt=!1;if(Z.length&&(nt||it)&&at&&void 0!==at.min){var xt=at.reversed,Et=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var wt=at.getExtremes();Z.forEach(function(kt,Dt){yt=xt?Et?U.plotWidth:0:Et?0:at.toPixels(wt.min)||0,yt=a(T(vt,yt),0,ot),vt=a(Math.round(at.toPixels(T(kt.value,wt.max),!0)||0),0,ot),dt&&(yt=vt=at.toPixels(wt.max)),ct=Math.abs(yt-vt),J=Math.min(yt,vt),et=Math.max(yt,vt),at.isXAxis?(pt={x:mt?et:J,y:0,width:ct,height:ot},Et||(pt.x=U.plotHeight-pt.x)):(pt={x:0,y:mt?et:J,width:ot,height:ct},Et&&(pt.y=U.plotWidth-pt.y)),mt&&N.isVML&&(pt=at.isXAxis?{x:0,y:xt?J:et,height:pt.width,width:U.chartWidth}:{x:pt.y-U.plotLeft-U.spacingBox.x,y:0,width:pt.height,height:U.chartHeight}),q[Dt]?q[Dt].animate(pt):q[Dt]=N.clipRect(pt),st=D["zone-area-"+Dt],ut=D["zone-graph-"+Dt],nt&&ut&&ut.clip(q[Dt]),it&&st&&st.clip(q[Dt]),dt=kt.value>wt.max,D.resetZones&&0===vt&&(vt=void 0)}),this.clips=q}else D.visible&&(nt&&nt.show(!0),it&&it.show(!0))},$.prototype.invertGroups=function(D){function U(){["group","markerGroup"].forEach(function(q){N[q]&&(Z.renderer.isVML&&N[q].attr({width:N.yAxis.len,height:N.xAxis.len}),N[q].width=N.yAxis.len,N[q].height=N.xAxis.len,N[q].invert(!N.isRadialSeries&&D))})}var N=this,Z=N.chart;N.xAxis&&(N.eventsToUnbind.push(x(Z,"resize",U)),U(),N.invertGroups=U)},$.prototype.plotGroup=function(D,U,N,Z,q){var nt=this[D],it=!nt;return N={visibility:N,zIndex:Z||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(N.opacity=this.opacity),it&&(this[D]=nt=this.chart.renderer.g().add(q)),nt.addClass("highcharts-"+U+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(d(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(N)[it?"attr":"animate"](this.getPlotBox()),nt},$.prototype.getPlotBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis;return D.inverted&&(U=N,N=this.xAxis),{translateX:U?U.left:D.plotLeft,translateY:N?N.top:D.plotTop,scaleX:1,scaleY:1}},$.prototype.removeEvents=function(D){D||R(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(U){U()}),this.eventsToUnbind.length=0)},$.prototype.render=function(){var D=this,U=D.chart,N=D.options,Z=E(N.animation),q=D.visible?"inherit":"hidden",nt=N.zIndex,it=D.hasRendered,ot=U.seriesGroup,at=U.inverted;U=!D.finishedAnimating&&U.renderer.isSVG?Z.duration:0,b(this,"render");var mt=D.plotGroup("group","series",q,nt,ot);D.markerGroup=D.plotGroup("markerGroup","markers",q,nt,ot),!1!==N.clip&&D.setClip(),D.animate&&U&&D.animate(!0),mt.inverted=!!T(D.invertible,D.isCartesian)&&at,D.drawGraph&&(D.drawGraph(),D.applyZones()),D.visible&&D.drawPoints(),D.drawDataLabels&&D.drawDataLabels(),D.redrawPoints&&D.redrawPoints(),D.drawTracker&&!1!==D.options.enableMouseTracking&&D.drawTracker(),D.invertGroups(at),D.animate&&U&&D.animate(),it||(U&&Z.defer&&(U+=Z.defer),D.animationTimeout=X(function(){D.afterAnimate()},U||0)),D.isDirty=!1,D.hasRendered=!0,b(D,"afterRender")},$.prototype.redraw=function(){var D=this.chart,U=this.isDirty||this.isDirtyData,N=this.group,Z=this.xAxis,q=this.yAxis;N&&(D.inverted&&N.attr({width:D.plotWidth,height:D.plotHeight}),N.animate({translateX:T(Z&&Z.left,D.plotLeft),translateY:T(q&&q.top,D.plotTop)})),this.translate(),this.render(),U&&delete this.kdTree},$.prototype.searchPoint=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.chart.inverted;return this.searchKDTree({clientX:q?N.len-D.chartY+N.pos:D.chartX-N.pos,plotY:q?Z.len-D.chartX+Z.pos:D.chartY-Z.pos},U,D)},$.prototype.buildKDTree=function(D){function U(q,nt,it){var ot=q&&q.length;if(ot){var at=N.kdAxisArray[nt%it];return q.sort(function(mt,yt){return mt[at]-yt[at]}),{point:q[ot=Math.floor(ot/2)],left:U(q.slice(0,ot),nt+1,it),right:U(q.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var N=this,Z=-1<N.options.findNearestPointBy.indexOf("y")?2:1;delete N.kdTree,X(function(){N.kdTree=U(N.getValidPoints(null,!N.directTouch),Z,Z),N.buildingKdTree=!1},N.options.kdNow||D&&"touchstart"===D.type?0:1)},$.prototype.searchKDTree=function(D,U,N){var q=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=U?"distX":"dist";if(U=-1<q.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(N),this.kdTree)return function Z(at,mt,yt,vt){var pt=mt.point,ct=q.kdAxisArray[yt%vt],J=pt,et=d(at[nt])&&d(pt[nt])?Math.pow(at[nt]-pt[nt],2):null,st=d(at[it])&&d(pt[it])?Math.pow(at[it]-pt[it],2):null;return pt.dist=d(st=(et||0)+(st||0))?Math.sqrt(st):Number.MAX_VALUE,pt.distX=d(et)?Math.sqrt(et):Number.MAX_VALUE,et=0>(ct=at[ct]-pt[ct])?"right":"left",mt[st=0>ct?"left":"right"]&&(J=(st=Z(at,mt[st],yt+1,vt))[ot]<J[ot]?st:pt),mt[et]&&Math.sqrt(ct*ct)<J[ot]&&(J=(at=Z(at,mt[et],yt+1,vt))[ot]<J[ot]?at:J),J}(D,this.kdTree,U,U)},$.prototype.pointPlacementToXValue=function(){var D=this.options,U=D.pointRange,N=this.xAxis;return"between"===(D=D.pointPlacement)&&(D=N.reversed?-.5:.5),_(D)?D*(U||N.pointRange):0},$.prototype.isPointInside=function(D){var U=this.chart,N=this.xAxis,Z=this.yAxis;return void 0!==D.plotY&&void 0!==D.plotX&&0<=D.plotY&&D.plotY<=(Z?Z.len:U.plotHeight)&&0<=D.plotX&&D.plotX<=(N?N.len:U.plotWidth)},$.prototype.drawTracker=function(){var D=this,U=D.options,N=U.trackByArea,Z=[].concat(N?D.areaPath:D.graphPath),q=D.chart,nt=q.pointer,it=q.renderer,ot=q.options.tooltip.snap,at=D.tracker,mt=function(vt){q.hoverSeries!==D&&D.onMouseOver()},yt="rgba(192,192,192,"+(S?1e-4:.002)+")";at?at.attr({d:Z}):D.graph&&(D.tracker=it.path(Z).attr({visibility:D.visible?"visible":"hidden",zIndex:2}).addClass(N?"highcharts-tracker-area":"highcharts-tracker-line").add(D.group),q.styledMode||D.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:yt,fill:N?yt:"none","stroke-width":D.graph.strokeWidth()+(N?0:2*ot)}),[D.tracker,D.markerGroup,D.dataLabelsGroup].forEach(function(vt){vt&&(vt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(pt){nt.onTrackerMouseOut(pt)}),U.cursor&&!q.styledMode&&vt.css({cursor:U.cursor}),v)&&vt.on("touchstart",mt)})),b(this,"afterDrawTracker")},$.prototype.addPoint=function(D,U,N,Z,q){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var vt,mt=nt.data,yt=this.xData;U=T(U,!0);var pt={series:this};this.pointClass.prototype.applyOptions.apply(pt,[D]);var ct=pt.x,J=yt.length;if(this.requireSorting&&ct<yt[J-1])for(vt=!0;J&&yt[J-1]>ct;)J--;this.updateParallelArrays(pt,"splice",J,0,0),this.updateParallelArrays(pt,J),at&&pt.name&&(at[ct]=pt.name),mt.splice(J,0,D),vt&&(this.data.splice(J,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),N&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(pt,"shift"),mt.shift())),!1!==q&&b(this,"addPoint",{point:pt}),this.isDirtyData=this.isDirty=!0,U&&ot.redraw(Z)},$.prototype.removePoint=function(D,U,N){var Z=this,q=Z.data,nt=q[D],it=Z.points,ot=Z.chart,at=function(){it&&it.length===q.length&&it.splice(D,1),q.splice(D,1),Z.options.data.splice(D,1),Z.updateParallelArrays(nt||{series:Z},"splice",D,1),nt&&nt.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,U&&ot.redraw()};s(N,ot),U=T(U,!0),nt?nt.firePointEvent("remove",null,at):at()},$.prototype.remove=function(D,U,N,Z){function q(){nt.destroy(Z),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),T(D,!0)&&it.redraw(U)}var nt=this,it=nt.chart;!1!==N?b(nt,"remove",null,q):q()},$.prototype.update=function(D,U){D=h(D,this.userOptions),b(this,"update",{options:D});var yt,N=this,Z=N.chart,q=N.userOptions,nt=N.initialType||N.type,it=Z.options.plotOptions,ot=C[nt].prototype,at=N.finishedAnimating&&{animation:!1},mt={},vt=["eventOptions","navigatorSeries","baseSeries"],pt=D.type||q.type||Z.options.chart.type,ct=!(this.hasDerivedData||pt&&pt!==this.type||void 0!==D.pointStart||void 0!==D.pointInterval||void 0!==D.relativeXValue||N.hasOptionChanged("dataGrouping")||N.hasOptionChanged("pointStart")||N.hasOptionChanged("pointInterval")||N.hasOptionChanged("pointIntervalUnit")||N.hasOptionChanged("keys"));if(pt=pt||nt,ct&&(vt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==D.visible&&vt.push("area","graph"),N.parallelArrays.forEach(function(et){vt.push(et+"Data")}),D.data&&(D.dataSorting&&u(N.options.dataSorting,D.dataSorting),this.setData(D.data,!1))),D=B(q,at,{index:void 0===q.index?N.index:q.index,pointStart:T(it&&it.series&&it.series.pointStart,q.pointStart,N.xData[0])},!ct&&{data:N.options.data},D),ct&&D.data&&(D.data=N.options.data),(vt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(vt)).forEach(function(et){vt[et]=N[et],delete N[et]}),it=!1,C[pt]){if(it=pt!==N.type,N.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(N,C[pt].prototype);else{for(yt in at=Object.hasOwnProperty.call(N,"hcEvents")&&N.hcEvents,ot)N[yt]=void 0;u(N,C[pt].prototype),at?N.hcEvents=at:delete N.hcEvents}}else r(17,!0,Z,{missingModuleFor:pt});if(vt.forEach(function(et){N[et]=vt[et]}),N.init(Z,D),ct&&this.points){var J=N.options;!1===J.visible?(mt.graphic=1,mt.dataLabel=1):N._hasPointLabels||(ot=J.dataLabels,!(D=J.marker)||!1!==D.enabled&&(q.marker&&q.marker.symbol)===D.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(et){et&&et.series&&(et.resolveColor(),Object.keys(mt).length&&et.destroyElements(mt),!1===J.showInLegend&&et.legendItem&&Z.legend.destroyItem(et))},this)}N.initialType=nt,Z.linkSeries(),it&&N.linkedSeries.length&&(N.isDirtyData=!0),b(this,"afterUpdate"),T(U,!0)&&Z.redraw(!!ct&&void 0)},$.prototype.setName=function(D){this.name=this.options.name=this.userOptions.name=D,this.chart.isDirtyLegend=!0},$.prototype.hasOptionChanged=function(D){var U=this.options[D],N=this.chart.options.plotOptions,Z=this.userOptions[D];return Z?U!==Z:U!==T(N&&N[this.type]&&N[this.type][D],N&&N.series&&N.series[D],U)},$.prototype.onMouseOver=function(){var D=this.chart,U=D.hoverSeries;D.pointer.setHoverChartIndex(),U&&U!==this&&U.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),D.hoverSeries=this},$.prototype.onMouseOut=function(){var D=this.options,U=this.chart,N=U.tooltip,Z=U.hoverPoint;U.hoverSeries=null,Z&&Z.onMouseOut(),this&&D.events.mouseOut&&b(this,"mouseOut"),!N||this.stickyTracking||N.shared&&!this.noSharedTooltip||N.hide(),U.series.forEach(function(q){q.setState("",!0)})},$.prototype.setState=function(D,U){var N=this,Z=N.options,q=N.graph,nt=Z.inactiveOtherPoints,it=Z.states,ot=T(it[D||"normal"]&&it[D||"normal"].animation,N.chart.options.chart.animation),at=Z.lineWidth,mt=0,yt=Z.opacity;if(N.state!==(D=D||"")&&([N.group,N.markerGroup,N.dataLabelsGroup].forEach(function(vt){vt&&(N.state&&vt.removeClass("highcharts-series-"+N.state),D&&vt.addClass("highcharts-series-"+D))}),N.state=D,!N.chart.styledMode)){if(it[D]&&!1===it[D].enabled)return;if(D&&(at=it[D].lineWidth||at+(it[D].lineWidthPlus||0),yt=T(it[D].opacity,yt)),q&&!q.dashstyle)for(q.animate(Z={"stroke-width":at},ot);N["zone-graph-"+mt];)N["zone-graph-"+mt].animate(Z,ot),mt+=1;nt||[N.group,N.markerGroup,N.dataLabelsGroup,N.labelBySeries].forEach(function(vt){vt&&vt.animate({opacity:yt},ot)})}U&&nt&&N.points&&N.setAllPointsToState(D||void 0)},$.prototype.setAllPointsToState=function(D){this.points.forEach(function(U){U.setState&&U.setState(D)})},$.prototype.setVisible=function(D,U){var N=this,Z=N.chart,q=N.legendItem,nt=Z.options.chart.ignoreHiddenSeries,ot=(N.visible=D=N.options.visible=N.userOptions.visible=void 0===D?!N.visible:D)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){N[at]&&N[at][ot]()}),(Z.hoverSeries===N||(Z.hoverPoint&&Z.hoverPoint.series)===N)&&N.onMouseOut(),q&&Z.legend.colorizeItem(N,D),N.isDirty=!0,N.options.stacking&&Z.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),N.linkedSeries.forEach(function(at){at.setVisible(D,!1)}),nt&&(Z.isDirtyBox=!0),b(N,ot),!1!==U&&Z.redraw()},$.prototype.show=function(){this.setVisible(!0)},$.prototype.hide=function(){this.setVisible(!1)},$.prototype.select=function(D){this.selected=D=this.options.selected=void 0===D?!this.selected:D,this.checkbox&&(this.checkbox.checked=D),b(this,D?"select":"unselect")},$.prototype.shouldShowTooltip=function(D,U,N){return void 0===N&&(N={}),N.series=this,N.visiblePlotOnly=!0,this.chart.isInsidePlot(D,U,N)},$.defaultOptions=z,$}(),u(H.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:W.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Y,requireSorting:!0,sorted:!0}),I.series=H,H}),lt(F,"Extensions/ScrollablePlotArea.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.stop,I=Y.addEvent,P=Y.createElement,w=Y.merge,E=Y.pick;I(V,"afterSetChartSize",function(s){var l=this.options.chart.scrollablePlotArea,g=l&&l.minWidth;if(l=l&&l.minHeight,!this.renderer.forExport){if(g){if(this.scrollablePixelsX=g=Math.max(0,g-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.width=this.plotWidth+=g,this.inverted?this.clipBox.height+=g:this.clipBox.width+=g;var v={1:{name:"right",value:g}}}}else l&&(this.scrollablePixelsY=g=Math.max(0,l-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.height=this.plotHeight+=g,this.inverted?this.clipBox.width+=g:this.clipBox.height+=g,v={2:{name:"bottom",value:g}});v&&!s.skipAxes&&this.axes.forEach(function(S){v[S.side]?S.getPlotLinePath=function(){var f=v[S.side].name,C=this[f];this[f]=C-v[S.side].value;var x=K.prototype.getPlotLinePath.apply(this,arguments);return this[f]=C,x}:(S.setAxisSize(),S.setAxisTranslation())})}}),I(V,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),V.prototype.setUpScrolling=function(){var s=this,l={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(l.overflowX="auto"),this.scrollablePixelsY&&(l.overflowY="auto"),this.scrollingParent=P("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=P("div",{className:"highcharts-scrolling"},l,this.scrollingParent),I(this.scrollingContainer,"scroll",function(){s.pointer&&delete s.pointer.chartPosition}),this.innerContainer=P("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},V.prototype.moveFixedElements=function(){var v,s=this.container,l=this.fixedRenderer,g=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?v=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?v=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(v=".highcharts-yaxis"),v&&g.push(v+":not(.highcharts-radial-axis)",v+"-labels:not(.highcharts-radial-axis-labels)"),g.forEach(function(S){[].forEach.call(s.querySelectorAll(S),function(f){(f.namespaceURI===l.SVG_NS?l.box:l.box.parentNode).appendChild(f),f.style.pointerEvents="auto"})})},V.prototype.applyFixed=function(){var s=!this.fixedDiv,l=this.options.chart,g=l.scrollablePlotArea,v=W.getRendererType();s?(this.fixedDiv=P("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(l.style&&l.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=l=new v(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=l.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":E(g.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I(this,"afterShowResetZoom",this.moveFixedElements),I(this,"afterDrilldown",this.moveFixedElements),I(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||s)&&(this.scrollableDirty=!1,this.moveFixedElements()),l=this.chartWidth+(this.scrollablePixelsX||0),v=this.chartHeight+(this.scrollablePixelsY||0),z(this.container),this.container.style.width=l+"px",this.container.style.height=v+"px",this.renderer.boxWrapper.attr({width:l,height:v,viewBox:[0,0,l,v].join(" ")}),this.chartBackground.attr({width:l,height:v}),this.scrollingContainer.style.height=this.chartHeight+"px",s&&(g.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*g.scrollPositionX),g.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*g.scrollPositionY)),s=this.plotTop-(v=this.axisOffset)[0]-1,g=this.plotLeft-v[3]-1,l=this.plotTop+this.plotHeight+v[2]+1,v=this.plotLeft+this.plotWidth+v[1]+1;var S=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),f=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);s=this.scrollablePixelsX?[["M",0,s],["L",this.plotLeft-1,s],["L",this.plotLeft-1,l],["L",0,l],["Z"],["M",S,s],["L",this.chartWidth,s],["L",this.chartWidth,l],["L",S,l],["Z"]]:this.scrollablePixelsY?[["M",g,0],["L",g,this.plotTop-1],["L",v,this.plotTop-1],["L",v,0],["Z"],["M",g,f],["L",g,this.chartHeight],["L",v,this.chartHeight],["L",v,f],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:s})},I(K,"afterInit",function(){this.chart.scrollableDirty=!0}),I(Q,"show",function(){this.chart.scrollableDirty=!0})}),lt(F,"Core/Axis/StackingAxis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Utilities.js"]],function(H,K,V){var w,Q=H.getDeferredAnimation,W=V.addEvent,Y=V.destroyObjectProperties,z=V.fireEvent,I=V.isNumber,P=V.objectEach;return function(E){function s(){var S=this.stacking;if(S){var f=S.stacks;P(f,function(C,x){Y(C),f[x]=null}),S&&S.stackTotalGroup&&S.stackTotalGroup.destroy()}}function l(){this.stacking||(this.stacking=new v(this))}var g=[];E.compose=function(S){return-1===g.indexOf(S)&&(g.push(S),W(S,"init",l),W(S,"destroy",s)),S};var v=function(){function S(f){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=f}return S.prototype.buildStacks=function(){var p,f=this.axis,C=f.series,x=f.options.reversedStacks,M=C.length;if(!f.isXAxis){for(this.usePercentage=!1,p=M;p--;){var a=C[x?p:M-p-1];a.setStackedPoints(),a.setGroupedPoints()}for(p=0;p<M;p++)C[p].modifyStacks();z(f,"afterBuildStacks")}},S.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var f=this.stacks=this.oldStacks;P(f,function(C){P(C,function(x){x.cumulative=x.total})})}},S.prototype.resetStacks=function(){var f=this;f.axis.isXAxis||P(f.stacks,function(x){P(x,function(M,p){I(M.touched)&&M.touched<f.stacksTouched?(M.destroy(),delete x[p]):(M.total=null,M.cumulative=null)})})},S.prototype.renderStackTotals=function(){var f=this.axis,C=f.chart,x=C.renderer,M=this.stacks;f=Q(C,f.options.stackLabels&&f.options.stackLabels.animation||!1);var p=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();p.translate(C.plotLeft,C.plotTop),P(M,function(a){P(a,function(h){h.render(p)})}),p.animate({opacity:1},f)},S}();E.Additions=v}(w||(w={})),w}),lt(F,"Extensions/Stacking.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Axis/StackingAxis.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var I=V.format,P=z.correctFloat,w=z.defined,E=z.destroyObjectProperties,s=z.isArray,l=z.isNumber,g=z.objectEach,v=z.pick,S=function(){function f(C,x,M,p,a){var h=C.chart.inverted;this.axis=C,this.isNegative=M,this.options=x=x||{},this.x=p,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:x.align||(h?M?"left":"right":"center"),verticalAlign:x.verticalAlign||(h?"middle":M?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(h?M?"right":"left":"center")}return f.prototype.destroy=function(){E(this,this.axis)},f.prototype.render=function(C){var x=this.axis.chart,M=this.options,p=M.format;p=p?I(p,this,x):M.formatter.call(this),this.label?this.label.attr({text:p,visibility:"hidden"}):(this.label=x.renderer.label(p,null,null,M.shape,null,null,M.useHTML,!1,"stack-labels"),p={r:M.borderRadius||0,text:p,rotation:M.rotation,padding:v(M.padding,5),visibility:"hidden"},x.styledMode||(p.fill=M.backgroundColor,p.stroke=M.borderColor,p["stroke-width"]=M.borderWidth,this.label.css(M.style)),this.label.attr(p),this.label.added||this.label.add(C)),this.label.labelrank=x.plotSizeY},f.prototype.setOffset=function(C,x,M,p,a){var h=this.axis,n=h.chart;p=h.translate(h.stacking.usePercentage?100:p||this.total,0,0,0,1),M=h.translate(M||0),M=w(p)&&Math.abs(p-M),C=v(a,n.xAxis[0].translate(this.x))+C,h=w(p)&&this.getStackBox(n,this,C,p,x,M,h),x=this.label,M=this.isNegative,C="justify"===v(this.options.overflow,"justify");var d=this.textAlign;x&&h&&(a=x.getBBox(),p=x.padding,d="left"===d?n.inverted?-p:p:"right"===d?a.width:n.inverted&&"center"===d?a.width/2:n.inverted?M?a.width+p:-p:a.width/2,M=n.inverted?a.height/2:M?-p:a.height,this.alignOptions.x=v(this.options.x,0),this.alignOptions.y=v(this.options.y,0),h.x-=d,h.y-=M,x.align(this.alignOptions,null,h),n.isInsidePlot(x.alignAttr.x+d-this.alignOptions.x,x.alignAttr.y+M-this.alignOptions.y)?x.show():(x.alignAttr.y=-9999,C=!1),C&&W.prototype.justifyDataLabel.call(this.axis,x,this.alignOptions,x.alignAttr,a,h),x.attr({x:x.alignAttr.x,y:x.alignAttr.y}),v(!C&&this.options.crop,!0)&&((n=l(x.x)&&l(x.y)&&n.isInsidePlot(x.x-p+x.width,x.y)&&n.isInsidePlot(x.x+p,x.y))||x.hide()))},f.prototype.getStackBox=function(C,x,M,p,a,h,n){var d=x.axis.reversed,o=C.inverted,r=n.height+n.pos-(o?C.plotLeft:C.plotTop);return x=x.isNegative&&!d||!x.isNegative&&d,{x:o?x?p-n.right:p-h+n.pos-C.plotLeft:M+C.xAxis[0].transB-C.plotLeft,y:o?n.height-M-a:x?r-p-h:r-p,width:o?h:a,height:o?a:h}},f}();return K.prototype.getStacks=function(){var f=this,C=f.inverted;f.yAxis.forEach(function(x){x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),f.series.forEach(function(x){var M=x.xAxis&&x.xAxis.options||{};!x.options.stacking||!0!==x.visible&&!1!==f.options.chart.ignoreHiddenSeries||(x.stackKey=[x.type,v(x.options.stack,""),C?M.top:M.left,C?M.height:M.width].join())})},Y.compose(H),W.prototype.setGroupedPoints=function(){var f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?W.prototype.setStackedPoints.call(this,"group"):f&&g(f.stacks,function(C,x){"group"===x.slice(-5)&&(g(C,function(M){return M.destroy()}),delete f.stacks[x])})},W.prototype.setStackedPoints=function(f){var C=f||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x=this.processedXData,M=this.processedYData,p=[],a=M.length,h=this.options,n=h.threshold,d=v(h.startFromThreshold&&n,0);h=h.stack;var O,k,o="-"+(f=f?this.type+","+C:this.stackKey),r=this.negStacks,u=this.yAxis,c=u.stacking.stacks,b=u.stacking.oldStacks;for(u.stacking.stacksTouched+=1,k=0;k<a;k++){var _=x[k],A=M[k],B=this.getStackIndicator(B,_,this.index),m=B.key,T=(O=r&&A<(d?0:n))?o:f;c[T]||(c[T]={}),c[T][_]||(b[T]&&b[T][_]?(c[T][_]=b[T][_],c[T][_].total=null):c[T][_]=new S(u,u.options.stackLabels,O,_,h)),T=c[T][_],null!==A?(T.points[m]=T.points[this.index]=[v(T.cumulative,d)],w(T.cumulative)||(T.base=m),T.touched=u.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(T.points[m][0]=T.points[this.index+","+_+",0"][0])):T.points[m]=T.points[this.index]=null,"percent"===C?(O=O?f:o,T.total=r&&c[O]&&c[O][_]?(O=c[O][_]).total=Math.max(O.total,T.total)+Math.abs(A)||0:P(T.total+(Math.abs(A)||0))):"group"===C?(s(A)&&(A=A[0]),null!==A&&(T.total=(T.total||0)+1)):T.total=P(T.total+(A||0)),T.cumulative="group"===C?(T.total||1)-1:v(T.cumulative,d)+(A||0),null!==A&&(T.points[m].push(T.cumulative),p[k]=T.cumulative,T.hasValidPoints=!0)}"percent"===C&&(u.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=p),u.stacking.oldStacks={}}},W.prototype.modifyStacks=function(){var p,f=this,C=f.stackKey,x=f.yAxis.stacking.stacks,M=f.processedXData,a=f.options.stacking;f[a+"Stacker"]&&[C,"-"+C].forEach(function(h){for(var d,o,n=M.length;n--;)p=f.getStackIndicator(p,d=M[n],f.index,h),(o=(d=x[h]&&x[h][d])&&d.points[p.key])&&f[a+"Stacker"](o,d,n)})},W.prototype.percentStacker=function(f,C,x){f[0]=P(f[0]*(C=C.total?100/C.total:0)),f[1]=P(f[1]*C),this.stackedYData[x]=f[1]},W.prototype.getStackIndicator=function(f,C,x,M){return!w(f)||f.x!==C||M&&f.key!==M?f={x:C,index:0,key:M}:f.index++,f.key=[x,C,f.index].join(),f},Q.StackItem=S,Q.StackItem}),lt(F,"Series/Line/LineSeries.js",[F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.defined,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.prototype.drawGraph=function(){var P=this,w=this.options,E=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode,l=[["graph","highcharts-graph"]];s||l[0].push(w.lineColor||this.color||"#cccccc",w.dashStyle),(l=P.getZonesGraphs(l)).forEach(function(g,v){var S=g[0],f=P[S],C=f?"animate":"attr";f?(f.endX=P.preventGraphAnimation?null:E.xMap,f.animate({d:E})):E.length&&(P[S]=f=P.chart.renderer.path(E).addClass(g[1]).attr({zIndex:1}).add(P.group)),f&&!s&&(S={stroke:g[2],"stroke-width":w.lineWidth,fill:P.fillGraph&&P.color||"none"},g[3]?S.dashstyle=g[3]:"square"!==w.linecap&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),f[C](S).shadow(2>v&&w.shadow)),f&&(f.startX=E.xMap,f.isArea=E.isArea)})},I.prototype.getGraphPath=function(P,w,E){var S,s=this,l=s.options,g=[],v=[],f=l.step,C=(P=P||s.points).reversed;return C&&P.reverse(),(f={right:1,center:2}[f]||f&&3)&&C&&(f=4-f),(P=this.getValidPoints(P,!1,!(l.connectNulls&&!w&&!E))).forEach(function(x,M){var p=x.plotX,a=x.plotY,h=P[M-1];(x.leftCliff||h&&h.rightCliff)&&!E&&(S=!0),x.isNull&&!W(w)&&0<M?S=!l.connectNulls:x.isNull&&!w?S=!0:(0===M||S?M=[["M",x.plotX,x.plotY]]:s.getPointSpline?M=[s.getPointSpline(P,x,M)]:f?(M=1===f?[["L",h.plotX,a]]:2===f?[["L",(h.plotX+p)/2,h.plotY],["L",(h.plotX+p)/2,a]]:[["L",p,h.plotY]]).push(["L",p,a]):M=[["L",p,a]],v.push(x.x),f&&(v.push(x.x),2===f&&v.push(x.x)),g.push.apply(g,M),S=!1)}),g.xMap=v,s.graphPath=g},I.prototype.getZonesGraphs=function(P){return this.zones.forEach(function(w,E){E=["zone-graph-"+E,"highcharts-graph highcharts-zone-graph-"+E+" "+(w.className||"")],this.chart.styledMode||E.push(w.color||this.color,w.dashStyle||this.options.dashStyle),P.push(E)},this),P},I.defaultOptions=Y(H.defaultOptions,{}),I}(H),K.registerSeriesType("line",V),V}),lt(F,"Series/Area/AreaSeries.js",[F["Core/Color/Color.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var E,W=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),Y=H.parse,z=V.seriesTypes.line;H=Q.extend;var I=Q.merge,P=Q.objectEach,w=Q.pick;return Q=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return W(s,E),s.prototype.drawGraph=function(){this.areaPath=[],E.prototype.drawGraph.apply(this);var l=this,g=this.areaPath,v=this.options,S=[["area","highcharts-area",this.color,v.fillColor]];this.zones.forEach(function(f,C){S.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+f.className,f.color||l.color,f.fillColor||v.fillColor])}),S.forEach(function(f){var C=f[0],x=l[C],M=x?"animate":"attr",p={};x?(x.endX=l.preventGraphAnimation?null:g.xMap,x.animate({d:g})):(p.zIndex=0,(x=l[C]=l.chart.renderer.path(g).addClass(f[1]).add(l.group)).isArea=!0),l.chart.styledMode||(p.fill=w(f[3],Y(f[2]).setOpacity(w(v.fillOpacity,.75)).get())),x[M](p),x.startX=g.xMap,x.shiftUnit=v.step?2:1})},s.prototype.getGraphPath=function(l){var C,g=z.prototype.getGraphPath,v=this.options,S=v.stacking,f=this.yAxis,x=[],M=[],p=this.index,a=f.stacking.stacks[this.stackKey],h=v.threshold,n=Math.round(f.getThreshold(v.threshold));v=w(v.connectNulls,"percent"===S);var d=function(c,b,O){var k=l[c];c=S&&a[k.x].points[p];var _=k[O+"Null"]||0;if(O=k[O+"Cliff"]||0,k=!0,O||_){var A=(_?c[0]:c[1])+O,B=c[0]+O;k=!!_}else!S&&l[b]&&l[b].isNull&&(A=B=h);void 0!==A&&(M.push({plotX:r,plotY:null===A?n:f.getThreshold(A),isNull:k,isCliff:!0}),x.push({plotX:r,plotY:null===B?n:f.getThreshold(B),doCurve:!1}))};for(l=l||this.points,S&&(l=this.getStackPoints(l)),C=0;C<l.length;C++){S||(l[C].leftCliff=l[C].rightCliff=l[C].leftNull=l[C].rightNull=void 0);var o=l[C].isNull,r=w(l[C].rectPlotX,l[C].plotX),u=S?w(l[C].yBottom,n):n;(!o||v)&&(v||d(C,C-1,"left"),o&&!S&&v||(M.push(l[C]),x.push({x:C,plotX:r,plotY:u})),v||d(C,C+1,"right"))}return C=g.call(this,M,!0,!0),x.reversed=!0,(u=(o=g.call(this,x,!0,!0))[0])&&"M"===u[0]&&(o[0]=["L",u[1],u[2]]),(o=C.concat(o)).length&&o.push(["Z"]),g=g.call(this,M,!1,v),o.xMap=C.xMap,this.areaPath=o,g},s.prototype.getStackPoints=function(l){var g=this,v=[],S=[],f=this.xAxis,C=this.yAxis,x=C.stacking.stacks[this.stackKey],M={},p=C.series,a=p.length,h=C.options.reversedStacks?1:-1,n=p.indexOf(g);if(l=l||this.points,this.options.stacking){for(var d=0;d<l.length;d++)l[d].leftNull=l[d].rightNull=void 0,M[l[d].x]=l[d];P(x,function(r,u){null!==r.total&&S.push(u)}),S.sort(function(r,u){return r-u});var o=p.map(function(r){return r.visible});S.forEach(function(r,u){var b,O,c=0;if(M[r]&&!M[r].isNull)v.push(M[r]),[-1,1].forEach(function(_){var A=1===_?"rightNull":"leftNull",B=0,m=x[S[u+_]];if(m)for(var T=n;0<=T&&T<a;){var R=p[T].index;(b=m.points[R])||(R===g.index?M[r][A]=!0:o[T]&&(O=x[r].points[R])&&(B-=O[1]-O[0])),T+=h}M[r][1===_?"rightCliff":"leftCliff"]=B});else{for(var k=n;0<=k&&k<a;){if(b=x[r].points[p[k].index]){c=b[1];break}k+=h}c=w(c,0),c=C.translate(c,0,1,0,1),v.push({isNull:!0,plotX:f.translate(r,0,0,0,1),x:r,plotY:c,yBottom:c})}})}return v},s.defaultOptions=I(z.defaultOptions,{threshold:0}),s}(z),H(Q.prototype,{singleStacks:!1,drawLegendSymbol:K.drawRectangle}),V.registerSeriesType("area",Q),Q}),lt(F,"Series/Spline/SplineSeries.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var z,V=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),Q=H.seriesTypes.line,W=K.merge,Y=K.pick;return K=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return V(I,z),I.prototype.getPointSpline=function(P,w,E){var s=w.plotX||0,l=w.plotY||0,g=P[E-1];if(E=P[E+1],g&&!g.isNull&&!1!==g.doCurve&&!w.isCliff&&E&&!E.isNull&&!1!==E.doCurve&&!w.isCliff){var v=E.plotX||0,S=0,f=(1.5*s+(g.plotX||0))/2.5,C=(1.5*l+(P=g.plotY||0))/2.5,x=(1.5*l+(E=E.plotY||0))/2.5;(v=(1.5*s+v)/2.5)!==f&&(S=(x-C)*(v-s)/(v-f)+l-x),x+=S,(C+=S)>P&&C>l?x=2*l-(C=Math.max(P,l)):C<P&&C<l&&(x=2*l-(C=Math.min(P,l))),x>E&&x>l?C=2*l-(x=Math.max(E,l)):x<E&&x<l&&(C=2*l-(x=Math.min(E,l))),w.rightContX=v,w.rightContY=x}return w=["C",Y(g.rightContX,g.plotX,0),Y(g.rightContY,g.plotY,0),Y(f,s,0),Y(C,l,0),s,l],g.rightContX=g.rightContY=void 0,w},I.defaultOptions=W(Q.defaultOptions),I}(Q),H.registerSeriesType("spline",K),K}),lt(F,"Series/AreaSpline/AreaSplineSeries.js",[F["Series/Area/AreaSeries.js"],F["Series/Spline/SplineSeries.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var w,Y=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),z=H.prototype,I=W.extend,P=W.merge;return W=function(w){function E(){var s=null!==w&&w.apply(this,arguments)||this;return s.data=void 0,s.points=void 0,s.options=void 0,s}return Y(E,w),E.defaultOptions=P(K.defaultOptions,H.defaultOptions),E}(K),I(W.prototype,{getGraphPath:z.getGraphPath,getStackPoints:z.getStackPoints,drawGraph:z.drawGraph,drawLegendSymbol:V.drawRectangle}),Q.registerSeriesType("areaspline",W),W}),lt(F,"Series/Column/ColumnSeries.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var a,I=this&&this.__extends||(a=function(h,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])})(h,n)},function(h,n){function d(){this.constructor=h}a(h,n),h.prototype=null===n?Object.create(n):(d.prototype=n.prototype,new d)}),P=H.animObject,w=K.parse,E=V.hasTouch;H=V.noop;var s=z.clamp,l=z.css,g=z.defined,v=z.extend,S=z.fireEvent,f=z.isArray,C=z.isNumber,x=z.merge,M=z.pick,p=z.objectEach;return z=function(a){function h(){var n=null!==a&&a.apply(this,arguments)||this;return n.borderWidth=void 0,n.data=void 0,n.group=void 0,n.options=void 0,n.points=void 0,n}return I(h,a),h.prototype.animate=function(n){var d=this,o=this.yAxis,r=d.options,u=this.chart.inverted,c={},b=u?"translateX":"translateY";if(n)c.scaleY=.001,n=s(o.toPixels(r.threshold),o.pos,o.pos+o.len),u?c.translateX=n-o.len:c.translateY=n,d.clipBox&&d.setClip(),d.group.attr(c);else{var O=Number(d.group.attr(b));d.group.animate({scaleY:1},v(P(d.options.animation),{step:function(k,_){d.group&&(c[b]=O+_.pos*(o.pos-O),d.group.attr(c))}}))}},h.prototype.init=function(n,d){a.prototype.init.apply(this,arguments);var o=this;(n=o.chart).hasRendered&&n.series.forEach(function(r){r.type===o.type&&(r.isDirty=!0)})},h.prototype.getColumnMetrics=function(){var n=this,d=n.options,o=n.xAxis,r=n.yAxis,u=o.options.reversedStacks;u=o.reversed&&!u||!o.reversed&&u;var b,c={},O=0;!1===d.grouping?O=1:n.chart.series.forEach(function(B){var m=B.yAxis,T=B.options;if(B.type===n.type&&(B.visible||!n.chart.options.chart.ignoreHiddenSeries)&&r.len===m.len&&r.pos===m.pos){if(T.stacking&&"group"!==T.stacking){void 0===c[b=B.stackKey]&&(c[b]=O++);var R=c[b]}else!1!==T.grouping&&(R=O++);B.columnIndex=R}});var k=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||d.pointRange||o.closestPointRange||o.tickInterval||1),o.len),_=k*d.groupPadding,A=(k-2*_)/(O||1);return d=Math.min(d.maxPointWidth||o.len,M(d.pointWidth,A*(1-2*d.pointPadding))),n.columnMetrics={width:d,offset:(A-d)/2+(_+((n.columnIndex||0)+(u?1:0))*A-k/2)*(u?-1:1),paddedWidth:A,columnCount:O},n.columnMetrics},h.prototype.crispCol=function(n,d,o,r){var u=this.chart,c=this.borderWidth,b=-(c%2?.5:0);return c=c%2?.5:1,u.inverted&&u.renderer.isVML&&(c+=1),this.options.crisp&&(o=Math.round(n+o)+b,o-=n=Math.round(n)+b),r=Math.round(d+r)+c,b=.5>=Math.abs(d)&&.5<r,r-=d=Math.round(d)+c,b&&r&&(--d,r+=1),{x:n,y:d,width:o,height:r}},h.prototype.adjustForMissingColumns=function(n,d,o,r){var u=this,c=this.options.stacking;if(!o.isNull&&1<r.columnCount){var b=0,O=0;p(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(k){if("number"==typeof o.x&&(k=k[o.x.toString()])){var _=k.points[u.index],A=k.total;c?(_&&(b=O),k.hasValidPoints&&O++):f(_)&&(b=_[1],O=A||0)}}),n=(o.plotX||0)+((O-1)*r.paddedWidth+d)/2-d-b*r.paddedWidth}return n},h.prototype.translate=function(){var n=this,d=n.chart,o=n.options,r=n.dense=2>n.closestPointRange*n.xAxis.transA;r=n.borderWidth=M(o.borderWidth,r?0:1);var u=n.xAxis,c=n.yAxis,b=o.threshold,O=n.translatedThreshold=c.getThreshold(b),k=M(o.minPointLength,5),_=n.getColumnMetrics(),A=_.width,B=n.pointXOffset=_.offset,m=n.dataMin,T=n.dataMax,R=n.barW=Math.max(A,1+2*r);d.inverted&&(O-=.5),o.pointPadding&&(R=Math.ceil(R)),W.prototype.translate.apply(n),n.points.forEach(function(j){var X=M(j.yBottom,O),$=999+Math.abs(X),D=j.plotX||0;$=s(j.plotY,-$,c.len+$);var U=Math.min($,X),N=Math.max($,X)-U,Z=A,q=D+B,nt=R;k&&Math.abs(N)<k&&(N=k,D=!c.reversed&&!j.negative||c.reversed&&j.negative,C(b)&&C(T)&&j.y===b&&T<=b&&(c.min||0)<b&&(m!==T||(c.max||0)<=b)&&(D=!D),U=Math.abs(U-O)>k?X-k:O-(D?k:0)),g(j.options.pointWidth)&&(Z=nt=Math.ceil(j.options.pointWidth),q-=Math.round((Z-A)/2)),o.centerInCategory&&(q=n.adjustForMissingColumns(q,Z,j,_)),j.barX=q,j.pointWidth=Z,j.tooltipPos=d.inverted?[s(c.len+c.pos-d.plotLeft-$,c.pos-d.plotLeft,c.len+c.pos-d.plotLeft),u.len+u.pos-d.plotTop-q-nt/2,N]:[u.left-d.plotLeft+q+nt/2,s($+c.pos-d.plotTop,c.pos-d.plotTop,c.len+c.pos-d.plotTop),N],j.shapeType=n.pointClass.prototype.shapeType||"rect",j.shapeArgs=n.crispCol.apply(n,j.isNull?[q,O,nt,0]:[q,U,nt,N])})},h.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},h.prototype.pointAttribs=function(n,d){var o=this.options,r=this.pointAttrToOptions||{},u=r.stroke||"borderColor",c=r["stroke-width"]||"borderWidth",b=n&&n.color||this.color,O=n&&n[u]||o[u]||b;r=n&&n.options.dashStyle||o.dashStyle;var k=n&&n[c]||o[c]||this[c]||0,_=M(n&&n.opacity,o.opacity,1);if(n&&this.zones.length){var A=n.getZone();b=n.options.color||A&&(A.color||n.nonZonedColor)||this.color,A&&(O=A.borderColor||O,r=A.dashStyle||r,k=A.borderWidth||k)}return d&&n&&(d=(n=x(o.states[d],n.options.states&&n.options.states[d]||{})).brightness,b=n.color||void 0!==d&&w(b).brighten(n.brightness).get()||b,O=n[u]||O,k=n[c]||k,r=n.dashStyle||r,_=M(n.opacity,_)),u={fill:b,stroke:O,"stroke-width":k,opacity:_},r&&(u.dashstyle=r),u},h.prototype.drawPoints=function(){var c,n=this,d=this.chart,o=n.options,r=d.renderer,u=o.animationLimit||250;n.points.forEach(function(b){var O=b.graphic,k=!!O,_=O&&d.pointCount<u?"animate":"attr";C(b.plotY)&&null!==b.y?(c=b.shapeArgs,O&&b.hasNewShapeType()&&(O=O.destroy()),n.enabledDataSorting&&(b.startXPos=n.xAxis.reversed?-(c&&c.width||0):n.xAxis.width),O||(b.graphic=O=r[b.shapeType](c).add(b.group||n.group))&&n.enabledDataSorting&&d.hasRendered&&d.pointCount<u&&(O.attr({x:b.startXPos}),k=!0,_="animate"),O&&k&&O[_](x(c)),o.borderRadius&&O[_]({r:o.borderRadius}),d.styledMode||O[_](n.pointAttribs(b,b.selected&&"select")).shadow(!1!==b.allowShadow&&o.shadow,null,o.stacking&&!o.borderRadius),O&&(O.addClass(b.getClassName(),!0),O.attr({visibility:b.visible?"inherit":"hidden"}))):O&&(b.graphic=O.destroy())})},h.prototype.drawTracker=function(){var u,n=this,d=n.chart,o=d.pointer,r=function(c){var b=o.getPointFromEvent(c);void 0!==b&&(o.isDirectTouch=!0,b.onMouseOver(c))};n.points.forEach(function(c){u=f(c.dataLabels)?c.dataLabels:c.dataLabel?[c.dataLabel]:[],c.graphic&&(c.graphic.element.point=c),u.forEach(function(b){b.div?b.div.point=c:b.element.point=c})}),n._hasTracking||(n.trackerGroups.forEach(function(c){n[c]&&(n[c].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(b){o.onTrackerMouseOut(b)}),E&&n[c].on("touchstart",r),!d.styledMode&&n.options.cursor&&n[c].css(l).css({cursor:n.options.cursor}))}),n._hasTracking=!0),S(this,"afterDrawTracker")},h.prototype.remove=function(){var n=this,d=n.chart;d.hasRendered&&d.series.forEach(function(o){o.type===n.type&&(o.isDirty=!0)}),W.prototype.remove.apply(n,arguments)},h.defaultOptions=x(W.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),h}(W),v(z.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:Q.drawRectangle,getSymbol:H,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Y.registerSeriesType("column",z),z}),lt(F,"Core/Series/DataLabel.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=H.getDeferredAnimation,W=K.format,Y=V.defined,z=V.extend,I=V.fireEvent,P=V.isArray,w=V.merge,E=V.objectEach,s=V.pick,l=V.splat;return function(v){function S(h,n,d,o,r){var u=this,c=this.chart,b=this.isCartesian&&c.inverted,O=this.enabledDataSorting,k=s(h.dlBox&&h.dlBox.centerX,h.plotX,-9999),_=s(h.plotY,-9999),A=n.getBBox(),B=d.rotation,m=d.align,T=c.isInsidePlot(k,Math.round(_),{inverted:b,paneCoordinates:!0,series:u}),R=function(D){O&&u.xAxis&&!j&&u.setDataLabelStartPos(h,n,r,T,D)},j="justify"===s(d.overflow,O?"none":"justify"),X=this.visible&&!1!==h.visible&&(h.series.forceDL||O&&!j||T||s(d.inside,!!this.options.stacking)&&o&&c.isInsidePlot(k,b?o.x+1:o.y+o.height-1,{inverted:b,paneCoordinates:!0,series:u}));if(X){var $=c.renderer.fontMetrics(c.styledMode?void 0:d.style.fontSize,n).b;o=z({x:b?this.yAxis.len-_:k,y:Math.round(b?this.xAxis.len-k:_),width:0,height:0},o),z(d,{width:A.width,height:A.height}),B?(j=!1,k=c.renderer.rotCorr($,B),R(k={x:o.x+(d.x||0)+o.width/2+k.x,y:o.y+(d.y||0)+{top:0,middle:.5,bottom:1}[d.verticalAlign]*o.height}),n[r?"attr":"animate"](k).attr({align:m}),R=180<(R=(B+720)%360)&&360>R,"left"===m?k.y-=R?A.height:0:"center"===m?(k.x-=A.width/2,k.y-=A.height/2):"right"===m&&(k.x-=A.width,k.y-=R?0:A.height),n.placed=!0,n.alignAttr=k):(R(o),n.align(d,void 0,o),k=n.alignAttr),j&&0<=o.height?this.justifyDataLabel(n,d,k,A,o,r):s(d.crop,!0)&&(X=c.isInsidePlot(k.x,k.y,{paneCoordinates:!0,series:u})&&c.isInsidePlot(k.x+A.width,k.y+A.height,{paneCoordinates:!0,series:u})),d.shape&&!B&&n[r?"attr":"animate"]({anchorX:b?c.plotWidth-h.plotY:h.plotX,anchorY:b?c.plotHeight-h.plotX:h.plotY})}r&&O&&(n.placed=!1),X||O&&!j||(n.hide(!0),n.placed=!1)}function C(){var h=this,n=h.chart,d=h.options,o=h.points,r=h.hasRendered||0,u=n.renderer,c=d.dataLabels,O=c.animation;if(O=c.defer?Q(n,O,h):{defer:0,duration:0},c=M(M(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[h.type]&&n.options.plotOptions[h.type].dataLabels),c),I(this,"drawDataLabels"),P(c)||c.enabled||h._hasPointLabels){var k=h.plotGroup("dataLabelsGroup","data-labels",r?"inherit":"hidden",c.zIndex||6);k.attr({opacity:+r}),!r&&(r=h.dataLabelsGroup)&&(h.visible&&k.show(!0),r[d.animation?"animate":"attr"]({opacity:1},O)),o.forEach(function(_){l(M(c,_.dlOptions||_.options&&_.options.dataLabels)).forEach(function(A,B){var m=A.enabled&&(!_.isNull||_.dataLabelOnNull)&&function f(h,n){var d=n.filter;return!d||(n=d.operator,h=h[d.property],d=d.value,">"===n&&h>d||"<"===n&&h<d||">="===n&&h>=d||"<="===n&&h<=d||"=="===n&&h==d||"==="===n&&h===d)}(_,A),T=_.connectors?_.connectors[B]:_.connector,R=_.dataLabels?_.dataLabels[B]:_.dataLabel,j=s(A.distance,_.labelDistance),X=!R;if(m){var $=_.getLabelConfig(),D=s(A[_.formatPrefix+"Format"],A.format);$=Y(D)?W(D,$,n):(A[_.formatPrefix+"Formatter"]||A.formatter).call($,A),D=A.style;var U=A.rotation;n.styledMode||(D.color=s(A.color,D.color,h.color,"#000000"),"contrast"===D.color?(_.contrastColor=u.getContrast(_.color||h.color),D.color=!Y(j)&&A.inside||0>j||d.stacking?_.contrastColor:"#000000"):delete _.contrastColor,d.cursor&&(D.cursor=d.cursor));var N={r:A.borderRadius||0,rotation:U,padding:A.padding,zIndex:1};n.styledMode||(N.fill=A.backgroundColor,N.stroke=A.borderColor,N["stroke-width"]=A.borderWidth),E(N,function(Z,q){void 0===Z&&delete N[q]})}!R||m&&Y($)&&!!R.div==!!A.useHTML||(_.dataLabel=R=_.dataLabel&&_.dataLabel.destroy(),_.dataLabels&&(1===_.dataLabels.length?delete _.dataLabels:delete _.dataLabels[B]),B||delete _.dataLabel,T&&(_.connector=_.connector.destroy(),_.connectors&&(1===_.connectors.length?delete _.connectors:delete _.connectors[B]))),m&&Y($)&&(R?N.text=$:(_.dataLabels=_.dataLabels||[],R=_.dataLabels[B]=U?u.text($,0,-9999,A.useHTML).addClass("highcharts-data-label"):u.label($,0,-9999,A.shape,null,null,A.useHTML,null,"data-label"),B||(_.dataLabel=R),R.addClass(" highcharts-data-label-color-"+_.colorIndex+" "+(A.className||"")+(A.useHTML?" highcharts-tracker":""))),R.options=A,R.attr(N),n.styledMode||R.css(D).shadow(A.shadow),R.added||R.add(k),A.textPath&&!A.useHTML&&(R.setTextPath(_.getDataLabelPath&&_.getDataLabelPath(R)||_.graphic,A.textPath),_.dataLabelPath&&!A.textPath.enabled&&(_.dataLabelPath=_.dataLabelPath.destroy())),h.alignDataLabel(_,R,A,null,X))})})}I(this,"afterDrawDataLabels")}function x(h,n,d,o,r,u){var c=this.chart,b=n.align,O=n.verticalAlign,k=h.box?0:h.padding||0,_=n.x;_=void 0===_?0:_;var A=n.y;A=void 0===A?0:A;var B=(d.x||0)+k;if(0>B){"right"===b&&0<=_?(n.align="left",n.inside=!0):_-=B;var m=!0}return(B=(d.x||0)+o.width-k)>c.plotWidth&&("left"===b&&0>=_?(n.align="right",n.inside=!0):_+=c.plotWidth-B,m=!0),0>(B=d.y+k)&&("bottom"===O&&0<=A?(n.verticalAlign="top",n.inside=!0):A-=B,m=!0),(B=(d.y||0)+o.height-k)>c.plotHeight&&("top"===O&&0>=A?(n.verticalAlign="bottom",n.inside=!0):A+=c.plotHeight-B,m=!0),m&&(n.x=_,n.y=A,h.placed=!u,h.align(n,void 0,r)),m}function M(h,n){var o,d=[];if(P(h)&&!P(n))d=h.map(function(r){return w(r,n)});else if(P(n)&&!P(h))d=n.map(function(r){return w(h,r)});else if(P(h)||P(n))for(o=Math.max(h.length,n.length);o--;)d[o]=w(h[o],n[o]);else d=w(h,n);return d}function p(h,n,d,o,r){var u=this.chart,c=u.inverted,b=this.xAxis,O=b.reversed,k=c?n.height/2:n.width/2;h=(h=h.pointWidth)?h/2:0,n.startXPos=c?r.x:O?-k-h:b.width-k+h,n.startYPos=c?O?this.yAxis.height-k+h:-k-h:r.y,o?"hidden"===n.visibility&&(n.show(),n.attr({opacity:0}).animate({opacity:1})):n.attr({opacity:1}).animate({opacity:0},void 0,n.hide),u.hasRendered&&(d&&n.attr({x:n.startXPos,y:n.startYPos}),n.placed=!0)}var a=[];v.compose=function(h){if(-1===a.indexOf(h)){var n=h.prototype;a.push(h),n.alignDataLabel=S,n.drawDataLabels=C,n.justifyDataLabel=x,n.setDataLabelStartPos=p}}}(g||(g={})),g}),lt(F,"Series/Column/ColumnDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=K.series,W=V.merge,Y=V.pick;return function(I){function P(E,s,l,g,v){var S=this.chart.inverted,f=E.series,C=(f.xAxis?f.xAxis.len:this.chart.plotSizeX)||0,x=E.dlBox||E.shapeArgs,M=Y(E.below,E.plotY>Y(this.translatedThreshold,f=(f.yAxis?f.yAxis.len:this.chart.plotSizeY)||0)),p=Y(l.inside,!!this.options.stacking);x&&(0>(g=W(x)).y&&(g.height+=g.y,g.y=0),0<(x=g.y+g.height-f)&&x<g.height&&(g.height-=x),S&&(g={x:f-g.y-g.height,y:C-g.x-g.width,width:g.height,height:g.width}),p||(S?(g.x+=M?0:g.width,g.width=0):(g.y+=M?g.height:0,g.height=0))),l.align=Y(l.align,!S||p?"center":M?"right":"left"),l.verticalAlign=Y(l.verticalAlign,S||p?"middle":M?"top":"bottom"),Q.prototype.alignDataLabel.call(this,E,s,l,g,v),l.inside&&E.contrastColor&&s.css({color:E.contrastColor})}var w=[];I.compose=function(E){H.compose(Q),-1===w.indexOf(E)&&(w.push(E),E.prototype.alignDataLabel=P)}}(z||(z={})),z}),lt(F,"Series/Bar/BarSeries.js",[F["Series/Column/ColumnSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.extend,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.defaultOptions=Y(H.defaultOptions,{}),I}(H),W(V.prototype,{inverted:!0}),K.registerSeriesType("bar",V),V}),lt(F,"Series/Scatter/ScatterSeries.js",[F["Series/Column/ColumnSeries.js"],F["Series/Line/LineSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=this&&this.__extends||(P=function(w,E){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])})(w,E)},function(w,E){function s(){this.constructor=w}P(w,E),w.prototype=null===E?Object.create(E):(s.prototype=E.prototype,new s)}),Y=Q.addEvent,z=Q.extend,I=Q.merge;return Q=function(P){function w(){var E=null!==P&&P.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return W(w,P),w.prototype.applyJitter=function(){var E=this,s=this.options.jitter,l=this.points.length;s&&this.points.forEach(function(g,v){["x","y"].forEach(function(S,f){var C="plot"+S.toUpperCase();if(s[S]&&!g.isNull){var x=E[S+"Axis"],M=s[S]*x.transA;if(x&&!x.isLog){var p=Math.max(0,g[C]-M);x=Math.min(x.len,g[C]+M),f=1e4*Math.sin(v+f*l),g[C]=p+(x-p)*(f-Math.floor(f)),"x"===S&&(g.clientX=g.plotX)}}})})},w.prototype.drawGraph=function(){this.options.lineWidth?P.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},w.defaultOptions=I(K.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),w}(K),z(Q.prototype,{drawTracker:H.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),Y(Q,"afterTranslate",function(){this.applyJitter()}),V.registerSeriesType("scatter",Q),Q}),lt(F,"Series/CenteredUtilities.js",[F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V){var I,P,Q=H.deg2rad,W=V.isNumber,Y=V.pick,z=V.relativeLength;return(P=I||(I={})).getCenter=function(){var w=this.options,E=this.chart,s=2*(w.slicedOffset||0),l=E.plotWidth-2*s,g=E.plotHeight-2*s,v=w.center,S=Math.min(l,g),f=w.size,C=w.innerSize||0;for("string"==typeof f&&(f=parseFloat(f)),"string"==typeof C&&(C=parseFloat(C)),w=[Y(v[0],"50%"),Y(v[1],"50%"),Y(f&&0>f?void 0:w.size,"100%"),Y(C&&0>C?void 0:w.innerSize||0,"0%")],!E.angular||this instanceof K||(w[3]=0),v=0;4>v;++v)f=w[v],E=2>v||2===v&&/%$/.test(f),w[v]=z(f,[l,g,S,w[2]][v])+(E?s:0);return w[3]>w[2]&&(w[3]=w[2]),w},P.getStartAndEndRadians=function(w,E){return w=W(w)?w:0,E=W(E)&&E>w&&360>E-w?E:w+360,{start:Q*(w+-90),end:Q*(E+-90)}},I}),lt(F,"Series/Pie/PiePoint.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V){var E,Q=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),W=H.setAnimation,Y=V.addEvent,z=V.defined;H=V.extend;var I=V.isNumber,P=V.pick,w=V.relativeLength;return K=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.labelDistance=void 0,l.options=void 0,l.series=void 0,l}return Q(s,E),s.prototype.getConnectorPath=function(){var l=this.labelPosition,g=this.series.options.dataLabels,v=this.connectorShapes,S=g.connectorShape;return v[S]&&(S=v[S]),S.call(this,{x:l.final.x,y:l.final.y,alignment:l.alignment},l.connectorPosition,g)},s.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},s.prototype.haloPath=function(l){var g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+l,g.r+l,{innerR:g.r-1,start:g.start,end:g.end})},s.prototype.init=function(){var l=this;E.prototype.init.apply(this,arguments),this.name=P(this.name,"Slice");var g=function(v){l.slice("select"===v.type)};return Y(this,"select",g),Y(this,"unselect",g),this},s.prototype.isValid=function(){return I(this.y)&&0<=this.y},s.prototype.setVisible=function(l,g){var v=this,S=this.series,f=S.chart,C=S.options.ignoreHiddenPoint;g=P(g,C),l!==this.visible&&(this.visible=this.options.visible=l=void 0===l?!this.visible:l,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(x){v[x]&&v[x][l?"show":"hide"](l)}),this.legendItem&&f.legend.colorizeItem(this,l),l||"hover"!==this.state||this.setState(""),C&&(S.isDirty=!0),g&&f.redraw())},s.prototype.slice=function(l,g,v){var S=this.series;W(v,S.chart),P(g,!0),this.sliced=this.options.sliced=z(l)?l:!this.sliced,S.options.data[S.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},s}(K),H(K.prototype,{connectorShapes:{fixedOffset:function(E,s,l){var g=s.breakAt;return s=s.touchingSliceAt,[["M",E.x,E.y],l.softConnector?["C",E.x+("left"===E.alignment?-5:5),E.y,2*g.x-s.x,2*g.y-s.y,g.x,g.y]:["L",g.x,g.y],["L",s.x,s.y]]},straight:function(E,s){return[["M",E.x,E.y],["L",(s=s.touchingSliceAt).x,s.y]]},crookedLine:function(E,s,l){s=s.touchingSliceAt;var g=this.series,v=g.center[0],S=g.chart.plotWidth,f=g.chart.plotLeft;g=E.alignment;var C=this.shapeArgs.r;return l=w(l.crookDistance,1),l=["L",S="left"===g?v+C+(S+f-v-C)*(1-l):f+(v-C)*l,E.y],v=!0,("left"===g?S>E.x||S<s.x:S<E.x||S>s.x)&&(v=!1),E=[["M",E.x,E.y]],v&&E.push(l),E.push(["L",s.x,s.y]),E}}}),K}),lt(F,"Series/Pie/PieSeries.js",[F["Series/CenteredUtilities.js"],F["Series/Column/ColumnSeries.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Series/Pie/PiePoint.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var C,w=this&&this.__extends||(C=function(x,M){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var h in a)a.hasOwnProperty(h)&&(p[h]=a[h])})(x,M)},function(x,M){function p(){this.constructor=x}C(x,M),x.prototype=null===M?Object.create(M):(p.prototype=M.prototype,new p)}),E=H.getStartAndEndRadians;V=V.noop;var s=P.clamp,l=P.extend,g=P.fireEvent,v=P.merge,S=P.pick,f=P.relativeLength;return P=function(C){function x(){var M=null!==C&&C.apply(this,arguments)||this;return M.center=void 0,M.data=void 0,M.maxLabelDistance=void 0,M.options=void 0,M.points=void 0,M}return w(x,C),x.prototype.animate=function(M){var p=this,h=p.startAngleRad;M||p.points.forEach(function(n){var d=n.graphic,o=n.shapeArgs;d&&o&&(d.attr({r:S(n.startR,p.center&&p.center[3]/2),start:h,end:h}),d.animate({r:o.r,start:o.start,end:o.end},p.options.animation))})},x.prototype.drawEmpty=function(){var M=this.startAngleRad,p=this.endAngleRad,a=this.options;if(0===this.total&&this.center){var h=this.center[0],n=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(h,n,this.center[1]/2,0,M,p).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:I.arc(h,n,this.center[2]/2,0,{start:M,end:p,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":a.borderWidth,fill:a.fillColor||"none",stroke:a.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},x.prototype.drawPoints=function(){var M=this.chart.renderer;this.points.forEach(function(p){p.graphic&&p.hasNewShapeType()&&(p.graphic=p.graphic.destroy()),p.graphic||(p.graphic=M[p.shapeType](p.shapeArgs).add(p.series.group),p.delayedRendering=!0)})},x.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},x.prototype.getX=function(M,p,a){var h=this.center,n=this.radii?this.radii[a.index]||0:h[2]/2;return M=Math.asin(s((M-h[1])/(n+a.labelDistance),-1,1)),h[0]+(p?-1:1)*Math.cos(M)*(n+a.labelDistance)+(0<a.labelDistance?(p?-1:1)*this.options.dataLabels.padding:0)},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.redrawPoints=function(){var n,d,o,r,M=this,p=M.chart,a=p.renderer,h=M.options.shadow;this.drawEmpty(),!h||M.shadowGroup||p.styledMode||(M.shadowGroup=a.g("shadow").attr({zIndex:-1}).add(M.group)),M.points.forEach(function(u){var c={};if(d=u.graphic,!u.isNull&&d){var b=void 0;r=u.shapeArgs,n=u.getTranslate(),p.styledMode||(b=u.shadowGroup,h&&!b&&(b=u.shadowGroup=a.g("shadow").add(M.shadowGroup)),b&&b.attr(n),o=M.pointAttribs(u,u.selected&&"select")),u.delayedRendering?(d.setRadialReference(M.center).attr(r).attr(n),p.styledMode||d.attr(o).attr({"stroke-linejoin":"round"}).shadow(h,b),u.delayedRendering=!1):(d.setRadialReference(M.center),p.styledMode||v(!0,c,o),v(!0,c,r,n),d.animate(c)),d.attr({visibility:u.visible?"inherit":"hidden"}),d.addClass(u.getClassName(),!0)}else d&&(u.graphic=d.destroy())})},x.prototype.sortByAngle=function(M,p){M.sort(function(a,h){return void 0!==a.angle&&(h.angle-a.angle)*p})},x.prototype.translate=function(M){this.generatePoints();var p=this.options,a=p.slicedOffset,h=a+(p.borderWidth||0),n=E(p.startAngle,p.endAngle),d=this.startAngleRad=n.start;n=(this.endAngleRad=n.end)-d;var o=this.points,r=p.dataLabels.distance;p=p.ignoreHiddenPoint;var c,u=o.length,b=0;for(M||(this.center=M=this.getCenter()),c=0;c<u;c++){var O=o[c],k=d+b*n;!O.isValid()||p&&!O.visible||(b+=O.percentage/100);var _=d+b*n,A={x:M[0],y:M[1],r:M[2]/2,innerR:M[3]/2,start:Math.round(1e3*k)/1e3,end:Math.round(1e3*_)/1e3};O.shapeType="arc",O.shapeArgs=A,O.labelDistance=S(O.options.dataLabels&&O.options.dataLabels.distance,r),O.labelDistance=f(O.labelDistance,A.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,O.labelDistance),(_=(_+k)/2)>1.5*Math.PI?_-=2*Math.PI:_<-Math.PI/2&&(_+=2*Math.PI),O.slicedTranslation={translateX:Math.round(Math.cos(_)*a),translateY:Math.round(Math.sin(_)*a)},A=Math.cos(_)*M[2]/2;var B=Math.sin(_)*M[2]/2;O.tooltipPos=[M[0]+.7*A,M[1]+.7*B],O.half=_<-Math.PI/2||_>Math.PI/2?1:0,O.angle=_,k=Math.min(h,O.labelDistance/5),O.labelPosition={natural:{x:M[0]+A+Math.cos(_)*O.labelDistance,y:M[1]+B+Math.sin(_)*O.labelDistance},final:{},alignment:0>O.labelDistance?"center":O.half?"right":"left",connectorPosition:{breakAt:{x:M[0]+A+Math.cos(_)*k,y:M[1]+B+Math.sin(_)*k},touchingSliceAt:{x:M[0]+A,y:M[1]+B}}}}g(this,"afterTranslate")},x.prototype.updateTotals=function(){var h,M=this.points,p=M.length,a=this.options.ignoreHiddenPoint,n=0;for(h=0;h<p;h++){var d=M[h];!d.isValid()||a&&!d.visible||(n+=d.y)}for(this.total=n,h=0;h<p;h++)(d=M[h]).percentage=0<n&&(d.visible||!a)?d.y/n*100:0,d.total=n},x.defaultOptions=v(Y.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),x}(Y),l(P.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:Q.drawRectangle,drawTracker:K.prototype.drawTracker,getCenter:H.getCenter,getSymbol:V,isCartesian:!1,noSharedTooltip:!0,pointAttribs:K.prototype.pointAttribs,pointClass:W,requireSorting:!1,searchPoint:V,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("pie",P),P}),lt(F,"Series/Pie/PieDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var v,Y=K.noop,z=V.distribute,I=Q.series,P=W.arrayMax,w=W.clamp,E=W.defined,s=W.merge,l=W.pick,g=W.relativeLength;return function(S){function f(){var T,R,j,X,$,D,U,N,Z,q,nt,it,a=this,h=a.data,n=a.chart,d=a.options.dataLabels||{},o=d.connectorPadding,r=n.plotWidth,u=n.plotHeight,c=n.plotLeft,b=Math.round(n.chartWidth/3),O=a.center,k=O[2]/2,_=O[1],A=[[],[]],B=[0,0,0,0],m=a.dataLabelPositioners;a.visible&&(d.enabled||a._hasPointLabels)&&(h.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),I.prototype.drawDataLabels.apply(a),h.forEach(function(ot){ot.dataLabel&&(ot.visible?(A[ot.half].push(ot),ot.dataLabel._pos=null,!E(d.style.width)&&!E(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>b&&(ot.dataLabel.css({width:Math.round(.7*b)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),A.forEach(function(ot,at){var vt,mt=ot.length,yt=[];if(mt){if(a.sortByAngle(ot,at-.5),0<a.maxLabelDistance){var pt=Math.max(0,_-k-a.maxLabelDistance),ct=Math.min(_+k+a.maxLabelDistance,n.plotHeight);ot.forEach(function(J){0<J.labelDistance&&J.dataLabel&&(J.top=Math.max(0,_-k-J.labelDistance),J.bottom=Math.min(_+k+J.labelDistance,n.plotHeight),vt=J.dataLabel.getBBox().height||21,J.distributeBox={target:J.labelPosition.natural.y-J.top+vt/2,size:vt,rank:J.y},yt.push(J.distributeBox))}),z(yt,pt=ct+vt-pt,pt/5)}for(nt=0;nt<mt;nt++){if(X=(T=ot[nt]).dataLabel,q=!1===T.visible?"hidden":"inherit",Z=pt=(D=T.labelPosition).natural.y,yt&&E(T.distributeBox)&&(void 0===T.distributeBox.pos?q="hidden":(U=T.distributeBox.size,Z=m.radialDistributionY(T))),delete T.positionIndex,d.justify)N=m.justify(T,k,O);else switch(d.alignTo){case"connectors":N=m.alignToConnectors(ot,at,r,c);break;case"plotEdges":N=m.alignToPlotEdges(X,at,r,c);break;default:N=m.radialDistributionX(a,T,Z,pt)}X._attr={visibility:q,align:D.alignment},X._pos={x:N+l((it=T.options.dataLabels||{}).x,d.x)+({left:o,right:-o}[D.alignment]||0),y:Z+l(it.y,d.y)-10},D.final.x=N,D.final.y=Z,l(d.crop,!0)&&($=X.getBBox().width,pt=null,N-$<o&&1===at?(pt=Math.round($-N+o),B[3]=Math.max(pt,B[3])):N+$>r-o&&0===at&&(pt=Math.round(N+$-r+o),B[1]=Math.max(pt,B[1])),0>Z-U/2?B[0]=Math.max(Math.round(U/2-Z),B[0]):Z+U/2>u&&(B[2]=Math.max(Math.round(Z+U/2-u),B[2])),X.sideOverflow=pt)}}}),0===P(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=s(d,ot.options.dataLabels),(R=l(it.connectorWidth,1))&&(j=ot.connector,(X=ot.dataLabel)&&X._pos&&ot.visible&&0<ot.labelDistance?(q=X._attr.visibility,(at=!j)&&(ot.connector=j=n.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(a.dataLabelsGroup),n.styledMode||j.attr({"stroke-width":R,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",q)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(a){var n,h=a.dataLabel;h&&a.visible&&((n=h._pos)?(h.sideOverflow&&(h._attr.width=Math.max(h.getBBox().width-h.sideOverflow,0),h.css({width:h._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),h.shortened=!0),h.attr(h._attr),h[h.moved?"animate":"attr"](n),h.moved=!0):h&&h.attr({y:-9999})),delete a.distributeBox},this)}function x(a){var h=this.center,n=this.options,d=n.center,o=n.minSize||80,r=null!==n.size;if(!r){if(null!==d[0])var u=Math.max(h[2]-Math.max(a[1],a[3]),o);else u=Math.max(h[2]-a[1]-a[3],o),h[0]+=(a[3]-a[1])/2;null!==d[1]?u=w(u,o,h[2]-Math.max(a[0],a[2])):(u=w(u,o,h[2]-a[0]-a[2]),h[1]+=(a[0]-a[2])/2),u<h[2]?(h[2]=u,h[3]=Math.min(g(n.innerSize||0,u),u),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):r=!0}return r}var M=[],p={radialDistributionY:function(a){return a.top+a.distributeBox.pos},radialDistributionX:function(a,h,n,d){return a.getX(n<h.top+2||n>h.bottom-2?d:n,h.half,h)},justify:function(a,h,n){return n[0]+(a.half?-1:1)*(h+a.labelDistance)},alignToPlotEdges:function(a,h,n,d){return a=a.getBBox().width,h?a+d:n-a-d},alignToConnectors:function(a,h,n,d){var r,o=0;return a.forEach(function(u){(r=u.dataLabel.getBBox().width)>o&&(o=r)}),h?o+d:n-o-d}};S.compose=function(a){H.compose(I),-1===M.indexOf(a)&&(M.push(a),(a=a.prototype).dataLabelPositioners=p,a.alignDataLabel=Y,a.drawDataLabels=f,a.placeDataLabels=C,a.verifyDataLabelOverflow=x)}}(v||(v={})),v}),lt(F,"Extensions/OverlappingDataLabels.js",[F["Core/Chart/Chart.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E){var s=!1;if(w){var l=w.newOpacity;w.oldOpacity!==l&&(w.alignAttr&&w.placed?(w[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,w.alignAttr.opacity=l,w[w.isOld?"animate":"attr"](w.alignAttr,null,function(){E.styledMode||w.css({pointerEvents:l?"auto":"none"})}),W(E,"afterHideOverlappingLabel")):w.attr({opacity:l})),w.isOld=!0}return s}var W=K.fireEvent,Y=K.isArray,z=K.isNumber,I=K.objectEach,P=K.pick;(0,K.addEvent)(H,"render",function(){var w=this,E=[];(this.labelCollectors||[]).forEach(function(s){E=E.concat(s())}),(this.yAxis||[]).forEach(function(s){s.stacking&&s.options.stackLabels&&!s.options.stackLabels.allowOverlap&&I(s.stacking.stacks,function(l){I(l,function(g){g.label&&"hidden"!==g.label.visibility&&E.push(g.label)})})}),(this.series||[]).forEach(function(s){var l=s.options.dataLabels;s.visible&&(!1!==l.enabled||s._hasPointLabels)&&((l=function(g){return g.forEach(function(v){v.visible&&(Y(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[]).forEach(function(S){var f=S.options;S.labelrank=P(f.labelrank,v.labelrank,v.shapeArgs&&v.shapeArgs.height),f.allowOverlap?(S.oldOpacity=S.opacity,S.newOpacity=1,V(S,w)):E.push(S)})})})(s.nodes||[]),l(s.points))}),this.hideOverlappingLabels(E)}),H.prototype.hideOverlappingLabels=function(w){var g,v,S,E=this,s=w.length,l=E.renderer,f=!1,C=function(p){var a,d,h=p.box?0:p.padding||0,n=a=0;if(p&&(!p.alignAttr||p.placed)){var o=p.alignAttr||{x:p.attr("x"),y:p.attr("y")},r=p.parentGroup;return p.width||(a=p.getBBox(),p.width=a.width,p.height=a.height,a=l.fontMetrics(null,p.element).h),(d={left:"0",center:"0.5",right:"1"}[p.alignValue])?n=+d*(p.width-2*h):z(p.x)&&Math.round(p.x)!==p.translateX&&(n=p.x-p.translateX),{x:o.x+(r.translateX||0)+h-(n||0),y:o.y+(r.translateY||0)+h-a,width:p.width-2*h,height:p.height-2*h}}};for(v=0;v<s;v++)(g=w[v])&&(g.oldOpacity=g.opacity,g.newOpacity=1,g.absoluteBox=C(g));for(w.sort(function(p,a){return(a.labelrank||0)-(p.labelrank||0)}),v=0;v<s;v++){var x=(C=w[v])&&C.absoluteBox;for(g=v+1;g<s;++g){var M=(S=w[g])&&S.absoluteBox;!x||!M||C===S||0===C.newOpacity||0===S.newOpacity||M.x>=x.x+x.width||M.x+M.width<=x.x||M.y>=x.y+x.height||M.y+M.height<=x.y||((C.labelrank<S.labelrank?C:S).newOpacity=0)}}w.forEach(function(p){V(p,E)&&(f=!0)}),f&&W(E,"afterHideAllOverlappingLabels")}}),lt(F,"Core/Responsive.js",[F["Core/Utilities.js"]],function(H){var E,K=H.extend,V=H.find,Q=H.isArray,W=H.isObject,Y=H.merge,z=H.objectEach,I=H.pick,P=H.splat,w=H.uniqueKey;return function(s){var l=[];s.compose=function(v){return-1===l.indexOf(v)&&(l.push(v),K(v.prototype,g.prototype)),v};var g=function(){function v(){}return v.prototype.currentOptions=function(S){var C=this,x={};return function f(M,p,a,h){var n;z(M,function(d,o){if(!h&&-1<C.collectionsWithUpdate.indexOf(o)&&p[o])for(d=P(d),a[o]=[],n=0;n<Math.max(d.length,p[o].length);n++)p[o][n]&&(void 0===d[n]?a[o][n]=p[o][n]:(a[o][n]={},f(d[n],p[o][n],a[o][n],h+1)));else W(d)?(a[o]=Q(d)?[]:{},f(d,p[o]||{},a[o],h+1)):a[o]=void 0===p[o]?null:p[o]})}(S,this.options,x,0),x},v.prototype.matchResponsiveRule=function(S,f){var C=S.condition;(C.callback||function(){return this.chartWidth<=I(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=I(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=I(C.minWidth,0)&&this.chartHeight>=I(C.minHeight,0)}).call(this)&&f.push(S._id)},v.prototype.setResponsive=function(S,f){var C=this,x=this.options.responsive,M=this.currentResponsive,p=[];!f&&x&&x.rules&&x.rules.forEach(function(a){void 0===a._id&&(a._id=w()),C.matchResponsiveRule(a,p)},this),(f=Y.apply(void 0,p.map(function(a){return V((x||{}).rules||[],function(h){return h._id===a})}).map(function(a){return a&&a.chartOptions}))).isResponsiveOptions=!0,(p=p.toString()||void 0)!==(M&&M.ruleIds)&&(M&&this.update(M.undoOptions,S,!0),p?((M=this.currentOptions(f)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:p,mergedOptions:f,undoOptions:M},this.update(f,S,!0)):this.currentResponsive=void 0)},v}()}(E||(E={})),E}),lt(F,"masters/highcharts.src.js",[F["Core/Globals.js"],F["Core/Utilities.js"],F["Core/DefaultOptions.js"],F["Core/Animation/Fx.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/FormatUtilities.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Renderer/HTML/HTMLElement.js"],F["Core/Renderer/HTML/HTMLRenderer.js"],F["Core/Axis/Axis.js"],F["Core/Axis/DateTimeAxis.js"],F["Core/Axis/LogarithmicAxis.js"],F["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],F["Core/Axis/Tick.js"],F["Core/Tooltip.js"],F["Core/Series/Point.js"],F["Core/Pointer.js"],F["Core/MSPointer.js"],F["Core/Legend/Legend.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Series/Column/ColumnSeries.js"],F["Series/Column/ColumnDataLabel.js"],F["Series/Pie/PieSeries.js"],F["Series/Pie/PieDataLabel.js"],F["Core/Series/DataLabel.js"],F["Core/Responsive.js"],F["Core/Color/Color.js"],F["Core/Time.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v,S,f,C,x,M,p,a,h,n,d,o,r,u,c,b,O,k,_){return H.animate=W.animate,H.animObject=W.animObject,H.getDeferredAnimation=W.getDeferredAnimation,H.setAnimation=W.setAnimation,H.stop=W.stop,H.timers=Q.timers,H.AST=Y,H.Axis=l,H.Chart=h,H.chart=h.chart,H.Fx=Q,H.Legend=a,H.PlotLineOrBand=S,H.Point=x,H.Pointer=p.isRequired()?p:M,H.Series=n,H.SVGElement=P,H.SVGRenderer=w,H.Tick=f,H.Time=_,H.Tooltip=C,H.Color=k,H.color=k.parse,s.compose(w),E.compose(P),H.defaultOptions=V.defaultOptions,H.getOptions=V.getOptions,H.time=V.defaultTime,H.setOptions=V.setOptions,H.dateFormat=z.dateFormat,H.format=z.format,H.numberFormat=z.numberFormat,H.addEvent=K.addEvent,H.arrayMax=K.arrayMax,H.arrayMin=K.arrayMin,H.attr=K.attr,H.clearTimeout=K.clearTimeout,H.correctFloat=K.correctFloat,H.createElement=K.createElement,H.css=K.css,H.defined=K.defined,H.destroyObjectProperties=K.destroyObjectProperties,H.discardElement=K.discardElement,H.distribute=I.distribute,H.erase=K.erase,H.error=K.error,H.extend=K.extend,H.extendClass=K.extendClass,H.find=K.find,H.fireEvent=K.fireEvent,H.getMagnitude=K.getMagnitude,H.getStyle=K.getStyle,H.inArray=K.inArray,H.isArray=K.isArray,H.isClass=K.isClass,H.isDOMElement=K.isDOMElement,H.isFunction=K.isFunction,H.isNumber=K.isNumber,H.isObject=K.isObject,H.isString=K.isString,H.keys=K.keys,H.merge=K.merge,H.normalizeTickInterval=K.normalizeTickInterval,H.objectEach=K.objectEach,H.offset=K.offset,H.pad=K.pad,H.pick=K.pick,H.pInt=K.pInt,H.relativeLength=K.relativeLength,H.removeEvent=K.removeEvent,H.seriesType=d.seriesType,H.splat=K.splat,H.stableSort=K.stableSort,H.syncTimeout=K.syncTimeout,H.timeUnits=K.timeUnits,H.uniqueKey=K.uniqueKey,H.useSerialIds=K.useSerialIds,H.wrap=K.wrap,r.compose(o),b.compose(n),g.compose(l),v.compose(l),c.compose(u),S.compose(l),O.compose(h),H}),lt(F,"Series/XRange/XRangePoint.js",[F["Core/Series/Point.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var W,Q=this&&this.__extends||(W=function(Y,z){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var w in P)P.hasOwnProperty(w)&&(I[w]=P[w])})(Y,z)},function(Y,z){function I(){this.constructor=Y}W(Y,z),Y.prototype=null===z?Object.create(z):(I.prototype=z.prototype,new I)});return V=V.extend,K=function(W){function Y(){var z=null!==W&&W.apply(this,arguments)||this;return z.options=void 0,z.series=void 0,z}return Q(Y,W),Y.getColorByCategory=function(z,I){var P=z.options.colors||z.chart.options.colors;return{colorIndex:z=I.y%(P?P.length:z.chart.options.chart.colorCount),color:P&&P[z]}},Y.prototype.resolveColor=function(){var z=this.series;if(z.options.colorByPoint&&!this.options.color){var I=Y.getColorByCategory(z,this);z.chart.styledMode||(this.color=I.color),this.options.colorIndex||(this.colorIndex=I.colorIndex)}else this.color||(this.color=z.color)},Y.prototype.init=function(){return H.prototype.init.apply(this,arguments),this.y||(this.y=0),this},Y.prototype.setState=function(){H.prototype.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())},Y.prototype.getLabelConfig=function(){var z=H.prototype.getLabelConfig.call(this),I=this.series.yAxis.categories;return z.x2=this.x2,z.yCategory=this.yCategory=I&&I[this.y],z},Y.prototype.isValid=function(){return"number"==typeof this.x&&"number"==typeof this.x2},Y}(K.seriesTypes.column.prototype.pointClass),V(K.prototype,{ttBelow:!1,tooltipDateKeys:["x","x2"]}),K}),lt(F,"Series/XRange/XRangeComposition.js",[F["Core/Axis/Axis.js"],F["Core/Utilities.js"]],function(H,K){var Q=K.pick;(0,K.addEvent)(H,"afterGetSeriesExtremes",function(){var Y,W=this.series;if(this.isXAxis){var z=Q(this.dataMax,-Number.MAX_VALUE);W.forEach(function(I){I.x2Data&&I.x2Data.forEach(function(P){P>z&&(z=P,Y=!0)})}),Y&&(this.dataMax=z)}})}),lt(F,"Series/XRange/XRangeSeries.js",[F["Core/Globals.js"],F["Core/Color/Color.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"],F["Series/XRange/XRangePoint.js"]],function(H,K,V,Q,W){var x,Y=this&&this.__extends||(x=function(M,p){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var n in h)h.hasOwnProperty(n)&&(a[n]=h[n])})(M,p)},function(M,p){function a(){this.constructor=M}x(M,p),M.prototype=null===p?Object.create(p):(a.prototype=p.prototype,new a)}),z=K.parse,I=V.series,P=V.seriesTypes.column,w=P.prototype,E=Q.clamp,s=Q.correctFloat,l=Q.defined;K=Q.extend;var g=Q.find,v=Q.isNumber,S=Q.isObject,f=Q.merge,C=Q.pick;return Q=function(x){function M(){var p=null!==x&&x.apply(this,arguments)||this;return p.data=void 0,p.options=void 0,p.points=void 0,p}return Y(M,x),M.prototype.init=function(){P.prototype.init.apply(this,arguments),this.options.stacking=void 0},M.prototype.getColumnMetrics=function(){function p(){a.series.forEach(function(n){var d=n.xAxis;n.xAxis=n.yAxis,n.yAxis=d})}var a=this.chart;p();var h=w.getColumnMetrics.call(this);return p(),h},M.prototype.cropData=function(p,a,h,n){return(a=I.prototype.cropData.call(this,this.x2Data,a,h,n)).xData=p.slice(a.start,a.end),a},M.prototype.findPointIndex=function(p){var a=this.cropped,h=this.cropStart,n=this.points,d=p.id;if(d)var o=(o=g(n,function(r){return r.id===d}))?o.index:void 0;return void 0===o&&(o=(o=g(n,function(r){return r.x===p.x&&r.x2===p.x2&&!r.touched}))?o.index:void 0),a&&v(o)&&v(h)&&o>=h&&(o-=h),o},M.prototype.translatePoint=function(p){var a=this.xAxis,h=this.yAxis,n=this.columnMetrics,d=this.options,o=d.minPointLength||0,r=(p.shapeArgs&&p.shapeArgs.width||0)/2,u=this.pointXOffset=n.offset,c=p.plotX,b=C(p.x2,p.x+(p.len||0)),O=a.translate(b,0,0,0,1);b=Math.abs(O-c);var k=this.chart.inverted,_=C(d.borderWidth,1)%2/2,A=n.offset,B=Math.round(n.width);o&&(0>(o-=b)&&(o=0),c-=o/2,O+=o/2),c=Math.max(c,-10),O=E(O,-10,a.len+10),l(p.options.pointWidth)&&(A-=(Math.ceil(p.options.pointWidth)-B)/2,B=Math.ceil(p.options.pointWidth)),d.pointPlacement&&v(p.plotY)&&h.categories&&(p.plotY=h.translate(p.y,0,1,0,1,d.pointPlacement)),d={x:d=Math.floor(Math.min(c,O))+_,y:Math.floor(p.plotY+A)+_,width:Math.floor(Math.max(c,O))+_-d,height:B,r:this.options.borderRadius},p.shapeArgs=d,k?p.tooltipPos[1]+=u+r:p.tooltipPos[0]-=r+u-d.width/2,u=(r=d.x)+d.width,0>r||u>a.len?(r=E(r,0,a.len),u=E(u,0,a.len),p.dlBox=f(d,{x:r,width:u-r,centerX:(O=u-r)?O/2:null})):p.dlBox=null,O=k?0:1,n=this.columnMetrics?this.columnMetrics.offset:-n.width/2,(r=p.tooltipPos)[u=k?1:0]=k?r[u]+d.width/2:r[u]+(a.reversed?-1:0)*d.width,r[O]=E(r[O]+(k?-1:1)*n,0,h.len-1),(h=p.partialFill)&&(S(h)&&(h=h.amount),v(h)||(h=0),p.partShapeArgs=f(d,{r:this.options.borderRadius}),c=Math.max(Math.round(b*h+p.plotX-c),0),p.clipRectArgs={x:a.reversed?d.x+b-c:d.x,y:d.y,width:c,height:d.height})},M.prototype.translate=function(){w.translate.apply(this,arguments),this.points.forEach(function(p){this.translatePoint(p)},this)},M.prototype.drawPoint=function(p,a){var h=this.options,n=this.chart.renderer,d=p.graphic,o=p.shapeType,r=p.shapeArgs,u=p.partShapeArgs,c=p.clipRectArgs,b=p.partialFill,O=h.stacking&&!h.borderRadius,k=p.state,_=h.states[k||"normal"]||{},A=void 0===k?"attr":a;k=this.pointAttribs(p,k),_=C(this.chart.options.chart.animation,_.animation),p.isNull||!1===p.visible?d&&(p.graphic=d.destroy()):(d?d.rect[a](r):(p.graphic=d=n.g("point").addClass(p.getClassName()).add(p.group||this.group),d.rect=n[o](f(r)).addClass(p.getClassName()).addClass("highcharts-partfill-original").add(d)),u&&(d.partRect?(d.partRect[a](f(u)),d.partialClipRect[a](f(c))):(d.partialClipRect=n.clipRect(c.x,c.y,c.width,c.height),d.partRect=n[o](u).addClass("highcharts-partfill-overlay").add(d).clip(d.partialClipRect))),this.chart.styledMode||(d.rect[a](k,_).shadow(h.shadow,null,O),u&&(S(b)||(b={}),S(h.partialFill)&&(b=f(h.partialFill,b)),p=b.fill||z(k.fill).brighten(-.3).get()||z(p.color||this.color).brighten(-.3).get(),k.fill=p,d.partRect[A](k,_).shadow(h.shadow,null,O))))},M.prototype.drawPoints=function(){var p=this,a=p.getAnimationVerb();p.points.forEach(function(h){p.drawPoint(h,a)})},M.prototype.getAnimationVerb=function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"},M.prototype.isPointInside=function(p){var a=p.shapeArgs,h=p.plotX,n=p.plotY;return a?void 0!==h&&void 0!==n&&0<=n&&n<=this.yAxis.len&&0<=(a.x||0)+(a.width||0)&&h<=this.xAxis.len:x.prototype.isPointInside.apply(this,arguments)},M.defaultOptions=f(P.defaultOptions,{colorByPoint:!0,dataLabels:{formatter:function(){var p=this.point.partialFill;if(S(p)&&(p=p.amount),v(p)&&0<p)return s(100*p)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}),M}(P),K(Q.prototype,{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:I.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,autoIncrement:H.noop,buildKDTree:H.noop,pointClass:W}),V.registerSeriesType("xrange",Q),Q}),lt(F,"Series/Gantt/GanttPoint.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var W,V=this&&this.__extends||(W=function(Y,z){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var w in P)P.hasOwnProperty(w)&&(I[w]=P[w])})(Y,z)},function(Y,z){function I(){this.constructor=Y}W(Y,z),Y.prototype=null===z?Object.create(z):(I.prototype=z.prototype,new I)}),Q=K.pick;return function(W){function Y(){var z=null!==W&&W.apply(this,arguments)||this;return z.options=void 0,z.series=void 0,z}return V(Y,W),Y.setGanttPointAliases=function(z){function I(P,w){void 0!==w&&(z[P]=w)}I("x",Q(z.start,z.x)),I("x2",Q(z.end,z.x2)),I("partialFill",Q(z.completed,z.partialFill))},Y.prototype.applyOptions=function(z,I){return z=W.prototype.applyOptions.call(this,z,I),Y.setGanttPointAliases(z),z},Y.prototype.isValid=function(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)},Y}(H.seriesTypes.xrange.prototype.pointClass)}),lt(F,"Core/Axis/BrokenAxis.js",[F["Extensions/Stacking.js"],F["Core/Utilities.js"]],function(H,K){var P,V=K.addEvent,Q=K.find,W=K.fireEvent,Y=K.isArray,z=K.isNumber,I=K.pick;return function(w){function E(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function s(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function l(){var p=this.brokenAxis;if(p&&p.hasBreaks){for(var a=this.tickPositions,h=this.tickPositions.info,n=[],d=0;d<a.length;d++)p.isInAnyBreak(a[d])||n.push(a[d]);this.tickPositions=n,this.tickPositions.info=h}}function g(){this.brokenAxis||(this.brokenAxis=new M(this))}function v(){var p=this.options.connectNulls,a=this.points,h=this.xAxis,n=this.yAxis;if(this.isDirty)for(var d=a.length;d--;){var o=a[d],r=!(null===o.y&&!1===p)&&(h&&h.brokenAxis&&h.brokenAxis.isInAnyBreak(o.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(o.y,!0));o.visible=!r&&!1!==o.options.visible}}function S(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,I(this.pointArrayMap,["y"]))}function f(p,a){var d,o,r,u,h=this,n=h.points;if(p&&p.brokenAxis&&p.brokenAxis.hasBreaks){var c=p.brokenAxis;a.forEach(function(b){d=c&&c.breakArray||[],o=p.isXAxis?p.min:I(h.options.threshold,p.min),n.forEach(function(O){u=I(O["stack"+b.toUpperCase()],O[b]),d.forEach(function(k){z(o)&&z(u)&&(r=!1,o<k.from&&u>k.to||o>k.from&&u<k.from?r="pointBreak":(o<k.from&&u>k.from&&u<k.to||o>k.from&&u>k.to&&u<k.from)&&(r="pointInBreak"),r&&W(p,r,{point:O,brk:k}))})})})}}function C(){var p=this.currentDataGrouping,a=p&&p.gapSize;p=this.points.slice();var o,h=this.yAxis,n=this.options.gapSize,d=p.length-1;if(n&&0<d)for("value"!==this.options.gapUnit&&(n*=this.basePointRange),a&&a>n&&a>=this.basePointRange&&(n=a),o=void 0;d--;)o&&!1!==o.visible||(o=p[d+1]),a=p[d],!1!==o.visible&&!1!==a.visible&&(o.x-a.x>n&&(p.splice(d+1,0,{isNull:!0,x:o=(a.x+o.x)/2}),h.stacking&&this.options.stacking&&((o=h.stacking.stacks[this.stackKey][o]=new H(h,h.options.stackLabels,!1,o,this.stack)).total=0)),o=a);return this.getGraphPath(p)}var x=[];w.compose=function(p,a){if(-1===x.indexOf(p)&&(x.push(p),p.keepProps.push("brokenAxis"),V(p,"init",g),V(p,"afterInit",E),V(p,"afterSetTickPositions",l),V(p,"afterSetOptions",s)),-1===x.indexOf(a)){x.push(a);var h=a.prototype;h.drawBreaks=f,h.gappedPath=C,V(a,"afterGeneratePoints",v),V(a,"afterRender",S)}return p};var M=function(){function p(a){this.hasBreaks=!1,this.axis=a}return p.isInBreak=function(a,h){var n=a.repeat||1/0,d=a.from,o=a.to-a.from;return h=h>=d?(h-d)%n:n-(d-h)%n,a.inclusive?h<=o:h<o&&0!==h},p.lin2Val=function(a){var n,h=this.brokenAxis;if(!(h=h&&h.breakArray)||!z(a))return a;for(n=0;n<h.length;n++){var d=h[n];if(d.from>=a)break;(d.to<a||p.isInBreak(d,a))&&(a+=d.len)}return a},p.val2Lin=function(a){var h=this.brokenAxis;if(!(h=h&&h.breakArray)||!z(a))return a;var d,n=a;for(d=0;d<h.length;d++){var o=h[d];if(o.to<=a)n-=o.len;else{if(o.from>=a)break;if(p.isInBreak(o,a)){n-=a-o.from;break}}}return n},p.prototype.findBreakAt=function(a,h){return Q(h,function(n){return n.from<a&&a<n.to})},p.prototype.isInAnyBreak=function(a,h){var r,n=this.axis,d=n.options.breaks||[],o=d.length;if(o&&z(a)){for(;o--;)if(p.isInBreak(d[o],a)){var u=!0;r||(r=I(d[o].showPoints,!n.isXAxis))}var c=u&&h?u&&!r:u}return c},p.prototype.setBreaks=function(a,h){var n=this,d=n.axis,o=Y(a)&&!!a.length;d.isDirty=n.hasBreaks!==o,n.hasBreaks=o,d.options.breaks=d.userOptions.breaks=a,d.forceRedraw=!0,d.series.forEach(function(r){r.isDirty=!0}),o||d.val2lin!==p.val2Lin||(delete d.val2lin,delete d.lin2val),o&&(d.userOptions.ordinal=!1,d.lin2val=p.lin2Val,d.val2lin=p.val2Lin,d.setExtremes=function(r,u,c,b,O){if(n.hasBreaks){for(var _,k=this.options.breaks||[];_=n.findBreakAt(r,k);)r=_.to;for(;_=n.findBreakAt(u,k);)u=_.from;u<r&&(u=r)}d.constructor.prototype.setExtremes.call(this,r,u,c,b,O)},d.setAxisTranslation=function(){if(d.constructor.prototype.setAxisTranslation.call(this),n.unitLength=void 0,n.hasBreaks){var k,B,r=d.options.breaks||[],u=[],c=[],b=I(d.pointRangePadding,0),O=0,_=d.userMin||d.min,A=d.userMax||d.max;r.forEach(function(R){k=R.repeat||1/0,z(_)&&z(A)&&(p.isInBreak(R,_)&&(_+=R.to%k-_%k),p.isInBreak(R,A)&&(A-=A%k-R.from%k))}),r.forEach(function(R){if(T=R.from,k=R.repeat||1/0,z(_)&&z(A)){for(;T-k>_;)T-=k;for(;T<_;)T+=k;for(B=T;B<A;B+=k)u.push({value:B,move:"in"}),u.push({value:B+R.to-R.from,move:"out",size:R.breakSize})}}),u.sort(function(R,j){return R.value===j.value?("in"===R.move?0:1)-("in"===j.move?0:1):R.value-j.value});var m=0,T=_;u.forEach(function(R){1===(m+="in"===R.move?1:-1)&&"in"===R.move&&(T=R.value),0===m&&z(T)&&(c.push({from:T,to:R.value,len:R.value-T-(R.size||0)}),O+=R.value-T-(R.size||0))}),n.breakArray=c,z(_)&&z(A)&&z(d.min)&&(n.unitLength=A-_-O+b,W(d,"afterBreaks"),d.staticScale?d.transA=d.staticScale:n.unitLength&&(d.transA*=(A-d.min+b)/n.unitLength),b&&(d.minPixelPadding=d.transA*(d.minPointOffset||0)),d.min=_,d.max=A)}}),I(h,!0)&&d.chart.redraw()},p}();w.Additions=M}(P||(P={})),P}),lt(F,"Core/Axis/GridAxis.js",[F["Core/Axis/Axis.js"],F["Core/Axis/AxisDefaults.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var S,W=V.dateFormats,Y=Q.addEvent,z=Q.defined,I=Q.erase,P=Q.find,w=Q.isArray,E=Q.isNumber,s=Q.merge,l=Q.pick,g=Q.timeUnits,v=Q.wrap;return function(f){function C(m,T){var R={width:0,height:0};return T.forEach(function(j){if(Q.isObject(j=m[j],!0)){var X=Q.isObject(j.label,!0)?j.label:{};j=X.getBBox?X.getBBox().height:0,X.textStr&&!E(X.textPxLength)&&(X.textPxLength=X.getBBox().width);var $=E(X.textPxLength)?Math.round(X.textPxLength):0;X.textStr&&($=Math.round(X.getBBox().width)),R.height=Math.max(j,R.height),R.width=Math.max($,R.width)}}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(R.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),R}function x(){var m=this.grid;(m&&m.columns||[]).forEach(function(T){T.getOffset()})}function M(m){if(!0===(this.options.grid||{}).enabled){var T=this.axisTitle,R=this.height,j=this.horiz,X=this.left,$=this.offset,D=this.opposite,U=this.options,N=this.top,Z=this.width,q=this.tickSize(),nt=T&&T.getBBox().width,it=U.title.x,ot=U.title.y,at=l(U.title.margin,j?5:10);T=this.chart.renderer.fontMetrics(U.title.style.fontSize,T).f,q=(j?N+R:X)+(j?1:-1)*(D?-1:1)*(q?q[0]/2:0)+(this.side===f.Side.bottom?T:0),m.titlePosition.x=j?X-(nt||0)/2-at+it:q+(D?Z:0)+$+it,m.titlePosition.y=j?q-(D?R:0)+(D?T:-T)/2+$+ot:N-at+ot}}function p(){var m=this.chart,T=this.options.grid,R=this.userOptions;if((T=void 0===T?{}:T).enabled){var j=this.options;j.labels.align=l(j.labels.align,"center"),this.categories||(j.showLastLabel=!1),this.labelRotation=0,j.labels.rotation=0}if(T.columns){j=this.grid.columns=[];for(var X=this.grid.columnIndex=0;++X<T.columns.length;){var $=s(R,T.columns[T.columns.length-X-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete $.grid.columns,($=new H(this.chart,$)).grid.isColumn=!0,$.grid.columnIndex=X,I(m.axes,$),I(m[this.coll],$),j.push($)}}}function a(){var m=this.grid,T=this.options;if(!0===(T.grid||{}).enabled){var R=this.min||0,j=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var X=T.lineWidth;if(X){var $=(X=this.getLinePath(X))[0],D=X[1],U=((this.tickSize("tick")||[1])[0]-1)*(this.side===f.Side.top||this.side===f.Side.left?-1:1);"M"===$[0]&&"L"===D[0]&&(this.horiz?($[2]+=U,D[2]+=U):($[1]+=U,D[1]+=U)),!this.horiz&&this.chart.marginRight&&($=[$,["L",this.left,$[2]||0]],U=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(j+this.tickmarkOffset)],D=[["M",D[1]||0,this.toPixels(j+this.tickmarkOffset)],U],this.grid.upperBorder||R%1==0||(this.grid.upperBorder=this.grid.renderBorder($)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:T.lineColor,"stroke-width":T.lineWidth}),this.grid.upperBorder.animate({d:$})),this.grid.lowerBorder||j%1==0||(this.grid.lowerBorder=this.grid.renderBorder(D)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:T.lineColor,"stroke-width":T.lineWidth}),this.grid.lowerBorder.animate({d:D}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:T.lineColor,"stroke-width":T.lineWidth}),this.grid.axisLineExtra.animate({d:X})):this.grid.axisLineExtra=this.grid.renderBorder(X),this.axisLine[this.showAxis?"show":"hide"](!0)}}if((m&&m.columns||[]).forEach(function(N){N.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){for(m=this.tickmarkOffset,T=this.tickPositions[this.tickPositions.length-1],X=this.tickPositions[0],D=void 0;(D=this.hiddenLabels.pop())&&D.element;)D.show();(D=this.ticks[X].label)&&(R-X>m?this.hiddenLabels.push(D.hide()):D.show()),(D=this.ticks[T].label)&&(T-j>m?this.hiddenLabels.push(D.hide()):D.show()),(R=this.ticks[T].mark)&&(T-j<m&&0<T-j&&this.ticks[T].isLast?R.hide():this.ticks[T-1]&&R.show())}}}function h(){var m=this.tickPositions&&this.tickPositions.info,T=this.options,R=this.userOptions.labels||{};(T.grid||{}).enabled&&(this.horiz?(this.series.forEach(function(j){j.options.pointRange=0}),m&&T.dateTimeLabelFormats&&T.labels&&!z(R.align)&&(!1===T.dateTimeLabelFormats[m.unitName].range||1<m.count)&&(T.labels.align="left",z(R.x)||(T.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function n(m){var T=this.options;m=m.userOptions;var R=T&&Q.isObject(T.grid,!0)?T.grid:{};if(!0===R.enabled){var j=s(!0,{className:"highcharts-grid-axis "+(m.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},m);"xAxis"===this.coll&&(z(m.linkedTo)&&!z(m.tickPixelInterval)&&(j.tickPixelInterval=350),z(m.tickPixelInterval)||!z(m.linkedTo)||z(m.tickPositioner)||z(m.tickInterval)||(j.tickPositioner=function(X,$){var D=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(D){for(var U=j.units||[],N=void 0,Z=void 0,q=void 0,nt=0;nt<U.length;nt++)if(U[nt][0]===D.unitName){N=nt;break}return U[N+1]?(q=U[N+1][0],Z=(U[N+1][1]||[1])[0]):"year"===D.unitName&&(q="year",Z=10*D.count),this.tickInterval=(D=g[q])*Z,this.getTimeTicks({unitRange:D,count:Z,unitName:q},X,$,this.options.startOfWeek)}})),s(!0,this.options,j),this.horiz&&(T.minPadding=l(m.minPadding,0),T.maxPadding=l(m.maxPadding,0)),E(T.grid.borderWidth)&&(T.tickWidth=T.lineWidth=R.borderWidth)}}function d(m){var T=(m=(m=m.userOptions)&&m.grid||{}).columns;m.enabled&&T&&s(!0,this.options,T[T.length-1])}function o(){(this.grid.columns||[]).forEach(function(m){m.setScale()})}function r(m){var T=K.defaultLeftAxisOptions,R=this.horiz,j=this.maxLabelDimensions,X=this.options.grid;(X=void 0===X?{}:X).enabled&&j&&(T=2*Math.abs(T.labels.x),R=R?X.cellHeight||T+j.height:T+j.width,w(m.tickSize)?m.tickSize[0]=R:m.tickSize=[R,0])}function u(){this.axes.forEach(function(m){(m.grid&&m.grid.columns||[]).forEach(function(T){T.setAxisSize(),T.setAxisTranslation()})})}function c(m){var T=this.grid;(T.columns||[]).forEach(function(R){R.destroy(m.keepEvents)}),T.columns=void 0}function b(m){var T=(m=m.userOptions||{}).grid||{};T.enabled&&z(T.borderColor)&&(m.tickColor=m.lineColor=T.borderColor),this.grid||(this.grid=new B(this)),this.hiddenLabels=[]}function O(m){var T=this.label,R=this.axis,j=R.reversed,X=R.chart,$=R.options.grid||{},D=R.options.labels,U=D.align,N=f.Side[R.side],Z=m.tickmarkOffset,q=R.tickPositions,nt=this.pos-Z;q=E(q[m.index+1])?q[m.index+1]-Z:(R.max||0)+Z;var it=R.tickSize("tick");if(Z=it?it[0]:0,it=it?it[1]/2:0,!0===$.enabled){if("top"===N)var ot=($=R.top+R.offset)-Z;else"bottom"===N?$=(ot=X.chartHeight-R.bottom+R.offset)+Z:($=R.top+R.len-(R.translate(j?q:nt)||0),ot=R.top+R.len-(R.translate(j?nt:q)||0));"right"===N?j=(N=X.chartWidth-R.right+R.offset)+Z:"left"===N?N=(j=R.left+R.offset)-Z:(N=Math.round(R.left+(R.translate(j?q:nt)||0))-it,j=Math.min(Math.round(R.left+(R.translate(j?nt:q)||0))-it,R.left+R.len)),this.slotWidth=j-N,m.pos.x="left"===U?N:"right"===U?j:N+(j-N)/2,m.pos.y=ot+($-ot)/2,X=X.renderer.fontMetrics(D.style.fontSize,T&&T.element),T=T?T.getBBox().height:0,D.useHTML?m.pos.y+=X.b+-T/2:(T=Math.round(T/X.h),m.pos.y+=(X.b-(X.h-X.f))/2+-(T-1)*X.h/2),m.pos.x+=R.horiz&&D.x||0}}function k(m){var T=m.axis,R=m.value;if(T.options.grid&&T.options.grid.enabled){var j=T.tickPositions,X=(T.linkedParent||T).series[0],$=R===j[0];j=R===j[j.length-1];var D=X&&P(X.options.data,function(N){return N[T.isXAxis?"x":"y"]===R}),U=void 0;D&&X.is("gantt")&&(U=s(D),V.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(U)),m.isFirst=$,m.isLast=j,m.point=U}}function _(){var m=this.options,R=this.tickPositions,j=R[0],X=R[R.length-1],$=this.linkedParent&&this.linkedParent.min||this.min,D=this.linkedParent&&this.linkedParent.max||this.max,U=this.tickInterval;!0!==(m.grid||{}).enabled||this.categories||!this.horiz&&!this.isLinked||(j<$&&j+U>$&&!m.startOnTick&&(R[0]=$),X>D&&X-U<D&&!m.endOnTick&&(R[R.length-1]=D))}function A(m){var T=this.options.grid;return!0===(void 0===T?{}:T).enabled&&this.categories?this.tickInterval:m.apply(this,Array.prototype.slice.call(arguments,1))}var m;(m=f.Side||(f.Side={}))[m.top=0]="top",m[m.right=1]="right",m[m.bottom=2]="bottom",m[m.left=3]="left",f.compose=function(m,T,R){return-1===m.keepProps.indexOf("grid")&&(m.keepProps.push("grid"),m.prototype.getMaxLabelDimensions=C,v(m.prototype,"unsquish",A),Y(m,"init",b),Y(m,"afterGetOffset",x),Y(m,"afterGetTitlePosition",M),Y(m,"afterInit",p),Y(m,"afterRender",a),Y(m,"afterSetAxisTranslation",h),Y(m,"afterSetOptions",n),Y(m,"afterSetOptions",d),Y(m,"afterSetScale",o),Y(m,"afterTickSize",r),Y(m,"trimTicks",_),Y(m,"destroy",c)),Y(T,"afterSetChartSize",u),Y(R,"afterGetLabelPosition",O),Y(R,"labelFormat",k),m};var B=function(){function m(T){this.axis=T}return m.prototype.isOuterAxis=function(){var T=this.axis,R=T.grid.columnIndex,j=T.linkedParent&&T.linkedParent.grid.columns||T.grid.columns,X=R?T.linkedParent:T,$=-1,D=0;return T.chart[T.coll].forEach(function(U,N){U.side!==T.side||U.options.isInternal||(D=N,U===X&&($=N))}),D===$&&(!E(R)||j.length===R)},m.prototype.renderBorder=function(T){var R=this.axis,j=R.chart.renderer,X=R.options;return T=j.path(T).addClass("highcharts-axis-line").add(R.axisBorder),j.styledMode||T.attr({stroke:X.lineColor,"stroke-width":X.lineWidth,zIndex:7}),T},m}();f.Additions=B}(S||(S={})),W.E=function(f){return this.dateFormat("%a",f,!0).charAt(0)},W.W=function(f){f=new this.Date(f);var C=(this.get("Day",f)+6)%7,x=new this.Date(f.valueOf());return this.set("Date",x,this.get("Date",f)-C+3),C=new this.Date(this.get("FullYear",x),0,1),4!==this.get("Day",C)&&(this.set("Month",f,0),this.set("Date",f,1+(11-this.get("Day",C))%7)),(1+Math.floor((x.valueOf()-C.valueOf())/6048e5)).toString()},S}),lt(F,"Gantt/Tree.js",[F["Core/Utilities.js"]],function(H){var K=H.extend,V=H.isNumber,Q=H.pick,W=function(z,I){var P=z.reduce(function(w,E){var s=Q(E.parent,"");return void 0===w[s]&&(w[s]=[]),w[s].push(E),w},{});return Object.keys(P).forEach(function(w,E){var s=P[w];""!==w&&-1===I.indexOf(w)&&(s.forEach(function(l){E[""].push(l)}),delete E[w])}),P},Y=function(z,I,P,w,E,s){var f,C,l=0,g=0,v=s&&s.after,S=s&&s.before;return I={data:w,depth:P-1,id:z,level:P,parent:I},"function"==typeof S&&S(I,s),S=(E[z]||[]).map(function(x){var M=Y(x.id,z,P+1,x,E,s),p=x.start;return x=!0===x.milestone?p:x.end,f=!V(f)||p<f?p:f,C=!V(C)||x>C?x:C,l=l+1+M.descendants,g=Math.max(M.height+1,g),M}),w&&(w.start=Q(w.start,f),w.end=Q(w.end,C)),K(I,{children:S,descendants:l,height:g}),"function"==typeof v&&v(I,s),I};return{getListOfParents:W,getNode:Y,getTree:function(z,I){var P=z.map(function(w){return w.id});return z=W(z,P),Y("",null,1,null,z,I)}}}),lt(F,"Core/Axis/TreeGridTick.js",[F["Core/Utilities.js"]],function(H){var z,K=H.addEvent,V=H.isObject,Q=H.isNumber,W=H.pick,Y=H.wrap;return function(I){function P(){this.treeGrid||(this.treeGrid=new g(this))}function w(v,S){var f=!(v=v.treeGrid).labelIcon,C=S.renderer,x=S.xy,M=S.options,p=M.width||0,a=M.height||0,h=x.x-p/2-(M.padding||0);x=x.y-a/2;var n=S.collapsed?90:180,d=S.show&&Q(x),o=v.labelIcon;o||(v.labelIcon=o=C.path(C.symbols[M.type](M.x||0,M.y||0,p,a)).addClass("highcharts-label-icon").add(S.group)),o.attr({y:d?0:-9999}),C.styledMode||o.attr({cursor:"pointer",fill:W(S.color,"#666666"),"stroke-width":1,stroke:M.lineColor,strokeWidth:M.lineWidth||0}),o[f?"attr":"animate"]({translateX:h,translateY:x,rotation:n})}function E(v,S,f,C,x,M,p,a,h){var n=W(this.options&&this.options.labels,M);M=this.pos;var d=this.axis,o="treegrid"===d.options.type;return v=v.apply(this,[S,f,C,x,n,p,a,h]),o&&(S=n&&V(n.symbol,!0)?n.symbol:{},n=n&&Q(n.indentation)?n.indentation:0,M=(M=(d=d.treeGrid.mapOfPosToGridNode)&&d[M])&&M.depth||1,v.x+=(S.width||0)+2*(S.padding||0)+(M-1)*n),v}function s(v){var S=this,f=S.pos,C=S.axis,x=S.label,M=C.treeGrid.mapOfPosToGridNode,p=C.options,a=W(S.options&&S.options.labels,p&&p.labels),h=a&&V(a.symbol,!0)?a.symbol:{},n=(M=M&&M[f])&&M.depth;p="treegrid"===p.type;var d=-1<C.tickPositions.indexOf(f);f=C.chart.styledMode,p&&M&&x&&x.element&&x.addClass("highcharts-treegrid-node-level-"+n),v.apply(S,Array.prototype.slice.call(arguments,1)),p&&x&&x.element&&M&&M.descendants&&0<M.descendants&&(C=C.treeGrid.isCollapsed(M),w(S,{color:!f&&x.styles&&x.styles.color||"",collapsed:C,group:x.parentGroup,options:h,renderer:x.renderer,show:d,xy:x.xy}),h="highcharts-treegrid-node-"+(C?"expanded":"collapsed"),x.addClass("highcharts-treegrid-node-"+(C?"collapsed":"expanded")).removeClass(h),f||x.css({cursor:"pointer"}),[x,S.treeGrid.labelIcon].forEach(function(o){o&&!o.attachedTreeGridEvents&&(K(o.element,"mouseover",function(){x.addClass("highcharts-treegrid-node-active"),x.renderer.styledMode||x.css({textDecoration:"underline"})}),K(o.element,"mouseout",function(){var r=V(a.style)?a.style:{};x.removeClass("highcharts-treegrid-node-active"),x.renderer.styledMode||x.css({textDecoration:r.textDecoration})}),K(o.element,"click",function(){S.treeGrid.toggleCollapse()}),o.attachedTreeGridEvents=!0)}))}var l=!1;I.compose=function(v){l||(K(v,"init",P),Y(v.prototype,"getLabelPosition",E),Y(v.prototype,"renderLabel",s),v.prototype.collapse=function(S){this.treeGrid.collapse(S)},v.prototype.expand=function(S){this.treeGrid.expand(S)},v.prototype.toggleCollapse=function(S){this.treeGrid.toggleCollapse(S)},l=!0)};var g=function(){function v(S){this.tick=S}return v.prototype.collapse=function(S){var f=this.tick,C=f.axis,x=C.brokenAxis;x&&C.treeGrid.mapOfPosToGridNode&&(f=C.treeGrid.collapse(C.treeGrid.mapOfPosToGridNode[f.pos]),x.setBreaks(f,W(S,!0)))},v.prototype.expand=function(S){var f=this.tick,C=f.axis,x=C.brokenAxis;x&&C.treeGrid.mapOfPosToGridNode&&(f=C.treeGrid.expand(C.treeGrid.mapOfPosToGridNode[f.pos]),x.setBreaks(f,W(S,!0)))},v.prototype.toggleCollapse=function(S){var f=this.tick,C=f.axis,x=C.brokenAxis;x&&C.treeGrid.mapOfPosToGridNode&&(f=C.treeGrid.toggleCollapse(C.treeGrid.mapOfPosToGridNode[f.pos]),x.setBreaks(f,W(S,!0)))},v}();I.Additions=g}(z||(z={})),z}),lt(F,"Series/TreeUtilities.js",[F["Core/Color/Color.js"],F["Core/Utilities.js"]],function(H,K){var Q=K.extend,W=K.isArray,Y=K.isNumber,z=K.isObject,I=K.merge,P=K.pick;return{getColor:function(w,E){var p,s=E.index,l=E.mapOptionsToLevel,g=E.parentColor,v=E.parentColorIndex,S=E.series,f=E.colors,C=E.siblings,x=S.points,M=S.chart.options.chart;if(w){if(x=x[w.i],w=l[w.level]||{},l=x&&w.colorByPoint)var a=x.index%(f?f.length:M.colorCount),h=f&&f[a];S.chart.styledMode||(f=x&&x.options.color,M=w&&w.color,(p=g)&&(p=(p=w&&w.colorVariation)&&"brightness"===p.key&&s&&C?H.parse(g).brighten(s/C*p.to).get():g),p=P(f,M,h,p,S.color));var n=P(x&&x.options.colorIndex,w&&w.colorIndex,a,v,E.colorIndex)}return{color:p,colorIndex:n}},getLevelOptions:function(w){var E=null;if(z(w)){E={};var s=Y(w.from)?w.from:1,l=w.levels,g={},v=z(w.defaults)?w.defaults:{};for(W(l)&&(g=l.reduce(function(S,f){if(z(f)&&Y(f.level)){var C=I({},f),x=P(C.levelIsConstant,v.levelIsConstant);delete C.levelIsConstant,delete C.level,z(S[f=f.level+(x?0:s-1)])?I(!0,S[f],C):S[f]=C}return S},{})),l=Y(w.to)?w.to:1,w=0;w<=l;w++)E[w]=I({},v,z(g[w])?g[w]:{})}return E},setTreeValues:function V(w,E){var s=E.before,l=E.idRoot,v=E.points[w.i],S=v&&v.options||{},f=[],C=0;return w.levelDynamic=w.level-(!1!==E.levelIsConstant?0:E.mapIdToNode[l].level),w.name=P(v&&v.name,""),w.visible=l===w.id||!0===E.visible,"function"==typeof s&&(w=s(w,E)),w.children.forEach(function(x,M){var p=Q({},E);Q(p,{index:M,siblings:w.children.length,visible:w.visible}),x=V(x,p),f.push(x),x.visible&&(C+=x.val)}),s=P(S.value,C),w.visible=0<=s&&(0<C||w.visible),w.children=f,w.childrenTotal=C,w.isLeaf=w.visible&&!C,w.val=s,w},updateRootId:function(w){if(z(w)){var E=z(w.options)?w.options:{};E=P(w.rootNode,E.rootId,""),z(w.userOptions)&&(w.userOptions.rootId=E),w.rootNode=E}return E}}}),lt(F,"Core/Axis/TreeGridAxis.js",[F["Core/Axis/BrokenAxis.js"],F["Core/Axis/GridAxis.js"],F["Gantt/Tree.js"],F["Core/Axis/TreeGridTick.js"],F["Series/TreeUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var f,z=W.getLevelOptions,I=Y.addEvent,P=Y.find,w=Y.fireEvent,E=Y.isArray,s=Y.isObject,l=Y.isString,g=Y.merge,v=Y.pick,S=Y.wrap;return function(C){function x(r,u){var c=r.collapseEnd||0;return r=r.collapseStart||0,c>=u&&(r-=.5),{from:r,to:c,showPoints:!1}}function M(r,u,c){var T,R,b=[],O=[],k={},_="boolean"==typeof u&&u,A={},B=-1;return r=V.getTree(r,{after:function(m){var T=0,R=0;(m=A[m.pos]).children.forEach(function(j){R+=(j.descendants||0)+1,T=Math.max((j.height||0)+1,T)}),m.descendants=R,m.height=T,m.collapsed&&O.push(m)},before:function(m){var T=s(m.data,!0)?m.data:{},R=l(T.name)?T.name:"",j=k[m.parent];j=s(j,!0)?A[j.pos]:null;var $,X=function(D){return D.name===R};_&&s(j,!0)&&($=P(j.children,X))?(X=$.pos,$.nodes.push(m)):X=B++,A[X]||(A[X]=$={depth:j?j.depth+1:0,name:R,id:T.id,nodes:[m],children:[],pos:X},-1!==X&&b.push(R),s(j,!0)&&j.children.push($)),l(m.id)&&(k[m.id]=m),$&&!0===T.collapsed&&($.collapsed=!0),m.pos=X}}),T=c,A=(R=function(j,X,$){var D=X+(-1===X?0:T-1),U=(D-X)/2,N=X+U;return j.nodes.forEach(function(Z){var q=Z.data;s(q,!0)&&(q.y=X+(q.seriesIndex||0),delete q.seriesIndex),Z.pos=N}),$[N]=j,j.pos=N,j.tickmarkOffset=U+.5,j.collapseStart=D+.5,j.children.forEach(function(Z){R(Z,D+1,$),D=(Z.collapseEnd||0)-.5}),j.collapseEnd=D+.5,$})(A[-1],-1,{}),{categories:b,mapOfIdToNode:k,mapOfPosToGridNode:A,collapsedNodes:O,tree:r}}function p(r){r.target.axes.filter(function(u){return"treegrid"===u.options.type}).forEach(function(u){var c=u.options||{},b=c.labels,O=c.uniqueNames;c=c.max;var k=0;if(!u.treeGrid.mapOfPosToGridNode||u.series.some(function(B){return!B.hasRendered||B.isDirtyData||B.isDirty})){var _=u.series.reduce(function(B,m){return m.visible&&((m.options.data||[]).forEach(function(T){m.options.keys&&m.options.keys.length&&(T=m.pointClass.prototype.optionsToObject.call({series:m},T),m.pointClass.setGanttPointAliases(T)),s(T,!0)&&(T.seriesIndex=k,B.push(T))}),!0===O&&k++),B},[]);if(c&&_.length<c)for(var A=_.length;A<=c;A++)_.push({name:A+"\u200b"});c=M(_,O||!1,!0===O?k:1),u.categories=c.categories,u.treeGrid.mapOfPosToGridNode=c.mapOfPosToGridNode,u.hasNames=!0,u.treeGrid.tree=c.tree,u.series.forEach(function(B){var m=(B.options.data||[]).map(function(T){return E(T)&&B.options.keys&&B.options.keys.length&&_.forEach(function(R){0<=T.indexOf(R.x)&&0<=T.indexOf(R.x2)&&(T=R)}),s(T,!0)?g(T):T});B.visible&&B.setData(m,!1)}),u.treeGrid.mapOptionsToLevel=z({defaults:b,from:1,levels:b&&b.levels,to:u.treeGrid.tree&&u.treeGrid.tree.height}),"beforeRender"===r.type&&(u.treeGrid.collapsedNodes=c.collapsedNodes)}})}function a(r,u){var k,c=this.treeGrid.mapOptionsToLevel||{},b=this.ticks,O=b[u];if("treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode){var _=this.treeGrid.mapOfPosToGridNode[u];(c=c[_.depth])&&(k={labels:c}),!O&&d?b[u]=new d(this,u,void 0,void 0,{category:_.name,tickmarkOffset:_.tickmarkOffset,options:k}):(O.parameters.category=_.name,O.options=k,O.addLabel())}else r.apply(this,Array.prototype.slice.call(arguments,1))}function h(r,u,c){var b=this,O="treegrid"===c.type;b.treeGrid||(b.treeGrid=new o(b)),O&&(I(u,"beforeRender",p),I(u,"beforeRedraw",p),I(u,"addSeries",function(k){k.options.data&&(k=M(k.options.data,c.uniqueNames||!1,1),b.treeGrid.collapsedNodes=(b.treeGrid.collapsedNodes||[]).concat(k.collapsedNodes))}),I(b,"foundExtremes",function(){b.treeGrid.collapsedNodes&&b.treeGrid.collapsedNodes.forEach(function(k){var _=b.treeGrid.collapse(k);b.brokenAxis&&(b.brokenAxis.setBreaks(_,!1),b.treeGrid.collapsedNodes&&(b.treeGrid.collapsedNodes=b.treeGrid.collapsedNodes.filter(function(A){return k.collapseStart!==A.collapseStart||k.collapseEnd!==A.collapseEnd})))})}),I(b,"afterBreaks",function(){"yAxis"===b.coll&&!b.staticScale&&b.chart.options.chart.height&&(b.isDirty=!0)}),c=g({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},c,{reversed:!0,grid:{columns:void 0}})),r.apply(b,[u,c]),O&&(b.hasNames=!0,b.options.showLastLabel=!0)}function n(r){var u=this.options;"treegrid"===u.type?(this.min=v(this.userMin,u.min,this.dataMin),this.max=v(this.userMax,u.max,this.dataMax),w(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):r.apply(this,Array.prototype.slice.call(arguments,1))}var d;C.compose=function(r,u,c,b){return-1===r.keepProps.indexOf("treeGrid")&&(r.keepProps.push("treeGrid"),d=b,S(r.prototype,"generateTick",a),S(r.prototype,"init",h),S(r.prototype,"setTickInterval",n),r.prototype.utils={getNode:V.getNode},K.compose(r,u,b),H.compose(r,c),Q.compose(b)),r};var o=function(){function r(u){this.axis=u}return r.prototype.setCollapsedStatus=function(u){var c=this.axis,b=c.chart;c.series.forEach(function(O){var k=O.options.data;if(u.id&&k){var _=b.get(u.id);O=k[O.data.indexOf(_)],_&&O&&(_.collapsed=u.collapsed,O.collapsed=u.collapsed)}})},r.prototype.collapse=function(u){var c=this.axis,b=c.options.breaks||[],O=x(u,c.max);return b.push(O),u.collapsed=!0,c.treeGrid.setCollapsedStatus(u),b},r.prototype.expand=function(u){var c=this.axis,b=c.options.breaks||[],O=x(u,c.max);return u.collapsed=!1,c.treeGrid.setCollapsedStatus(u),b.reduce(function(k,_){return _.to===O.to&&_.from===O.from||k.push(_),k},[])},r.prototype.getTickPositions=function(){var u=this.axis,c=Math.floor(u.min/u.tickInterval)*u.tickInterval,b=Math.ceil(u.max/u.tickInterval)*u.tickInterval;return Object.keys(u.treeGrid.mapOfPosToGridNode||{}).reduce(function(O,k){return!((k=+k)>=c&&k<=b)||u.brokenAxis&&u.brokenAxis.isInAnyBreak(k)||O.push(k),O},[])},r.prototype.isCollapsed=function(u){var c=this.axis,b=c.options.breaks||[],O=x(u,c.max);return b.some(function(k){return k.from===O.from&&k.to===O.to})},r.prototype.toggleCollapse=function(u){return this.isCollapsed(u)?this.expand(u):this.collapse(u)},r}();C.Additions=o}(f||(f={})),f}),lt(F,"Extensions/CurrentDateIndication.js",[F["Core/Axis/Axis.js"],F["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=V.addEvent,W=V.merge;V=V.wrap;var Y={color:"#ccd6eb",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(z,I){return this.axis.chart.time.dateFormat(I||"",z)},rotation:0,style:{fontSize:"10px"}}};Q(H,"afterSetOptions",function(){var z=this.options,I=z.currentDateIndicator;I&&((I="object"==typeof I?W(Y,I):W(Y)).value=Date.now(),I.className="highcharts-current-date-indicator",z.plotLines||(z.plotLines=[]),z.plotLines.push(I))}),Q(K,"render",function(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}),V(K.prototype,"getLabelText",function(z,I){var P=this.options;return P&&P.className&&-1!==P.className.indexOf("highcharts-current-date-indicator")&&P.label&&"function"==typeof P.label.formatter?(P.value=Date.now(),P.label.formatter.call(this,P.value,P.label.format)):z.call(this,I)})}),lt(F,"Extensions/StaticScale.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=V.addEvent,W=V.defined,Y=V.isNumber,z=V.pick;Q(H,"afterSetOptions",function(){var I=this.chart.options.chart;!this.horiz&&Y(this.options.staticScale)&&(!I.height||I.scrollablePlotArea&&I.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}),K.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach(function(I){var P=I.chart,w=!!P.initiatedScale&&P.options.animation,E=I.options.staticScale;if(I.staticScale&&W(I.min)){var s=z(I.brokenAxis&&I.brokenAxis.unitLength,I.max+I.tickInterval-I.min)*E;E=(s=Math.max(s,E))-P.plotHeight,!P.scrollablePixelsY&&1<=Math.abs(E)&&(P.plotHeight=s,P.redrawTrigger="adjustHeight",P.setSize(void 0,P.chartHeight+E,w)),I.series.forEach(function(l){(l=l.sharedClipKey&&P.sharedClips[l.sharedClipKey])&&l.attr(P.inverted?{width:P.plotHeight}:{height:P.plotHeight})})}}),this.initiatedScale=!0),this.redrawTrigger=null},Q(K,"render",K.prototype.adjustHeight)}),lt(F,"Extensions/ArrowSymbols.js",[F["Core/Renderer/SVG/SVGRenderer.js"]],function(H){function K(W,Y,z,I){return[["M",W,Y+I/2],["L",W+z,Y],["L",W,Y+I/2],["L",W+z,Y+I]]}function V(W,Y,z,I){return[["M",W+z,Y],["L",W,Y+I/2],["L",W+z,Y+I],["Z"]]}function Q(W,Y,z,I){return V(W,Y,z/2,I)}return(H=H.prototype.symbols).arrow=K,H["arrow-filled"]=V,H["arrow-filled-half"]=Q,H["arrow-half"]=function(W,Y,z,I){return K(W,Y,z/2,I)},H["triangle-left"]=V,H["triangle-left-half"]=Q,H}),lt(F,"Gantt/Connection.js",[F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V,Q){function W(g){var v=g.shapeArgs;return v?{xMin:v.x||0,xMax:(v.x||0)+(v.width||0),yMin:v.y||0,yMax:(v.y||0)+(v.height||0)}:(v=g.graphic&&g.graphic.getBBox())?{xMin:g.plotX-v.width/2,xMax:g.plotX+v.width/2,yMin:g.plotY-v.height/2,yMax:g.plotY+v.height/2}:null}var Y=Q.defined,z=Q.error,I=Q.extend,P=Q.merge,w=Q.objectEach,E=H.deg2rad,s=Math.max,l=Math.min;return I(K.defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}),K=function(){function g(v,S,f){this.toPoint=this.pathfinder=this.graphics=this.fromPoint=this.chart=void 0,this.init(v,S,f)}return g.prototype.init=function(v,S,f){this.fromPoint=v,this.toPoint=S,this.options=f,this.chart=v.series.chart,this.pathfinder=this.chart.pathfinder},g.prototype.renderPath=function(v,S,f){var C=this.chart,x=C.styledMode,M=C.pathfinder,p=!C.options.chart.forExport&&!1!==f,a=this.graphics&&this.graphics.path;M.group||(M.group=C.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(C.seriesGroup)),M.group.translate(C.plotLeft,C.plotTop),a&&a.renderer||(a=C.renderer.path().add(M.group),x||a.attr({opacity:0})),a.attr(S),v={d:v},x||(v.opacity=1),a[p?"animate":"attr"](v,f),this.graphics=this.graphics||{},this.graphics.path=a},g.prototype.addMarker=function(v,S,f){var C=this.fromPoint.series.chart,x=C.pathfinder;C=C.renderer;var M="start"===v?this.fromPoint:this.toPoint,p=M.getPathfinderAnchorPoint(S);if(S.enabled&&((f="start"===v?f[1]:f[f.length-2])&&"M"===f[0]||"L"===f[0])){if(f=M.getRadiansToVector(f={x:f[1],y:f[2]},p),p=M.getMarkerVector(f,S.radius,p),f=-f/E,S.width&&S.height)var a=S.width,h=S.height;else a=h=2*S.radius;this.graphics=this.graphics||{},p={x:p.x-a/2,y:p.y-h/2,width:a,height:h,rotation:f,rotationOriginX:p.x,rotationOriginY:p.y},this.graphics[v]?this.graphics[v].animate(p):(this.graphics[v]=C.symbol(S.symbol).addClass("highcharts-point-connecting-path-"+v+"-marker").attr(p).add(x.group),C.styledMode||this.graphics[v].attr({fill:S.color||this.fromPoint.color,stroke:S.lineColor,"stroke-width":S.lineWidth,opacity:0}).animate({opacity:1},M.series.options.animation))}},g.prototype.getPath=function(v){var S=this.pathfinder,f=this.chart,C=S.algorithms[v.type],x=S.chartObstacles;return"function"!=typeof C?(z('"'+v.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(C.requiresObstacles&&!x&&(x=S.chartObstacles=S.getChartObstacles(v),f.options.connectors.algorithmMargin=v.algorithmMargin,S.chartObstacleMetrics=S.getObstacleMetrics(x)),C(this.fromPoint.getPathfinderAnchorPoint(v.startMarker),this.toPoint.getPathfinderAnchorPoint(v.endMarker),P({chartObstacles:x,lineObstacles:S.lineObstacles||[],obstacleMetrics:S.chartObstacleMetrics,hardBounds:{xMin:0,xMax:f.plotWidth,yMin:0,yMax:f.plotHeight},obstacleOptions:{margin:v.algorithmMargin},startDirectionX:S.getAlgorithmStartDirection(v.startMarker)},v)))},g.prototype.render=function(){var v=this.fromPoint,S=v.series,f=S.chart,C=f.pathfinder,x=P(f.options.connectors,S.options.connectors,v.options.connectors,this.options),M={};f.styledMode||(M.stroke=x.lineColor||v.color,M["stroke-width"]=x.lineWidth,x.dashStyle&&(M.dashstyle=x.dashStyle)),M.class="highcharts-point-connecting-path highcharts-color-"+v.colorIndex,x=P(M,x),Y(x.marker.radius)||(x.marker.radius=l(s(Math.ceil((x.algorithmMargin||8)/2)-1,1),5)),f=(v=this.getPath(x)).path,v.obstacles&&(C.lineObstacles=C.lineObstacles||[],C.lineObstacles=C.lineObstacles.concat(v.obstacles)),this.renderPath(f,M,S.options.animation),this.addMarker("start",P(x.marker,x.startMarker),f),this.addMarker("end",P(x.marker,x.endMarker),f)},g.prototype.destroy=function(){this.graphics&&(w(this.graphics,function(v){v.destroy()}),delete this.graphics)},g}(),H.Connection=K,I(V.prototype,{getPathfinderAnchorPoint:function(g){var v=W(this);switch(g.align){case"right":var S="xMax";break;case"left":S="xMin"}switch(g.verticalAlign){case"top":var f="yMin";break;case"bottom":f="yMax"}return{x:S?v[S]:(v.xMin+v.xMax)/2,y:f?v[f]:(v.yMin+v.yMax)/2}},getRadiansToVector:function(g,v){var S;return Y(v)||(S=W(this))&&(v={x:(S.xMin+S.xMax)/2,y:(S.yMin+S.yMax)/2}),Math.atan2(v.y-g.y,g.x-v.x)},getMarkerVector:function(g,v,S){for(var f=2*Math.PI,C=W(this),x=C.xMax-C.xMin,M=C.yMax-C.yMin,p=Math.atan2(M,x),a=!1,h=M/2,n=C.xMin+(x/=2),d=n,o=C=C.yMin+h,r=1,u=1;g<-Math.PI;)g+=f;for(;g>Math.PI;)g-=f;return f=Math.tan(g),g>-p&&g<=p?(u=-1,a=!0):g>p&&g<=Math.PI-p?u=-1:g>Math.PI-p||g<=-(Math.PI-p)?(r=-1,a=!0):r=-1,a?(d+=r*x,o+=u*x*f):(d+=M/(2*f)*r,o+=u*h),S.x!==n&&(d=S.x),S.y!==C&&(o=S.y),{x:d+v*Math.cos(g),y:o-v*Math.sin(g)}}}),K}),lt(F,"Gantt/PathfinderAlgorithms.js",[F["Core/Utilities.js"]],function(H){function K(E,s,l){l=l||0;var v,S,g=E.length-1;for(s-=1e-7;l<=g;)if(0<(S=s-E[v=g+l>>1].xMin))l=v+1;else{if(!(0>S))return v;g=v-1}return 0<l?l-1:0}function V(E,s){for(var l=K(E,s.x+1)+1;l--;){var g;if((g=E[l].xMax>=s.x)&&(g=s.x<=(g=E[l]).xMax&&s.x>=g.xMin&&s.y<=g.yMax&&s.y>=g.yMin),g)return l}return-1}function Q(E){var s=[];if(E.length){s.push(["M",E[0].start.x,E[0].start.y]);for(var l=0;l<E.length;++l)s.push(["L",E[l].end.x,E[l].end.y])}return s}function W(E,s){E.yMin=I(E.yMin,s.yMin),E.yMax=z(E.yMax,s.yMax),E.xMin=I(E.xMin,s.xMin),E.xMax=z(E.xMax,s.xMax)}var Y=H.pick,z=Math.min,I=Math.max,P=Math.abs;(H=function(E,s,l){function g(a,h,n,d,o){return(a={x:a.x,y:a.y})[h]=n[d||h]+(o||0),a}function v(a,h,n){var d=P(h[n]-a[n+"Min"])>P(h[n]-a[n+"Max"]);return g(h,n,a,n+(d?"Max":"Min"),d?1:-1)}var S=[],f=Y(l.startDirectionX,P(s.x-E.x)>P(s.y-E.y))?"x":"y",C=l.chartObstacles,x=V(C,E);if(-1<(l=V(C,s))){var M=C[l];M={start:l=v(M,s,f),end:s};var p=l}else p=s;return-1<x&&(l=v(C=C[x],E,f),S.push({start:E,end:l}),l[f]>=E[f]==l[f]>=p[f]&&(S.push({start:l,end:g(l,f="y"===f?"x":"y",C,f+((s=E[f]<s[f])?"Max":"Min"),s?1:-1)}),f="y"===f?"x":"y")),l=g(E=S.length?S[S.length-1].end:E,f,p),S.push({start:E,end:l}),f=g(l,"y"===f?"x":"y",p),S.push({start:l,end:f}),S.push(M),{path:Q(S),obstacles:S}}).requiresObstacles=!0;var w=function(E,s,l){function g(b,O,k){var _,A=b.x<O.x?1:-1;if(b.x<O.x)var B=b,m=O;else B=O,m=b;if(b.y<O.y)var T=b,R=O;else T=O,R=b;for(_=0>A?z(K(r,m.x),r.length-1):0;r[_]&&(0<A&&r[_].xMin<=m.x||0>A&&r[_].xMax>=B.x);){if(r[_].xMin<=m.x&&r[_].xMax>=B.x&&r[_].yMin<=R.y&&r[_].yMax>=T.y)return k?{y:b.y,x:b.x<O.x?r[_].xMin-1:r[_].xMax+1,obstacle:r[_]}:{x:b.x,y:b.y<O.y?r[_].yMin-1:r[_].yMax+1,obstacle:r[_]};_+=A}return O}function v(b,O,k,_,A){var B=A.soft,m=A.hard,T=_?"x":"y",R={x:O.x,y:O.y},j={x:O.x,y:O.y};A=b[T+"Max"]>=B[T+"Max"],B=b[T+"Min"]<=B[T+"Min"];var X=b[T+"Max"]>=m[T+"Max"];m=b[T+"Min"]<=m[T+"Min"];var $=P(b[T+"Min"]-O[T]),D=P(b[T+"Max"]-O[T]);return k=10>P($-D)?O[T]<k[T]:D<$,j[T]=b[T+"Min"],R[T]=b[T+"Max"],b=g(O,j,_)[T]!==j[T],O=g(O,R,_)[T]!==R[T],k=b?!O||k:!O&&k,k=B?!A||k:!A&&k,m?!X||k:!X&&k}var C=Y(l.startDirectionX,P(s.x-E.x)>P(s.y-E.y)),x=C?"x":"y",M=[],p=!1,a=l.obstacleMetrics,h=z(E.x,s.x)-a.maxWidth-10,n=I(E.x,s.x)+a.maxWidth+10,d=z(E.y,s.y)-a.maxHeight-10,o=I(E.y,s.y)+a.maxHeight+10,r=l.chartObstacles,u=K(r,h);if(a=K(r,n),-1<(a=V(r=r.slice(u,a+1),s))){var c=function f(b,O,k){var _=z(b.xMax-O.x,O.x-b.xMin)<z(b.yMax-O.y,O.y-b.yMin);return k=v(b,O,k,_,{soft:l.hardBounds,hard:l.hardBounds}),_?{y:O.y,x:b[k?"xMax":"xMin"]+(k?1:-1)}:{x:O.x,y:b[k?"yMax":"yMin"]+(k?1:-1)}}(r[a],s,E);M.push({end:s,start:c}),s=c}for(;-1<(a=V(r,s));)(c={x:s.x,y:s.y})[x]=r[a][(u=0>s[x]-E[x])?x+"Max":x+"Min"]+(u?1:-1),M.push({end:s,start:c}),s=c;return{path:Q(E=(E=function S(b,O,k){if(b.x===O.x&&b.y===O.y)return[];var _=k?"x":"y",A=l.obstacleOptions.margin,B={soft:{xMin:h,xMax:n,yMin:d,yMax:o},hard:l.hardBounds},m=V(r,b);if(-1<m){B=v(m=r[m],b,O,k,B),W(m,l.hardBounds);var T=k?{y:b.y,x:m[B?"xMax":"xMin"]+(B?1:-1)}:{x:b.x,y:m[B?"yMax":"yMin"]+(B?1:-1)},R=V(r,T);-1<R&&(W(R=r[R],l.hardBounds),T[_]=B?I(m[_+"Max"]-A+1,(R[_+"Min"]+m[_+"Max"])/2):z(m[_+"Min"]+A-1,(R[_+"Max"]+m[_+"Min"])/2),b.x===T.x&&b.y===T.y?(p&&(T[_]=B?I(m[_+"Max"],R[_+"Max"])+1:z(m[_+"Min"],R[_+"Min"])-1),p=!p):p=!1),b=[{start:b,end:T}]}else b=[{start:b,end:{x:(_=g(b,{x:k?O.x:b.x,y:k?b.y:O.y},k)).x,y:_.y}}],_[k?"x":"y"]!==O[k?"x":"y"]&&(B=v(_.obstacle,_,O,!k,B),W(_.obstacle,l.hardBounds),b=b.concat(S({x:_.x,y:_.y},B={x:k?_.x:_.obstacle[B?"xMax":"xMin"]+(B?1:-1),y:k?_.obstacle[B?"yMax":"yMin"]+(B?1:-1):_.y},k=!k)));return b.concat(S(b[b.length-1].end,O,!k))}(E,s,C)).concat(M.reverse())),obstacles:E}};return w.requiresObstacles=!0,{fastAvoid:w,straight:function(E,s){return{path:[["M",E.x,E.y],["L",s.x,s.y]],obstacles:[{start:E,end:s}]}},simpleConnect:H}}),lt(F,"Gantt/Pathfinder.js",[F["Gantt/Connection.js"],F["Core/Chart/Chart.js"],F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"],F["Gantt/PathfinderAlgorithms.js"]],function(H,K,V,Q,W,Y,z){function I(p){var a=p.shapeArgs;return a?{xMin:a.x||0,xMax:(a.x||0)+(a.width||0),yMin:a.y||0,yMax:(a.y||0)+(a.height||0)}:(a=p.graphic&&p.graphic.getBBox())?{xMin:p.plotX-a.width/2,xMax:p.plotX+a.width/2,yMin:p.plotY-a.height/2,yMax:p.plotY+a.height/2}:null}var E=Y.addEvent,s=Y.defined,l=Y.error,g=Y.extend,v=Y.merge,S=Y.pick,f=Y.splat,C=Math.max,x=Math.min;g(Q.defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});var M=function(){function p(a){this.lineObstacles=this.group=this.connections=this.chartObstacleMetrics=this.chartObstacles=this.chart=void 0,this.init(a)}return p.prototype.init=function(a){this.chart=a,this.connections=[],E(a,"redraw",function(){this.pathfinder.update()})},p.prototype.update=function(a){var h=this.chart,n=this,d=n.connections;n.connections=[],h.series.forEach(function(O){O.visible&&!O.options.isInternal&&O.points.forEach(function(k){var A,_=k.options;_&&_.dependency&&(_.connect=_.dependency),_=k.options&&k.options.connect&&f(k.options.connect),k.visible&&!1!==k.isInside&&_&&_.forEach(function(B){(A=h.get("string"==typeof B?B:B.to))instanceof W&&A.series.visible&&A.visible&&!1!==A.isInside&&n.connections.push(new H(k,A,"string"==typeof B?{}:B))})})});for(var o=0,r=void 0,u=void 0,c=d.length,b=n.connections.length;o<c;++o){for(u=!1,r=0;r<b;++r)if(d[o].fromPoint===n.connections[r].fromPoint&&d[o].toPoint===n.connections[r].toPoint){n.connections[r].graphics=d[o].graphics,u=!0;break}u||d[o].destroy()}delete this.chartObstacles,delete this.lineObstacles,n.renderConnections(a)},p.prototype.renderConnections=function(a){a?this.chart.series.forEach(function(h){var n=function(){var d=h.chart.pathfinder;(d&&d.connections||[]).forEach(function(o){o.fromPoint&&o.fromPoint.series===h&&o.render()}),h.pathfinderRemoveRenderEvent&&(h.pathfinderRemoveRenderEvent(),delete h.pathfinderRemoveRenderEvent)};!1===h.options.animation?n():h.pathfinderRemoveRenderEvent=E(h,"afterAnimate",n)}):this.connections.forEach(function(h){h.render()})},p.prototype.getChartObstacles=function(a){for(var o,h=[],n=this.chart.series,d=S(a.algorithmMargin,0),r=0,u=n.length;r<u;++r)if(n[r].visible&&!n[r].options.isInternal){var c=0,b=n[r].points.length,O=void 0;for(O=void 0;c<b;++c)(O=n[r].points[c]).visible&&(O=I(O))&&h.push({xMin:O.xMin-d,xMax:O.xMax+d,yMin:O.yMin-d,yMax:O.yMax+d})}return h=h.sort(function(k,_){return k.xMin-_.xMin}),s(a.algorithmMargin)||(o=a.algorithmMargin=function P(p){for(var n,d,a=p.length,h=0,o=[],r=function(u,c,b){b=S(b,10);var O=u.yMax+b>c.yMin-b&&u.yMin-b<c.yMax+b,k=u.xMax+b>c.xMin-b&&u.xMin-b<c.xMax+b,_=O?u.xMin>c.xMax?u.xMin-c.xMax:c.xMin-u.xMax:1/0,A=k?u.yMin>c.yMax?u.yMin-c.yMax:c.yMin-u.yMax:1/0;return k&&O?b?r(u,c,Math.floor(b/2)):1/0:x(_,A)};h<a;++h)for(n=h+1;n<a;++n)80>(d=r(p[h],p[n]))&&o.push(d);return o.push(80),C(Math.floor(o.sort(function(u,c){return u-c})[Math.floor(o.length/10)]/2-1),1)}(h),h.forEach(function(k){k.xMin-=o,k.xMax+=o,k.yMin-=o,k.yMax+=o})),h},p.prototype.getObstacleMetrics=function(a){for(var d,o,h=0,n=0,r=a.length;r--;)h<(d=a[r].xMax-a[r].xMin)&&(h=d),n<(o=a[r].yMax-a[r].yMin)&&(n=o);return{maxHeight:n,maxWidth:h}},p.prototype.getAlgorithmStartDirection=function(a){var h="top"!==a.verticalAlign&&"bottom"!==a.verticalAlign;return"left"!==a.align&&"right"!==a.align?!!h&&void 0:!!h||void 0},p}();return M.prototype.algorithms=z,V.Pathfinder=M,g(W.prototype,{getPathfinderAnchorPoint:function(p){var a=I(this);switch(p.align){case"right":var h="xMax";break;case"left":h="xMin"}switch(p.verticalAlign){case"top":var n="yMin";break;case"bottom":n="yMax"}return{x:h?a[h]:(a.xMin+a.xMax)/2,y:n?a[n]:(a.yMin+a.yMax)/2}},getRadiansToVector:function(p,a){var h;return s(a)||(h=I(this))&&(a={x:(h.xMin+h.xMax)/2,y:(h.yMin+h.yMax)/2}),Math.atan2(a.y-p.y,p.x-a.x)},getMarkerVector:function(p,a,h){for(var n=2*Math.PI,d=I(this),o=d.xMax-d.xMin,r=d.yMax-d.yMin,u=Math.atan2(r,o),c=!1,b=r/2,O=d.xMin+(o/=2),k=O,_=d=d.yMin+b,A=1,B=1;p<-Math.PI;)p+=n;for(;p>Math.PI;)p-=n;return n=Math.tan(p),p>-u&&p<=u?(B=-1,c=!0):p>u&&p<=Math.PI-u?B=-1:p>Math.PI-u||p<=-(Math.PI-u)?(A=-1,c=!0):A=-1,c?(k+=A*o,_+=B*o*n):(k+=r/(2*n)*A,_+=B*b),h.x!==O&&(k=h.x),h.y!==d&&(_=h.y),{x:k+a*Math.cos(p),y:_-a*Math.sin(p)}}}),K.prototype.callbacks.push(function(p){!1!==p.options.connectors.enabled&&(function w(p){(p.options.pathfinder||p.series.reduce(function(a,h){return h.options&&v(!0,h.options.connectors=h.options.connectors||{},h.options.pathfinder),a||h.options&&h.options.pathfinder},!1))&&(v(!0,p.options.connectors=p.options.connectors||{},p.options.pathfinder),l('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.'))}(p),this.pathfinder=new M(this),this.pathfinder.update(!0))}),M}),lt(F,"Series/Gantt/GanttSeries.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Series/Gantt/GanttPoint.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Axis/Tick.js"],F["Core/Utilities.js"],F["Core/Axis/TreeGridAxis.js"]],function(H,K,V,Q,W,Y,z){var g,I=this&&this.__extends||(g=function(v,S){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var x in C)C.hasOwnProperty(x)&&(f[x]=C[x])})(v,S)},function(v,S){function f(){this.constructor=v}g(v,S),v.prototype=null===S?Object.create(S):(f.prototype=S.prototype,new f)}),P=Q.series,w=Q.seriesTypes.xrange,E=Y.extend,s=Y.isNumber,l=Y.merge;return z.compose(H,K,P,W),H=function(g){function v(){var S=null!==g&&g.apply(this,arguments)||this;return S.data=void 0,S.options=void 0,S.points=void 0,S}return I(v,g),v.prototype.drawPoint=function(S,f){var C=this.options,x=this.chart.renderer,M=S.shapeArgs,a=S.graphic,h=S.selected&&"select",n=C.stacking&&!C.borderRadius;S.options.milestone?s(S.plotY)&&null!==S.y&&!1!==S.visible?(M=x.symbols.diamond(M.x||0,M.y||0,M.width||0,M.height||0),a?a[f]({d:M}):S.graphic=x.path(M).addClass(S.getClassName(),!0).add(S.group||this.group),this.chart.styledMode||S.graphic.attr(this.pointAttribs(S,h)).shadow(C.shadow,null,n)):a&&(S.graphic=a.destroy()):w.prototype.drawPoint.call(this,S,f)},v.prototype.translatePoint=function(S){if(w.prototype.translatePoint.call(this,S),S.options.milestone){var f=S.shapeArgs,C=f.height||0;S.shapeArgs={x:(f.x||0)-C/2,y:f.y,width:C,height:C}}},v.defaultOptions=l(w.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var S=this.series,f=S.xAxis,C=S.tooltipOptions.dateTimeLabelFormats,x=f.options.startOfWeek,M=S.tooltipOptions,p=M.xDateFormat,a=this.options.milestone,h="<b>"+(this.name||this.yCategory)+"</b>";return M.pointFormat?this.tooltipFormatter(M.pointFormat):(!p&&s(this.start)&&(p=S.chart.time.getDateFormat(f.closestPointRange,this.start,x,C||{})),f=S.chart.time.dateFormat(p,this.start),S=S.chart.time.dateFormat(p,this.end),h+="<br/>",a?h+(f+"<br/>"):h+"Start: "+f+"<br/>End: "+S+"<br/>")}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),v}(w),E(H.prototype,{pointArrayMap:["start","end","y"],pointClass:V,setData:P.prototype.setData}),Q.registerSeriesType("gantt",H),H}),lt(F,"Core/Chart/GanttChart.js",[F["Core/Chart/Chart.js"],F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K,V){var P,Q=this&&this.__extends||(P=function(w,E){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])})(w,E)},function(w,E){function s(){this.constructor=w}P(w,E),w.prototype=null===E?Object.create(E):(s.prototype=E.prototype,new s)}),W=K.getOptions,Y=V.isArray,z=V.merge,I=V.splat;return H=function(P){function w(){return null!==P&&P.apply(this,arguments)||this}return Q(w,P),w.prototype.init=function(E,s){var S,l=W(),g=E.xAxis,v=E.yAxis;E.xAxis=E.yAxis=void 0;var f=z(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},E,{isGantt:!0});E.xAxis=g,E.yAxis=v,f.xAxis=(Y(E.xAxis)?E.xAxis:[E.xAxis||{},{}]).map(function(C,x){return 1===x&&(S=0),z(l.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:S},C,{type:"datetime"})}),f.yAxis=I(E.yAxis||{}).map(function(C){return z(l.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:C.categories?C.type:"treegrid"},C)}),P.prototype.init.call(this,f,s)},w}(H),function(P){P.ganttChart=function(w,E,s){return new P(w,E,s)}}(H||(H={})),H}),lt(F,"Core/Axis/ScrollbarAxis.js",[F["Core/Utilities.js"]],function(H){var K=H.addEvent,V=H.defined,Q=H.pick;return function(){function W(){}return W.compose=function(Y,z){if(-1!==W.composed.indexOf(Y))return Y;W.composed.push(Y);var I=function(P){var w=Q(P.options&&P.options.min,P.min),E=Q(P.options&&P.options.max,P.max);return{axisMin:w,axisMax:E,scrollMin:V(P.dataMin)?Math.min(w,P.min,P.dataMin,Q(P.threshold,1/0)):w,scrollMax:V(P.dataMax)?Math.max(E,P.max,P.dataMax,Q(P.threshold,-1/0)):E}};return K(Y,"afterInit",function(){var P=this;P.options&&P.options.scrollbar&&P.options.scrollbar.enabled&&(P.options.scrollbar.vertical=!P.horiz,P.options.startOnTick=P.options.endOnTick=!1,P.scrollbar=new z(P.chart.renderer,P.options.scrollbar,P.chart),K(P.scrollbar,"changed",function(w){var E=I(P),s=E.axisMax,l=E.scrollMin,g=E.scrollMax-l;V(E.axisMin)&&V(s)&&(P.horiz&&!P.reversed||!P.horiz&&P.reversed?(E=l+g*this.to,l+=g*this.from):(E=l+g*(1-this.from),l+=g*(1-this.to)),this.shouldUpdateExtremes(w.DOMType)?P.setExtremes(l,E,!0,"mousemove"!==w.DOMType&&"touchmove"!==w.DOMType,w):this.setRange(this.from,this.to))}))}),K(Y,"afterRender",function(){var P=I(this),w=P.scrollMin,E=P.scrollMax,s=this.axisTitleMargin+(this.titleOffset||0),l=this.chart.scrollbarsOffsets,g=this.options.margin||0;(P=this.scrollbar)&&(this.horiz?(this.opposite||(l[1]+=s),P.position(this.left,this.top+this.height+2+l[1]-(this.opposite?g:0),this.width,this.height),this.opposite||(l[1]+=g),s=1):(this.opposite&&(l[0]+=s),P.position(P.options.opposite?this.left+this.width+2+l[0]-(this.opposite?0:g):this.opposite?0:g,this.top,this.width,this.height),this.opposite&&(l[0]+=g),s=0),l[s]+=P.size+P.options.margin,isNaN(w)||isNaN(E)||!V(this.min)||!V(this.max)||this.min===this.max?P.setRange(0,1):(l=(this.min-w)/(E-w),w=(this.max-w)/(E-w),this.horiz&&!this.reversed||!this.horiz&&this.reversed?P.setRange(l,w):P.setRange(1-w,1-l)))}),K(Y,"afterGetOffset",function(){var P=this.scrollbar&&!this.scrollbar.options.opposite;P=this.horiz?2:P?3:1;var w=this.scrollbar;w&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[P]+=w.size+w.options.margin)}),Y},W.composed=[],W}()}),lt(F,"Core/ScrollbarDefaults.js",[F["Core/Globals.js"]],function(H){return{height:H.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),lt(F,"Core/Scrollbar.js",[F["Core/DefaultOptions.js"],F["Core/Globals.js"],F["Core/Axis/ScrollbarAxis.js"],F["Core/ScrollbarDefaults.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.defaultOptions,z=W.addEvent,I=W.correctFloat,P=W.defined,w=W.destroyObjectProperties,E=W.fireEvent,s=W.merge,l=W.pick,g=W.removeEvent;return H=function(){function v(S,f,C){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(S,f,C)}return v.compose=function(S){V.compose(S,v)},v.swapXY=function(S,f){return f&&S.forEach(function(C){for(var M,x=C.length,p=0;p<x;p+=2)"number"==typeof(M=C[p+1])&&(C[p+1]=C[p+2],C[p+2]=M)}),S},v.prototype.addEvents=function(){var S=this.options.inverted?[1,0]:[0,1],f=this.scrollbarButtons,C=this.scrollbarGroup.element,x=this.track.element,M=this.mouseDownHandler.bind(this),p=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this);S=[[f[S[0]].element,"click",this.buttonToMinClick.bind(this)],[f[S[1]].element,"click",this.buttonToMaxClick.bind(this)],[x,"click",this.trackClick.bind(this)],[C,"mousedown",M],[C.ownerDocument,"mousemove",p],[C.ownerDocument,"mouseup",a]],K.hasTouch&&S.push([C,"touchstart",M],[C.ownerDocument,"touchmove",p],[C.ownerDocument,"touchend",a]),S.forEach(function(h){z.apply(null,h)}),this._events=S},v.prototype.buttonToMaxClick=function(S){var f=(this.to-this.from)*l(this.options.step,.2);this.updatePosition(this.from+f,this.to+f),E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})},v.prototype.buttonToMinClick=function(S){var f=I(this.to-this.from)*l(this.options.step,.2);this.updatePosition(I(this.from-f),I(this.to-f)),E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})},v.prototype.cursorToScrollbarPosition=function(S){var f=this.options;return{chartX:(S.chartX-this.x-this.xOffset)/(this.barWidth-(f=f.minWidth>this.calculatedWidth?f.minWidth:0)),chartY:(S.chartY-this.y-this.yOffset)/(this.barWidth-f)}},v.prototype.destroy=function(){var S=this,f=S.chart.scroller;S.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(C){S[C]&&S[C].destroy&&(S[C]=S[C].destroy())}),f&&S===f.scrollbar&&(f.scrollbar=null,w(f.scrollbarButtons))},v.prototype.drawScrollbarButton=function(S){var f=this.renderer,C=this.scrollbarButtons,x=this.options,M=this.size,p=f.g().add(this.group);C.push(p),p=f.rect().addClass("highcharts-scrollbar-button").add(p),this.chart.styledMode||p.attr({stroke:x.buttonBorderColor,"stroke-width":x.buttonBorderWidth,fill:x.buttonBackgroundColor}),p.attr(p.crisp({x:-.5,y:-.5,width:M+1,height:M+1,r:x.buttonBorderRadius},p.strokeWidth())),p=f.path(v.swapXY([["M",M/2+(S?-1:1),M/2-3],["L",M/2+(S?-1:1),M/2+3],["L",M/2+(S?2:-2),M/2]],x.vertical)).addClass("highcharts-scrollbar-arrow").add(C[S]),this.chart.styledMode||p.attr({fill:x.buttonArrowColor})},v.prototype.init=function(S,f,C){this.scrollbarButtons=[],this.renderer=S,this.userOptions=f,this.options=s(Q,Y.scrollbar,f),this.chart=C,this.size=l(this.options.size,this.options.height),f.enabled&&(this.render(),this.addEvents())},v.prototype.mouseDownHandler=function(S){S=this.chart.pointer.normalize(S),S=this.cursorToScrollbarPosition(S),this.chartX=S.chartX,this.chartY=S.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},v.prototype.mouseMoveHandler=function(S){var f=this.chart.pointer.normalize(S),C=this.options.vertical?"chartY":"chartX",x=this.initPositions||[];!this.grabbedCenter||S.touches&&0===S.touches[0][C]||(C=(f=this.cursorToScrollbarPosition(f)[C])-(C=this[C]),this.hasDragged=!0,this.updatePosition(x[0]+C,x[1]+C),this.hasDragged&&E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}))},v.prototype.mouseUpHandler=function(S){this.hasDragged&&E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},v.prototype.position=function(S,f,C,x){var M=this.options.vertical,p=this.rendered?"animate":"attr",a=0;this.x=S,this.y=f+this.trackBorderWidth,this.width=C,this.xOffset=this.height=x,this.yOffset=a,M?(this.width=this.yOffset=C=a=this.size,this.xOffset=f=0,this.barWidth=x-2*C,this.x=S+=this.options.margin):(this.height=this.xOffset=x=f=this.size,this.barWidth=C-2*x,this.y+=this.options.margin),this.group[p]({translateX:S,translateY:this.y}),this.track[p]({width:C,height:x}),this.scrollbarButtons[1][p]({translateX:M?0:C-f,translateY:M?x-a:0})},v.prototype.removeEvents=function(){this._events.forEach(function(S){g.apply(null,S)}),this._events.length=0},v.prototype.render=function(){var S=this.renderer,f=this.options,C=this.size,x=this.chart.styledMode,M=S.g("scrollbar").attr({zIndex:f.zIndex,translateY:-99999}).add();this.group=M,this.track=S.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:f.trackBorderRadius||0,height:C,width:C}).add(M),x||this.track.attr({fill:f.trackBackgroundColor,stroke:f.trackBorderColor,"stroke-width":f.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=S.g().add(M),this.scrollbar=S.rect().addClass("highcharts-scrollbar-thumb").attr({height:C,width:C,r:f.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=S.path(v.swapXY([["M",-3,C/4],["L",-3,2*C/3],["M",0,C/4],["L",0,2*C/3],["M",3,C/4],["L",3,2*C/3]],f.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),x||(this.scrollbar.attr({fill:f.barBackgroundColor,stroke:f.barBorderColor,"stroke-width":f.barBorderWidth}),this.scrollbarRifles.attr({stroke:f.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},v.prototype.setRange=function(S,f){var C=this.options,x=C.vertical,M=C.minWidth,p=this.barWidth,a=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(P(p)){var h=p*Math.min(f,1);S=Math.max(S,0);var n=Math.ceil(p*S);this.calculatedWidth=h=I(h-n),h<M&&(n=(p-M+h)*S,h=M),M=Math.floor(n+this.xOffset+this.yOffset),p=h/2-.5,this.from=S,this.to=f,x?(this.scrollbarGroup[a]({translateY:M}),this.scrollbar[a]({height:h}),this.scrollbarRifles[a]({translateY:p}),this.scrollbarTop=M,this.scrollbarLeft=0):(this.scrollbarGroup[a]({translateX:M}),this.scrollbar[a]({width:h}),this.scrollbarRifles[a]({translateX:p}),this.scrollbarLeft=M,this.scrollbarTop=0),12>=h?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===C.showFull&&(0>=S&&1<=f?this.group.hide():this.group.show()),this.rendered=!0}},v.prototype.shouldUpdateExtremes=function(S){return l(this.options.liveRedraw,K.svg&&!K.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===S||"touchend"===S||!P(S)},v.prototype.trackClick=function(S){var f=this.chart.pointer.normalize(S),C=this.to-this.from;this.options.vertical&&f.chartY>this.y+this.scrollbarTop||!this.options.vertical&&f.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+C,this.to+C):this.updatePosition(this.from-C,this.to-C),E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})},v.prototype.update=function(S){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,S),this.chart)},v.prototype.updatePosition=function(S,f){1<f&&(S=I(1-I(f-S)),f=1),0>S&&(f=I(f-S),S=0),this.from=S,this.to=f},v.defaultOptions=Q,v}(),Y.scrollbar=s(!0,H.defaultOptions,Y.scrollbar),H}),lt(F,"Extensions/RangeSelector.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var I=Q.defaultOptions,P=Y.addEvent,w=Y.createElement,E=Y.css,s=Y.defined,l=Y.destroyObjectProperties,g=Y.discardElement,v=Y.extend,S=Y.find,f=Y.fireEvent,C=Y.isNumber,x=Y.merge,M=Y.objectEach,p=Y.pad,a=Y.pick,h=Y.pInt,n=Y.splat;v(I,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}),v(I.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var d=function(){function u(c){this.buttons=void 0,this.buttonOptions=u.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=c,this.init(c)}return u.prototype.clickButton=function(c,b){var O=this.chart,k=this.buttonOptions[c],_=O.xAxis[0],A=O.scroller&&O.scroller.getUnionExtremes()||_||{},B=A.dataMin,m=A.dataMax,T=_&&Math.round(Math.min(_.max,a(m,_.max))),R=k.type;A=k._range;var j,X=k.dataGrouping;if(null!==B&&null!==m){if(O.fixedRange=A,this.setSelected(c),X&&(this.forcedDataGrouping=!0,H.prototype.setDataGrouping.call(_||{chart:this.chart},X,!1),this.frozenStates=k.preserveDataGrouping),"month"===R||"year"===R)if(_){var $=_.minFromRange.call(R={range:k,max:T,chart:O,dataMin:B,dataMax:m});C(R.newMax)&&(T=R.newMax)}else A=k;else if(A)$=Math.max(T-A,B),T=Math.min($+A,m);else if("ytd"===R){if(!_)return void(this.deferredYTDClick=c);void 0===m&&(B=Number.MAX_VALUE,m=Number.MIN_VALUE,O.series.forEach(function(Z){Z=Z.xData,B=Math.min(Z[0],B),m=Math.max(Z[Z.length-1],m)}),b=!1),$=j=(T=this.getYTDExtremes(m,B,O.time.useUTC)).min,T=T.max}else"all"===R&&_&&(O.navigator&&O.navigator.baseSeries[0]&&(O.navigator.baseSeries[0].xAxis.options.range=void 0),$=B,T=m);if(s($)&&($+=k._offsetMin),s(T)&&(T+=k._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=c+1),_)_.setExtremes($,T,a(b,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:k});else{var D=n(O.options.xAxis)[0],U=D.range;D.range=A;var N=D.min;D.min=j,P(O,"load",function(){D.range=U,D.min=N})}f(this,"afterBtnClick")}},u.prototype.setSelected=function(c){this.selected=this.options.selected=c},u.prototype.init=function(c){var b=this,O=c.options.rangeSelector,k=O.buttons||b.defaultButtons.slice(),_=O.selected,A=function(){var B=b.minInput,m=b.maxInput;B&&B.blur&&f(B,"blur"),m&&m.blur&&f(m,"blur")};b.chart=c,b.options=O,b.buttons=[],b.buttonOptions=k,this.eventsToUnbind=[],this.eventsToUnbind.push(P(c.container,"mousedown",A)),this.eventsToUnbind.push(P(c,"resize",A)),k.forEach(b.computeButtonRange),void 0!==_&&k[_]&&this.clickButton(_,!1),this.eventsToUnbind.push(P(c,"load",function(){c.xAxis&&c.xAxis[0]&&P(c.xAxis[0],"setExtremes",function(B){this.max-this.min!==c.fixedRange&&"rangeSelectorButton"!==B.trigger&&"updatedData"!==B.trigger&&b.forcedDataGrouping&&!b.frozenStates&&this.setDataGrouping(!1,!1)})}))},u.prototype.updateButtonStates=function(){var c=this,b=this.chart,O=this.dropdown,k=b.xAxis[0],_=Math.round(k.max-k.min),A=!k.hasVisibleSeries,B=b.scroller&&b.scroller.getUnionExtremes()||k,m=B.dataMin,T=B.dataMax,R=(b=c.getYTDExtremes(T,m,b.time.useUTC)).min,j=b.max,X=c.selected,$=C(X),D=c.options.allButtonsEnabled,U=c.buttons;c.buttonOptions.forEach(function(N,Z){var q=N._range,nt=N.type,it=N.count||1,ot=U[Z],at=0,mt=N._offsetMax-N._offsetMin;N=Z===X;var yt=q>T-m,vt=q<k.minRange,pt=!1,ct=!1;q=q===_,("month"===nt||"year"===nt)&&_+36e5>=864e5*{month:28,year:365}[nt]*it-mt&&_-36e5<=864e5*{month:31,year:366}[nt]*it+mt?q=!0:"ytd"===nt?(q=j-R+mt===_,pt=!N):"all"===nt&&(q=k.max-k.min>=T-m,ct=!N&&$&&q),it=N&&q||q&&!$&&!pt||N&&c.frozenStates,(nt=!D&&(yt||vt||ct||A))?at=3:it&&($=!0,at=2),ot.state!==at&&(ot.setState(at),O&&(O.options[Z+1].disabled=nt,2===at&&(O.selectedIndex=Z+1)),0===at&&X===Z&&c.setSelected())})},u.prototype.computeButtonRange=function(c){var b=c.type,O=c.count||1,k={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};k[b]?c._range=k[b]*O:("month"===b||"year"===b)&&(c._range=864e5*{month:30,year:365}[b]*O),c._offsetMin=a(c.offsetMin,0),c._offsetMax=a(c.offsetMax,0),c._range+=c._offsetMax-c._offsetMin},u.prototype.getInputValue=function(c){var O=this.chart.time;return(c="min"===c?this.minInput:this.maxInput)?("text"===c.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(c.value,O.useUTC,O):0},u.prototype.setInputValue=function(c,b){var O=this.options,k=this.chart.time,_="min"===c?this.minInput:this.maxInput;if(c="min"===c?this.minDateBox:this.maxDateBox,_){var A=_.getAttribute("data-hc-time");A=s(A)?Number(A):void 0,s(b)&&(s(A)&&_.setAttribute("data-hc-time-previous",A),_.setAttribute("data-hc-time",b),A=b),_.value=k.dateFormat(this.inputTypeFormats[_.type]||O.inputEditDateFormat,A),c&&c.attr({text:k.dateFormat(O.inputDateFormat,A)})}},u.prototype.setInputExtremes=function(c,b,O){if(c="min"===c?this.minInput:this.maxInput){var k=this.inputTypeFormats[c.type],_=this.chart.time;k&&(b=_.dateFormat(k,b),c.min!==b&&(c.min=b),O=_.dateFormat(k,O),c.max!==O&&(c.max=O))}},u.prototype.showInput=function(c){var b="min"===c?this.minDateBox:this.maxDateBox;if((c="min"===c?this.minInput:this.maxInput)&&b&&this.inputGroup){var O="text"===c.type,k=this.inputGroup,_=k.translateX;k=k.translateY;var A=this.options.inputBoxWidth;E(c,{width:O?b.width+(A?-2:20)+"px":"auto",height:O?b.height-2+"px":"auto",border:"2px solid silver"}),E(c,O&&A?{left:_+b.x+"px",top:k+"px"}:{left:Math.min(Math.round(b.x+_-(c.offsetWidth-b.width)/2),this.chart.chartWidth-c.offsetWidth)+"px",top:k-(c.offsetHeight-b.height)/2+"px"})}},u.prototype.hideInput=function(c){(c="min"===c?this.minInput:this.maxInput)&&E(c,{top:"-9999em",border:0,width:"1px",height:"1px"})},u.prototype.defaultInputDateParser=function(c,b,O){var _,k=c.split("/").join("-").split(" ").join("T");return-1===k.indexOf("T")&&(k+="T00:00"),b?k+="Z":((_=V.isSafari)&&(_=!(6<(_=k).length&&(_.lastIndexOf("-")===_.length-6||_.lastIndexOf("+")===_.length-6))),_&&(k+=0>=(_=new Date(k).getTimezoneOffset()/60)?"+"+p(-_)+":00":"-"+p(_)+":00")),k=Date.parse(k),C(k)||(c=c.split("-"),k=Date.UTC(h(c[0]),h(c[1])-1,h(c[2]))),O&&b&&C(k)&&(k+=O.getTimezoneOffset(k)),k},u.prototype.drawInput=function(c){function b(){var D=A.getInputValue(c),U=O.xAxis[0],N=O.scroller&&O.scroller.xAxis?O.scroller.xAxis:U,Z=N.dataMin;N=N.dataMax;var q=A.maxInput,nt=A.minInput;D!==Number(X.getAttribute("data-hc-time-previous"))&&C(D)&&(X.setAttribute("data-hc-time-previous",D),R&&q&&C(Z)?D>Number(q.getAttribute("data-hc-time"))?D=void 0:D<Z&&(D=Z):nt&&C(N)&&(D<Number(nt.getAttribute("data-hc-time"))?D=void 0:D>N&&(D=N)),void 0!==D&&U.setExtremes(R?D:U.min,R?U.max:D,void 0,void 0,{trigger:"rangeSelectorInput"}))}var O=this.chart,k=this.div,_=this.inputGroup,A=this,B=O.renderer.style||{},m=O.renderer,T=O.options.rangeSelector,R="min"===c,j=I.lang[R?"rangeSelectorFrom":"rangeSelectorTo"]||"";j=m.label(j,0).addClass("highcharts-range-label").attr({padding:j?2:0,height:j?T.inputBoxHeight:0}).add(_),m=m.label("",0).addClass("highcharts-range-input").attr({padding:2,width:T.inputBoxWidth,height:T.inputBoxHeight,"text-align":"center"}).on("click",function(){A.showInput(c),A[c+"Input"].focus()}),O.styledMode||m.attr({stroke:T.inputBoxBorderColor,"stroke-width":1}),m.add(_);var X=w("input",{name:c,className:"highcharts-range-selector"},void 0,k);X.setAttribute("type",function z(u){if(-1!==u.indexOf("%L"))return"text";var c="aAdewbBmoyY".split("").some(function(O){return-1!==u.indexOf("%"+O)}),b="HkIlMS".split("").some(function(O){return-1!==u.indexOf("%"+O)});return c&&b?"datetime-local":c?"date":b?"time":"text"}(T.inputDateFormat||"%b %e, %Y")),O.styledMode||(j.css(x(B,T.labelStyle)),m.css(x({color:"#333333"},B,T.inputStyle)),E(X,v({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:B.fontSize,fontFamily:B.fontFamily,top:"-9999em"},T.inputStyle))),X.onfocus=function(){A.showInput(c)},X.onblur=function(){X===V.doc.activeElement&&b(),A.hideInput(c),A.setInputValue(c),X.blur()};var $=!1;return X.onchange=function(){$||(b(),A.hideInput(c),X.blur())},X.onkeypress=function(D){13===D.keyCode&&b()},X.onkeydown=function(D){$=!0,38!==D.keyCode&&40!==D.keyCode||b()},X.onkeyup=function(){$=!1},{dateBox:m,input:X,label:j}},u.prototype.getPosition=function(){var c=this.chart,b=c.options.rangeSelector;return{buttonTop:(c="top"===b.verticalAlign?c.plotTop-c.axisOffset[0]:0)+b.buttonPosition.y,inputTop:c+b.inputPosition.y-10}},u.prototype.getYTDExtremes=function(c,b,O){var k=this.chart.time,_=new k.Date(c),A=k.get("FullYear",_);return O=O?k.Date.UTC(A,0,1):+new k.Date(A,0,1),b=Math.max(b,O),_=_.getTime(),{max:Math.min(c||_,_),min:b}},u.prototype.render=function(c,b){var O=this.chart,k=O.renderer,_=O.container,A=O.options,B=A.rangeSelector,m=a(A.chart.style&&A.chart.style.zIndex,0)+1;if(A=B.inputEnabled,!1!==B.enabled){if(this.rendered||(this.group=k.g("range-selector-group").attr({zIndex:7}).add(),this.div=w("div",void 0,{position:"relative",height:0,zIndex:m}),this.buttonOptions.length&&this.renderButtons(),_.parentNode&&_.parentNode.insertBefore(this.div,_),A&&(this.inputGroup=k.g("input-group").add(this.group),k=this.drawInput("min"),this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input,k=this.drawInput("max"),this.maxDateBox=k.dateBox,this.maxLabel=k.label,this.maxInput=k.input)),A&&(this.setInputValue("min",c),this.setInputValue("max",b),c=O.scroller&&O.scroller.getUnionExtremes()||O.xAxis[0]||{},s(c.dataMin)&&s(c.dataMax)&&(O=O.xAxis[0].minRange||0,this.setInputExtremes("min",c.dataMin,Math.min(c.dataMax,this.getInputValue("max"))-O),this.setInputExtremes("max",Math.max(c.dataMin,this.getInputValue("min"))+O,c.dataMax)),this.inputGroup)){var T=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(R){if(R){var j=R.getBBox().width;j&&(R.attr({x:T}),T+=j+B.inputSpacing)}})}this.alignElements(),this.rendered=!0}},u.prototype.renderButtons=function(){var c=this,b=this.buttons,O=this.options,k=I.lang,_=this.chart.renderer,A=x(O.buttonTheme),B=A&&A.states,m=A.width||28;delete A.width,delete A.states,this.buttonGroup=_.g("range-selector-buttons").add(this.group);var T=this.dropdown=w("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);P(T,"touchstart",function(){T.style.fontSize="16px"}),[[V.isMS?"mouseover":"mouseenter"],[V.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(R){var j=R[0],X=R[1];P(T,j,function(){var $=b[c.currentButtonIndex()];$&&f($.element,X||j)})}),this.zoomText=_.label(k&&k.rangeSelectorZoom||"",0).attr({padding:O.buttonTheme.padding,height:O.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(O.labelStyle),A["stroke-width"]=a(A["stroke-width"],0)),w("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,T),this.buttonOptions.forEach(function(R,j){w("option",{textContent:R.title||R.text},void 0,T),b[j]=_.button(R.text,0,0,function(X){var D,$=R.events&&R.events.click;$&&(D=$.call(R,X)),!1!==D&&c.clickButton(j),c.isActive=!0},A,B&&B.hover,B&&B.select,B&&B.disabled).attr({"text-align":"center",width:m}).add(c.buttonGroup),R.title&&b[j].attr("title",R.title)})},u.prototype.alignElements=function(){var c=this,b=this.buttonGroup,O=this.buttons,k=this.chart,_=this.group,A=this.inputGroup,B=this.options,m=this.zoomText,T=k.options,R=T.exporting&&!1!==T.exporting.enabled&&T.navigation&&T.navigation.buttonOptions;T=B.buttonPosition;var j=B.inputPosition,X=B.verticalAlign,$=function(Z,q){return R&&c.titleCollision(k)&&"top"===X&&"right"===q.align&&q.y-Z.getBBox().height-12<(R.y||0)+(R.height||0)+k.spacing[0]?-40:0},D=k.plotLeft;if(_&&T&&j){var U=T.x-k.spacing[3];if(b){if(this.positionButtons(),!this.initialButtonGroupWidth){var N=0;m&&(N+=m.getBBox().width+5),O.forEach(function(Z,q){N+=Z.width,q!==O.length-1&&(N+=B.buttonSpacing)}),this.initialButtonGroupWidth=N}D-=k.spacing[3],this.updateButtonStates(),m=$(b,T),this.alignButtonGroup(m),_.placed=b.placed=k.hasLoaded}b=0,A&&(b=$(A,j),"left"===j.align?U=D:"right"===j.align&&(U=-Math.max(k.axisOffset[1],-b)),A.align({y:j.y,width:A.getBBox().width,align:j.align,x:j.x+U-2},!0,k.spacingBox),A.placed=k.hasLoaded),this.handleCollision(b),_.align({verticalAlign:X},!0,k.spacingBox),A=_.alignAttr.translateY,b=_.getBBox().height+20,$=0,"bottom"===X&&($=A-(b=b+($=($=k.legend&&k.legend.options)&&"bottom"===$.verticalAlign&&$.enabled&&!$.floating?k.legend.legendHeight+a($.margin,10):0)-20)-(B.floating?0:B.y)-(k.titleOffset?k.titleOffset[2]:0)-10),"top"===X?(B.floating&&($=0),k.titleOffset&&k.titleOffset[0]&&($=k.titleOffset[0]),$+=k.margin[0]-k.spacing[0]||0):"middle"===X&&(j.y===T.y?$=A:(j.y||T.y)&&($=0>j.y||0>T.y?$-Math.min(j.y,T.y):A-b)),_.translate(B.x,B.y+Math.floor($)),T=this.minInput,j=this.maxInput,A=this.dropdown,B.inputEnabled&&T&&j&&(T.style.marginTop=_.translateY+"px",j.style.marginTop=_.translateY+"px"),A&&(A.style.marginTop=_.translateY+"px")}},u.prototype.alignButtonGroup=function(c,b){var O=this.chart,k=this.buttonGroup,_=this.options.buttonPosition,A=O.plotLeft-O.spacing[3],B=_.x-O.spacing[3];"right"===_.align?B+=c-A:"center"===_.align&&(B-=A/2),k&&k.align({y:_.y,width:a(b,this.initialButtonGroupWidth),align:_.align,x:B},!0,O.spacingBox)},u.prototype.positionButtons=function(){var c=this.buttons,b=this.chart,O=this.options,k=this.zoomText,_=b.hasLoaded?"animate":"attr",A=O.buttonPosition,B=b.plotLeft,m=B;k&&"hidden"!==k.visibility&&(k[_]({x:a(B+A.x,B)}),m+=A.x+k.getBBox().width+5),this.buttonOptions.forEach(function(T,R){"hidden"!==c[R].visibility?(c[R][_]({x:m}),m+=c[R].width+O.buttonSpacing):c[R][_]({x:B})})},u.prototype.handleCollision=function(c){var b=this,O=this.chart,k=this.buttonGroup,_=this.inputGroup,A=this.options,B=A.buttonPosition,m=A.dropdown,T=A.inputPosition;A=function(){var X=0;return b.buttons.forEach(function($){($=$.getBBox()).width>X&&(X=$.width)}),X};var R=function(X){if(_&&k){var $=_.alignAttr.translateX+_.alignOptions.x-c+_.getBBox().x+2,D=_.alignOptions.width,U=k.alignAttr.translateX+k.getBBox().x;return U+X>$&&$+D>U&&B.y<T.y+_.getBBox().height}return!1},j=function(){_&&k&&_.attr({translateX:_.alignAttr.translateX+(O.axisOffset[1]>=-c?0:-c),translateY:_.alignAttr.translateY+k.getBBox().height+10})};if(k){if("always"===m)return this.collapseButtons(c),void(R(A())&&j());"never"===m&&this.expandButtons()}_&&k?T.align===B.align||R(this.initialButtonGroupWidth+20)?"responsive"===m?(this.collapseButtons(c),R(A())&&j()):j():"responsive"===m&&this.expandButtons():k&&"responsive"===m&&(this.initialButtonGroupWidth>O.plotWidth?this.collapseButtons(c):this.expandButtons())},u.prototype.collapseButtons=function(c){var b=this.buttons,O=this.buttonOptions,k=this.chart,_=this.dropdown,A=this.options,B=this.zoomText,m=k.userOptions.rangeSelector&&k.userOptions.rangeSelector.buttonTheme||{},T=function(j){return{text:j?j+" \u25be":"\u25be",width:"auto",paddingLeft:a(A.buttonTheme.paddingLeft,m.padding,8),paddingRight:a(A.buttonTheme.paddingRight,m.padding,8)}};B&&B.hide();var R=!1;O.forEach(function(j,X){2!==(X=b[X]).state?X.hide():(X.show(),X.attr(T(j.text)),R=!0)}),R||(_&&(_.selectedIndex=0),b[0].show(),b[0].attr(T(this.zoomText&&this.zoomText.textStr))),O=A.buttonPosition.align,this.positionButtons(),"right"!==O&&"center"!==O||this.alignButtonGroup(c,b[this.currentButtonIndex()].getBBox().width),this.showDropdown()},u.prototype.expandButtons=function(){var c=this.buttons,b=this.buttonOptions,O=this.options,k=this.zoomText;this.hideDropdown(),k&&k.show(),b.forEach(function(_,A){(A=c[A]).show(),A.attr({text:_.text,width:O.buttonTheme.width||28,paddingLeft:a(O.buttonTheme.paddingLeft,"unset"),paddingRight:a(O.buttonTheme.paddingRight,"unset")}),2>A.state&&A.setState(0)}),this.positionButtons()},u.prototype.currentButtonIndex=function(){var c=this.dropdown;return c&&0<c.selectedIndex?c.selectedIndex-1:0},u.prototype.showDropdown=function(){var c=this.buttonGroup,b=this.buttons,O=this.chart,k=this.dropdown;if(c&&k){var _=c.translateX;c=c.translateY,b=b[this.currentButtonIndex()].getBBox(),E(k,{left:O.plotLeft+_+"px",top:c+.5+"px",width:b.width+"px",height:b.height+"px"}),this.hasVisibleDropdown=!0}},u.prototype.hideDropdown=function(){var c=this.dropdown;c&&(E(c,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},u.prototype.getHeight=function(){var c=this.options,b=this.group,O=c.y,k=c.buttonPosition.y,_=c.inputPosition.y;return c.height?c.height:(this.alignElements(),c=b?b.getBBox(!0).height+13+O:0,b=Math.min(_,k),(0>_&&0>k||0<_&&0<k)&&(c+=Math.abs(b)),c)},u.prototype.titleCollision=function(c){return!(c.options.title.text||c.options.subtitle.text)},u.prototype.update=function(c){var b=this.chart;x(!0,b.options.rangeSelector,c),this.destroy(),this.init(b),this.render()},u.prototype.destroy=function(){var c=this,b=c.minInput,O=c.maxInput;c.eventsToUnbind&&(c.eventsToUnbind.forEach(function(k){return k()}),c.eventsToUnbind=void 0),l(c.buttons),b&&(b.onfocus=b.onblur=b.onchange=null),O&&(O.onfocus=O.onblur=O.onchange=null),M(c,function(k,_){k&&"chart"!==_&&(k instanceof W?k.destroy():k instanceof window.HTMLElement&&g(k)),k!==u.prototype[_]&&(c[_]=null)},this)},u}();if(d.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],d.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},H.prototype.minFromRange=function(){var u=this.range,c=u.type,b=this.max,O=this.chart.time,k=function(m,T){var R="year"===c?"FullYear":"Month",j=new O.Date(m),X=O.get(R,j);return O.set(R,j,X+T),X===O.get(R,j)&&O.set("Date",j,0),j.getTime()-m};if(C(u))var _=b-u,A=u;else _=b+k(b,-u.count),this.chart&&(this.chart.fixedRange=b-_);var B=a(this.dataMin,Number.MIN_VALUE);return C(_)||(_=B),_<=B&&(_=B,void 0===A&&(A=k(_,u.count)),this.newMax=Math.min(_+A,this.dataMax)),C(b)||(_=void 0),_},!V.RangeSelector){var o=[],r=function(u){function c(){O&&(b=u.xAxis[0].getExtremes(),k=u.legend,A=O&&O.options.verticalAlign,C(b.min)&&O.render(b.min,b.max),k.display&&"top"===A&&A===k.options.verticalAlign&&((_=x(u.spacingBox)).y="vertical"===k.options.layout?u.plotTop:_.y+O.getHeight(),k.group.placed=!1,k.align(_)))}var b,k,_,A,O=u.rangeSelector;O&&(S(o,function(B){return B[0]===u})||o.push([u,[P(u.xAxis[0],"afterSetExtremes",function(B){O&&O.render(B.min,B.max)}),P(u,"redraw",c)]]),c())};P(K,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new d(this))}),P(K,"beforeRender",function(){var u=this.axes,c=this.rangeSelector;c&&(C(c.deferredYTDClick)&&(c.clickButton(c.deferredYTDClick),delete c.deferredYTDClick),u.forEach(function(b){b.updateNames(),b.setScale()}),this.getAxisMargins(),c.render(),u=c.options.verticalAlign,c.options.floating||("bottom"===u?this.extraBottomMargin=!0:"middle"!==u&&(this.extraTopMargin=!0)))}),P(K,"update",function(u){var c=u.options.rangeSelector;u=this.rangeSelector;var b=this.extraBottomMargin,O=this.extraTopMargin;c&&c.enabled&&!s(u)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=u=new d(this)),this.extraTopMargin=this.extraBottomMargin=!1,u&&(r(this),c=c&&c.verticalAlign||u.options&&u.options.verticalAlign,u.options.floating||("bottom"===c?this.extraBottomMargin=!0:"middle"!==c&&(this.extraTopMargin=!0)),this.extraBottomMargin!==b||this.extraTopMargin!==O)&&(this.isDirtyBox=!0)}),P(K,"render",function(){var u=this.rangeSelector;u&&!u.options.floating&&(u.render(),"bottom"===(u=u.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==u&&(this.extraTopMargin=!0))}),P(K,"getMargins",function(){var u=this.rangeSelector;u&&(u=u.getHeight(),this.extraTopMargin&&(this.plotTop+=u),this.extraBottomMargin&&(this.marginBottom+=u))}),K.prototype.callbacks.push(r),P(K,"destroy",function(){for(var u=0;u<o.length;u++){var c=o[u];if(c[0]===this){c[1].forEach(function(b){return b()}),o.splice(u,1);break}}}),V.RangeSelector=d}return d}),lt(F,"Core/Axis/NavigatorAxis.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.isTouchDevice,Q=K.addEvent,W=K.correctFloat,Y=K.defined,z=K.isNumber,I=K.pick,P=function(){function w(E){this.axis=E}return w.prototype.destroy=function(){this.axis=void 0},w.prototype.toFixedRange=function(E,s,l,g){var v=this.axis,S=v.chart;S=S&&S.fixedRange;var f=(v.pointRange||0)/2;return E=I(l,v.translate(E,!0,!v.horiz)),s=I(g,v.translate(s,!0,!v.horiz)),v=S&&(s-E)/S,Y(l)||(E=W(E+f)),Y(g)||(s=W(s-f)),.7<v&&1.3>v&&(g?E=s-S:s=E+S),z(E)&&z(s)||(E=s=void 0),{min:E,max:s}},w}();return function(){function w(){}return w.compose=function(E){E.keepProps.push("navigatorAxis"),Q(E,"init",function(){this.navigatorAxis||(this.navigatorAxis=new P(this))}),Q(E,"zoom",function(s){var l=this.chart.options,g=l.navigator,v=this.navigatorAxis,S=l.chart.pinchType,f=l.rangeSelector;l=l.chart.zoomType,this.isXAxis&&(g&&g.enabled||f&&f.enabled)&&("y"===l?s.zoomed=!1:(!V&&"xy"===l||V&&"xy"===S)&&this.options.range&&(g=v.previousZoom,Y(s.newMin)?v.previousZoom=[this.min,this.max]:g&&(s.newMin=g[0],s.newMax=g[1],v.previousZoom=void 0))),void 0!==s.zoomed&&s.preventDefault()})},w.AdditionsClass=P,w}()}),lt(F,"Core/Navigator.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Axis/NavigatorAxis.js"],F["Core/DefaultOptions.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Scrollbar.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E){var s=Q.hasTouch,l=Q.isTouchDevice,g=Y.defaultOptions,v=E.addEvent,S=E.clamp,f=E.correctFloat,C=E.defined,x=E.destroyObjectProperties,M=E.erase,p=E.extend,a=E.find,h=E.isArray,n=E.isNumber,d=E.merge,o=E.pick,r=E.removeEvent,u=E.splat,c=function(O){for(var k=[],_=1;_<arguments.length;_++)k[_-1]=arguments[_];if((k=[].filter.call(k,n)).length)return Math[O].apply(0,k)};Y=void 0===w.seriesTypes.areaspline?"line":"areaspline",p(g,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:(V=V.parse)("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:Y,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),z.getRendererType().prototype.symbols["navigator-handle"]=function(O,k,_,A,B){return O=(B&&B.width||0)/2,k=Math.round(O/3)+.5,[["M",-O-1,.5],["L",O,.5],["L",O,(B=B&&B.height||0)+.5],["L",-O-1,B+.5],["L",-O-1,.5],["M",-k,4],["L",-k,B-3],["M",k-1,4],["L",k-1,B-3]]};var b=function(){function O(k){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(k)}return O.prototype.drawHandle=function(k,_,A,B){var m=this.navigatorOptions.handles.height;this.handles[_][B](A?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(k,10)+.5-m)}:{translateX:Math.round(this.left+parseInt(k,10)),translateY:Math.round(this.top+this.height/2-m/2-1)})},O.prototype.drawOutline=function(k,_,A,B){var m=this.navigatorOptions.maskInside,T=this.outline.strokeWidth(),R=T/2,j=T%2/2;T=this.outlineHeight;var X=this.scrollbarHeight||0,$=this.size,D=this.left-X,U=this.top;A?(j=[["M",(D-=R)+T,U-X-j],["L",D+T,A=U+_+j],["L",D,A],["L",D,_=U+k+j],["L",D+T,_],["L",D+T,U+$+X]],m&&j.push(["M",D+T,A-R],["L",D+T,_+R])):(j=[["M",D,U+=R],["L",k+=D+X-j,U],["L",k,U+T],["L",_+=D+X-j,U+T],["L",_,U],["L",D+$+2*X,U]],m&&j.push(["M",k-R,U],["L",_+R,U])),this.outline[B]({d:j})},O.prototype.drawMasks=function(k,_,A,B){var m=this.left,T=this.top,R=this.height;if(A)var j=[m,m,m],X=[T,T+k,T+_],$=[R,R,R],D=[k,_-k,this.size-_];else j=[m,m+k,m+_],X=[T,T,T],$=[k,_-k,this.size-_],D=[R,R,R];this.shades.forEach(function(U,N){U[B]({x:j[N],y:X[N],width:$[N],height:D[N]})})},O.prototype.renderElements=function(){var T,k=this,_=k.navigatorOptions,A=_.maskInside,B=k.chart,m=B.renderer,R={cursor:B.inverted?"ns-resize":"ew-resize"};k.navigatorGroup=T=m.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!A,A,!A].forEach(function(j,X){k.shades[X]=m.rect().addClass("highcharts-navigator-mask"+(1===X?"-inside":"-outside")).add(T),B.styledMode||k.shades[X].attr({fill:j?_.maskFill:"rgba(0,0,0,0)"}).css(1===X&&R)}),k.outline=m.path().addClass("highcharts-navigator-outline").add(T),B.styledMode||k.outline.attr({"stroke-width":_.outlineWidth,stroke:_.outlineColor}),_.handles.enabled&&[0,1].forEach(function(j){if(_.handles.inverted=B.inverted,k.handles[j]=m.symbol(_.handles.symbols[j],-_.handles.width/2-1,0,_.handles.width,_.handles.height,_.handles),k.handles[j].attr({zIndex:7-j}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][j]).add(T),!B.styledMode){var X=_.handles;k.handles[j].attr({fill:X.backgroundColor,stroke:X.borderColor,"stroke-width":X.lineWidth}).css(R)}})},O.prototype.update=function(k){(this.series||[]).forEach(function(_){_.baseSeries&&delete _.baseSeries.navigatorSeries}),this.destroy(),d(!0,this.chart.options.navigator,this.options,k),this.init(this.chart)},O.prototype.render=function(k,_,A,B){var R,U,m=this.chart,T=this.scrollbarHeight,j=this.xAxis,X=j.pointRange||0,$=j.navigatorAxis.fake?m.xAxis[0]:j,D=this.navigatorEnabled,N=this.rendered,Z=m.inverted,q=m.xAxis[0].minRange,nt=m.xAxis[0].options.maxRange;if(!this.hasDragged||C(A)){if(k=f(k-X/2),_=f(_+X/2),!n(k)||!n(_)){if(!N)return;A=0,B=o(j.width,$.width)}this.left=o(j.left,m.plotLeft+T+(Z?m.plotWidth:0)),this.size=U=R=o(j.len,(Z?m.plotHeight:m.plotWidth)-2*T),m=Z?T:R+2*T,A=o(A,j.toPixels(k,!0)),B=o(B,j.toPixels(_,!0)),n(A)&&Math.abs(A)!==1/0||(A=0,B=m),k=j.toValue(A,!0),_=j.toValue(B,!0);var it=Math.abs(f(_-k));it<q?this.grabbedLeft?A=j.toPixels(_-q-X,!0):this.grabbedRight&&(B=j.toPixels(k+q+X,!0)):C(nt)&&f(it-X)>nt&&(this.grabbedLeft?A=j.toPixels(_-nt-X,!0):this.grabbedRight&&(B=j.toPixels(k+nt+X,!0))),this.zoomedMax=S(Math.max(A,B),0,U),this.zoomedMin=S(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(A,B),0,U),this.range=this.zoomedMax-this.zoomedMin,U=Math.round(this.zoomedMax),A=Math.round(this.zoomedMin),D&&(this.navigatorGroup.attr({visibility:"visible"}),this.drawMasks(A,U,Z,N=N&&!this.hasDragged?"animate":"attr"),this.drawOutline(A,U,Z,N),this.navigatorOptions.handles.enabled&&(this.drawHandle(A,0,Z,N),this.drawHandle(U,1,Z,N))),this.scrollbar&&(Z?(Z=this.top-T,$=this.left-T+(D||!$.opposite?0:($.titleOffset||0)+$.axisTitleMargin),T=R+2*T):(Z=this.top+(D?this.height:-T),$=this.left-T),this.scrollbar.position($,Z,m,T),this.scrollbar.setRange(this.zoomedMin/(R||1),this.zoomedMax/(R||1))),this.rendered=!0}},O.prototype.addMouseEvents=function(){var m,T,k=this,_=k.chart,A=_.container,B=[];k.mouseMoveHandler=m=function(R){k.onMouseMove(R)},k.mouseUpHandler=T=function(R){k.onMouseUp(R)},(B=k.getPartsEvents("mousedown")).push(v(_.renderTo,"mousemove",m),v(A.ownerDocument,"mouseup",T)),s&&(B.push(v(_.renderTo,"touchmove",m),v(A.ownerDocument,"touchend",T)),B.concat(k.getPartsEvents("touchstart"))),k.eventsToUnbind=B,k.series&&k.series[0]&&B.push(v(k.series[0].xAxis,"foundExtremes",function(){_.navigator.modifyNavigatorAxisExtremes()}))},O.prototype.getPartsEvents=function(k){var _=this,A=[];return["shades","handles"].forEach(function(B){_[B].forEach(function(m,T){A.push(v(m.element,k,function(R){_[B+"Mousedown"](R,T)}))})}),A},O.prototype.shadesMousedown=function(k,_){k=this.chart.pointer.normalize(k);var A=this.chart,B=this.xAxis,m=this.zoomedMin,T=this.left,R=this.size,j=this.range,X=k.chartX;if(A.inverted&&(X=k.chartY,T=this.top),1===_)this.grabbedCenter=X,this.fixedWidth=j,this.dragOffset=X-m;else{if(k=X-T-j/2,0===_)k=Math.max(0,k);else if(2===_&&k+j>=R)if(k=R-j,this.reversedExtremes){k-=j;var $=this.getUnionExtremes().dataMin}else var D=this.getUnionExtremes().dataMax;k!==m&&(this.fixedWidth=j,_=B.navigatorAxis.toFixedRange(k,k+j,$,D),C(_.min)&&A.xAxis[0].setExtremes(Math.min(_.min,_.max),Math.max(_.min,_.max),!0,null,{trigger:"navigator"}))}},O.prototype.handlesMousedown=function(k,_){this.chart.pointer.normalize(k);var A=(k=this.chart).xAxis[0],B=this.reversedExtremes;0===_?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=B?A.min:A.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=B?A.max:A.min),k.fixedRange=null},O.prototype.onMouseMove=function(k){var _=this,A=_.chart,B=_.left,m=_.navigatorSize,T=_.range,R=_.dragOffset,j=A.inverted;k.touches&&0===k.touches[0].pageX||(k=A.pointer.normalize(k),A=k.chartX,j&&(B=_.top,A=k.chartY),_.grabbedLeft?(_.hasDragged=!0,_.render(0,0,A-B,_.otherHandlePos)):_.grabbedRight?(_.hasDragged=!0,_.render(0,0,_.otherHandlePos,A-B)):_.grabbedCenter&&(_.hasDragged=!0,A<R?A=R:A>m+R-T&&(A=m+R-T),_.render(0,0,A-R,A-R+T)),_.hasDragged&&_.scrollbar&&o(_.scrollbar.options.liveRedraw,Q.svg&&!l&&!this.chart.isBoosting)&&(k.DOMType=k.type,setTimeout(function(){_.onMouseUp(k)},0)))},O.prototype.onMouseUp=function(k){var _=this.chart,A=this.xAxis,B=this.scrollbar,m=k.DOMEvent||k,T=_.inverted,R=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!B||!B.hasDragged)||"scrollbar"===k.trigger){if(B=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var j=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var X=this.fixedExtreme;this.zoomedMax===this.size&&(X=this.reversedExtremes?B.dataMin:B.dataMax),0===this.zoomedMin&&(j=this.reversedExtremes?B.dataMax:B.dataMin),A=A.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,j,X),C(A.min)&&_.xAxis[0].setExtremes(Math.min(A.min,A.max),Math.max(A.min,A.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:m})}"mousemove"!==k.DOMType&&"touchmove"!==k.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&n(this.zoomedMin)&&n(this.zoomedMax)&&(_=Math.round(this.zoomedMin),k=Math.round(this.zoomedMax),this.shades&&this.drawMasks(_,k,T,R),this.outline&&this.drawOutline(_,k,T,R),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(_,0,T,R),this.drawHandle(k,1,T,R)))},O.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(k){k()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},O.prototype.removeBaseSeriesEvents=function(){var k=this.baseSeries||[];this.navigatorEnabled&&k[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&k.forEach(function(_){r(_,"updatedData",this.updatedDataHandler)},this),k[0].xAxis&&r(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},O.prototype.init=function(k){var _=k.options,A=_.navigator,B=A.enabled,m=_.scrollbar,T=m.enabled;_=B?A.height:0;var R=T?m.height:0;this.handles=[],this.shades=[],this.chart=k,this.setBaseSeries(),this.height=_,this.scrollbarHeight=R,this.scrollbarEnabled=T,this.navigatorEnabled=B,this.navigatorOptions=A,this.scrollbarOptions=m,this.outlineHeight=_+R,this.opposite=o(A.opposite,!(B||!k.inverted));var j=this;m=k.xAxis.length,T=k.yAxis.length;var X=(B=j.baseSeries)&&B[0]&&B[0].xAxis||k.xAxis[0]||{options:{}};k.isDirtyBox=!0,j.navigatorEnabled?(j.xAxis=new H(k,d({breaks:X.options.breaks,ordinal:X.options.ordinal},A.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:m,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},k.inverted?{offsets:[R,0,-R,0],width:_}:{offsets:[0,-R,0,R],height:_})),j.yAxis=new H(k,d(A.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:T,isInternal:!0,reversed:o(A.yAxis&&A.yAxis.reversed,k.yAxis[0]&&k.yAxis[0].reversed,!1),zoomEnabled:!1},k.inverted?{width:_}:{height:_})),B||A.series.data?j.updateNavigatorSeries(!1):0===k.series.length&&(j.unbindRedraw=v(k,"beforeRedraw",function(){0<k.series.length&&!j.series&&(j.setBaseSeries(),j.unbindRedraw())})),j.reversedExtremes=k.inverted&&!j.xAxis.reversed||!k.inverted&&j.xAxis.reversed,j.renderElements(),j.addMouseEvents()):(j.xAxis={chart:k,navigatorAxis:{fake:!0},translate:function($,D){var U=k.xAxis[0],N=U.getExtremes(),Z=U.len-2*R,q=c("min",U.options.min,N.dataMin);return U=c("max",U.options.max,N.dataMax)-q,D?$*U/Z+q:Z*($-q)/U},toPixels:function($){return this.translate($)},toValue:function($){return this.translate($,!0)}},j.xAxis.navigatorAxis.axis=j.xAxis,j.xAxis.navigatorAxis.toFixedRange=W.AdditionsClass.prototype.toFixedRange.bind(j.xAxis.navigatorAxis)),k.options.scrollbar.enabled&&(k.scrollbar=j.scrollbar=new I(k.renderer,d(k.options.scrollbar,{margin:j.navigatorEnabled?0:10,vertical:k.inverted}),k),v(j.scrollbar,"changed",function($){var D=j.size,U=D*this.to;D*=this.from,j.hasDragged=j.scrollbar.hasDragged,j.render(0,0,D,U),this.shouldUpdateExtremes($.DOMType)&&setTimeout(function(){j.onMouseUp($)})})),j.addBaseSeriesEvents(),j.addChartEvents()},O.prototype.getUnionExtremes=function(k){var T,_=this.chart.xAxis[0],A=this.xAxis,B=A.options,m=_.options;return k&&null===_.dataMin||(T={dataMin:o(B&&B.min,c("min",m.min,_.dataMin,A.dataMin,A.min)),dataMax:o(B&&B.max,c("max",m.max,_.dataMax,A.dataMax,A.max))}),T},O.prototype.setBaseSeries=function(k,_){var A=this.chart,B=this.baseSeries=[];k=k||A.options&&A.options.navigator.baseSeries||(A.series.length?a(A.series,function(m){return!m.options.isInternal}).index:0),(A.series||[]).forEach(function(m,T){m.options.isInternal||!m.options.showInNavigator&&(T!==k&&m.options.id!==k||!1===m.options.showInNavigator)||B.push(m)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,_)},O.prototype.updateNavigatorSeries=function(k,_){var T,R,X,A=this,B=A.chart,m=A.baseSeries,j=A.navigatorOptions.series,$={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},D=A.series=(A.series||[]).filter(function(U){var N=U.baseSeries;return!(0>m.indexOf(N)&&(N&&(r(N,"updatedData",A.updatedDataHandler),delete N.navigatorSeries),U.chart&&U.destroy(),1))});m&&m.length&&m.forEach(function(U){var N=U.navigatorSeries,Z=p({color:U.color,visible:U.visible},h(j)?g.navigator.series:j);N&&!1===A.navigatorOptions.adaptToUpdatedData||($.name="Navigator "+m.length,X=(T=U.options||{}).navigatorOptions||{},Z.dataLabels=u(Z.dataLabels),(R=d(T,$,Z,X)).pointRange=o(Z.pointRange,X.pointRange,g.plotOptions[R.type||"line"].pointRange),Z=X.data||Z.data,A.hasNavigatorData=A.hasNavigatorData||!!Z,R.data=Z||T.data&&T.data.slice(0),N&&N.options?N.update(R,_):(U.navigatorSeries=B.initSeries(R),U.navigatorSeries.baseSeries=U,D.push(U.navigatorSeries)))}),(j.data&&(!m||!m.length)||h(j))&&(A.hasNavigatorData=!1,(j=u(j)).forEach(function(U,N){$.name="Navigator "+(D.length+1),(R=d(g.navigator.series,{color:B.series[N]&&!B.series[N].options.isInternal&&B.series[N].color||B.options.colors[N]||B.options.colors[0]},$,U)).data=U.data,R.data&&(A.hasNavigatorData=!0,D.push(B.initSeries(R)))})),k&&this.addBaseSeriesEvents()},O.prototype.addBaseSeriesEvents=function(){var k=this,_=k.baseSeries||[];_[0]&&_[0].xAxis&&_[0].eventsToUnbind.push(v(_[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),_.forEach(function(A){A.eventsToUnbind.push(v(A,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),A.eventsToUnbind.push(v(A,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&A.xAxis&&A.eventsToUnbind.push(v(A,"updatedData",this.updatedDataHandler)),A.eventsToUnbind.push(v(A,"remove",function(){this.navigatorSeries&&(M(k.series,this.navigatorSeries),C(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))},this)},O.prototype.getBaseSeriesMin=function(k){return this.baseSeries.reduce(function(_,A){return Math.min(_,A.xData?A.xData[0]:_)},k)},O.prototype.modifyNavigatorAxisExtremes=function(){var _,k=this.xAxis;void 0!==k.getExtremes&&(!(_=this.getUnionExtremes(!0))||_.dataMin===k.min&&_.dataMax===k.max||(k.min=_.dataMin,k.max=_.dataMax))},O.prototype.modifyBaseAxisExtremes=function(){var k=this.chart.navigator,_=this.getExtremes(),A=_.dataMin,B=_.dataMax;_=_.max-_.min;var m=k.stickToMin,T=k.stickToMax,R=o(this.options.overscroll,0),j=k.series&&k.series[0],X=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(m)var $=A,D=$+_;T&&(D=B+R,m||($=Math.max(A,D-_,k.getBaseSeriesMin(j&&j.xData?j.xData[0]:-Number.MAX_VALUE)))),X&&(m||T)&&n($)&&(this.min=this.userMin=$,this.max=this.userMax=D)}k.stickToMin=k.stickToMax=null},O.prototype.updatedDataHandler=function(){var k=this.chart.navigator,_=this.navigatorSeries;k.stickToMax=k.reversedExtremes?0===Math.round(k.zoomedMin):Math.round(k.zoomedMax)>=Math.round(k.size),k.stickToMin=k.shouldStickToMin(this,k),_&&!k.hasNavigatorData&&(_.options.pointStart=this.xData[0],_.setData(this.options.data,!1,null,!1))},O.prototype.shouldStickToMin=function(k,_){_=_.getBaseSeriesMin(k.xData[0]);var A=k.xAxis;k=A.max;var B=A.min;return A=A.options.range,!(!n(k)||!n(B))&&(A&&0<k-_?k-_<A:B<=_)},O.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(v(this.chart,"redraw",function(){var k=this.navigator,_=k&&(k.baseSeries&&k.baseSeries[0]&&k.baseSeries[0].xAxis||this.xAxis[0]);_&&k.render(_.min,_.max)}),v(this.chart,"getMargins",function(){var k=this.navigator,_=k.opposite?"plotTop":"marginBottom";this.inverted&&(_=k.opposite?"marginRight":"plotLeft"),this[_]=(this[_]||0)+(k.navigatorEnabled||!this.inverted?k.outlineHeight:0)+k.navigatorOptions.margin}))},O.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(M(this.chart.xAxis,this.xAxis),M(this.chart.axes,this.xAxis)),this.yAxis&&(M(this.chart.yAxis,this.yAxis),M(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(k){k.destroy&&k.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(k){this[k]&&this[k].destroy&&this[k].destroy(),this[k]=null},this),[this.handles].forEach(function(k){x(k)},this)},O}();return Q.Navigator||(Q.Navigator=b,W.compose(H),v(K,"beforeShowResetZoom",function(){var O=this.options,k=O.navigator,_=O.rangeSelector;if((k&&k.enabled||_&&_.enabled)&&(!l&&"x"===O.chart.zoomType||l&&"x"===O.chart.pinchType))return!1}),v(K,"beforeRender",function(){var O=this.options;(O.navigator.enabled||O.scrollbar.enabled)&&(this.scroller=this.navigator=new b(this))}),v(K,"afterSetChartSize",function(){var O=this.legend,k=this.navigator;if(k){var _=O&&O.options,A=k.xAxis,B=k.yAxis,m=k.scrollbarHeight;this.inverted?(k.left=k.opposite?this.chartWidth-m-k.height:this.spacing[3]+m,k.top=this.plotTop+m):(k.left=o(A.left,this.plotLeft+m),k.top=k.navigatorOptions.top||this.chartHeight-k.height-m-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(_&&"bottom"===_.verticalAlign&&"proximate"!==_.layout&&_.enabled&&!_.floating?O.legendHeight+o(_.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),A&&B&&(this.inverted?A.options.left=B.options.left=k.left:A.options.top=B.options.top=k.top,A.setAxisSize(),B.setAxisSize())}}),v(K,"update",function(O){var k=O.options.navigator||{},_=O.options.scrollbar||{};this.navigator||this.scroller||!k.enabled&&!_.enabled||(d(!0,this.options.navigator,k),d(!0,this.options.scrollbar,_),delete O.options.navigator,delete O.options.scrollbar)}),v(K,"afterUpdate",function(O){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new b(this),o(O.redraw,!0)&&this.redraw(O.animation))}),v(K,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),v(P,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),K.prototype.callbacks.push(function(O){var k=O.navigator;k&&O.xAxis[0]&&(O=O.xAxis[0].getExtremes(),k.render(O.min,O.max))})),Q.Navigator=b,Q.Navigator}),lt(F,"masters/modules/gantt.src.js",[F["Core/Globals.js"],F["Core/Chart/GanttChart.js"],F["Core/Scrollbar.js"]],function(H,K,V){H.Scrollbar=V,H.GanttChart=K,H.ganttChart=K.ganttChart,V.compose(H.Axis)}),lt(F,"masters/highcharts-gantt.src.js",[F["masters/highcharts.src.js"]],function(H){return H.product="Highcharts Gantt",H}),F["masters/highcharts-gantt.src.js"]._modules=F,F["masters/highcharts-gantt.src.js"]},ke.exports?(lt.default=lt,ke.exports=St.document?lt(St):lt):void 0!==(ft=function(){return lt(St)}.call(zt,Mt,zt,ke))&&(ke.exports=ft)},470:function(ke,zt,Mt){"use strict";var ft,St,lt;St="undefined"!=typeof window?window:this,lt=function(St){function lt(H,K,V,Q){H.hasOwnProperty(K)||(H[K]=Q.apply(null,V))}var F={};return lt(F,"Core/Globals.js",[],function(){var K,V,H=void 0!==St?St:"undefined"!=typeof window?window:{};return(V=K||(K={})).SVG_NS="http://www.w3.org/2000/svg",V.product="Highcharts",V.version="9.3.3",V.win=H,V.doc=V.win.document,V.svg=V.doc&&V.doc.createElementNS&&!!V.doc.createElementNS(V.SVG_NS,"svg").createSVGRect,V.userAgent=V.win.navigator&&V.win.navigator.userAgent||"",V.isChrome=-1!==V.userAgent.indexOf("Chrome"),V.isFirefox=-1!==V.userAgent.indexOf("Firefox"),V.isMS=/(edge|msie|trident)/i.test(V.userAgent)&&!V.win.opera,V.isSafari=!V.isChrome&&-1!==V.userAgent.indexOf("Safari"),V.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(V.userAgent),V.isWebKit=-1!==V.userAgent.indexOf("AppleWebKit"),V.deg2rad=2*Math.PI/360,V.hasBidiBug=V.isFirefox&&4>parseInt(V.userAgent.split("Firefox/")[1],10),V.hasTouch=!!V.win.TouchEvent,V.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],V.noop=function(){},V.supportsPassiveEvents=function(){var Q=!1;if(!V.isMS){var W=Object.defineProperty({},"passive",{get:function(){Q=!0}});V.win.addEventListener&&V.win.removeEventListener&&(V.win.addEventListener("testPassive",V.noop,W),V.win.removeEventListener("testPassive",V.noop,W))}return Q}(),V.charts=[],V.dateFormats={},V.seriesTypes={},V.symbolSizes={},V.chartCount=0,K}),lt(F,"Core/Utilities.js",[F["Core/Globals.js"]],function(H){function K(r,u,c,b){var O=u?"Highcharts error":"Highcharts warning";32===r&&(r=O+": Deprecated member");var k=w(r),_=k?O+" #"+r+": www.highcharts.com/errors/"+r+"/":r.toString();if(void 0!==b){var A="";k&&(_+="?"),C(b,function(B,m){A+="\n - "+m+": "+B,k&&(_+=encodeURI(m)+"="+encodeURI(B))}),_+=A}M(H,"displayError",{chart:c,code:r,message:_,params:b},function(){if(u)throw Error(_);h.console&&-1===K.messages.indexOf(_)&&console.warn(_)}),K.messages.push(_)}function Q(r,u){return parseInt(r,u||10)}function W(r){return"string"==typeof r}function Y(r){return"[object Array]"===(r=Object.prototype.toString.call(r))||"[object Array Iterator]"===r}function z(r,u){return!(!r||"object"!=typeof r||u&&Y(r))}function I(r){return z(r)&&"number"==typeof r.nodeType}function P(r){var u=r&&r.constructor;return!(!z(r,!0)||I(r)||!u||!u.name||"Object"===u.name)}function w(r){return"number"==typeof r&&!isNaN(r)&&1/0>r&&-1/0<r}function E(r){return null!=r}function s(r,u,c){var b;return W(u)?E(c)?r.setAttribute(u,c):r&&r.getAttribute&&((b=r.getAttribute(u))||"class"!==u||(b=r.getAttribute(u+"Name"))):C(u,function(O,k){E(O)?r.setAttribute(k,O):r.removeAttribute(k)}),b}function l(r,u){var c;for(c in r||(r={}),u)r[c]=u[c];return r}function g(){for(var r=arguments,u=r.length,c=0;c<u;c++){var b=r[c];if(null!=b)return b}}function v(r,u){H.isMS&&!H.svg&&u&&void 0!==u.opacity&&(u.filter="alpha(opacity="+100*u.opacity+")"),l(r.style,u)}function S(r,u){return 1e14<r?r:parseFloat(r.toPrecision(u||14))}function C(r,u,c){for(var b in r)Object.hasOwnProperty.call(r,b)&&u.call(c||r[b],r[b],b,r)}function x(r,u,c){function b(A,B){var m=r.removeEventListener||H.removeEventListenerPolyfill;m&&m.call(r,A,B,!1)}function O(A){var B;if(r.nodeName){if(u){var m={};m[u]=!0}else m=A;C(m,function(T,R){if(A[R])for(B=A[R].length;B--;)b(R,A[R][B].fn)})}}var k="function"==typeof r&&r.prototype||r;if(Object.hasOwnProperty.call(k,"hcEvents")){var _=k.hcEvents;u?(k=_[u]||[],c?(_[u]=k.filter(function(A){return c!==A.fn}),b(u,c)):(O(_),_[u]=[])):(O(_),delete k.hcEvents)}}function M(r,u,c,b){if(c=c||{},a.createEvent&&(r.dispatchEvent||r.fireEvent&&r!==H)){var O=a.createEvent("Events");O.initEvent(u,!0,!0),c=l(O,c),r.dispatchEvent?r.dispatchEvent(c):r.fireEvent(u,c)}else if(r.hcEvents){c.target||l(c,{preventDefault:function(){c.defaultPrevented=!0},target:r,type:u}),O=[];for(var k=r,_=!1;k.hcEvents;)Object.hasOwnProperty.call(k,"hcEvents")&&k.hcEvents[u]&&(O.length&&(_=!0),O.unshift.apply(O,k.hcEvents[u])),k=Object.getPrototypeOf(k);_&&O.sort(function(A,B){return A.order-B.order}),O.forEach(function(A){!1===A.fn.call(r,c)&&c.preventDefault()})}b&&!c.defaultPrevented&&b.call(r,c)}var p=H.charts,a=H.doc,h=H.win;(K||(K={})).messages=[],Math.easeInOutSine=function(r){return-.5*(Math.cos(Math.PI*r)-1)};var n=Array.prototype.find?function(r,u){return r.find(u)}:function(r,u){var c,b=r.length;for(c=0;c<b;c++)if(u(r[c],c))return r[c]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(r,u){H[u]=function(c){var b;return K(32,!1,void 0,((b={})["Highcharts."+u]="use Array."+r,b)),Array.prototype[r].apply(c,[].slice.call(arguments,1))}});var d,r,u,o=(r=Math.random().toString(36).substring(2,9)+"-",u=0,function(){return"highcharts-"+(d?"":r)+u++});return h.jQuery&&(h.jQuery.fn.highcharts=function(){var r=[].slice.call(arguments);if(this[0])return r[0]?(new(H[W(r[0])?r.shift():"Chart"])(this[0],r[0],r[1]),this):p[s(this[0],"data-highcharts-chart")]}),n={addEvent:function(r,u,c,b){void 0===b&&(b={});var O="function"==typeof r&&r.prototype||r;Object.hasOwnProperty.call(O,"hcEvents")||(O.hcEvents={}),O=O.hcEvents,H.Point&&r instanceof H.Point&&r.series&&r.series.chart&&(r.series.chart.runTrackerClick=!0);var k=r.addEventListener||H.addEventListenerPolyfill;return k&&k.call(r,u,c,!!H.supportsPassiveEvents&&{passive:void 0===b.passive?-1!==u.indexOf("touch"):b.passive,capture:!1}),O[u]||(O[u]=[]),O[u].push({fn:c,order:"number"==typeof b.order?b.order:1/0}),O[u].sort(function(_,A){return _.order-A.order}),function(){x(r,u,c)}},arrayMax:function(r){for(var u=r.length,c=r[0];u--;)r[u]>c&&(c=r[u]);return c},arrayMin:function(r){for(var u=r.length,c=r[0];u--;)r[u]<c&&(c=r[u]);return c},attr:s,clamp:function(r,u,c){return r>u?r<c?r:c:u},cleanRecursively:function V(r,u){var c={};return C(r,function(b,O){z(r[O],!0)&&!r.nodeType&&u[O]?(b=V(r[O],u[O]),Object.keys(b).length&&(c[O]=b)):(z(r[O])||r[O]!==u[O])&&(c[O]=r[O])}),c},clearTimeout:function(r){E(r)&&clearTimeout(r)},correctFloat:S,createElement:function(r,u,c,b,O){return r=a.createElement(r),u&&l(r,u),O&&v(r,{padding:"0",border:"none",margin:"0"}),c&&v(r,c),b&&b.appendChild(r),r},css:v,defined:E,destroyObjectProperties:function(r,u){C(r,function(c,b){c&&c!==u&&c.destroy&&c.destroy(),delete r[b]})},discardElement:function(r){r&&r.parentElement&&r.parentElement.removeChild(r)},erase:function(r,u){for(var c=r.length;c--;)if(r[c]===u){r.splice(c,1);break}},error:K,extend:l,extendClass:function(r,u){var c=function(){};return l(c.prototype=new r,u),c},find:n,fireEvent:M,getMagnitude:function(r){return Math.pow(10,Math.floor(Math.log(r)/Math.LN10))},getNestedProperty:function(r,u){for(r=r.split(".");r.length&&E(u);){var c=r.shift();if(void 0===c||"__proto__"===c||!E(u=u[c])||"function"==typeof u||"number"==typeof u.nodeType||u===h)return}return u},getStyle:function f(r,u,c){var b=H.getStyle||f;if("width"===u)return u=Math.min(r.offsetWidth,r.scrollWidth),(c=r.getBoundingClientRect&&r.getBoundingClientRect().width)<u&&c>=u-1&&(u=Math.floor(c)),Math.max(0,u-(b(r,"padding-left",!0)||0)-(b(r,"padding-right",!0)||0));if("height"===u)return Math.max(0,Math.min(r.offsetHeight,r.scrollHeight)-(b(r,"padding-top",!0)||0)-(b(r,"padding-bottom",!0)||0));if(h.getComputedStyle||K(27,!0),r=h.getComputedStyle(r,void 0)){var O=r.getPropertyValue(u);g(c,"opacity"!==u)&&(O=Q(O))}return O},inArray:function(r,u,c){return K(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),u.indexOf(r,c)},isArray:Y,isClass:P,isDOMElement:I,isFunction:function(r){return"function"==typeof r},isNumber:w,isObject:z,isString:W,keys:function(r){return K(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(r)},merge:function(){var r,u=arguments,c={},b=function(k,_){return"object"!=typeof k&&(k={}),C(_,function(A,B){"__proto__"!==B&&"constructor"!==B&&(k[B]=!z(A,!0)||P(A)||I(A)?_[B]:b(k[B]||{},A))}),k};!0===u[0]&&(c=u[1],u=Array.prototype.slice.call(u,2));var O=u.length;for(r=0;r<O;r++)c=b(c,u[r]);return c},normalizeTickInterval:function(r,u,c,b,O){var k=r,_=r/(c=g(c,1));for(u||(u=O?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===b&&(1===c?u=u.filter(function(A){return A%1==0}):.1>=c&&(u=[1/c]))),b=0;b<u.length&&(k=u[b],!(O&&k*c>=r||!O&&_<=(u[b]+(u[b+1]||u[b]))/2));b++);return S(k*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(r){var u=a.documentElement;return{top:(r=r.parentElement||r.parentNode?r.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(h.pageYOffset||u.scrollTop)-(u.clientTop||0),left:r.left+(h.pageXOffset||u.scrollLeft)-(u.clientLeft||0),width:r.width,height:r.height}},pad:function(r,u,c){return Array((u||2)+1-String(r).replace("-","").length).join(c||"0")+r},pick:g,pInt:Q,relativeLength:function(r,u,c){return/%$/.test(r)?u*parseFloat(r)/100+(c||0):parseFloat(r)},removeEvent:x,splat:function(r){return Y(r)?r:[r]},stableSort:function(r,u){var b,O,c=r.length;for(O=0;O<c;O++)r[O].safeI=O;for(r.sort(function(k,_){return 0===(b=u(k,_))?k.safeI-_.safeI:b}),O=0;O<c;O++)delete r[O].safeI},syncTimeout:function(r,u,c){return 0<u?setTimeout(r,u,c):(r.call(0,c),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:o,useSerialIds:function(r){return d=g(r,d)},wrap:function(r,u,c){var b=r[u];r[u]=function(){var O=Array.prototype.slice.call(arguments),k=arguments,_=this;return _.proceed=function(){b.apply(_,arguments.length?arguments:k)},O.unshift(b),O=c.apply(this,O),_.proceed=null,O}}},n}),lt(F,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),lt(F,"Core/Color/Color.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=K.isNumber,Q=K.merge,W=K.pInt;return function(){function Y(z){this.rgba=[NaN,NaN,NaN,NaN],this.input=z;var I=H.Color;return I&&I!==Y?new I(z):this instanceof Y?void this.init(z):new Y(z)}return Y.parse=function(z){return z?new Y(z):Y.None},Y.prototype.init=function(z){var I;if("object"==typeof z&&void 0!==z.stops)this.stops=z.stops.map(function(s){return new Y(s[1])});else if("string"==typeof z){if(this.input=z=Y.names[z.toLowerCase()]||z,"#"===z.charAt(0)){var P=z.length,w=parseInt(z.substr(1),16);7===P?I=[(16711680&w)>>16,(65280&w)>>8,255&w,1]:4===P&&(I=[(3840&w)>>4|(3840&w)>>8,(240&w)>>4|240&w,(15&w)<<4|15&w,1])}if(!I)for(w=Y.parsers.length;w--&&!I;){var E=Y.parsers[w];(P=E.regex.exec(z))&&(I=E.parse(P))}}I&&(this.rgba=I)},Y.prototype.get=function(z){var I=this.input,P=this.rgba;if("object"==typeof I&&void 0!==this.stops){var w=Q(I);return w.stops=[].slice.call(w.stops),this.stops.forEach(function(E,s){w.stops[s]=[w.stops[s][0],E.get(z)]}),w}return P&&V(P[0])?"rgb"===z||!z&&1===P[3]?"rgb("+P[0]+","+P[1]+","+P[2]+")":"a"===z?""+P[3]:"rgba("+P.join(",")+")":I},Y.prototype.brighten=function(z){var I=this.rgba;if(this.stops)this.stops.forEach(function(w){w.brighten(z)});else if(V(z)&&0!==z)for(var P=0;3>P;P++)I[P]+=W(255*z),0>I[P]&&(I[P]=0),255<I[P]&&(I[P]=255);return this},Y.prototype.setOpacity=function(z){return this.rgba[3]=z,this},Y.prototype.tweenTo=function(z,I){var P=this.rgba,w=z.rgba;return V(P[0])&&V(w[0])?((z=1!==w[3]||1!==P[3])?"rgba(":"rgb(")+Math.round(w[0]+(P[0]-w[0])*(1-I))+","+Math.round(w[1]+(P[1]-w[1])*(1-I))+","+Math.round(w[2]+(P[2]-w[2])*(1-I))+(z?","+(w[3]+(P[3]-w[3])*(1-I)):"")+")":z.input||"none"},Y.names={white:"#ffffff",black:"#000000"},Y.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),parseFloat(z[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),1]}}],Y.None=new Y(""),Y}()}),lt(F,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),lt(F,"Core/Time.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.win,Q=K.defined,W=K.error,Y=K.extend,z=K.isObject,I=K.merge,P=K.objectEach,w=K.pad,E=K.pick,s=K.splat,l=K.timeUnits,g=H.isSafari&&V.Intl&&V.Intl.DateTimeFormat.prototype.formatRange,v=H.isSafari&&V.Intl&&!V.Intl.DateTimeFormat.prototype.formatRange;return K=function(){function S(f){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=V.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(f)}return S.prototype.get=function(f,C){if(this.variableTimezone||this.timezoneOffset){var x=C.getTime(),M=x-this.getTimezoneOffset(C);return C.setTime(M),f=C["getUTC"+f](),C.setTime(x),f}return this.useUTC?C["getUTC"+f]():C["get"+f]()},S.prototype.set=function(f,C,x){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===f||"Seconds"===f||"Minutes"===f&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+f](x);var M=this.getTimezoneOffset(C);return M=C.getTime()-M,C.setTime(M),C["setUTC"+f](x),f=this.getTimezoneOffset(C),M=C.getTime()+f,C.setTime(M)}return this.useUTC||g&&"FullYear"===f?C["setUTC"+f](x):C["set"+f](x)},S.prototype.update=function(f){var C=E(f&&f.useUTC,!0);this.options=f=I(!0,this.options||{},f),this.Date=f.Date||V.Date||Date,this.timezoneOffset=(this.useUTC=C)&&f.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!f.getTimezoneOffset&&!f.timezone)},S.prototype.makeTime=function(f,C,x,M,p,a){if(this.useUTC){var h=this.Date.UTC.apply(0,arguments),n=this.getTimezoneOffset(h),d=this.getTimezoneOffset(h+=n);n!==d?h+=d-n:n-36e5!==this.getTimezoneOffset(h-36e5)||v||(h-=36e5)}else h=new this.Date(f,C,E(x,1),E(M,0),E(p,0),E(a,0)).getTime();return h},S.prototype.timezoneOffsetFunction=function(){var f=this,C=this.options,x=C.getTimezoneOffset,M=C.moment||V.moment;if(!this.useUTC)return function(p){return 6e4*new Date(p.toString()).getTimezoneOffset()};if(C.timezone){if(M)return function(p){return 6e4*-M.tz(p,C.timezone).utcOffset()};W(25)}return this.useUTC&&x?function(p){return 6e4*x(p.valueOf())}:function(){return 6e4*(f.timezoneOffset||0)}},S.prototype.dateFormat=function(f,C,x){if(!Q(C)||isNaN(C))return H.defaultOptions.lang&&H.defaultOptions.lang.invalidDate||"";f=E(f,"%Y-%m-%d %H:%M:%S");var M=this,p=new this.Date(C),a=this.get("Hours",p),h=this.get("Day",p),n=this.get("Date",p),d=this.get("Month",p),o=this.get("FullYear",p),r=H.defaultOptions.lang,u=r&&r.weekdays,c=r&&r.shortWeekdays;return p=Y({a:c?c[h]:u[h].substr(0,3),A:u[h],d:w(n),e:w(n,2," "),w:h,b:r.shortMonths[d],B:r.months[d],m:w(d+1),o:d+1,y:o.toString().substr(2,2),Y:o,H:w(a),k:a,I:w(a%12||12),l:a%12||12,M:w(this.get("Minutes",p)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:w(p.getSeconds()),L:w(Math.floor(C%1e3),3)},H.dateFormats),P(p,function(b,O){for(;-1!==f.indexOf("%"+O);)f=f.replace("%"+O,"function"==typeof b?b.call(M,C):b)}),x?f.substr(0,1).toUpperCase()+f.substr(1):f},S.prototype.resolveDTLFormat=function(f){return z(f,!0)?f:{main:(f=s(f))[0],from:f[1],to:f[2]}},S.prototype.getTimeTicks=function(f,C,x,M){var r,p=this,a=[],h={},n=new p.Date(C),d=f.unitRange,o=f.count||1;if(M=E(M,1),Q(C)){if(p.set("Milliseconds",n,d>=l.second?0:o*Math.floor(p.get("Milliseconds",n)/o)),d>=l.second&&p.set("Seconds",n,d>=l.minute?0:o*Math.floor(p.get("Seconds",n)/o)),d>=l.minute&&p.set("Minutes",n,d>=l.hour?0:o*Math.floor(p.get("Minutes",n)/o)),d>=l.hour&&p.set("Hours",n,d>=l.day?0:o*Math.floor(p.get("Hours",n)/o)),d>=l.day&&p.set("Date",n,d>=l.month?1:Math.max(1,o*Math.floor(p.get("Date",n)/o))),d>=l.month){p.set("Month",n,d>=l.year?0:o*Math.floor(p.get("Month",n)/o));var u=p.get("FullYear",n)}d>=l.year&&p.set("FullYear",n,u-u%o),d===l.week&&(u=p.get("Day",n),p.set("Date",n,p.get("Date",n)-u+M+(u<M?-7:0))),u=p.get("FullYear",n),M=p.get("Month",n);var c=p.get("Date",n),b=p.get("Hours",n);for(C=n.getTime(),!p.variableTimezone&&p.useUTC||!Q(x)||(r=x-C>4*l.month||p.getTimezoneOffset(C)!==p.getTimezoneOffset(x)),C=n.getTime(),n=1;C<x;)a.push(C),C=d===l.year?p.makeTime(u+n*o,0):d===l.month?p.makeTime(u,M+n*o):!r||d!==l.day&&d!==l.week?r&&d===l.hour&&1<o?p.makeTime(u,M,c,b+n*o):C+d*o:p.makeTime(u,M,c+n*o*(d===l.day?1:7)),n++;a.push(C),d<=l.hour&&1e4>a.length&&a.forEach(function(O){O%18e5==0&&"000000000"===p.dateFormat("%H%M%S%L",O)&&(h[O]="day")})}return a.info=Y(f,{higherRanks:h,totalRange:d*o}),a},S.prototype.getDateFormat=function(f,C,x,M){var p=this.dateFormat("%m-%d %H:%M:%S.%L",C),a={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";for(n in l){if(f===l.week&&+this.dateFormat("%w",C)===x&&"00:00:00.000"===p.substr(6)){var n="week";break}if(l[n]>f){n=h;break}if(a[n]&&p.substr(a[n])!=="01-01 00:00:00.000".substr(a[n]))break;"week"!==n&&(h=n)}if(n)var d=this.resolveDTLFormat(M[n]).main;return d},S}(),K}),lt(F,"Core/DefaultOptions.js",[F["Core/Chart/ChartDefaults.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Color/Palettes.js"],F["Core/Time.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){K=K.parse;var z=Y.merge,I={colors:Q.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:H,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:V.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:V.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:K("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};I.chart.styledMode=!1;var P=new W(z(I.global,I.time));return{defaultOptions:I,defaultTime:P,getOptions:function(){return I},setOptions:function(w){return z(!0,I,w),(w.time||w.global)&&(V.time?V.time.update(z(I.global,I.time,w.global,w.time)):V.time=P),I}}}),lt(F,"Core/Animation/Fx.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=H.parse,W=K.win,Y=V.isNumber,z=V.objectEach;return function(){function I(P,w,E){this.pos=NaN,this.options=w,this.elem=P,this.prop=E}return I.prototype.dSetter=function(){var P=this.paths,w=P&&P[0];P=P&&P[1];var E=this.now||0,s=[];if(1!==E&&w&&P)if(w.length===P.length&&1>E)for(var l=0;l<P.length;l++){for(var g=w[l],v=P[l],S=[],f=0;f<v.length;f++){var C=g[f],x=v[f];S[f]=Y(C)&&Y(x)&&("A"!==v[0]||4!==f&&5!==f)?C+E*(x-C):x}s.push(S)}else s=P;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)},I.prototype.update=function(){var P=this.elem,w=this.prop,E=this.now,s=this.options.step;this[w+"Setter"]?this[w+"Setter"]():P.attr?P.element&&P.attr(w,E,null,!0):P.style[w]=E+this.unit,s&&s.call(P,E,this)},I.prototype.run=function(P,w,E){var s=this,l=s.options,g=function(f){return!g.stopped&&s.step(f)},v=W.requestAnimationFrame||function(f){setTimeout(f,13)},S=function(){for(var f=0;f<I.timers.length;f++)I.timers[f]()||I.timers.splice(f--,1);I.timers.length&&v(S)};P!==w||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=P,this.end=w,this.unit=E,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===I.timers.push(g)&&v(S)):(delete l.curAnim[this.prop],l.complete&&0===Object.keys(l.curAnim).length&&l.complete.call(this.elem))},I.prototype.step=function(P){var w=+new Date,E=this.options,s=this.elem,l=E.complete,g=E.duration,v=E.curAnim;if(s.attr&&!s.element)P=!1;else if(P||w>=g+this.startTime){this.now=this.end,this.pos=1,this.update();var S=v[this.prop]=!0;z(v,function(f){!0!==f&&(S=!1)}),S&&l&&l.call(s),P=!1}else this.pos=E.easing((w-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),P=!0;return P},I.prototype.initPath=function(P,w,E){function s(p,a){for(;p.length<M;){var h=p[0],n=a[M-p.length];n&&"M"===h[0]&&(p[0]="C"===n[0]?["C",h[1],h[2],h[1],h[2],h[1],h[2]]:["L",h[1],h[2]]),p.unshift(h),S&&(h=p.pop(),p.push(p[p.length-1],h))}}function l(p,a){for(;p.length<M;)if("C"===(a=p[Math.floor(p.length/f)-1].slice())[0]&&(a[1]=a[5],a[2]=a[6]),S){var h=p[Math.floor(p.length/f)].slice();p.splice(p.length/2,0,a,h)}else p.push(a)}var g=P.startX,v=P.endX;E=E.slice();var S=P.isArea,f=S?2:1;if(!(w=w&&w.slice()))return[E,E];if(g&&v&&v.length){for(P=0;P<g.length;P++){if(g[P]===v[0]){var C=P;break}if(g[0]===v[v.length-g.length+P]){C=P;var x=!0;break}if(g[g.length-1]===v[v.length-g.length+P]){C=g.length-P;break}}void 0===C&&(w=[])}if(w.length&&Y(C)){var M=E.length+C*f;x?(s(w,E),l(E,w)):(s(E,w),l(w,E))}return[w,E]},I.prototype.fillSetter=function(){I.prototype.strokeSetter.apply(this,arguments)},I.prototype.strokeSetter=function(){this.elem.attr(this.prop,Q(this.start).tweenTo(Q(this.end),this.pos),void 0,!0)},I.timers=[],I}()}),lt(F,"Core/Animation/AnimationUtilities.js",[F["Core/Animation/Fx.js"],F["Core/Utilities.js"]],function(H,K){function V(l){return P(l)?w({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function Q(l,g){for(var v=H.timers.length;v--;)H.timers[v].elem!==l||g&&g!==H.timers[v].prop||(H.timers[v].stopped=!0)}var W=K.defined,Y=K.getStyle,z=K.isArray,I=K.isNumber,P=K.isObject,w=K.merge,E=K.objectEach,s=K.pick;return{animate:function(l,g,v){var S,C,x,f="";if(!P(v)){var M=arguments;v={duration:M[2],easing:M[3],complete:M[4]}}I(v.duration)||(v.duration=400),v.easing="function"==typeof v.easing?v.easing:Math[v.easing]||Math.easeInOutSine,v.curAnim=w(g),E(g,function(p,a){Q(l,a),x=new H(l,v,a),C=void 0,"d"===a&&z(g.d)?(x.paths=x.initPath(l,l.pathArray,g.d),x.toD=g.d,S=0,C=1):l.attr?S=l.attr(a):(S=parseFloat(Y(l,a))||0,"opacity"!==a&&(f="px")),C||(C=p),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),x.run(S,C,f)})},animObject:V,getDeferredAnimation:function(l,g,v){var S=V(g),f=0,C=0;return(v?[v]:l.series).forEach(function(x){x=V(x.options.animation),f=g&&W(g.defer)?S.defer:Math.max(f,x.duration+x.defer),C=Math.min(S.duration,x.duration)}),l.renderer.forExport&&(f=0),{defer:Math.max(0,f-C),duration:Math.min(f,C)}},setAnimation:function(l,g){g.renderer.globalAnimation=s(l,g.options.chart.animation,!0)},stop:Q}}),lt(F,"Core/Renderer/HTML/AST.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.SVG_NS,Q=K.attr,W=K.createElement,Y=K.error,z=K.isFunction,I=K.isString,P=K.objectEach,w=K.splat,E=(K=H.win.trustedTypes)&&z(K.createPolicy)&&K.createPolicy("highcharts",{createHTML:function(g){return g}}),s=E?E.createHTML(""):"";try{var l=!!(new DOMParser).parseFromString(s,"text/html")}catch(g){l=!1}return function(){function g(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}return g.filterUserAttributes=function(v){return P(v,function(S,f){var C=!0;-1===g.allowedAttributes.indexOf(f)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(f)&&(C=I(S)&&g.allowedReferences.some(function(x){return 0===S.indexOf(x)})),C||(Y("Highcharts warning: Invalid attribute '"+f+"' in config"),delete v[f])}),v},g.setElementHTML=function(v,S){v.innerHTML=g.emptyHTML,S&&new g(S).addToDOM(v)},g.prototype.addToDOM=function(v){return function S(f,C){var x;return w(f).forEach(function(M){var p=M.tagName,a=M.textContent?H.doc.createTextNode(M.textContent):void 0;if(p)if("#text"===p)var h=a;else if(-1!==g.allowedTags.indexOf(p)){p=H.doc.createElementNS("svg"===p?V:C.namespaceURI||V,p);var n=M.attributes||{};P(M,function(d,o){"tagName"!==o&&"attributes"!==o&&"children"!==o&&"textContent"!==o&&(n[o]=d)}),Q(p,g.filterUserAttributes(n)),a&&p.appendChild(a),S(M.children||[],p),h=p}else Y("Highcharts warning: Invalid tagName "+p+" in config");h&&C.appendChild(h),x=h}),x}(this.nodes,v)},g.prototype.parseMarkup=function(v){var S=[];if(v=v.trim(),l)v=(new DOMParser).parseFromString(E?E.createHTML(v):v,"text/html");else{var f=W("div");f.innerHTML=v,v={body:f}}var C=function(x,M){var p=x.nodeName.toLowerCase(),a={tagName:p};if("#text"===p&&(a.textContent=x.textContent||""),p=x.attributes){var h={};[].forEach.call(p,function(d){h[d.name]=d.value}),a.attributes=h}if(x.childNodes.length){var n=[];[].forEach.call(x.childNodes,function(d){C(d,n)}),n.length&&(a.children=n)}M.push(a)};return[].forEach.call(v.body.childNodes,function(x){return C(x,S)}),S},g.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),g.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),g.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),g.emptyHTML=s,g}()}),lt(F,"Core/FormatUtilities.js",[F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E,s,l){E=+E;var g=Q.lang,v=((w=+w||0).toString().split(".")[1]||"").split("e")[0].length,S=w.toString().split("e"),f=E;if(-1===E)E=Math.min(v,20);else if(z(E)){if(E&&S[1]&&0>S[1]){var C=E+ +S[1];0<=C?(S[0]=(+S[0]).toExponential(C).split("e")[0],E=C):(S[0]=S[0].split(".")[0]||0,w=20>E?(S[0]*Math.pow(10,S[1])).toFixed(E):0,S[1]=0)}}else E=2;C=(Math.abs(S[1]?S[0]:w)+Math.pow(10,-Math.max(E,v)-1)).toFixed(E);var x=3<(v=String(P(C))).length?v.length%3:0;return s=I(s,g.decimalPoint),l=I(l,g.thousandsSep),w=(0>w?"-":"")+(x?v.substr(0,x)+l:""),w=0>+S[1]&&!f?"0":w+v.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+l),E&&(w+=s+C.slice(-E)),S[1]&&0!=+w&&(w+="e"+S[1]),w}var Q=H.defaultOptions,W=H.defaultTime,Y=K.getNestedProperty,z=K.isNumber,I=K.pick,P=K.pInt;return{dateFormat:function(w,E,s){return W.dateFormat(w,E,s)},format:function(w,E,s){var l="{",g=!1,v=/f$/,S=/\.([0-9])/,f=Q.lang,C=s&&s.time||W;s=s&&s.numberFormatter||V;for(var x=[];w;){var M=w.indexOf(l);if(-1===M)break;var p=w.slice(0,M);if(g){if(p=p.split(":"),l=Y(p.shift()||"",E),p.length&&"number"==typeof l)if(p=p.join(":"),v.test(p)){var a=parseInt((p.match(S)||["","-1"])[1],10);null!==l&&(l=s(l,a,f.decimalPoint,-1<p.indexOf(",")?f.thousandsSep:""))}else l=C.dateFormat(p,l);x.push(l)}else x.push(p);w=w.slice(M+1),l=(g=!g)?"}":"{"}return x.push(w),x.join("")},numberFormat:V}}),lt(F,"Core/Renderer/RendererUtilities.js",[F["Core/Utilities.js"]],function(H){var W,K=H.clamp,V=H.pick,Q=H.stableSort;return(W||(W={})).distribute=function z(I,P,w){var v,E=I,s=E.reducedLen||P,l=function(x,M){return(M.rank||0)-(x.rank||0)},g=function(x,M){return x.target-M.target},S=!0,f=[],C=0;for(v=I.length;v--;)C+=I[v].size;if(C>s){for(Q(I,l),C=v=0;C<=s;)C+=I[v].size,v++;f=I.splice(v-1,I.length)}for(Q(I,g),I=I.map(function(x){return{size:x.size,targets:[x.target],align:V(x.align,.5)}});S;){for(v=I.length;v--;)s=I[v],l=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=K(l-s.size*s.align,0,P-s.size);for(v=I.length,S=!1;v--;)0<v&&I[v-1].pos+I[v-1].size>I[v].pos&&(I[v-1].size+=I[v].size,I[v-1].targets=I[v-1].targets.concat(I[v].targets),I[v-1].align=.5,I[v-1].pos+I[v-1].size>P&&(I[v-1].pos=P-I[v-1].size),I.splice(v,1),S=!0)}return E.push.apply(E,f),v=0,I.some(function(x){var M=0;return(x.targets||[]).some(function(){return E[v].pos=x.pos+M,void 0!==w&&Math.abs(E[v].pos-E[v].target)>w?(E.slice(0,v+1).forEach(function(p){return delete p.pos}),E.reducedLen=(E.reducedLen||P)-.1*P,E.reducedLen>.1*P&&z(E,P,w),!0):(M+=E[v].size,v++,!1)})}),Q(E,g),E},W}),lt(F,"Core/Renderer/SVG/SVGElement.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.animate,z=H.animObject,I=H.stop,P=Q.deg2rad,w=Q.doc,E=Q.noop,s=Q.svg,l=Q.SVG_NS,g=Q.win,v=W.addEvent,S=W.attr,f=W.createElement,C=W.css,x=W.defined,M=W.erase,p=W.extend,a=W.fireEvent,h=W.isArray,n=W.isFunction,d=W.isNumber,o=W.isString,r=W.merge,u=W.objectEach,c=W.pick,b=W.pInt,O=W.syncTimeout,k=W.uniqueKey;return H=function(){function _(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=l,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return _.prototype._defaultGetter=function(A){return A=c(this[A+"Value"],this[A],this.element?this.element.getAttribute(A):null,0),/^[\-0-9\.]+$/.test(A)&&(A=parseFloat(A)),A},_.prototype._defaultSetter=function(A,B,m){m.setAttribute(B,A)},_.prototype.add=function(A){var B=this.renderer,m=this.element;if(A&&(this.parentGroup=A),this.parentInverted=A&&A.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!A||A.handleZ||this.zIndex)var T=this.zIndexSetter();return T||(A?A.element:B.box).appendChild(m),this.onAdd&&this.onAdd(),this},_.prototype.addClass=function(A,B){var m=B?"":this.attr("class")||"";return(A=(A||"").split(/ /g).reduce(function(T,R){return-1===m.indexOf(R)&&T.push(R),T},m?[m]:[]).join(" "))!==m&&this.attr("class",A),this},_.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},_.prototype.align=function(A,B,m){var X,$,D,T={},R=this.renderer,j=R.alignedObjects;A?(this.alignOptions=A,this.alignByTranslate=B,(!m||o(m))&&(this.alignTo=X=m||"renderer",M(j,this),j.push(this),m=void 0)):(A=this.alignOptions,B=this.alignByTranslate,X=this.alignTo),m=c(m,R[X],"scrollablePlotBox"===X?R.plotBox:void 0,R);var U=A.verticalAlign;return R=(m.x||0)+(A.x||0),j=(m.y||0)+(A.y||0),"right"===(X=A.align)?$=1:"center"===X&&($=2),$&&(R+=(m.width-(A.width||0))/$),T[B?"translateX":"x"]=Math.round(R),"bottom"===U?D=1:"middle"===U&&(D=2),D&&(j+=(m.height-(A.height||0))/D),T[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](T),this.placed=!0,this.alignAttr=T,this},_.prototype.alignSetter=function(A){var B={left:"start",center:"middle",right:"end"};B[A]&&(this.alignValue=A,this.element.setAttribute("text-anchor",B[A]))},_.prototype.animate=function(A,B,m){var T=this,R=z(c(B,this.renderer.globalAnimation,!0));return B=R.defer,c(w.hidden,w.msHidden,w.webkitHidden,!1)&&(R.duration=0),0!==R.duration?(m&&(R.complete=m),O(function(){T.element&&Y(T,A,R)},B)):(this.attr(A,void 0,m),u(A,function(j,X){R.step&&R.step.call(this,j,{prop:X,pos:1,elem:this})},this)),this},_.prototype.applyTextOutline=function(A){var B=this.element;-1!==A.indexOf("contrast")&&(A=A.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var m=A.split(" ");if(A=m[m.length-1],(m=m[0])&&"none"!==m&&Q.svg){this.fakeTS=!0,this.ySetter=this.xSetter,m=m.replace(/(^[\d\.]+)(.*?)$/g,function(j,X,$){return 2*Number(X)+$}),this.removeTextOutline();var T=w.createElementNS(l,"tspan");S(T,{class:"highcharts-text-outline",fill:A,stroke:A,"stroke-width":m,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var X=j.cloneNode(!0);X.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function($){return X.removeAttribute($)}),T.appendChild(X)});var R=w.createElementNS(l,"tspan");R.textContent="\u200b",["x","y"].forEach(function(j){var X=B.getAttribute(j);X&&R.setAttribute(j,X)}),T.appendChild(R),B.insertBefore(T,B.firstChild)}},_.prototype.attr=function(A,B,m,T){var X,D,U,R=this.element,j=this.symbolCustomAttribs,$=this;if("string"==typeof A&&void 0!==B){var N=A;(A={})[N]=B}return"string"==typeof A?$=(this[A+"Getter"]||this._defaultGetter).call(this,A,R):(u(A,function(Z,q){D=!1,T||I(this,q),this.symbolName&&-1!==j.indexOf(q)&&(X||(this.symbolAttr(A),X=!0),D=!0),!this.rotation||"x"!==q&&"y"!==q||(this.doTransform=!0),D||((U=this[q+"Setter"]||this._defaultSetter).call(this,Z,q,R),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(q)&&this.updateShadows(q,Z,U))},this),this.afterSetters()),m&&m.call(this),$},_.prototype.clip=function(A){return this.attr("clip-path",A?"url("+this.renderer.url+"#"+A.id+")":"none")},_.prototype.crisp=function(A,B){B=B||A.strokeWidth||0;var m=Math.round(B)%2/2;return A.x=Math.floor(A.x||this.x||0)+m,A.y=Math.floor(A.y||this.y||0)+m,A.width=Math.floor((A.width||this.width||0)-2*m),A.height=Math.floor((A.height||this.height||0)-2*m),x(A.strokeWidth)&&(A.strokeWidth=B),A},_.prototype.complexColor=function(A,B,m){var R,j,X,$,D,U,N,Z,q,nt,ot,T=this.renderer,it=[];a(this.renderer,"complexColor",{args:arguments},function(){if(A.radialGradient?j="radialGradient":A.linearGradient&&(j="linearGradient"),j){if(D=T.gradients,U=A.stops,q=m.radialReference,h(X=A[j])&&(A[j]=X={x1:X[0],y1:X[1],x2:X[2],y2:X[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&q&&!x(X.gradientUnits)&&(X=r(X,T.getRadialAttr(q,$=X),{gradientUnits:"userSpaceOnUse"})),u(X,function(mt,yt){"id"!==yt&&it.push(yt,mt)}),u(U,function(mt){it.push(mt)}),it=it.join(","),D[it])nt=D[it].attr("id");else{X.id=nt=k();var at=D[it]=T.createElement(j).attr(X).add(T.defs);at.radAttr=$,at.stops=[],U.forEach(function(mt){0===mt[1].indexOf("rgba")?(R=V.parse(mt[1]),N=R.get("rgb"),Z=R.get("a")):(N=mt[1],Z=1),mt=T.createElement("stop").attr({offset:mt[0],"stop-color":N,"stop-opacity":Z}).add(at),at.stops.push(mt)})}m.setAttribute(B,ot="url("+T.url+"#"+nt+")"),m.gradient=it,A.toString=function(){return ot}}})},_.prototype.css=function(A){var B=this.styles,m={},T=this.element,R=["textOutline","textOverflow","width"],j="",X=!B;if(A&&A.color&&(A.fill=A.color),B&&u(A,function(U,N){B&&B[N]!==U&&(m[N]=U,X=!0)}),X){if(B&&(A=p(B,m)),A)if(null===A.width||"auto"===A.width)delete this.textWidth;else if("text"===T.nodeName.toLowerCase()&&A.width)var $=this.textWidth=b(A.width);if(this.styles=A,$&&!s&&this.renderer.forExport&&delete A.width,T.namespaceURI===this.SVG_NS){var D=function(U,N){return"-"+N.toLowerCase()};u(A,function(U,N){-1===R.indexOf(N)&&(j+=N.replace(/([A-Z])/g,D)+":"+U+";")}),j&&S(T,"style",j)}else C(T,A);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),A&&A.textOutline&&this.applyTextOutline(A.textOutline))}return this},_.prototype.dashstyleSetter=function(A){var B=this["stroke-width"];if("inherit"===B&&(B=1),A=A&&A.toLowerCase()){var m=A.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=m.length;A--;)m[A]=""+b(m[A])*c(B,NaN);A=m.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",A)}},_.prototype.destroy=function(){var A=this,B=A.element||{},m=A.renderer,T=B.ownerSVGElement,R=m.isSVG&&"SPAN"===B.nodeName&&A.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,I(A),A.clipPath&&T){var j=A.clipPath;[].forEach.call(T.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){-1<X.getAttribute("clip-path").indexOf(j.element.id)&&X.removeAttribute("clip-path")}),A.clipPath=j.destroy()}if(A.stops){for(T=0;T<A.stops.length;T++)A.stops[T].destroy();A.stops.length=0,A.stops=void 0}for(A.safeRemoveChild(B),m.styledMode||A.destroyShadows();R&&R.div&&0===R.div.childNodes.length;)B=R.parentGroup,A.safeRemoveChild(R.div),delete R.div,R=B;A.alignTo&&M(m.alignedObjects,A),u(A,function(X,$){A[$]&&A[$].parentGroup===A&&A[$].destroy&&A[$].destroy(),delete A[$]})},_.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(A){this.safeRemoveChild(A)},this),this.shadows=void 0},_.prototype.destroyTextPath=function(A,B){var m=A.getElementsByTagName("text")[0];if(m){if(m.removeAttribute("dx"),m.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&m.getElementsByTagName("textPath").length){for(A=this.textPathWrapper.element.childNodes;A.length;)m.appendChild(A[0]);m.removeChild(this.textPathWrapper.element)}}else(A.getAttribute("dx")||A.getAttribute("dy"))&&(A.removeAttribute("dx"),A.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},_.prototype.dSetter=function(A,B,m){h(A)&&("string"==typeof A[0]&&(A=this.renderer.pathToSegments(A)),this.pathArray=A,A=A.reduce(function(T,R,j){return R&&R.join?(j?T+" ":"")+R.join(" "):(R||"").toString()},"")),/(NaN| {2}|^$)/.test(A)&&(A="M 0 0"),this[B]!==A&&(m.setAttribute(B,A),this[B]=A)},_.prototype.fadeOut=function(A){var B=this;B.animate({opacity:0},{duration:c(A,150),complete:function(){B.attr({y:-9999}).hide()}})},_.prototype.fillSetter=function(A,B,m){"string"==typeof A?m.setAttribute(B,A):A&&this.complexColor(A,B,m)},_.prototype.getBBox=function(A,B){var m=this.renderer,T=this.element,R=this.styles,j=this.textStr,X=m.cache,$=m.cacheKeys,D=T.namespaceURI===this.SVG_NS;B=c(B,this.rotation,0);var N,U=m.styledMode?T&&_.prototype.getStyle.call(T,"font-size"):R&&R.fontSize;if(x(j)){var Z=j.toString();-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",B,U,this.textWidth,R&&R.textOverflow,R&&R.fontWeight].join()}if(Z&&!A&&(N=X[Z]),!N){if(D||m.forExport){try{var q=this.fakeTS&&function(nt){var it=T.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};n(q)&&q("none"),N=T.getBBox?p({},T.getBBox()):{width:T.offsetWidth,height:T.offsetHeight},n(q)&&q("")}catch(nt){}(!N||0>N.width)&&(N={width:0,height:0})}else N=this.htmlGetBBox();if(m.isSVG&&(A=N.width,m=N.height,D&&(N.height=m={"11px,17":14,"13px,20":16}[(U||"")+","+Math.round(m)]||m),B&&(D=B*P,N.width=Math.abs(m*Math.sin(D))+Math.abs(A*Math.cos(D)),N.height=Math.abs(m*Math.cos(D))+Math.abs(A*Math.sin(D)))),Z&&(""===j||0<N.height)){for(;250<$.length;)delete X[$.shift()];X[Z]||$.push(Z),X[Z]=N}}return N},_.prototype.getStyle=function(A){return g.getComputedStyle(this.element||this,"").getPropertyValue(A)},_.prototype.hasClass=function(A){return-1!==(""+this.attr("class")).split(" ").indexOf(A)},_.prototype.hide=function(A){return this.attr(A?{y:-9999}:{visibility:"hidden"}),this},_.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},_.prototype.init=function(A,B){this.element="span"===B?f(B):w.createElementNS(this.SVG_NS,B),this.renderer=A,a(this,"afterInit")},_.prototype.invert=function(A){return this.inverted=A,this.updateTransform(),this},_.prototype.on=function(A,B){var m=this.onEvents;return m[A]&&m[A](),m[A]=v(this.element,A,B),this},_.prototype.opacitySetter=function(A,B,m){this.opacity=A=Number(Number(A).toFixed(3)),m.setAttribute(B,A)},_.prototype.removeClass=function(A){return this.attr("class",(""+this.attr("class")).replace(o(A)?new RegExp("(^| )"+A+"( |$)"):A," ").replace(/ +/g," ").trim())},_.prototype.removeTextOutline=function(){var A=this.element.querySelector("tspan.highcharts-text-outline");A&&this.safeRemoveChild(A)},_.prototype.safeRemoveChild=function(A){var B=A.parentNode;B&&B.removeChild(A)},_.prototype.setRadialReference=function(A){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=A,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(A,B.radAttr)),this},_.prototype.setTextPath=function(A,B){var m=this.element,T=this.text?this.text.element:m,R={textAnchor:"text-anchor"},j=!1,X=this.textPathWrapper,$=!X;B=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var D=K.filterUserAttributes(B.attributes);if(A&&B&&B.enabled){X&&null===X.element.parentNode?($=!0,X=X.destroy()):X&&this.removeTextOutline.call(X.parentGroup),this.options&&this.options.padding&&(D.dx=-this.options.padding),X||(this.textPathWrapper=X=this.renderer.createElement("textPath"),j=!0);var U=X.element;if((B=A.element.getAttribute("id"))||A.element.setAttribute("id",B=k()),$)for(T.setAttribute("y",0),d(D.dx)&&T.setAttribute("x",-D.dx),A=[].slice.call(T.childNodes),$=0;$<A.length;$++){var N=A[$];N.nodeType!==g.Node.TEXT_NODE&&"tspan"!==N.nodeName||U.appendChild(N)}j&&X&&X.add({element:T}),U.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),x(D.dy)&&(U.parentNode.setAttribute("dy",D.dy),delete D.dy),x(D.dx)&&(U.parentNode.setAttribute("dx",D.dx),delete D.dx),u(D,function(Z,q){U.setAttribute(R[q]||q,Z)}),m.removeAttribute("transform"),this.removeTextOutline.call(X),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=E}else X&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(m,A),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},_.prototype.shadow=function(A,B,m){var D,T=[],R=this.element,j=this.oldShadowOptions,X={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},$=!1;if(!0===A?D=X:"object"==typeof A&&(D=p(X,A)),D&&(D&&j&&u(D,function(nt,it){nt!==j[it]&&($=!0)}),$&&this.destroyShadows(),this.oldShadowOptions=D),D){if(!this.shadows){var U=D.opacity/D.width,N=this.parentInverted?"translate("+D.offsetY+", "+D.offsetX+")":"translate("+D.offsetX+", "+D.offsetY+")";for(X=1;X<=D.width;X++){var Z=R.cloneNode(!1),q=2*D.width+1-2*X;S(Z,{stroke:A.color||"#000000","stroke-opacity":U*X,"stroke-width":q,transform:N,fill:"none"}),Z.setAttribute("class",(Z.getAttribute("class")||"")+" highcharts-shadow"),m&&(S(Z,"height",Math.max(S(Z,"height")-q,0)),Z.cutHeight=q),B?B.element.appendChild(Z):R.parentNode&&R.parentNode.insertBefore(Z,R),T.push(Z)}this.shadows=T}}else this.destroyShadows();return this},_.prototype.show=function(A){return this.attr({visibility:A?"inherit":"visible"})},_.prototype.strokeSetter=function(A,B,m){this[B]=A,this.stroke&&this["stroke-width"]?(_.prototype.fillSetter.call(this,this.stroke,"stroke",m),m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===A&&this.hasStroke?(m.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},_.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var A=this.getStyle("stroke-width"),B=0;if(A.indexOf("px")===A.length-2)B=b(A);else if(""!==A){var m=w.createElementNS(l,"rect");S(m,{width:A,"stroke-width":0}),this.element.parentNode.appendChild(m),B=m.getBBox().width,m.parentNode.removeChild(m)}return B},_.prototype.symbolAttr=function(A){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(m){B[m]=c(A[m],B[m])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},_.prototype.textSetter=function(A){A!==this.textStr&&(delete this.textPxLength,this.textStr=A,this.added&&this.renderer.buildText(this))},_.prototype.titleSetter=function(A){var B=this.element,m=B.getElementsByTagName("title")[0]||w.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(m,B.firstChild):B.appendChild(m),m.textContent=String(c(A,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},_.prototype.toFront=function(){var A=this.element;return A.parentNode.appendChild(A),this},_.prototype.translate=function(A,B){return this.attr({translateX:A,translateY:B})},_.prototype.updateShadows=function(A,B,m){var T=this.shadows;if(T)for(var R=T.length;R--;)m.call(T[R],"height"===A?Math.max(B-(T[R].cutHeight||0),0):"d"===A?this.d:B,A,T[R])},_.prototype.updateTransform=function(){var A=this.scaleX,B=this.scaleY,m=this.inverted,T=this.rotation,R=this.matrix,j=this.element,X=this.translateX||0,$=this.translateY||0;m&&(X+=this.width,$+=this.height),X=["translate("+X+","+$+")"],x(R)&&X.push("matrix("+R.join(",")+")"),m?X.push("rotate(90) scale(-1,1)"):T&&X.push("rotate("+T+" "+c(this.rotationOriginX,j.getAttribute("x"),0)+" "+c(this.rotationOriginY,j.getAttribute("y")||0)+")"),(x(A)||x(B))&&X.push("scale("+c(A,1)+" "+c(B,1)+")"),X.length&&j.setAttribute("transform",X.join(" "))},_.prototype.visibilitySetter=function(A,B,m){"inherit"===A?m.removeAttribute(B):this[B]!==A&&m.setAttribute(B,A),this[B]=A},_.prototype.xGetter=function(A){return"circle"===this.element.nodeName&&("x"===A?A="cx":"y"===A&&(A="cy")),this._defaultGetter(A)},_.prototype.zIndexSetter=function(A,B){var m=this.renderer,T=this.parentGroup,R=(T||m).element||m.box,j=this.element;m=R===m.box;var D,X=!1,$=this.added;if(x(A)?(j.setAttribute("data-z-index",A),this[B]===(A=+A)&&($=!1)):x(this[B])&&j.removeAttribute("data-z-index"),this[B]=A,$){for((A=this.zIndex)&&T&&(T.handleZ=!0),D=(B=R.childNodes).length-1;0<=D&&!X;D--){$=(T=B[D]).getAttribute("data-z-index");var U=!x($);T!==j&&(0>A&&U&&!m&&!D?(R.insertBefore(j,B[D]),X=!0):(b($)<=A||U&&(!x(A)||0<=A))&&(R.insertBefore(j,B[D+1]||null),X=!0))}X||(R.insertBefore(j,B[m?3:0]||null),X=!0)}return X},_}(),H.prototype["stroke-widthSetter"]=H.prototype.strokeSetter,H.prototype.yGetter=H.prototype.xGetter,H.prototype.matrixSetter=H.prototype.rotationOriginXSetter=H.prototype.rotationOriginYSetter=H.prototype.rotationSetter=H.prototype.scaleXSetter=H.prototype.scaleYSetter=H.prototype.translateXSetter=H.prototype.translateYSetter=H.prototype.verticalAlignSetter=function(_,A){this[A]=_,this.doTransform=!0},H}),lt(F,"Core/Renderer/RendererRegistry.js",[F["Core/Globals.js"]],function(H){var K,V,Q;return(V=K||(K={})).rendererTypes={},V.getRendererType=function(W){return void 0===W&&(W=Q),V.rendererTypes[W]||V.rendererTypes[Q]},V.registerRendererType=function(W,Y,z){V.rendererTypes[W]=Y,(!Q||z)&&(Q=W,H.Renderer=Y)},K}),lt(F,"Core/Renderer/SVG/SVGLabel.js",[F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K){var w,V=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Q=K.defined,W=K.extend,Y=K.isNumber,z=K.merge,I=K.pick,P=K.removeEvent;return function(w){function E(s,l,g,v,S,f,C,x,M,p){var h,a=w.call(this)||this;return a.paddingLeftSetter=a.paddingSetter,a.paddingRightSetter=a.paddingSetter,a.init(s,"g"),a.textStr=l,a.x=g,a.y=v,a.anchorX=f,a.anchorY=C,a.baseline=M,a.className=p,a.addClass("button"===p?"highcharts-no-tooltip":"highcharts-label"),p&&a.addClass("highcharts-"+p),a.text=s.text(void 0,0,0,x).attr({zIndex:1}),"string"==typeof S&&((h=/^url\((.*?)\)$/.test(S))||a.renderer.symbols[S])&&(a.symbolKey=S),a.bBox=E.emptyBBox,a.padding=3,a.baselineOffset=0,a.needsBox=s.styledMode||h,a.deferredAttr={},a.alignFactor=0,a}return V(E,w),E.prototype.alignSetter=function(s){(s={left:0,center:.5,right:1}[s])!==this.alignFactor&&(this.alignFactor=s,this.bBox&&Y(this.xSetting)&&this.attr({x:this.xSetting}))},E.prototype.anchorXSetter=function(s,l){this.anchorX=s,this.boxAttr(l,Math.round(s)-this.getCrispAdjust()-this.xSetting)},E.prototype.anchorYSetter=function(s,l){this.anchorY=s,this.boxAttr(l,s-this.ySetting)},E.prototype.boxAttr=function(s,l){this.box?this.box.attr(s,l):this.deferredAttr[s]=l},E.prototype.css=function(s){if(s){var l={};s=z(s),E.textProps.forEach(function(v){void 0!==s[v]&&(l[v]=s[v],delete s[v])}),this.text.css(l);var g="width"in l;"fontSize"in l||"fontWeight"in l?this.updateTextPadding():g&&this.updateBoxSize()}return H.prototype.css.call(this,s)},E.prototype.destroy=function(){P(this.element,"mouseenter"),P(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),H.prototype.destroy.call(this)},E.prototype.fillSetter=function(s,l){s&&(this.needsBox=!0),this.fill=s,this.boxAttr(l,s)},E.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var s=this.padding,l=I(this.paddingLeft,s);return{width:this.width,height:this.height,x:this.bBox.x-l,y:this.bBox.y-s}},E.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},E.prototype.heightSetter=function(s){this.heightSetting=s},E.prototype.onAdd=function(){var s=this.textStr;this.text.add(this),this.attr({text:Q(s)?s:"",x:this.x,y:this.y}),this.box&&Q(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},E.prototype.paddingSetter=function(s,l){Y(s)?s!==this[l]&&(this[l]=s,this.updateTextPadding()):this[l]=void 0},E.prototype.rSetter=function(s,l){this.boxAttr(l,s)},E.prototype.shadow=function(s){return s&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(s)),this},E.prototype.strokeSetter=function(s,l){this.stroke=s,this.boxAttr(l,s)},E.prototype["stroke-widthSetter"]=function(s,l){s&&(this.needsBox=!0),this["stroke-width"]=s,this.boxAttr(l,s)},E.prototype["text-alignSetter"]=function(s){this.textAlign=s},E.prototype.textSetter=function(s){void 0!==s&&this.text.attr({text:s}),this.updateTextPadding()},E.prototype.updateBoxSize=function(){var s=this.text.element.style,l={},g=this.padding,v=this.bBox=Y(this.widthSetting)&&Y(this.heightSetting)&&!this.textAlign||!Q(this.text.textStr)?E.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||v.height||0)+2*g,s=this.renderer.fontMetrics(s&&s.fontSize,this.text),this.baselineOffset=g+Math.min((this.text.firstLineMetrics||s).b,v.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-s.h)/2),this.needsBox&&(this.box||((g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)),g=this.getCrispAdjust(),l.x=g,l.y=(this.baseline?-this.baselineOffset:0)+g,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(W(l,this.deferredAttr)),this.deferredAttr={})},E.prototype.updateTextPadding=function(){var s=this.text;this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,g=I(this.paddingLeft,this.padding);Q(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(g+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(g!==s.x||l!==s.y)&&(s.attr("x",g),s.hasBoxWidthChanged&&(this.bBox=s.getBBox(!0)),void 0!==l&&s.attr("y",l)),s.x=g,s.y=l},E.prototype.widthSetter=function(s){this.widthSetting=Y(s)?s:void 0},E.prototype.getPaddedWidth=function(){var s=this.padding,l=I(this.paddingLeft,s);return s=I(this.paddingRight,s),(this.widthSetting||this.bBox.width||0)+l+s},E.prototype.xSetter=function(s){this.x=s,this.alignFactor&&(s-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(s),this.attr("translateX",this.xSetting)},E.prototype.ySetter=function(s){this.ySetting=this.y=Math.round(s),this.attr("translateY",this.ySetting)},E.emptyBBox={width:0,height:0,x:0,y:0},E.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),E}(H)}),lt(F,"Core/Renderer/SVG/Symbols.js",[F["Core/Utilities.js"]],function(H){function K(I,P,w,E,s){var l=[];if(s){var g=s.start||0,v=z(s.r,w);w=z(s.r,E||w);var S=(s.end||0)-.001;E=s.innerR;var f=z(s.open,.001>Math.abs((s.end||0)-g-2*Math.PI)),C=Math.cos(g),x=Math.sin(g),M=Math.cos(S),p=Math.sin(S);g=z(s.longArc,.001>S-g-Math.PI?0:1),l.push(["M",I+v*C,P+w*x],["A",v,w,0,g,z(s.clockwise,1),I+v*M,P+w*p]),W(E)&&l.push(f?["M",I+E*M,P+E*p]:["L",I+E*M,P+E*p],["A",E,E,0,g,W(s.clockwise)?1-s.clockwise:0,I+E*C,P+E*x]),f||l.push(["Z"])}return l}function V(I,P,w,E,s){return s&&s.r?Q(I,P,w,E,s):[["M",I,P],["L",I+w,P],["L",I+w,P+E],["L",I,P+E],["Z"]]}function Q(I,P,w,E,s){return[["M",I+(s=s&&s.r||0),P],["L",I+w-s,P],["C",I+w,P,I+w,P,I+w,P+s],["L",I+w,P+E-s],["C",I+w,P+E,I+w,P+E,I+w-s,P+E],["L",I+s,P+E],["C",I,P+E,I,P+E,I,P+E-s],["L",I,P+s],["C",I,P,I,P,I+s,P]]}var W=H.defined,Y=H.isNumber,z=H.pick;return{arc:K,callout:function(I,P,w,E,s){var l=Math.min(s&&s.r||0,w,E),g=l+6,v=s&&s.anchorX;s=s&&s.anchorY||0;var S=Q(I,P,w,E,{r:l});return Y(v)&&(I+v>=w?s>P+g&&s<P+E-g?S.splice(3,1,["L",I+w,s-6],["L",I+w+6,s],["L",I+w,s+6],["L",I+w,P+E-l]):S.splice(3,1,["L",I+w,E/2],["L",v,s],["L",I+w,E/2],["L",I+w,P+E-l]):0>=I+v?s>P+g&&s<P+E-g?S.splice(7,1,["L",I,s+6],["L",I-6,s],["L",I,s-6],["L",I,P+l]):S.splice(7,1,["L",I,E/2],["L",v,s],["L",I,E/2],["L",I,P+l]):s&&s>E&&v>I+g&&v<I+w-g?S.splice(5,1,["L",v+6,P+E],["L",v,P+E+6],["L",v-6,P+E],["L",I+l,P+E]):s&&0>s&&v>I+g&&v<I+w-g&&S.splice(1,1,["L",v-6,P],["L",v,P-6],["L",v+6,P],["L",w-l,P])),S},circle:function(I,P,w,E){return K(I+w/2,P+E/2,w/2,E/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E/2],["L",I+w/2,P+E],["L",I,P+E/2],["Z"]]},rect:V,roundedRect:Q,square:V,triangle:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E],["L",I,P+E],["Z"]]},"triangle-down":function(I,P,w,E){return[["M",I,P],["L",I+w,P],["L",I+w/2,P+E],["Z"]]}}}),lt(F,"Core/Renderer/SVG/TextBuilder.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.doc,W=K.SVG_NS,Y=K.win,z=V.attr,I=V.isString,P=V.objectEach,w=V.pick;return function(){function E(s){var l=s.styles;this.renderer=s.renderer,this.svgElement=s,this.width=s.textWidth,this.textLineHeight=l&&l.lineHeight,this.textOutline=l&&l.textOutline,this.ellipsis=!(!l||"ellipsis"!==l.textOverflow),this.noWrap=!(!l||"nowrap"!==l.whiteSpace),this.fontSize=l&&l.fontSize}return E.prototype.buildSVG=function(){var s=this.svgElement,l=s.element,g=s.renderer,v=w(s.textStr,"").toString(),S=-1!==v.indexOf("<"),f=l.childNodes;g=this.width&&!s.added&&g.box;var x=[v,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(x!==s.textCache){for(s.textCache=x,delete s.actualWidth,x=f.length;x--;)l.removeChild(f[x]);S||this.ellipsis||this.width||-1!==v.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(v))?""!==v&&(g&&g.appendChild(l),v=new H(v),this.modifyTree(v.nodes),v.addToDOM(s.element),this.modifyDOM(),this.ellipsis&&-1!==(l.textContent||"").indexOf("\u2026")&&s.attr("title",this.unescapeEntities(s.textStr||"",["&lt;","&gt;"])),g&&g.removeChild(l)):l.appendChild(Q.createTextNode(this.unescapeEntities(v))),I(this.textOutline)&&s.applyTextOutline&&s.applyTextOutline(this.textOutline)}},E.prototype.modifyDOM=function(){var v,s=this,l=this.svgElement,g=z(l.element,"x");for(l.firstLineMetrics=void 0;(v=l.element.firstChild)&&/^[\s\u200B]*$/.test(v.textContent||" ");)l.element.removeChild(v);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),function(x,M){x.nextSibling&&x.previousSibling&&(0===M&&1===x.previousSibling.nodeType&&(l.firstLineMetrics=l.renderer.fontMetrics(void 0,x.previousSibling)),z(x,{dy:s.getLineHeight(x.nextSibling),x:g}))});var S=this.width||0;if(S){var C=function(x){[].slice.call(x.childNodes).forEach(function(M){M.nodeType===Y.Node.TEXT_NODE?function(x,M){var p=x.textContent||"",a=p.replace(/([^\^])-/g,"$1- ").split(" "),h=!s.noWrap&&(1<a.length||1<l.element.childNodes.length),n=s.getLineHeight(M),d=0,o=l.actualWidth;if(s.ellipsis)p&&s.truncate(x,p,void 0,0,Math.max(0,S-parseInt(s.fontSize||12,10)),function(r,u){return r.substring(0,u)+"\u2026"});else if(h){for(p=[],h=[];M.firstChild&&M.firstChild!==x;)h.push(M.firstChild),M.removeChild(M.firstChild);for(;a.length;)a.length&&!s.noWrap&&0<d&&(p.push(x.textContent||""),x.textContent=a.join(" ").replace(/- /g,"-")),s.truncate(x,void 0,a,0===d&&o||0,S,function(r,u){return a.slice(0,u).join(" ").replace(/- /g,"-")}),o=l.actualWidth,d++;h.forEach(function(r){M.insertBefore(r,x)}),p.forEach(function(r){M.insertBefore(Q.createTextNode(r),x),(r=Q.createElementNS(W,"tspan")).textContent="\u200b",z(r,{dy:n,x:g}),M.insertBefore(r,x)})}}(M,x):(-1!==M.className.baseVal.indexOf("highcharts-br")&&(l.actualWidth=0),C(M))})};C(l.element)}},E.prototype.getLineHeight=function(s){var l;return s=s.nodeType===Y.Node.TEXT_NODE?s.parentElement:s,this.renderer.styledMode||(l=s&&/(px|em)$/.test(s.style.fontSize)?s.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l,s||this.svgElement.element).h},E.prototype.modifyTree=function(s){var l=this,g=function(v,S){var f=v.attributes;f=void 0===f?{}:f;var C=v.children,x=v.tagName,M=l.renderer.styledMode;"b"===x||"strong"===x?M?f.class="highcharts-strong":f.style="font-weight:bold;"+(f.style||""):("i"===x||"em"===x)&&(M?f.class="highcharts-emphasized":f.style="font-style:italic;"+(f.style||"")),I(f.style)&&(f.style=f.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===x?(f.class="highcharts-br",v.textContent="\u200b",(S=s[S+1])&&S.textContent&&(S.textContent=S.textContent.replace(/^ +/gm,""))):"a"===x&&C&&C.some(function(p){return"#text"===p.tagName})&&(v.children=[{children:C,tagName:"tspan"}]),"#text"!==x&&"a"!==x&&(v.tagName="tspan"),v.attributes=f,C&&C.filter(function(p){return"#text"!==p.tagName}).forEach(g)};s.forEach(g)},E.prototype.truncate=function(s,l,g,v,S,f){var d,C=this.svgElement,x=C.renderer,M=C.rotation,p=[],a=g?1:0,h=(l||g||"").length,n=h,o=function(u,c){c=c||u;var b=s.parentNode;if(b&&void 0===p[c])if(b.getSubStringLength)try{p[c]=v+b.getSubStringLength(0,g?c+1:c)}catch(O){}else x.getSpanWidth&&(s.textContent=f(l||g,u),p[c]=v+x.getSpanWidth(C,s));return p[c]};C.rotation=0;var r=o(s.textContent.length);if(v+r>S){for(;a<=h;)n=Math.ceil((a+h)/2),g&&(d=f(g,n)),r=o(n,d&&d.length-1),a===h?a=h+1:r>S?h=n-1:a=n;0===h?s.textContent="":l&&h===l.length-1||(s.textContent=d||f(l||g,n))}g&&g.splice(0,n),C.actualWidth=r,C.rotation=M},E.prototype.unescapeEntities=function(s,l){return P(this.renderer.escapes,function(g,v){l&&-1!==l.indexOf(g)||(s=s.toString().replace(new RegExp(g,"g"),v))}),s},E}()}),lt(F,"Core/Renderer/SVG/SVGRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGLabel.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Renderer/SVG/TextBuilder.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var B,w=V.charts,E=V.deg2rad,s=V.doc,l=V.isFirefox,g=V.isMS,v=V.isWebKit,S=V.noop,f=V.SVG_NS,C=V.symbolSizes,x=V.win,M=P.addEvent,p=P.attr,a=P.createElement,h=P.css,n=P.defined,d=P.destroyObjectProperties,o=P.extend,r=P.isArray,u=P.isNumber,c=P.isObject,b=P.isString,O=P.merge,k=P.pick,_=P.pInt,A=P.uniqueKey;return V=function(){function m(T,R,j,X,$,D,U){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(T,R,j,X,$,D,U)}return m.prototype.init=function(T,R,j,X,$,D,U){var q,N=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=N.element;U||N.css(this.getStyle(X)),T.appendChild(Z),p(T,"dir","ltr"),-1===T.innerHTML.indexOf("xmlns")&&p(Z,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Z,this.boxWrapper=N,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(s.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=D,this.forExport=$,this.styledMode=U,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(R,j,!1),l&&T.getBoundingClientRect&&((R=function(){h(T,{left:0,top:0}),q=T.getBoundingClientRect(),h(T,{left:Math.ceil(q.left)-q.left+"px",top:Math.ceil(q.top)-q.top+"px"})})(),this.unSubPixelFix=M(x,"resize",R))},m.prototype.definition=function(T){return new H([T]).addToDOM(this.defs.element)},m.prototype.getReferenceURL=function(){if((l||v)&&s.getElementsByTagName("base").length){if(!n(B)){var T=A();T=new H([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:T},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+T+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(s.body),h(T,{position:"fixed",top:0,left:0,zIndex:9e5});var R=s.elementFromPoint(6,6);B="hitme"===(R&&R.id),s.body.removeChild(T)}if(B)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},m.prototype.getStyle=function(T){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},T)},m.prototype.setStyle=function(T){this.boxWrapper.css(this.getStyle(T))},m.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},m.prototype.destroy=function(){var T=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,T&&(this.defs=T.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},m.prototype.createElement=function(T){var R=new this.Element;return R.init(this,T),R},m.prototype.getRadialAttr=function(T,R){return{cx:T[0]-T[2]/2+(R.cx||0)*T[2],cy:T[1]-T[2]/2+(R.cy||0)*T[2],r:(R.r||0)*T[2]}},m.prototype.buildText=function(T){new I(T).buildSVG()},m.prototype.getContrast=function(T){return(T=K.parse(T).rgba)[0]*=1,T[1]*=1.2,T[2]*=.5,459<T[0]+T[1]+T[2]?"#000000":"#FFFFFF"},m.prototype.button=function(T,R,j,X,$,D,U,N,Z,q){var nt=this.label(T,R,j,Z,void 0,void 0,q,void 0,"button"),it=this.styledMode,ot=0,at=$?O($):{};if(T=at&&at.style||{},at=H.filterUserAttributes(at),nt.attr(O({padding:8,r:2},at)),!it){var mt=(at=O({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:T},at)).style;delete at.style;var yt=(D=O(at,{fill:"#e6e6e6"},H.filterUserAttributes(D||{}))).style;delete D.style;var vt=(U=O(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},H.filterUserAttributes(U||{}))).style;delete U.style;var pt=(N=O(at,{style:{color:"#cccccc"}},H.filterUserAttributes(N||{}))).style;delete N.style}return M(nt.element,g?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),M(nt.element,g?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,D,U,N][ct||0]).css([mt,yt,vt,pt][ct||0])},it||nt.attr(at).css(o({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&X.call(nt,ct)})},m.prototype.crispLine=function(T,R,j){void 0===j&&(j="round");var X=T[0],$=T[1];return n(X[1])&&X[1]===$[1]&&(X[1]=$[1]=Math[j](X[1])-R%2/2),n(X[2])&&X[2]===$[2]&&(X[2]=$[2]=Math[j](X[2])+R%2/2),T},m.prototype.path=function(T){var R=this.styledMode?{}:{fill:"none"};return r(T)?R.d=T:c(T)&&o(R,T),this.createElement("path").attr(R)},m.prototype.circle=function(T,R,j){return T=c(T)?T:void 0===T?{}:{x:T,y:R,r:j},(R=this.createElement("circle")).xSetter=R.ySetter=function(X,$,D){D.setAttribute("c"+$,X)},R.attr(T)},m.prototype.arc=function(T,R,j,X,$,D){return c(T)?(R=(X=T).y,j=X.r,T=X.x):X={innerR:X,start:$,end:D},(T=this.symbol("arc",T,R,j,j,X)).r=j,T},m.prototype.rect=function(T,R,j,X,$,D){$=c(T)?T.r:$;var U=this.createElement("rect");return T=c(T)?T:void 0===T?{}:{x:T,y:R,width:Math.max(j,0),height:Math.max(X,0)},this.styledMode||(void 0!==D&&(T["stroke-width"]=D,T=U.crisp(T)),T.fill="none"),$&&(T.r=$),U.rSetter=function(N,Z,q){U.r=N,p(q,{rx:N,ry:N})},U.rGetter=function(){return U.r||0},U.attr(T)},m.prototype.setSize=function(T,R,j){this.width=T,this.height=R,this.boxWrapper.animate({width:T,height:R},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:k(j,!0)?void 0:0}),this.alignElements()},m.prototype.g=function(T){var R=this.createElement("g");return T?R.attr({class:"highcharts-"+T}):R},m.prototype.image=function(T,R,j,X,$,D){var U={preserveAspectRatio:"none"},N=function(q,nt){q.setAttributeNS?q.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):q.setAttribute("hc-svg-href",nt)};u(R)&&(U.x=R),u(j)&&(U.y=j),u(X)&&(U.width=X),u($)&&(U.height=$);var Z=this.createElement("image").attr(U);return R=function(q){N(Z.element,T),D.call(Z,q)},D?(N(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new x.Image,M(j,"load",R),j.src=T,j.complete&&R({})):N(Z.element,T),Z},m.prototype.symbol=function(T,R,j,X,$,D){var it,U=this,N=/^url\((.*?)\)$/,Z=N.test(T),q=!Z&&(this.symbols[T]?T:"circle"),nt=q&&this.symbols[q];if(nt){"number"==typeof R&&(it=nt.call(this.symbols,Math.round(R||0),Math.round(j||0),X||0,$||0,D));var ot=this.path(it);U.styledMode||ot.attr("fill","none"),o(ot,{symbolName:q||void 0,x:R,y:j,width:X,height:$}),D&&o(ot,D)}else if(Z){var at=T.match(N)[1],mt=ot=this.image(at);mt.imgwidth=k(C[at]&&C[at].width,D&&D.width),mt.imgheight=k(C[at]&&C[at].height,D&&D.height);var yt=function(vt){return vt.attr({width:vt.width,height:vt.height})};["width","height"].forEach(function(vt){mt[vt+"Setter"]=function(pt,ct){var J=this["img"+ct];this[ct]=pt,n(J)&&(D&&"within"===D.backgroundSize&&this.width&&this.height&&(J=Math.round(J*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,J),this.alignByTranslate||(pt=((this[ct]||0)-J)/2,this.attr("width"===ct?{translateX:pt}:{translateY:pt})))}}),n(R)&&mt.attr({x:R,y:j}),mt.isImg=!0,n(mt.imgwidth)&&n(mt.imgheight)?yt(mt):(mt.attr({width:0,height:0}),a("img",{onload:function(){var vt=w[U.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),s.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&yt(mt),this.parentNode&&this.parentNode.removeChild(this),U.imgCount--,!U.imgCount&&vt&&!vt.hasLoaded&&vt.onload()},src:at}),this.imgCount++)}return ot},m.prototype.clipRect=function(T,R,j,X){var $=A()+"-",D=this.createElement("clipPath").attr({id:$}).add(this.defs);return(T=this.rect(T,R,j,X,0).add(D)).id=$,T.clipPath=D,T.count=0,T},m.prototype.text=function(T,R,j,X){var $={};return!X||!this.allowHTML&&this.forExport?($.x=Math.round(R||0),j&&($.y=Math.round(j)),n(T)&&($.text=T),T=this.createElement("text").attr($),(!X||this.forExport&&!this.allowHTML)&&(T.xSetter=function(D,U,N){for(var it,Z=N.getElementsByTagName("tspan"),q=N.getAttribute(U),nt=0;nt<Z.length;nt++)(it=Z[nt]).getAttribute(U)===q&&it.setAttribute(U,D);N.setAttribute(U,D)}),T):this.html(T,R,j)},m.prototype.fontMetrics=function(T,R){return T=!this.styledMode&&/px/.test(T)||!x.getComputedStyle?T||R&&R.style&&R.style.fontSize||this.style&&this.style.fontSize:R&&W.prototype.getStyle.call(R,"font-size"),{h:R=24>(T=/px/.test(T)?_(T):12)?T+3:Math.round(1.2*T),b:Math.round(.8*R),f:T}},m.prototype.rotCorr=function(T,R,j){var X=T;return R&&j&&(X=Math.max(X*Math.cos(R*E),4)),{x:-T/3*Math.sin(R*E),y:X}},m.prototype.pathToSegments=function(T){for(var R=[],j=[],X={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},$=0;$<T.length;$++)b(j[0])&&u(T[$])&&j.length===X[j[0].toUpperCase()]&&T.splice($,0,j[0].replace("M","L").replace("m","l")),"string"==typeof T[$]&&(j.length&&R.push(j.slice(0)),j.length=0),j.push(T[$]);return R.push(j.slice(0)),R},m.prototype.label=function(T,R,j,X,$,D,U,N,Z){return new Y(this,T,R,j,X,$,D,U,N,Z)},m.prototype.alignElements=function(){this.alignedObjects.forEach(function(T){return T.align()})},m}(),o(V.prototype,{Element:W,SVG_NS:f,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:z,draw:S}),Q.registerRendererType("svg",V,!0),V}),lt(F,"Core/Renderer/HTML/HTMLElement.js",[F["Core/Globals.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=this&&this.__extends||(g=function(v,S){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var x in C)C.hasOwnProperty(x)&&(f[x]=C[x])})(v,S)},function(v,S){function f(){this.constructor=v}g(v,S),v.prototype=null===S?Object.create(S):(f.prototype=S.prototype,new f)}),W=H.isFirefox,Y=H.isMS,z=H.isWebKit,I=H.win,P=V.css,w=V.defined,E=V.extend,s=V.pick,l=V.pInt;return function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return Q(v,g),v.compose=function(S){if(-1===v.composedClasses.indexOf(S)){v.composedClasses.push(S);var f=v.prototype,C=S.prototype;C.getSpanCorrection=f.getSpanCorrection,C.htmlCss=f.htmlCss,C.htmlGetBBox=f.htmlGetBBox,C.htmlUpdateTransform=f.htmlUpdateTransform,C.setSpanRotation=f.setSpanRotation}return S},v.prototype.getSpanCorrection=function(S,f,C){this.xCorr=-S*C,this.yCorr=-f},v.prototype.htmlCss=function(S){var f="SPAN"===this.element.tagName&&S&&"width"in S,C=s(f&&S.width,void 0);if(f){delete S.width,this.textWidth=C;var x=!0}return S&&"ellipsis"===S.textOverflow&&(S.whiteSpace="nowrap",S.overflow="hidden"),this.styles=E(this.styles,S),P(this.element,S),x&&this.htmlUpdateTransform(),this},v.prototype.htmlGetBBox=function(){var S=this.element;return{x:S.offsetLeft,y:S.offsetTop,width:S.offsetWidth,height:S.offsetHeight}},v.prototype.htmlUpdateTransform=function(){if(this.added){var S=this.renderer,f=this.element,C=this.translateX||0,x=this.translateY||0,M=this.x||0,p=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],n=this.styles;if(n=n&&n.whiteSpace,P(f,{marginLeft:C,marginTop:x}),!S.styledMode&&this.shadows&&this.shadows.forEach(function(b){P(b,{marginLeft:C+1,marginTop:x+1})}),this.inverted&&[].forEach.call(f.childNodes,function(b){S.invertChild(b,f)}),"SPAN"===f.tagName){var d=this.rotation,o=this.textWidth&&l(this.textWidth),r=[d,a,f.innerHTML,this.textWidth,this.textAlign].join(),u=void 0;if(u=!1,o!==this.oldTextWidth){if(this.textPxLength)var c=this.textPxLength;else P(f,{width:"",whiteSpace:n||"nowrap"}),c=f.offsetWidth;(o>this.oldTextWidth||c>o)&&(/[ \-]/.test(f.textContent||f.innerText)||"ellipsis"===f.style.textOverflow)&&(P(f,{width:c>o||d?o+"px":"auto",display:"block",whiteSpace:n||"normal"}),this.oldTextWidth=o,u=!0)}this.hasBoxWidthChanged=u,r!==this.cTT&&(u=S.fontMetrics(f.style.fontSize,f).b,!w(d)||d===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(d,h,u),this.getSpanCorrection(!w(d)&&this.textPxLength||f.offsetWidth,u,h,d,a)),P(f,{left:M+(this.xCorr||0)+"px",top:p+(this.yCorr||0)+"px"}),this.cTT=r,this.oldRotation=d,this.oldAlign=a}}else this.alignOnAdd=!0},v.prototype.setSpanRotation=function(S,f,C){var x={},M=Y&&!/Edge/.test(I.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":W?"MozTransform":I.opera?"-o-transform":void 0;M&&(x[M]=x.transform="rotate("+S+"deg)",x[M+(W?"Origin":"-origin")]=x.transformOrigin=100*f+"% "+C+"px",P(this.element,x))},v.composedClasses=[],v}(K)}),lt(F,"Core/Renderer/HTML/HTMLRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var w,W=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Y=Q.attr,z=Q.createElement,I=Q.extend,P=Q.pick;return function(w){function E(){return null!==w&&w.apply(this,arguments)||this}return W(E,w),E.compose=function(s){return-1===E.composedClasses.indexOf(s)&&(E.composedClasses.push(s),s.prototype.html=E.prototype.html),s},E.prototype.html=function(s,l,g){var v=this.createElement("span"),S=v.element,f=v.renderer,C=f.isSVG,x=function(M,p){["opacity","visibility"].forEach(function(a){M[a+"Setter"]=function(h,n,d){var o=M.div?M.div.style:p;K.prototype[a+"Setter"].call(this,h,n,d),o&&(o[n]=h)}}),M.addedSetters=!0};return v.textSetter=function(M){M!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,H.setElementHTML(this.element,P(M,"")),this.textStr=M,v.doTransform=!0)},C&&x(v,v.element.style),v.xSetter=v.ySetter=v.alignSetter=v.rotationSetter=function(M,p){"align"===p?v.alignValue=v.textAlign=M:v[p]=M,v.doTransform=!0},v.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},v.attr({text:s,x:Math.round(l),y:Math.round(g)}).css({position:"absolute"}),f.styledMode||v.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),S.style.whiteSpace="nowrap",v.css=v.htmlCss,C&&(v.add=function(M){var p=f.box.parentNode,a=[];if(this.parentGroup=M){var h=M.div;if(!h){for(;M;)a.push(M),M=M.parentGroup;a.reverse().forEach(function(n){function d(c,b){n[b]=c,"translateX"===b?u.left=c+"px":u.top=c+"px",n.doTransform=!0}var c,o=Y(n.element,"class"),r=n.styles||{},u=(h=n.div=n.div||z("div",o?{className:o}:void 0,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,cursor:r.cursor,pointerEvents:r.pointerEvents,visibility:n.visibility},h||p)).style;I(n,{classSetter:(c=h,function(b){this.element.setAttribute("class",b),c.className=b}),on:function(){return a[0].div&&v.on.apply({element:a[0].div,onEvents:n.onEvents},arguments),n},translateXSetter:d,translateYSetter:d}),n.addedSetters||x(n)})}}else h=p;return h.appendChild(S),v.added=!0,v.alignOnAdd&&v.htmlUpdateTransform(),v}),v},E.composedClasses=[],E}(V)}),lt(F,"Core/Axis/AxisDefaults.js",[],function(){var H=(()=>{return(K=H||(H={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},K.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},K.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},K.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},K.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},K.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},H;var K})();return H}),lt(F,"Core/Foundation.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.isFunction,Q=H.objectEach,W=H.removeEvent;return(Y||(Y={})).registerEventOptions=function(I,P){I.eventOptions=I.eventOptions||{},Q(P.events,function(w,E){I.eventOptions[E]!==w&&(I.eventOptions[E]&&(W(I,E,I.eventOptions[E]),delete I.eventOptions[E]),V(w)&&(I.eventOptions[E]=w,K(I,E,w)))})},Y}),lt(F,"Core/Axis/Tick.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.deg2rad,W=V.clamp,Y=V.correctFloat,z=V.defined,I=V.destroyObjectProperties,P=V.extend,w=V.fireEvent,E=V.isNumber,s=V.merge,l=V.objectEach,g=V.pick;return function(){function v(S,f,C,x,M){this.isNewLabel=this.isNew=!0,this.axis=S,this.pos=f,this.type=C||"",this.parameters=M||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,w(this,"init"),C||x||this.addLabel()}return v.prototype.addLabel=function(){var S=this,f=S.axis,C=f.options,x=f.chart,M=f.categories,p=f.logarithmic,a=f.names,h=S.pos,n=g(S.options&&S.options.labels,C.labels),d=f.tickPositions,o=h===d[0],r=h===d[d.length-1],u=(!n.step||1===n.step)&&1===f.tickInterval;d=d.info;var b,c=S.label;if(M=this.parameters.category||(M?g(M[h],a[h],h):h),p&&E(M)&&(M=Y(p.lin2log(M))),f.dateTime)if(d)var O=x.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&d.higherRanks[h]||d.unitName]),k=O.main;else E(M)&&(k=f.dateTime.getXDateFormat(M,C.dateTimeLabelFormats||{}));S.isFirst=o,S.isLast=r;var _={axis:f,chart:x,dateTimeLabelFormat:k,isFirst:o,isLast:r,pos:h,tick:S,tickPositionInfo:d,value:M};w(this,"labelFormat",_);var A=function(m){return n.formatter?n.formatter.call(m,m):n.format?(m.text=f.defaultLabelFormatter.call(m),H.format(n.format,m,x)):f.defaultLabelFormatter.call(m,m)};C=A.call(_,_);var B=O&&O.list;S.shortenLabel=B?function(){for(b=0;b<B.length;b++)if(P(_,{dateTimeLabelFormat:B[b]}),c.attr({text:A.call(_,_)}),c.getBBox().width<f.getSlotWidth(S)-2*n.padding)return;c.attr({text:""})}:void 0,u&&f._addedPlotLB&&S.moveLabel(C,n),z(c)||S.movedLabel?c&&c.textStr!==C&&!u&&(!c.textWidth||n.style.width||c.styles.width||c.css({width:null}),c.attr({text:C}),c.textPxLength=c.getBBox().width):(S.label=c=S.createLabel({x:0,y:0},C,n),S.rotation=0)},v.prototype.createLabel=function(S,f,C){var x=this.axis,M=x.chart;return(S=z(f)&&C.enabled?M.renderer.text(f,S.x,S.y,C.useHTML).add(x.labelGroup):null)&&(M.styledMode||S.css(s(C.style)),S.textPxLength=S.getBBox().width),S},v.prototype.destroy=function(){I(this,this.axis)},v.prototype.getPosition=function(S,f,C,x){var M=this.axis,p=M.chart,a=x&&p.oldChartHeight||p.chartHeight;return(S={x:S?Y(M.translate(f+C,null,null,x)+M.transB):M.left+M.offset+(M.opposite?(x&&p.oldChartWidth||p.chartWidth)-M.right-M.left:0),y:S?a-M.bottom+M.offset-(M.opposite?M.height:0):Y(a-M.translate(f+C,null,null,x)-M.transB)}).y=W(S.y,-1e5,1e5),w(this,"afterGetPosition",{pos:S}),S},v.prototype.getLabelPosition=function(S,f,C,x,M,p,a,h){var n=this.axis,d=n.transA,o=n.isLinked&&n.linkedParent?n.linkedParent.reversed:n.reversed,r=n.staggerLines,u=n.tickRotCorr||{x:0,y:0},c=x||n.reserveSpaceDefault?0:-n.labelOffset*("center"===n.labelAlign?.5:1),b={},O=M.y;return z(O)||(O=0===n.side?C.rotation?-8:-C.getBBox().height:2===n.side?u.y+8:Math.cos(C.rotation*Q)*(u.y-C.getBBox(!1,0).height/2)),f=f+O-(p&&!x?p*d*(o?1:-1):0),r&&(C=a/(h||1)%r,n.opposite&&(C=r-C-1),f+=n.labelOffset/r*C),b.x=S=S+M.x+c+u.x-(p&&x?p*d*(o?-1:1):0),b.y=Math.round(f),w(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:p,index:a}),b},v.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},v.prototype.getMarkPath=function(S,f,C,x,M,p){return p.crispLine([["M",S,f],["L",S+(M?0:-C),f+(M?C:0)]],x)},v.prototype.handleOverflow=function(S){var f=this.axis,C=f.options.labels,x=S.x,M=f.chart.chartWidth,p=f.chart.spacing,a=g(f.labelLeft,Math.min(f.pos,p[3]));p=g(f.labelRight,Math.max(f.isRadial?0:f.pos+f.len,M-p[1]));var O,h=this.label,n=this.rotation,d={left:0,center:.5,right:1}[f.labelAlign||h.attr("align")],o=h.getBBox().width,r=f.getSlotWidth(this),u={},c=r,b=1;n||"justify"!==C.overflow?0>n&&x-d*o<a?O=Math.round(x/Math.cos(n*Q)-a):0<n&&x+d*o>p&&(O=Math.round((M-x)/Math.cos(n*Q))):(M=x+(1-d)*o,x-d*o<a?c=S.x+c*(1-d)-a:M>p&&(c=p-S.x+c*d,b=-1),(c=Math.min(r,c))<r&&"center"===f.labelAlign&&(S.x+=b*(r-c-d*(r-Math.min(o,c)))),(o>c||f.autoRotation&&(h.styles||{}).width)&&(O=c)),O&&(this.shortenLabel?this.shortenLabel():(u.width=Math.floor(O)+"px",(C.style||{}).textOverflow||(u.textOverflow="ellipsis"),h.css(u)))},v.prototype.moveLabel=function(S,f){var C=this,x=C.label,M=C.axis,p=M.reversed,a=!1;if(x&&x.textStr===S?(C.movedLabel=x,a=!0,delete C.label):l(M.ticks,function(n){a||n.isNew||n===C||!n.label||n.label.textStr!==S||(C.movedLabel=n.label,a=!0,n.labelPos=C.movedLabel.xy,delete n.label)}),!a&&(C.labelPos||x)){var h=C.labelPos||x.xy;C.movedLabel=C.createLabel({x:x=M.horiz?p?0:M.width+M.left:h.x,y:M=M.horiz?h.y:p?M.width+M.left:0},S,f),C.movedLabel&&C.movedLabel.attr({opacity:0})}},v.prototype.render=function(S,f,C){var x=this.axis,M=x.horiz,p=this.pos,a=g(this.tickmarkOffset,x.tickmarkOffset);a=(p=this.getPosition(M,p,a,f)).x,x=M&&a===x.pos+x.len||!M&&p.y===x.pos?-1:1,M=g(C,this.label&&this.label.newOpacity,1),C=g(C,1),this.isActive=!0,this.renderGridLine(f,C,x),this.renderMark(p,C,x),this.renderLabel(p,f,M,S),this.isNew=!1,w(this,"afterRender")},v.prototype.renderGridLine=function(S,f,C){var x=this.axis,M=x.options,p={},a=this.pos,h=this.type,n=g(this.tickmarkOffset,x.tickmarkOffset),d=x.chart.renderer,o=this.gridLine,r=M.gridLineWidth,u=M.gridLineColor,c=M.gridLineDashStyle;"minor"===this.type&&(r=M.minorGridLineWidth,u=M.minorGridLineColor,c=M.minorGridLineDashStyle),o||(x.chart.styledMode||(p.stroke=u,p["stroke-width"]=r||0,p.dashstyle=c),h||(p.zIndex=1),S&&(f=0),this.gridLine=o=d.path().attr(p).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(x.gridGroup)),o&&(C=x.getPlotLinePath({value:a+n,lineWidth:o.strokeWidth()*C,force:"pass",old:S}))&&o[S||this.isNew?"attr":"animate"]({d:C,opacity:f})},v.prototype.renderMark=function(S,f,C){var x=this.axis,M=x.options,p=x.chart.renderer,a=this.type,h=x.tickSize(a?a+"Tick":"tick"),n=S.x;S=S.y;var d=g(M["minor"!==a?"tickWidth":"minorTickWidth"],!a&&x.isXAxis?1:0);M=M["minor"!==a?"tickColor":"minorTickColor"];var o=this.mark,r=!o;h&&(x.opposite&&(h[0]=-h[0]),o||(this.mark=o=p.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(x.axisGroup),x.chart.styledMode||o.attr({stroke:M,"stroke-width":d})),o[r?"attr":"animate"]({d:this.getMarkPath(n,S,h[0],o.strokeWidth()*C,x.horiz,p),opacity:f}))},v.prototype.renderLabel=function(S,f,C,x){var M=this.axis,p=M.horiz,a=M.options,h=this.label,n=a.labels,d=n.step;M=g(this.tickmarkOffset,M.tickmarkOffset);var o=S.x;S=S.y;var r=!0;h&&E(o)&&(h.xy=S=this.getLabelPosition(o,S,h,p,n,M,x,d),this.isFirst&&!this.isLast&&!a.showFirstLabel||this.isLast&&!this.isFirst&&!a.showLastLabel?r=!1:!p||n.step||n.rotation||f||0===C||this.handleOverflow(S),d&&x%d&&(r=!1),r&&E(S.y)?(S.opacity=C,h[this.isNewLabel?"attr":"animate"](S),this.isNewLabel=!1):(h.attr("y",-9999),this.isNewLabel=!0))},v.prototype.replaceMovedLabel=function(){var S=this.label,f=this.axis,C=f.reversed;S&&!this.isNew&&(S.animate({x:f.horiz?C?f.left:f.width+f.left:S.xy.x,y:C=f.horiz?S.xy.y:C?f.width+f.top:f.top,opacity:0},void 0,S.destroy),delete this.label),f.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},v}()}),lt(F,"Core/Axis/Axis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/AxisDefaults.js"],F["Core/Color/Color.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Axis/Tick.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){var P=H.animObject,w=Q.defaultOptions,E=W.registerEventOptions,s=Y.deg2rad,l=I.arrayMax,g=I.arrayMin,v=I.clamp,S=I.correctFloat,f=I.defined,C=I.destroyObjectProperties,x=I.erase,M=I.error,p=I.extend,a=I.fireEvent,h=I.getMagnitude,n=I.isArray,d=I.isNumber,o=I.isString,r=I.merge,u=I.normalizeTickInterval,c=I.objectEach,b=I.pick,O=I.relativeLength,k=I.removeEvent,_=I.splat,A=I.syncTimeout;return function(){function B(m,T){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(m,T)}return B.prototype.init=function(m,T){var R=T.isX;this.chart=m,this.horiz=m.inverted&&!this.isZAxis?!R:R,this.isXAxis=R,this.coll=this.coll||(R?"xAxis":"yAxis"),a(this,"init",{userOptions:T}),this.opposite=b(T.opposite,this.opposite),this.side=b(T.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(T);var j=this.options,X=j.labels,$=j.type;this.userOptions=T,this.minPixelPadding=0,this.reversed=b(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===$||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=f(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,T=b(j.crosshair,_(m.options.tooltip.crosshairs)[R?0:1]),this.crosshair=!0===T?{}:T,-1===m.axes.indexOf(this)&&(R?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),m[this.coll].push(this)),this.series=this.series||[],m.inverted&&!this.isZAxis&&R&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=d(X.rotation)?X.rotation:void 0,E(this,j),a(this,"afterInit")},B.prototype.setOptions=function(m){this.options=r(K.defaultXAxisOptions,"yAxis"===this.coll&&K.defaultYAxisOptions,[K.defaultTopAxisOptions,K.defaultRightAxisOptions,K.defaultBottomAxisOptions,K.defaultLeftAxisOptions][this.side],r(w[this.coll],m)),a(this,"afterSetOptions",{userOptions:m})},B.prototype.defaultLabelFormatter=function(m){var T=this.axis;m=this.chart.numberFormatter;var R=d(this.value)?this.value:NaN,j=T.chart.time,X=this.dateTimeLabelFormat,$=w.lang,D=$.numericSymbols;$=$.numericSymbolMagnitude||1e3;var U=T.logarithmic?Math.abs(R):T.tickInterval,N=D&&D.length;if(T.categories)var Z=""+this.value;else if(X)Z=j.dateFormat(X,R);else if(N&&1e3<=U)for(;N--&&void 0===Z;)U>=(T=Math.pow($,N+1))&&10*R%T==0&&null!==D[N]&&0!==R&&(Z=m(R/T,-1)+D[N]);return void 0===Z&&(Z=1e4<=Math.abs(R)?m(R,-1):m(R,-1,void 0,"")),Z},B.prototype.getSeriesExtremes=function(){var R,m=this,T=m.chart;a(this,"getSeriesExtremes",null,function(){m.hasVisibleSeries=!1,m.dataMin=m.dataMax=m.threshold=null,m.softThreshold=!m.isXAxis,m.stacking&&m.stacking.buildStacks(),m.series.forEach(function(j){if(j.visible||!T.options.chart.ignoreHiddenSeries){var X=j.options,$=X.threshold;if(m.hasVisibleSeries=!0,m.positiveValuesOnly&&0>=$&&($=null),m.isXAxis){if((X=j.xData).length){X=m.logarithmic?X.filter(m.validatePositiveValue):X;var D=(R=j.getXExtremes(X)).min,U=R.max;d(D)||D instanceof Date||(X=X.filter(d),D=(R=j.getXExtremes(X)).min,U=R.max),X.length&&(m.dataMin=Math.min(b(m.dataMin,D),D),m.dataMax=Math.max(b(m.dataMax,U),U))}}else j=j.applyExtremes(),d(j.dataMin)&&(D=j.dataMin,m.dataMin=Math.min(b(m.dataMin,D),D)),d(j.dataMax)&&(U=j.dataMax,m.dataMax=Math.max(b(m.dataMax,U),U)),f($)&&(m.threshold=$),(!X.softThreshold||m.positiveValuesOnly)&&(m.softThreshold=!1)}})}),a(this,"afterGetSeriesExtremes")},B.prototype.translate=function(m,T,R,j,X,$){var D=this.linkedParent||this,U=j&&D.old?D.old.min:D.min,N=D.minPixelPadding;X=(D.isOrdinal||D.brokenAxis&&D.brokenAxis.hasBreaks||D.logarithmic&&X)&&D.lin2val;var Z=1,q=0;return(j=j&&D.old?D.old.transA:D.transA)||(j=D.transA),R&&(Z*=-1,q=D.len),D.reversed&&(q-=(Z*=-1)*(D.sector||D.len)),T?(m=(m*Z+q-N)/j+U,X&&(m=D.lin2val(m))):(X&&(m=D.val2lin(m)),m=d(U)?Z*(m-U)*j+q+Z*N+(d($)?j*$:0):void 0),m},B.prototype.toPixels=function(m,T){return this.translate(m,!1,!this.horiz,null,!0)+(T?0:this.pos)},B.prototype.toValue=function(m,T){return this.translate(m-(T?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(m){function T(ct,J,et){return("pass"!==ot&&ct<J||ct>et)&&(ot?ct=v(ct,J,et):pt=!0),ct}var at,mt,yt,vt,pt,R=this,j=R.chart,X=R.left,$=R.top,D=m.old,U=m.value,N=m.lineWidth,Z=D&&j.oldChartHeight||j.chartHeight,q=D&&j.oldChartWidth||j.chartWidth,nt=R.transB,it=m.translatedValue,ot=m.force;return a(this,"getPlotLinePath",m={value:U,lineWidth:N,old:D,force:ot,acrossPanes:m.acrossPanes,translatedValue:it},function(ct){it=b(it,R.translate(U,null,null,D)),it=v(it,-1e5,1e5),at=yt=Math.round(it+nt),mt=vt=Math.round(Z-it-nt),d(it)?R.horiz?(mt=$,vt=Z-R.bottom,at=yt=T(at,X,X+R.width)):(at=X,yt=q-R.right,mt=vt=T(mt,$,$+R.height)):(pt=!0,ot=!1),ct.path=pt&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",yt,vt]],N||1)}),m.path},B.prototype.getLinearTickPositions=function(m,T,R){var j=S(Math.floor(T/m)*m);R=S(Math.ceil(R/m)*m);var $,X=[];if(S(j+m)===j&&($=20),this.single)return[T];for(T=j;T<=R&&(X.push(T),(T=S(T+m,$))!==D);)var D=T;return X},B.prototype.getMinorTickInterval=function(){var m=this.options;return!0===m.minorTicks?b(m.minorTickInterval,"auto"):!1===m.minorTicks?null:m.minorTickInterval},B.prototype.getMinorTickPositions=function(){var m=this.options,T=this.tickPositions,R=this.minorTickInterval,j=this.pointRangePadding||0,X=this.min-j,$=(j=this.max+j)-X,D=[];if($&&$/R<this.len/3){var U=this.logarithmic;if(U)this.paddedTicks.forEach(function(N,Z,q){Z&&D.push.apply(D,U.getLogTickPositions(R,q[Z-1],q[Z],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())D=D.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(R),X,j,m.startOfWeek));else for(m=X+(T[0]-X)%R;m<=j&&m!==D[0];m+=R)D.push(m)}return 0!==D.length&&this.trimTicks(D),D},B.prototype.adjustForMinRange=function(){var $,D,U,N,m=this.options,T=this.logarithmic,R=this.min,j=this.max,X=0;if(this.isXAxis&&void 0===this.minRange&&!T&&(f(m.min)||f(m.max)||f(m.floor)||f(m.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(U=it.xData,N=it.xIncrement?1:U.length-1,1<U.length)for($=N;0<$;$--)D=U[$]-U[$-1],(!X||D<X)&&(X=D)}),this.minRange=Math.min(5*X,this.dataMax-this.dataMin))),j-R<this.minRange){var Z=this.dataMax-this.dataMin>=this.minRange,q=this.minRange,nt=(q-j+R)/2;nt=[R-nt,b(m.min,R-nt)],Z&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(R=l(nt))+q,b(m.max,R+q)],Z&&(j[2]=T?T.log2lin(this.dataMax):this.dataMax),(j=g(j))-R<q&&(nt[0]=j-q,nt[1]=b(m.min,j-q),R=l(nt))}this.min=R,this.max=j},B.prototype.getClosest=function(){var m;return this.categories?m=1:this.series.forEach(function(T){var R=T.closestPointRange,j=T.visible||!T.chart.options.chart.ignoreHiddenSeries;!T.noSharedTooltip&&f(R)&&j&&(m=f(m)?Math.min(m,R):R)}),m},B.prototype.nameToX=function(m){var T=n(this.categories),R=T?this.categories:this.names,j=m.options.x;if(m.series.requireSorting=!1,f(j)||(j=this.options.uniqueNames?T?R.indexOf(m.name):b(R.keys[m.name],-1):m.series.autoIncrement()),-1===j){if(!T)var X=R.length}else X=j;return void 0!==X&&(this.names[X]=m.name,this.names.keys[m.name]=X),X},B.prototype.updateNames=function(){var m=this,T=this.names;0<T.length&&(Object.keys(T.keys).forEach(function(R){delete T.keys[R]}),T.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(R){R.xIncrement=null,(!R.points||R.isDirtyData)&&(m.max=Math.max(m.max,R.xData.length-1),R.processData(),R.generatePoints()),R.data.forEach(function(j,X){if(j&&j.options&&void 0!==j.name){var $=m.nameToX(j);void 0!==$&&$!==j.x&&(j.x=$,R.xData[X]=$)}})}))},B.prototype.setAxisTranslation=function(){var N,m=this,T=m.max-m.min,R=m.linkedParent,j=!!m.categories,X=m.isXAxis,$=m.axisPointRange||0,D=0,U=0;if(X||j||$){var Z=m.getClosest();R?(D=R.minPointOffset,U=R.pointRangePadding):m.series.forEach(function(q){var nt=j?1:X?b(q.options.pointRange,Z,0):m.axisPointRange||0,it=q.options.pointPlacement;$=Math.max($,nt),(!m.single||j)&&(q=q.is("xrange")?!X:X,D=Math.max(D,q&&o(it)?0:nt/2),U=Math.max(U,q&&"on"===it?0:nt))}),m.minPointOffset=D*=R=m.ordinal&&m.ordinal.slope&&Z?m.ordinal.slope/Z:1,m.pointRangePadding=U*=R,m.pointRange=Math.min($,m.single&&j?1:T),X&&(m.closestPointRange=Z)}m.translationSlope=m.transA=N=m.staticScale||m.len/(T+U||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=N*D,a(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(m){var T=this.chart,R=this.logarithmic,j=this.options,X=this.isXAxis,$=this.isLinked,D=j.tickPixelInterval,U=this.categories,N=this.softThreshold,Z=j.maxPadding,q=j.minPadding,nt=d(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=d(this.threshold)?this.threshold:null;this.dateTime||U||$||this.getTickAmount();var ot=b(this.userMin,j.min),at=b(this.userMax,j.max);if($){this.linkedParent=T[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=b(mt.min,mt.dataMin),this.max=b(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&M(11,1,T)}else{if(N&&f(it))if(this.dataMin>=it)mt=it,q=0;else if(this.dataMax<=it){var yt=it;Z=0}this.min=b(ot,mt,this.dataMin),this.max=b(at,yt,this.dataMax)}if(R&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,b(this.dataMin,this.min))&&M(10,1,T),this.min=S(R.log2lin(this.min),16),this.max=S(R.log2lin(this.max),16)),this.range&&f(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),a(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(U||this.axisPointRange||this.stacking&&this.stacking.usePercentage||$)&&f(this.min)&&f(this.max)&&(T=this.max-this.min)&&(!f(ot)&&q&&(this.min-=T*q),!f(at)&&Z&&(this.max+=T*Z)),d(this.userMin)||(d(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),d(j.floor)&&(this.min=Math.max(this.min,j.floor))),d(this.userMax)||(d(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),d(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),N&&f(this.dataMin)&&(it=it||0,!f(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!f(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),d(this.min)&&d(this.max)&&!this.chart.polar&&this.min>this.max&&(f(this.options.min)?this.max=this.min:f(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:$&&this.linkedParent&&!nt&&D===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:b(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,U?1:(this.max-this.min)*D/Math.max(this.len,D)),X&&!m){var vt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(pt){pt.forceCrop=pt.forceCropping&&pt.forceCropping(),pt.processData(vt)}),a(this,"postProcessData",{hasExtemesChanged:vt})}this.setAxisTranslation(),a(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),m=b(j.minTickInterval,this.dateTime&&!this.series.some(function(pt){return pt.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<m&&(this.tickInterval=m),this.dateTime||this.logarithmic||nt||(this.tickInterval=u(this.tickInterval,void 0,h(this.tickInterval),b(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var m=this.options,T=m.tickPositions,R=this.getMinorTickInterval(),j=this.hasVerticalPanning(),X="colorAxis"===this.coll,$=(X||!j)&&m.startOnTick;j=(X||!j)&&m.endOnTick,X=m.tickPositioner,this.tickmarkOffset=this.categories&&"between"===m.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===R&&this.tickInterval?this.tickInterval/5:R,this.single=this.min===this.max&&f(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==m.allowDecimals),this.tickPositions=R=T&&T.slice(),!R&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?R=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(R=[this.min,this.max],M(19,!1,this.chart)),R.length>this.len&&(R=[R[0],R.pop()])[0]===R[1]&&(R.length=1),this.tickPositions=R,X&&(X=X.apply(this,[this.min,this.max])))&&(this.tickPositions=R=X),this.paddedTicks=R.slice(0),this.trimTicks(R,$,j),this.isLinked||(this.single&&2>R.length&&!this.categories&&!this.series.some(function(D){return D.is("heatmap")&&"between"===D.options.pointPlacement})&&(this.min-=.5,this.max+=.5),T||X||this.adjustTickAmount()),a(this,"afterSetTickPositions")},B.prototype.trimTicks=function(m,T,R){var j=m[0],X=m[m.length-1],$=!this.isOrdinal&&this.minPointOffset||0;if(a(this,"trimTicks"),!this.isLinked){if(T&&j!==-1/0)this.min=j;else for(;this.min-$>m[0];)m.shift();if(R)this.max=X;else for(;this.max+$<m[m.length-1];)m.pop();0===m.length&&f(j)&&!this.options.tickPositions&&m.push((X+j)/2)}},B.prototype.alignToOthers=function(){var R,m={},T=this.options;return!1!==this.chart.options.chart.alignTicks&&T.alignTicks&&!1!==T.startOnTick&&!1!==T.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var X=j.options;X=[j.horiz?X.left:X.top,X.width,X.height,X.pane].join(),j.series.length&&(m[X]?R=!0:m[X]=1)}),R},B.prototype.getTickAmount=function(){var m=this.options,T=m.tickPixelInterval,R=m.tickAmount;!f(m.tickInterval)&&!R&&this.len<T&&!this.isRadial&&!this.logarithmic&&m.startOnTick&&m.endOnTick&&(R=2),!R&&this.alignToOthers()&&(R=Math.ceil(this.len/T)+1),4>R&&(this.finalTickAmt=R,R=5),this.tickAmount=R},B.prototype.adjustTickAmount=function(){var m=this.options,T=this.tickInterval,R=this.tickPositions,j=this.tickAmount,X=this.finalTickAmt,$=R&&R.length,D=b(this.threshold,this.softThreshold?0:null);if(this.hasData()&&d(this.min)&&d(this.max)){if($<j){for(;R.length<j;)R.length%2||this.min===D?R.push(S(R[R.length-1]+T)):R.unshift(S(R[0]-T));this.transA*=($-1)/(j-1),this.min=m.startOnTick?R[0]:Math.min(this.min,R[0]),this.max=m.endOnTick?R[R.length-1]:Math.max(this.max,R[R.length-1])}else $>j&&(this.tickInterval*=2,this.setTickPositions());if(f(X)){for(T=m=R.length;T--;)(3===X&&T%2==1||2>=X&&0<T&&T<m-1)&&R.splice(T,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var m=!1,T=!1;this.series.forEach(function(j){m=m||j.isDirtyData||j.isDirty,T=T||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var R=this.len!==(this.old&&this.old.len);R||m||T||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=R||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),m&&this.panningState&&(this.panningState.isDirty=!0),a(this,"afterSetScale")},B.prototype.setExtremes=function(m,T,R,j,X){var $=this,D=$.chart;R=b(R,!0),$.series.forEach(function(U){delete U.kdTree}),X=p(X,{min:m,max:T}),a($,"setExtremes",X,function(){$.userMin=m,$.userMax=T,$.eventArgs=X,R&&D.redraw(j)})},B.prototype.zoom=function(m,T){var R=this,j=this.dataMin,X=this.dataMax,$=this.options,D=Math.min(j,b($.min,j)),U=Math.max(X,b($.max,X));return a(this,"zoom",m={newMin:m,newMax:T},function(N){var Z=N.newMin,q=N.newMax;(Z!==R.min||q!==R.max)&&(R.allowZoomOutside||(f(j)&&(Z<D&&(Z=D),Z>U&&(Z=U)),f(X)&&(q<D&&(q=D),q>U&&(q=U))),R.displayBtn=void 0!==Z||void 0!==q,R.setExtremes(Z,q,!1,void 0,{trigger:"zoom"})),N.zoomed=!0}),m.zoomed},B.prototype.setAxisSize=function(){var m=this.chart,T=this.options,R=T.offsets||[0,0,0,0],j=this.horiz,X=this.width=Math.round(O(b(T.width,m.plotWidth-R[3]+R[1]),m.plotWidth)),$=this.height=Math.round(O(b(T.height,m.plotHeight-R[0]+R[2]),m.plotHeight)),D=this.top=Math.round(O(b(T.top,m.plotTop+R[0]),m.plotHeight,m.plotTop));T=this.left=Math.round(O(b(T.left,m.plotLeft+R[3]),m.plotWidth,m.plotLeft)),this.bottom=m.chartHeight-$-D,this.right=m.chartWidth-X-T,this.len=Math.max(j?X:$,0),this.pos=j?T:D},B.prototype.getExtremes=function(){var m=this.logarithmic;return{min:m?S(m.lin2log(this.min)):this.min,max:m?S(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(m){var T=this.logarithmic,R=T?T.lin2log(this.min):this.min;return T=T?T.lin2log(this.max):this.max,null===m||m===-1/0?m=R:m===1/0?m=T:R>m?m=R:T<m&&(m=T),this.translate(m,0,1,0,1)},B.prototype.autoLabelAlign=function(m){var T=(b(m,0)-90*this.side+720)%360;return a(this,"autoLabelAlign",m={align:"center"},function(R){15<T&&165>T?R.align="right":195<T&&345>T&&(R.align="left")}),m.align},B.prototype.tickSize=function(m){var T=this.options,R=b(T["tick"===m?"tickWidth":"minorTickWidth"],"tick"===m&&this.isXAxis&&!this.categories?1:0),j=T["tick"===m?"tickLength":"minorTickLength"];if(R&&j){"inside"===T[m+"Position"]&&(j=-j);var X=[j,R]}return a(this,"afterTickSize",m={tickSize:X}),m.tickSize},B.prototype.labelMetrics=function(){var m=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[m]&&this.ticks[m].label)},B.prototype.unsquish=function(){var Z,q,m=this.options.labels,T=this.horiz,R=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/R),X=m.rotation,$=this.labelMetrics(),D=Math.max(this.max-this.min,0),U=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*R>D&&ot!==1/0&&j!==1/0&&D&&(at=Math.ceil(D/R)),S(at*R)},N=R,nt=Number.MAX_VALUE;if(T){if(!m.staggerLines&&!m.step)if(d(X))var it=[X];else j<m.autoRotationLimit&&(it=m.autoRotation);it&&it.forEach(function(ot){if(ot===X||ot&&-90<=ot&&90>=ot){var at=(q=U(Math.abs($.h/Math.sin(s*ot))))+Math.abs(ot/360);at<nt&&(nt=at,Z=ot,N=q)}})}else m.step||(N=U($.h));return this.autoRotation=it,this.labelRotation=b(Z,d(X)?X:0),N},B.prototype.getSlotWidth=function(m){var T=this.chart,R=this.horiz,j=this.options.labels,X=Math.max(this.tickPositions.length-(this.categories?0:1),1),$=T.margin[3];if(m&&d(m.slotWidth))return m.slotWidth;if(R&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/X;if(!R){if(void 0!==(m=j.style.width))return parseInt(String(m),10);if($)return $-T.spacing[3]}return.33*T.chartWidth},B.prototype.renderUnsquish=function(){var m=this.chart,T=m.renderer,R=this.tickPositions,j=this.ticks,X=this.options.labels,$=X.style,D=this.horiz,U=this.getSlotWidth(),N=Math.max(1,Math.round(U-2*X.padding)),Z={},q=this.labelMetrics(),nt=$.textOverflow,it=0;if(o(X.rotation)||(Z.rotation=X.rotation||0),R.forEach(function(yt){(yt=j[yt]).movedLabel&&yt.replaceMovedLabel(),yt&&yt.label&&yt.label.textPxLength>it&&(it=yt.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>N&&it>q.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(U){var ot=N;if(!nt){var at="clip";for(N=R.length;!D&&N--;){var mt=R[N];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>U&&mt.css({width:U+"px"}),mt.getBBox().height>this.len/R.length-(q.h-q.f)&&(mt.specificTextOverflow="ellipsis"))}}}Z.rotation&&(ot=it>.5*m.chartHeight?.33*m.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=X.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),R.forEach(function(yt){var vt=(yt=j[yt])&&yt.label,pt=$.width,ct={};vt&&(vt.attr(Z),yt.shortenLabel?yt.shortenLabel():ot&&!pt&&"nowrap"!==$.whiteSpace&&(ot<vt.textPxLength||"SPAN"===vt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=vt.specificTextOverflow||at),vt.css(ct)):vt.styles&&vt.styles.width&&!ct.width&&!pt&&vt.css({width:null}),delete vt.specificTextOverflow,yt.rotation=Z.rotation)},this),this.tickRotCorr=T.rotCorr(q.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&f(this.min)&&f(this.max)},B.prototype.addTitle=function(m){var D,j=this.opposite,X=this.options.title,$=this.chart.styledMode;this.axisTitle||((D=X.textAlign)||(D=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[X.align]),this.axisTitle=this.chart.renderer.text(X.text||"",0,0,X.useHTML).attr({zIndex:7,rotation:X.rotation,align:D}).addClass("highcharts-axis-title"),$||this.axisTitle.css(r(X.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),$||X.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)},B.prototype.generateTick=function(m){var T=this.ticks;T[m]?T[m].addLabel():T[m]=new z(this,m)},B.prototype.getOffset=function(){var m=this,T=this,R=T.chart,j=T.horiz,X=T.options,$=T.side,D=T.ticks,U=T.tickPositions,N=T.coll,Z=T.axisParent,q=R.renderer,nt=R.inverted&&!T.isZAxis?[1,0,3,2][$]:$,it=T.hasData(),ot=X.title,at=X.labels,mt=R.axisOffset;R=R.clipOffset;var pt,yt=[-1,1,1,-1][$],vt=X.className,ct=0,J=0,et=0;if(T.showAxis=pt=it||X.showEmpty,T.staggerLines=T.horiz&&at.staggerLines||void 0,!T.axisGroup){var st=function(dt,xt,Et){return q.g(dt).attr({zIndex:Et}).addClass("highcharts-"+N.toLowerCase()+xt+" "+(m.isRadial?"highcharts-radial-axis"+xt+" ":"")+(vt||"")).add(Z)};T.gridGroup=st("grid","-grid",X.gridZIndex),T.axisGroup=st("axis","",X.zIndex),T.labelGroup=st("axis-labels","-labels",at.zIndex)}if(it||T.isLinked?(U.forEach(function(dt){T.generateTick(dt)}),T.renderUnsquish(),T.reserveSpaceDefault=0===$||2===$||{1:"left",3:"right"}[$]===T.labelAlign,b(at.reserveSpace,"center"===T.labelAlign||null,T.reserveSpaceDefault)&&U.forEach(function(dt){et=Math.max(D[dt].getLabelSize(),et)}),T.staggerLines&&(et*=T.staggerLines),T.labelOffset=et*(T.opposite?-1:1)):c(D,function(dt,xt){dt.destroy(),delete D[xt]}),ot&&ot.text&&!1!==ot.enabled&&(T.addTitle(pt),pt&&!1!==ot.reserveSpace)){T.titleOffset=ct=T.axisTitle.getBBox()[j?"height":"width"];var ut=ot.offset;J=f(ut)?0:b(ot.margin,j?5:10)}T.renderLine(),T.offset=yt*b(X.offset,mt[$]?mt[$]+(X.margin||0):0),T.tickRotCorr=T.tickRotCorr||{x:0,y:0},ot=0===$?-T.labelMetrics().h:2===$?T.tickRotCorr.y:0,it=Math.abs(et)+J,et&&(it=it-ot+yt*(j?b(at.y,T.tickRotCorr.y+8*yt):at.x)),T.axisTitleMargin=b(ut,it),T.getMaxLabelDimensions&&(T.maxLabelDimensions=T.getMaxLabelDimensions(D,U)),"colorAxis"!==N&&(j=this.tickSize("tick"),mt[$]=Math.max(mt[$],(T.axisTitleMargin||0)+ct+yt*T.offset,it,U&&U.length&&j?j[0]+yt*T.offset:0),X=!T.axisLine||X.offset?0:2*Math.floor(T.axisLine.strokeWidth()/2),R[nt]=Math.max(R[nt],X)),a(this,"afterGetOffset")},B.prototype.getLinePath=function(m){var T=this.chart,R=this.opposite,j=this.offset,X=this.horiz,$=this.left+(R?this.width:0)+j;return j=T.chartHeight-this.bottom-(R?this.height:0)+j,R&&(m*=-1),T.renderer.crispLine([["M",X?this.left:$,X?j:this.top],["L",X?T.chartWidth-this.right:$,X?j:T.chartHeight-this.bottom]],m)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var m=this.horiz,T=this.left,R=this.top,j=this.len,X=this.options.title,$=m?T:R,D=this.opposite,U=this.offset,N=X.x,Z=X.y,q=this.axisTitle,nt=this.chart.renderer.fontMetrics(X.style.fontSize,q);return q=Math.max(q.getBBox(null,0).height-nt.h-1,0),j={low:$+(m?0:j),middle:$+j/2,high:$+(m?j:0)}[X.align],T=(m?R+this.height:T)+(m?1:-1)*(D?-1:1)*this.axisTitleMargin+[-q,q,nt.f,-q][this.side],a(this,"afterGetTitlePosition",{titlePosition:m={x:m?j+N:T+(D?this.width:0)+U+N,y:m?T+Z-(D?this.height:0)+U:j+Z}}),m},B.prototype.renderMinorTick=function(m,T){var R=this.minorTicks;R[m]||(R[m]=new z(this,m,"minor")),T&&R[m].isNew&&R[m].render(null,!0),R[m].render(null,!1,1)},B.prototype.renderTick=function(m,T,R){var j=this.ticks;(!this.isLinked||m>=this.min&&m<=this.max||this.grid&&this.grid.isColumn)&&(j[m]||(j[m]=new z(this,m)),R&&j[m].isNew&&j[m].render(T,!0,-1),j[m].render(T))},B.prototype.render=function(){var yt,vt,m=this,T=m.chart,R=m.logarithmic,j=m.options,X=m.isLinked,$=m.tickPositions,D=m.axisTitle,U=m.ticks,N=m.minorTicks,Z=m.alternateBands,q=j.stackLabels,nt=j.alternateGridColor,it=m.tickmarkOffset,ot=m.axisLine,at=m.showAxis,mt=P(T.renderer.globalAnimation);if(m.labelEdge.length=0,m.overlap=!1,[U,N,Z].forEach(function(ct){c(ct,function(J){J.isActive=!1})}),m.hasData()||X){var pt=m.chart.hasRendered&&m.old&&d(m.old.min);m.minorTickInterval&&!m.categories&&m.getMinorTickPositions().forEach(function(ct){m.renderMinorTick(ct,pt)}),$.length&&($.forEach(function(ct,J){m.renderTick(ct,J,pt)}),it&&(0===m.min||m.single)&&(U[-1]||(U[-1]=new z(m,-1,null,!0)),U[-1].render(-1))),nt&&$.forEach(function(ct,J){vt=void 0!==$[J+1]?$[J+1]+it:m.max-it,J%2==0&&ct<m.max&&vt<=m.max+(T.polar?-it:it)&&(Z[ct]||(Z[ct]=new Y.PlotLineOrBand(m)),yt=ct+it,Z[ct].options={from:R?R.lin2log(yt):yt,to:R?R.lin2log(vt):vt,color:nt,className:"highcharts-alternate-grid"},Z[ct].render(),Z[ct].isActive=!0)}),m._addedPlotLB||(m._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){m.addPlotBandOrLine(ct)}))}[U,N,Z].forEach(function(ct){var J=[],et=mt.duration;c(ct,function(st,ut){st.isActive||(st.render(ut,!1,0),st.isActive=!1,J.push(ut))}),A(function(){for(var st=J.length;st--;)ct[J[st]]&&!ct[J[st]].isActive&&(ct[J[st]].destroy(),delete ct[J[st]])},ct!==Z&&T.hasRendered&&et?et:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),D&&at&&(j=m.getTitlePosition(),d(j.y)?(D[D.isNew?"attr":"animate"](j),D.isNew=!1):(D.attr("y",-9999),D.isNew=!0)),q&&q.enabled&&m.stacking&&m.stacking.renderStackTotals(),m.old={len:m.len,max:m.max,min:m.min,transA:m.transA,userMax:m.userMax,userMin:m.userMin},m.isDirty=!1,a(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(m){var T=this,R=T.plotLinesAndBands,j=this.eventOptions;if(a(this,"destroy",{keepEvents:m}),m||k(T),[T.ticks,T.minorTicks,T.alternateBands].forEach(function($){C($)}),R)for(m=R.length;m--;)R[m].destroy();for(var X in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function($){T[$]&&(T[$]=T[$].destroy())}),T.plotLinesAndBandsGroups)T.plotLinesAndBandsGroups[X]=T.plotLinesAndBandsGroups[X].destroy();c(T,function($,D){-1===T.getKeepProps().indexOf(D)&&delete T[D]}),this.eventOptions=j},B.prototype.drawCrosshair=function(m,T){var $,R=this.crosshair,j=b(R&&R.snap,!0),X=this.chart,D=this.cross;if(a(this,"drawCrosshair",{e:m,point:T}),m||(m=this.cross&&this.cross.e),R&&!1!==(f(T)||!j)){if(j?f(T)&&($=b("colorAxis"!==this.coll?T.crosshairPos:null,this.isXAxis?T.plotX:this.len-T.plotY)):$=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),f($)){var U={value:T&&(this.isXAxis?T.x:b(T.stackY,T.y)),translatedValue:$};X.polar&&p(U,{isCrosshair:!0,chartX:m&&m.chartX,chartY:m&&m.chartY,point:T}),U=this.getPlotLinePath(U)||null}if(!f(U))return void this.hideCrosshair();j=this.categories&&!this.isRadial,D||(this.cross=D=X.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(R.className||"")).attr({zIndex:b(R.zIndex,2)}).add(),X.styledMode||(D.attr({stroke:R.color||(j?V.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":b(R.width,1)}).css({"pointer-events":"none"}),R.dashStyle&&D.attr({dashstyle:R.dashStyle}))),D.show().attr({d:U}),j&&!R.width&&D.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();a(this,"afterDrawCrosshair",{e:m,point:T})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),a(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var m=this.chart.options.chart.panning;return!!(m&&m.enabled&&/y/.test(m.type))},B.prototype.validatePositiveValue=function(m){return d(m)&&0<m},B.prototype.update=function(m,T){var R=this.chart;m=r(this.userOptions,m),this.destroy(!0),this.init(R,m),R.isDirtyBox=!0,b(T,!0)&&R.redraw()},B.prototype.remove=function(m){for(var T=this.chart,R=this.coll,j=this.series,X=j.length;X--;)j[X]&&j[X].remove(!1);x(T.axes,this),x(T[R],this),T[R].forEach(function($,D){$.options.index=$.userOptions.index=D}),this.destroy(),T.isDirtyBox=!0,b(m,!0)&&T.redraw()},B.prototype.setTitle=function(m,T){this.update({title:m},T)},B.prototype.setCategories=function(m,T){this.update({categories:m},T)},B.defaultOptions=K.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),lt(F,"Core/Axis/DateTimeAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.timeUnits;return function(z){function I(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function P(s){"datetime"!==s.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new E(this))}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("dateTime"),s.prototype.getTimeTicks=I,K(s,"init",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.normalizeTimeTickInterval=function(l,g){var C,v=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],S=W[(g=v[v.length-1])[0]],f=g[1];for(C=0;C<v.length&&(S=W[(g=v[C])[0]],f=g[1],!(v[C+1]&&l<=(S*f[f.length-1]+W[v[C+1][0]])/2));C++);return S===W.year&&l<5*S&&(f=[1,2,5]),{unitRange:S,count:l=Q(l/S,f,"year"===g[0]?Math.max(V(l/S),1):1),unitName:g[0]}},s.prototype.getXDateFormat=function(l,g){var v=this.axis;return v.closestPointRange?v.chart.time.getDateFormat(v.closestPointRange,l,v.options.startOfWeek,g)||g.year:g.day},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/LogarithmicAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.pick;return function(z){function I(s){var l=this.logarithmic;"logarithmic"!==s.userOptions.type?this.logarithmic=void 0:l||(this.logarithmic=new E(this))}function P(){var s=this.logarithmic;s&&(this.lin2val=function(l){return s.lin2log(l)},this.val2lin=function(l){return s.log2lin(l)})}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("logarithmic"),K(s,"init",I),K(s,"afterInit",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.getLogTickPositions=function(l,g,v,S){var f=this.axis,C=f.len,x=f.options,M=[];if(S||(this.minorAutoInterval=void 0),.5<=l)l=Math.round(l),M=f.getLinearTickPositions(l,g,v);else if(.08<=l){var a,p=Math.floor(g),h=x=void 0;for(C=.3<l?[1,2,4]:.15<l?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];p<v+1&&!h;p++){var n=C.length;for(a=0;a<n&&!h;a++){var d=this.log2lin(this.lin2log(p)*C[a]);d>g&&(!S||x<=v)&&void 0!==x&&M.push(x),x>v&&(h=!0),x=d}}}else g=this.lin2log(g),v=this.lin2log(v),l=S?f.getMinorTickInterval():x.tickInterval,l=W("auto"===l?null:l,this.minorAutoInterval,x.tickPixelInterval/(S?5:1)*(v-g)/((S?C/f.tickPositions.length:C)||1)),l=Q(l,void 0,V(l)),M=f.getLinearTickPositions(l,g,v).map(this.log2lin),S||(this.minorAutoInterval=l/5);return S||(f.tickInterval=l),M},s.prototype.lin2log=function(l){return Math.pow(10,l)},s.prototype.log2lin=function(l){return Math.log(l)/Math.LN10},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[F["Core/Utilities.js"]],function(H){var W,K=H.erase,V=H.extend,Q=H.isNumber;return function(Y){var I,z=[];Y.compose=function(w,E){return I||(I=w),-1===z.indexOf(E)&&(z.push(E),V(E.prototype,P.prototype)),E};var P=function(){function w(){}return w.prototype.getPlotBandPath=function(E,s,l){void 0===l&&(l=this.options);var g=this.getPlotLinePath({value:s,force:!0,acrossPanes:l.acrossPanes}),v=[],S=this.horiz;if(s=!Q(this.min)||!Q(this.max)||E<this.min&&s<this.min||E>this.max&&s>this.max,E=this.getPlotLinePath({value:E,force:!0,acrossPanes:l.acrossPanes}),l=1,E&&g){if(s){var f=E.toString()===g.toString();l=0}for(s=0;s<E.length;s+=2){var C=E[s],x=E[s+1],M=g[s],p=g[s+1];"M"!==C[0]&&"L"!==C[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==p[0]&&"L"!==p[0]||(S&&M[1]===C[1]?(M[1]+=l,p[1]+=l):S||M[2]!==C[2]||(M[2]+=l,p[2]+=l),v.push(["M",C[1],C[2]],["L",x[1],x[2]],["L",p[1],p[2]],["L",M[1],M[2]],["Z"])),v.isFlat=f}}return v},w.prototype.addPlotBand=function(E){return this.addPlotBandOrLine(E,"plotBands")},w.prototype.addPlotLine=function(E){return this.addPlotBandOrLine(E,"plotLines")},w.prototype.addPlotBandOrLine=function(E,s){var l=this,g=this.userOptions,v=new I(this,E);if(this.visible&&(v=v.render()),v){if(this._addedPlotLB||(this._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(f){l.addPlotBandOrLine(f)})),s){var S=g[s]||[];S.push(E),g[s]=S}this.plotLinesAndBands.push(v)}return v},w.prototype.removePlotBandOrLine=function(E){var s=this.plotLinesAndBands,l=this.options,g=this.userOptions;if(s){for(var v=s.length;v--;)s[v].id===E&&s[v].destroy();[l.plotLines||[],g.plotLines||[],l.plotBands||[],g.plotBands||[]].forEach(function(S){for(v=S.length;v--;)(S[v]||{}).id===E&&K(S,S[v])})}},w.prototype.removePlotBand=function(E){this.removePlotBandOrLine(E)},w.prototype.removePlotLine=function(E){this.removePlotBandOrLine(E)},w}()}(W||(W={})),W}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[F["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],F["Core/Utilities.js"]],function(H,K){var V=K.arrayMax,Q=K.arrayMin,W=K.defined,Y=K.destroyObjectProperties,z=K.erase,I=K.fireEvent,P=K.merge,w=K.objectEach,E=K.pick;return function(){function s(l,g){this.axis=l,g&&(this.options=g,this.id=g.id)}return s.compose=function(l){return H.compose(s,l)},s.prototype.render=function(){I(this,"render");var l=this,g=l.axis,v=g.horiz,S=g.logarithmic,f=l.options,C=f.color,x=E(f.zIndex,0),M=f.events,p={},a=g.chart.renderer,h=f.label,n=l.label,d=f.to,o=f.from,r=f.value,u=l.svgElem,c=[],b=W(o)&&W(d);c=W(r);var O=!u,k={class:"highcharts-plot-"+(b?"band ":"line ")+(f.className||"")},_=b?"bands":"lines";if(S&&(o=S.log2lin(o),d=S.log2lin(d),r=S.log2lin(r)),g.chart.styledMode||(c?(k.stroke=C||"#999999",k["stroke-width"]=E(f.width,1),f.dashStyle&&(k.dashstyle=f.dashStyle)):b&&(k.fill=C||"#e6ebf5",f.borderWidth&&(k.stroke=f.borderColor,k["stroke-width"]=f.borderWidth))),p.zIndex=x,(S=g.plotLinesAndBandsGroups[_+="-"+x])||(g.plotLinesAndBandsGroups[_]=S=a.g("plot-"+_).attr(p).add()),O&&(l.svgElem=u=a.path().attr(k).add(S)),c)c=g.getPlotLinePath({value:r,lineWidth:u.strokeWidth(),acrossPanes:f.acrossPanes});else{if(!b)return;c=g.getPlotBandPath(o,d,f)}return!l.eventsAdded&&M&&(w(M,function(A,B){u.on(B,function(m){M[B].apply(l,[m])})}),l.eventsAdded=!0),(O||!u.d)&&c&&c.length?u.attr({d:c}):u&&(c?(u.show(!0),u.animate({d:c})):u.d&&(u.hide(),n&&(l.label=n=n.destroy()))),h&&(W(h.text)||W(h.formatter))&&c&&c.length&&0<g.width&&0<g.height&&!c.isFlat?(h=P({align:v&&b&&"center",x:v?!b&&4:10,verticalAlign:!v&&b&&"middle",y:v?b?16:10:b?6:-4,rotation:v&&!b&&90},h),this.renderLabel(h,c,b,x)):n&&n.hide(),l},s.prototype.renderLabel=function(l,g,v,S){var f=this.axis,C=f.chart.renderer,x=this.label;x||(this.label=x=C.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(v?"band":"line")+"-label "+(l.className||""),zIndex:S}).add(),f.chart.styledMode||x.css(P({textOverflow:"ellipsis"},l.style))),S=g.xBounds||[g[0][1],g[1][1],v?g[2][1]:g[0][1]],g=g.yBounds||[g[0][2],g[1][2],v?g[2][2]:g[0][2]],v=Q(S),C=Q(g),x.align(l,!1,{x:v,y:C,width:V(S)-v,height:V(g)-C}),x.alignValue&&"left"!==x.alignValue||x.css({width:(90===x.rotation?f.height-(x.alignAttr.y-f.top):f.width-(x.alignAttr.x-f.left))+"px"}),x.show(!0)},s.prototype.getLabelText=function(l){return W(l.formatter)?l.formatter.call(this):l.text},s.prototype.destroy=function(){z(this.axis.plotLinesAndBands,this),delete this.axis,Y(this)},s}()}),lt(F,"Core/Tooltip.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.format,z=K.doc,I=V.distribute,P=W.addEvent,w=W.clamp,E=W.css,s=W.defined,l=W.discardElement,g=W.extend,v=W.fireEvent,S=W.isArray,f=W.isNumber,C=W.isString,x=W.merge,M=W.pick,p=W.splat,a=W.syncTimeout;return function(){function h(n,d){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=n,this.init(n,d)}return h.prototype.applyFilter=function(){var n=this.chart;n.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+n.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},h.prototype.bodyFormatter=function(n){return n.map(function(d){var o=d.series.tooltipOptions;return(o[(d.point.formatPrefix||"point")+"Formatter"]||d.point.tooltipFormatter).call(d.point,o[(d.point.formatPrefix||"point")+"Format"]||"")})},h.prototype.cleanSplit=function(n){this.chart.series.forEach(function(d){var o=d&&d.tt;o&&(!o.isActive||n?d.tt=o.destroy():o.isActive=!1)})},h.prototype.defaultFormatter=function(n){var d=this.points||p(this),o=[n.tooltipFooterHeaderFormatter(d[0])];return(o=o.concat(n.bodyFormatter(d))).push(n.tooltipFooterHeaderFormatter(d[0],!0)),o},h.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),l(this.container)),W.clearTimeout(this.hideTimer),W.clearTimeout(this.tooltipTimeout)},h.prototype.getAnchor=function(n,d){var O,k,o=this.chart,r=o.pointer,u=o.inverted,c=o.plotTop,b=o.plotLeft,_=0,A=0;return n=p(n),this.followPointer&&d?(void 0===d.chartX&&(d=r.normalize(d)),r=[d.chartX-b,d.chartY-c]):n[0].tooltipPos?r=n[0].tooltipPos:(n.forEach(function(B){O=B.series.yAxis,_+=B.plotX||0,A+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(k=B.series.xAxis)&&O&&(u?(_+=c+o.plotHeight-k.len-k.pos,A+=b+o.plotWidth-O.len-O.pos):(_+=k.pos-b,A+=O.pos-c))}),_/=n.length,A/=n.length,r=[u?o.plotWidth-A:_,u?o.plotHeight-_:A],this.shared&&1<n.length&&d&&(u?r[0]=d.chartX-b:r[1]=d.chartY-c)),r.map(Math.round)},h.prototype.getLabel=function(){var k,n=this,d=this.chart.styledMode,o=this.options,r=this.split&&this.allowShared,u="tooltip"+(s(o.className)?" "+o.className:""),c=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),b=function(){n.inContact=!0},O=function(j){var X=n.chart.hoverSeries;n.inContact=n.shouldStickOnContact()&&n.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!n.inContact&&X&&X.onMouseOut&&X.onMouseOut()},_=this.chart.renderer;if(n.label){var A=!n.label.hasClass("highcharts-label");(r&&!A||!r&&A)&&n.destroy()}if(!this.label){if(this.outside){A=this.chart.options.chart.style;var B=Q.getRendererType();this.container=k=K.doc.createElement("div"),k.className="highcharts-tooltip-container",E(k,{position:"absolute",top:"1px",pointerEvents:c,zIndex:Math.max(this.options.style.zIndex||0,(A&&A.zIndex||0)+3)}),P(k,"mouseenter",b),P(k,"mouseleave",O),K.doc.body.appendChild(k),this.renderer=_=new B(k,0,0,A,void 0,void 0,_.styledMode)}if(r?this.label=_.g(u):(this.label=_.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,u).attr({padding:o.padding,r:o.borderRadius}),d||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:c}).shadow(o.shadow)),d&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),n.outside&&!n.split){var m=this.label,T=m.xSetter,R=m.ySetter;m.xSetter=function(j){T.call(m,n.distance),k.style.left=j+"px"},m.ySetter=function(j){R.call(m,n.distance),k.style.top=j+"px"}}this.label.on("mouseenter",b).on("mouseleave",O).attr({zIndex:8}).add()}return this.label},h.prototype.getPosition=function(n,d,o){var R,r=this.chart,u=this.distance,c={},b=r.inverted&&o.h||0,O=this.outside,k=O?z.documentElement.clientWidth-2*u:r.chartWidth,_=O?Math.max(z.body.scrollHeight,z.documentElement.scrollHeight,z.body.offsetHeight,z.documentElement.offsetHeight,z.documentElement.clientHeight):r.chartHeight,A=r.pointer.getChartPosition(),B=function(N){var Z="x"===N;return[N,Z?k:_,Z?n:d].concat(O?[Z?n*A.scaleX:d*A.scaleY,Z?A.left-u+(o.plotX+r.plotLeft)*A.scaleX:A.top-u+(o.plotY+r.plotTop)*A.scaleY,0,Z?k:_]:[Z?n:d,Z?o.plotX+r.plotLeft:o.plotY+r.plotTop,Z?r.plotLeft:r.plotTop,Z?r.plotLeft+r.plotWidth:r.plotTop+r.plotHeight])},m=B("y"),T=B("x");B=!!o.negative,!r.polar&&r.hoverSeries&&r.hoverSeries.yAxis&&r.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&M(o.ttBelow,!r.inverted===B),X=function(N,Z,q,nt,it,ot,at){var mt=O?"y"===N?u*A.scaleY:u*A.scaleX:u,yt=(q-nt)/2,vt=nt<it-u,pt=it+u+nt<Z,ct=it-mt-q+yt;if(it=it+mt-yt,j&&pt)c[N]=it;else if(!j&&vt)c[N]=ct;else if(vt)c[N]=Math.min(at-nt,0>ct-b?ct:ct-b);else{if(!pt)return!1;c[N]=Math.max(ot,it+b+q>Z?it:it+b)}},$=function(N,Z,q,nt,it){var ot;return it<u||it>Z-u?ot=!1:c[N]=it<q/2?1:it>Z-nt/2?Z-nt-2:it-q/2,ot},D=function(N){var Z=m;m=T,T=Z,R=N},U=function(){!1!==X.apply(0,m)?!1!==$.apply(0,T)||R||(D(!0),U()):R?c.x=c.y=0:(D(!0),U())};return(r.inverted||1<this.len)&&D(),U(),c},h.prototype.hide=function(n){var d=this;W.clearTimeout(this.hideTimer),n=M(n,this.options.hideDelay),this.isHidden||(this.hideTimer=a(function(){d.getLabel().fadeOut(n&&void 0),d.isHidden=!0},n))},h.prototype.init=function(n,d){this.chart=n,this.options=d,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=d.split&&!n.inverted&&!n.polar,this.shared=d.shared||this.split,this.outside=M(d.outside,!(!n.scrollablePixelsX&&!n.scrollablePixelsY))},h.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},h.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},h.prototype.move=function(n,d,o,r){var u=this,c=u.now,b=!1!==u.options.animation&&!u.isHidden&&(1<Math.abs(n-c.x)||1<Math.abs(d-c.y)),O=u.followPointer||1<u.len;g(c,{x:b?(2*c.x+n)/3:n,y:b?(c.y+d)/2:d,anchorX:O?void 0:b?(2*c.anchorX+o)/3:o,anchorY:O?void 0:b?(c.anchorY+r)/2:r}),u.getLabel().attr(c),u.drawTracker(),b&&(W.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,d,o,r)},32))},h.prototype.refresh=function(n,d){var o=this.chart,r=this.options,u=p(n),c=u[0],b=[],O=r.formatter||this.defaultFormatter,k=this.shared,_=o.styledMode,A={};if(r.enabled){W.clearTimeout(this.hideTimer),this.allowShared=!(!S(n)&&n.series&&n.series.noSharedTooltip),this.followPointer=!this.split&&c.series.tooltipOptions.followPointer;var B=(n=this.getAnchor(n,d))[0],m=n[1];if(k&&this.allowShared?(o.pointer.applyInactiveState(u),u.forEach(function(j){j.setState("hover"),b.push(j.getLabelConfig())}),(A={x:c.category,y:c.y}).points=b):A=c.getLabelConfig(),this.len=b.length,O=O.call(A,this),this.distance=M((k=c.series).tooltipOptions.distance,16),!1===O)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(O,u);else{var T=B,R=m;if(d&&o.pointer.isDirectTouch&&(T=d.chartX-o.plotLeft,R=d.chartY-o.plotTop),!o.polar&&!1!==k.options.clip&&!u.some(function(j){return j.series.shouldShowTooltip(T,R)}))return void this.hide();d=this.getLabel(),r.style.width&&!_||d.css({width:this.chart.spacingBox.width+"px"}),d.attr({text:O&&O.join?O.join(""):O}),d.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+M(c.colorIndex,k.colorIndex)),_||d.attr({stroke:r.borderColor||c.color||k.color||"#666666"}),this.updatePosition({plotX:B,plotY:m,negative:c.negative,ttBelow:c.ttBelow,h:n[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}},h.prototype.renderSplit=function(n,d){function o(pt,ct,J,et,st){return void 0===st&&(st=!0),J?(ct=nt?0:mt,pt=w(pt-et/2,N.left,N.right-et-(r.outside?it:0))):(ct-=ot,pt=w(pt=st?pt-et-$:pt+$,st?pt:N.left,N.right)),{x:pt,y:ct}}var r=this,u=r.chart,c=r.chart,b=c.chartWidth,O=c.chartHeight,k=c.plotHeight,_=c.plotLeft,A=c.plotTop,B=c.pointer,m=c.scrollablePixelsY;m=void 0===m?0:m;var R=c.scrollingContainer,j=(R=void 0===R?{scrollLeft:0,scrollTop:0}:R).scrollLeft;R=R.scrollTop;var X=c.styledMode,$=r.distance,D=r.options,U=r.options.positioner,N=r.outside&&"number"!=typeof c.scrollablePixelsX?z.documentElement.getBoundingClientRect():{left:j,right:j+b,top:R,bottom:R+O},Z=r.getLabel(),q=this.renderer||u.renderer,nt=!(!u.xAxis[0]||!u.xAxis[0].opposite),it=(u=B.getChartPosition()).left;u=u.top;var ot=A+R,at=0,mt=k-m;C(n)&&(n=[!1,n]),n=n.slice(0,d.length+1).reduce(function(pt,ct,J){if(!1!==ct&&""!==ct){var et=(J=d[J-1]||{isHeader:!0,plotX:d[0].plotX,plotY:k,series:{}}).isHeader,st=et?r:J.series;ct=ct.toString();var ut=st.tt,dt=J.isHeader,xt=J.series,Et="highcharts-color-"+M(J.colorIndex,xt.colorIndex,"none");if(ut||(ut={padding:D.padding,r:D.borderRadius},X||(ut.fill=D.backgroundColor,ut["stroke-width"]=D.borderWidth),ut=q.label("",0,0,D[dt?"headerShape":"shape"],void 0,void 0,D.useHTML).addClass((dt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Et).attr(ut).add(Z)),ut.isActive=!0,ut.attr({text:ct}),X||ut.css(D.style).shadow(D.shadow).attr({stroke:D.borderColor||J.color||xt.color||"#333333"}),ct=(dt=(st=st.tt=ut).getBBox()).width+st.strokeWidth(),et&&(mt+=at=dt.height,nt&&(ot-=at)),xt=void 0===(xt=J.plotX)?0:xt,Et=void 0===(Et=J.plotY)?0:Et,ut=J.series,J.isHeader){xt=_+xt;var wt=A+k/2}else{var kt=ut.xAxis,Dt=ut.yAxis;xt=kt.pos+w(xt,-$,kt.len+$),ut.shouldShowTooltip(0,Dt.pos-A+Et,{ignoreX:!0})&&(wt=Dt.pos+Et)}xt=w(xt,N.left-$,N.right+$),"number"==typeof wt?(dt=dt.height+1,Et=U?U.call(r,ct,dt,J):o(xt,wt,et,ct),pt.push({align:U?0:void 0,anchorX:xt,anchorY:wt,boxWidth:ct,point:J,rank:M(Et.rank,et?1:0),size:dt,target:Et.y,tt:st,x:Et.x})):st.isActive=!1}return pt},[]),!U&&n.some(function(pt){var ct=(r.outside?it:0)+pt.anchorX;return ct<N.left&&ct+pt.boxWidth<N.right||ct<it-N.left+pt.boxWidth&&N.right-ct>ct})&&(n=n.map(function(pt){var ct=o(pt.anchorX,pt.anchorY,pt.point.isHeader,pt.boxWidth,!1);return g(pt,{target:ct.y,x:ct.x})})),r.cleanSplit(),I(n,mt);var yt=it,vt=it;n.forEach(function(pt){var ct=pt.x,J=pt.boxWidth;(pt=pt.isHeader)||(r.outside&&it+ct<yt&&(yt=it+ct),!pt&&r.outside&&yt+J>vt&&(vt=it+ct))}),n.forEach(function(pt){var ct=pt.x,J=pt.anchorX,et=pt.pos,st=pt.point.isHeader;if(et={visibility:void 0===et?"hidden":"inherit",x:ct,y:et+ot,anchorX:J,anchorY:pt.anchorY},r.outside&&ct<J){var ut=it-yt;0<ut&&(st||(et.x=ct+ut,et.anchorX=J+ut),st&&(et.x=(vt-yt)/2,et.anchorX=J+ut))}pt.tt.attr(et)}),n=r.container,m=r.renderer,r.outside&&n&&m&&(c=Z.getBBox(),m.setSize(c.width+c.x,c.height+c.y,!1),n.style.left=yt+"px",n.style.top=u+"px")},h.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var n=this.chart,d=this.label,o=this.shared?n.hoverPoints:n.hoverPoint;if(d&&o){var r={x:0,y:0,width:0,height:0};o=this.getAnchor(o);var u=d.getBBox();o[0]+=n.plotLeft-d.translateX,o[1]+=n.plotTop-d.translateY,r.x=Math.min(0,o[0]),r.y=Math.min(0,o[1]),r.width=0>o[0]?Math.max(Math.abs(o[0]),u.width-o[0]):Math.max(Math.abs(o[0]),u.width),r.height=0>o[1]?Math.max(Math.abs(o[1]),u.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),u.height),this.tracker?this.tracker.attr(r):(this.tracker=d.renderer.rect(r).addClass("highcharts-tracker").add(d),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},h.prototype.styledModeFormat=function(n){return n.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},h.prototype.tooltipFooterHeaderFormatter=function(n,d){var o=n.series,r=o.tooltipOptions,u=o.xAxis,c=u&&u.dateTime,b=r.xDateFormat,O=r[d?"footerFormat":"headerFormat"];return v(this,"headerFormatter",u={isFooter:d,labelConfig:n},function(k){c&&!b&&f(n.key)&&(b=c.getXDateFormat(n.key,r.dateTimeLabelFormats)),c&&b&&(n.point&&n.point.tooltipDateKeys||["key"]).forEach(function(_){O=O.replace("{point."+_+"}","{point."+_+":"+b+"}")}),o.chart.styledMode&&(O=this.styledModeFormat(O)),k.text=Y(O,{point:n,series:o},this.chart)}),u.text},h.prototype.update=function(n){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,n),this.init(this.chart,x(!0,this.options,n))},h.prototype.updatePosition=function(n){var d=this.chart,o=this.options,r=d.pointer,u=this.getLabel();r=r.getChartPosition();var c=(o.positioner||this.getPosition).call(this,u.width,u.height,n),b=n.plotX+d.plotLeft;n=n.plotY+d.plotTop,this.outside&&(this.renderer.setSize(u.width+(o=o.borderWidth+2*this.distance),u.height+o,!1),(1!==r.scaleX||1!==r.scaleY)&&(E(this.container,{transform:"scale("+r.scaleX+", "+r.scaleY+")"}),b*=r.scaleX,n*=r.scaleY),b+=r.left-c.x,n+=r.top-c.y),this.move(Math.round(c.x),Math.round(c.y||0),b,n)},h}()}),lt(F,"Core/Series/Point.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=K.animObject,z=V.defaultOptions,I=Q.format,P=W.addEvent,w=W.defined,E=W.erase,s=W.extend,l=W.fireEvent,g=W.getNestedProperty,v=W.isArray,S=W.isFunction,f=W.isNumber,C=W.isObject,x=W.merge,M=W.objectEach,p=W.pick,a=W.syncTimeout,h=W.removeEvent,n=W.uniqueKey;return function(){function d(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return d.prototype.animateBeforeDestroy=function(){var o=this,r={x:o.startXPos,opacity:0},u=o.getGraphicalProps();u.singular.forEach(function(c){o[c]=o[c].animate("dataLabel"===c?{x:o[c].startXPos,y:o[c].startYPos,opacity:0}:r)}),u.plural.forEach(function(c){o[c].forEach(function(b){b.element&&b.animate(s({x:o.startXPos},b.startYPos?{x:b.startXPos,y:b.startYPos}:{}))})})},d.prototype.applyOptions=function(o,r){var u=this.series,c=u.options.pointValKey||u.pointValKey;return o=d.prototype.optionsToObject.call(this,o),s(this,o),this.options=this.options?s(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,c&&(this.y=d.prototype.getNestedProperty.call(this,c)),this.formatPrefix=(this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!f(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===r&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),void 0===this.x&&u?this.x=void 0===r?u.autoIncrement():r:f(o.x)&&u.options.relativeXValue&&(this.x=u.autoIncrement(o.x)),this},d.prototype.destroy=function(){function o(){for(k in(r.graphic||r.dataLabel||r.dataLabels)&&(h(r),r.destroyElements()),r)r[k]=null}var r=this,u=r.series,c=u.chart;u=u.options.dataSorting;var k,b=c.hoverPoints,O=Y(r.series.chart.renderer.globalAnimation);r.legendItem&&c.legend.destroyItem(r),b&&(r.setState(),E(b,r),b.length||(c.hoverPoints=null)),r===c.hoverPoint&&r.onMouseOut(),u&&u.enabled?(this.animateBeforeDestroy(),a(o,O.duration)):o(),c.pointCount--},d.prototype.destroyElements=function(o){var r=this;(o=r.getGraphicalProps(o)).singular.forEach(function(u){r[u]=r[u].destroy()}),o.plural.forEach(function(u){r[u].forEach(function(c){c.element&&c.destroy()}),delete r[u]})},d.prototype.firePointEvent=function(o,r,u){var c=this,b=this.series.options;(b.point.events[o]||c.options&&c.options.events&&c.options.events[o])&&c.importEvents(),"click"===o&&b.allowPointSelect&&(u=function(O){c.select&&c.select(null,O.ctrlKey||O.metaKey||O.shiftKey)}),l(c,o,r,u)},d.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},d.prototype.getGraphicalProps=function(o){var b,r=this,u=[],c={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","upperGraphic","shadowGroup"),o.dataLabel&&u.push("dataLabel","dataLabelUpper","connector"),b=u.length;b--;){var O=u[b];r[O]&&c.singular.push(O)}return["dataLabel","connector"].forEach(function(k){var _=k+"s";o[k]&&r[_]&&c.plural.push(_)}),c},d.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},d.prototype.getNestedProperty=function(o){if(o)return 0===o.indexOf("custom.")?g(o,this.options):this[o]},d.prototype.getZone=function(){var o=this.series,r=o.zones;o=o.zoneAxis||"y";var u,c=0;for(u=r[c];this[o]>=u.value;)u=r[++c];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=u&&u.color&&!this.options.color?u.color:this.nonZonedColor,u},d.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},d.prototype.init=function(o,r,u){return this.series=o,this.applyOptions(r,u),this.id=w(this.id)?this.id:n(),this.resolveColor(),o.chart.pointCount++,l(this,"afterInit"),this},d.prototype.optionsToObject=function(o){var r=this.series,u=r.options.keys,c=u||r.pointArrayMap||["y"],b=c.length,O={},k=0,_=0;if(f(o)||null===o)O[c[0]]=o;else if(v(o))for(!u&&o.length>b&&("string"==(r=typeof o[0])?O.name=o[0]:"number"===r&&(O.x=o[0]),k++);_<b;)u&&void 0===o[k]||(0<c[_].indexOf(".")?d.prototype.setNestedProperty(O,o[k],c[_]):O[c[_]]=o[k]),k++,_++;else"object"==typeof o&&(O=o,o.dataLabels&&(r._hasPointLabels=!0),o.marker&&(r._hasPointMarkers=!0));return O},d.prototype.resolveColor=function(){var o=this.series,r=o.chart.styledMode,u=o.chart.options.chart.colorCount;if(delete this.nonZonedColor,o.options.colorByPoint){if(!r){var c=(u=o.options.colors||o.chart.options.colors)[o.colorCounter];u=u.length}r=o.colorCounter,o.colorCounter++,o.colorCounter===u&&(o.colorCounter=0)}else r||(c=o.color),r=o.colorIndex;this.colorIndex=p(this.options.colorIndex,r),this.color=p(this.options.color,c)},d.prototype.setNestedProperty=function(o,r,u){return u.split(".").reduce(function(c,b,O,k){return c[b]=k.length-1===O?r:C(c[b],!0)?c[b]:{},c[b]},o),o},d.prototype.tooltipFormatter=function(o){var r=this.series,u=r.tooltipOptions,c=p(u.valueDecimals,""),b=u.valuePrefix||"",O=u.valueSuffix||"";return r.chart.styledMode&&(o=r.chart.tooltip.styledModeFormat(o)),(r.pointArrayMap||["y"]).forEach(function(k){k="{point."+k,(b||O)&&(o=o.replace(RegExp(k+"}","g"),b+k+"}"+O)),o=o.replace(RegExp(k+"}","g"),k+":,."+c+"f}")}),I(o,{point:this,series:this.series},r.chart)},d.prototype.update=function(o,r,u,c){function b(){O.applyOptions(o);var T=_&&O.hasDummyGraphic;T=null===O.y?!T:T,_&&T&&(O.graphic=_.destroy(),delete O.hasDummyGraphic),C(o,!0)&&(_&&_.element&&o&&o.marker&&void 0!==o.marker.symbol&&(O.graphic=_.destroy()),o&&o.dataLabels&&O.dataLabel&&(O.dataLabel=O.dataLabel.destroy()),O.connector&&(O.connector=O.connector.destroy())),k.updateParallelArrays(O,m=O.index),B.data[m]=C(B.data[m],!0)||C(o,!0)?O.options:p(o,B.data[m]),k.isDirty=k.isDirtyData=!0,!k.fixedBox&&k.hasCartesianSeries&&(A.isDirtyBox=!0),"point"===B.legendType&&(A.isDirtyLegend=!0),r&&A.redraw(u)}var m,O=this,k=O.series,_=O.graphic,A=k.chart,B=k.options;r=p(r,!0),!1===c?b():O.firePointEvent("update",{options:o},b)},d.prototype.remove=function(o,r){this.series.removePoint(this.series.data.indexOf(this),o,r)},d.prototype.select=function(o,r){var u=this,c=u.series,b=c.chart;this.selectedStaging=o=p(o,!u.selected),u.firePointEvent(o?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=o,c.options.data[c.data.indexOf(u)]=u.options,u.setState(o&&"select"),r||b.getSelectedPoints().forEach(function(O){var k=O.series;O.selected&&O!==u&&(O.selected=O.options.selected=!1,k.options.data[k.data.indexOf(O)]=O.options,O.setState(b.hoverPoints&&k.options.inactiveOtherPoints?"inactive":""),O.firePointEvent("unselect"))})}),delete this.selectedStaging},d.prototype.onMouseOver=function(o){var r=this.series.chart,u=r.pointer;o=o?u.normalize(o):u.getChartCoordinatesFromPoint(this,r.inverted),u.runPointActions(o,this)},d.prototype.onMouseOut=function(){var o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(r){r.setState()}),o.hoverPoints=o.hoverPoint=null},d.prototype.importEvents=function(){if(!this.hasImportedEvents){var o=this,r=x(o.series.options.point,o.options).events;o.events=r,M(r,function(u,c){S(u)&&P(o,c,u)}),this.hasImportedEvents=!0}},d.prototype.setState=function(o,r){var j,u=this.series,c=this.state,b=u.options.states[o||"normal"]||{},O=z.plotOptions[u.type].marker&&u.options.marker,_=O&&O.states&&O.states[o||"normal"]||{},B=this.marker||{},m=u.chart,T=O&&u.markerAttribs,R=u.halo,X=u.stateMarkerGraphic;if(!((o=o||"")===this.state&&!r||this.selected&&"select"!==o||!1===b.enabled||o&&(!1===_.enabled||O&&!1===O.enabled&&!1===_.enabled)||o&&B.states&&B.states[o]&&!1===B.states[o].enabled)){if(this.state=o,T&&(j=u.markerAttribs(this,o)),this.graphic&&!this.hasDummyGraphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),o&&this.graphic.addClass("highcharts-point-"+o),!m.styledMode){var $=u.pointAttribs(this,o),D=p(m.options.chart.animation,b.animation);u.options.inactiveOtherPoints&&f($.opacity)&&((this.dataLabels||[]).forEach(function(U){U&&U.animate({opacity:$.opacity},D)}),this.connector&&this.connector.animate({opacity:$.opacity},D)),this.graphic.animate($,D)}j&&this.graphic.animate(j,p(m.options.chart.animation,_.animation,O.animation)),X&&X.hide()}else o&&_&&(c=B.symbol||u.symbol,X&&X.currentSymbol!==c&&(X=X.destroy()),j&&(X?X[r?"animate":"attr"]({x:j.x,y:j.y}):c&&(u.stateMarkerGraphic=X=m.renderer.symbol(c,j.x,j.y,j.width,j.height).add(u.markerGroup),X.currentSymbol=c)),!m.styledMode&&X&&"inactive"!==this.state&&X.attr(u.pointAttribs(this,o))),X&&(X[o&&this.isInside?"show":"hide"](),X.element.point=this,X.addClass(this.getClassName(),!0));j=(X=this.graphic||X)&&X.visibility||"inherit",(b=b.halo)&&b.size&&X&&"hidden"!==j&&!this.isCluster?(R||(u.halo=R=m.renderer.path().add(X.parentGroup)),R.show()[r?"animate":"attr"]({d:this.haloPath(b.size)}),R.attr({class:"highcharts-halo highcharts-color-"+p(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),R.point=this,m.styledMode||R.attr(s({fill:this.color||u.color,"fill-opacity":b.opacity},H.filterUserAttributes(b.attributes||{})))):R&&R.point&&R.point.haloPath&&R.animate({d:R.point.haloPath(0)},null,R.hide),l(this,"afterSetState",{state:o})}},d.prototype.haloPath=function(o){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-o,this.plotY-o,2*o,2*o)},d}()}),lt(F,"Core/Pointer.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Tooltip.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var W=H.parse,Y=K.charts,z=K.noop,I=Q.addEvent,P=Q.attr,w=Q.css,E=Q.defined,s=Q.extend,l=Q.find,g=Q.fireEvent,v=Q.isNumber,S=Q.isObject,f=Q.objectEach,C=Q.offset,x=Q.pick,M=Q.splat;return function(){function p(a,h){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=a,this.hasDragged=!1,this.options=h,this.init(a,h)}return p.prototype.applyInactiveState=function(a){var n,h=[];(a||[]).forEach(function(d){h.push(n=d.series),n.linkedParent&&h.push(n.linkedParent),n.linkedSeries&&(h=h.concat(n.linkedSeries)),n.navigatorSeries&&h.push(n.navigatorSeries)}),this.chart.series.forEach(function(d){-1===h.indexOf(d)?d.setState("inactive",!0):d.options.inactiveOtherPoints&&d.setAllPointsToState("inactive")})},p.prototype.destroy=function(){var a=this;this.eventsToUnbind.forEach(function(h){return h()}),this.eventsToUnbind=[],K.chartCount||(p.unbindDocumentMouseUp&&(p.unbindDocumentMouseUp=p.unbindDocumentMouseUp()),p.unbindDocumentTouchEnd&&(p.unbindDocumentTouchEnd=p.unbindDocumentTouchEnd())),clearInterval(a.tooltipTimeout),f(a,function(h,n){a[n]=void 0})},p.prototype.drag=function(a){var h=this.chart,n=h.options.chart,d=this.zoomHor,o=this.zoomVert,r=h.plotLeft,u=h.plotTop,c=h.plotWidth,b=h.plotHeight,O=this.mouseDownX||0,k=this.mouseDownY||0,_=S(n.panning)?n.panning&&n.panning.enabled:n.panning,A=n.panKey&&a[n.panKey+"Key"],B=a.chartX,m=a.chartY,T=this.selectionMarker;if((!T||!T.touch)&&(B<r?B=r:B>r+c&&(B=r+c),m<u?m=u:m>u+b&&(m=u+b),this.hasDragged=Math.sqrt(Math.pow(O-B,2)+Math.pow(k-m,2)),10<this.hasDragged)){var R=h.isInsidePlot(O-r,k-u,{visiblePlotOnly:!0});!h.hasCartesianSeries&&!h.mapView||!this.zoomX&&!this.zoomY||!R||A||T||(this.selectionMarker=T=h.renderer.rect(r,u,d?1:c,o?1:b,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),h.styledMode||T.attr({fill:n.selectionMarkerFill||W("#335cad").setOpacity(.25).get()})),T&&d&&(d=B-O,T.attr({width:Math.abs(d),x:(0<d?0:d)+O})),T&&o&&(d=m-k,T.attr({height:Math.abs(d),y:(0<d?0:d)+k})),R&&!T&&_&&h.pan(a,n.panning)}},p.prototype.dragStart=function(a){var h=this.chart;h.mouseIsDown=a.type,h.cancelClick=!1,h.mouseDownX=this.mouseDownX=a.chartX,h.mouseDownY=this.mouseDownY=a.chartY},p.prototype.drop=function(a){var h=this,n=this.chart,d=this.hasPinched;if(this.selectionMarker){var o=this.selectionMarker,r=o.attr?o.attr("x"):o.x,u=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,b=o.attr?o.attr("height"):o.height,O={originalEvent:a,xAxis:[],yAxis:[],x:r,y:u,width:c,height:b},k=!!n.mapView;(this.hasDragged||d)&&(n.axes.forEach(function(_){if(_.zoomEnabled&&E(_.min)&&(d||h[{xAxis:"zoomX",yAxis:"zoomY"}[_.coll]])&&v(r)&&v(u)){var A=_.horiz,B="touchend"===a.type?_.minPixelPadding:0,m=_.toValue((A?r:u)+B);A=_.toValue((A?r+c:u+b)-B),O[_.coll].push({axis:_,min:Math.min(m,A),max:Math.max(m,A)}),k=!0}}),k&&g(n,"selection",O,function(_){n.zoom(s(_,d?{animation:!1}:null))})),v(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),d&&this.scaleGroups()}n&&v(n.index)&&(w(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},p.prototype.findNearestKDPoint=function(a,h,n){var r,d=this.chart,o=d.hoverPoint;return d=d.tooltip,o&&d&&d.isStickyOnContact()?o:(a.forEach(function(u){var c=!(u.noSharedTooltip&&h)&&0>u.options.findNearestPointBy.indexOf("y");if(u=u.searchPoint(n,c),(c=S(u,!0)&&u.series)&&!(c=!S(r,!0))){var b=r.dist-u.dist,O=(u.series.group&&u.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);c=0<(0!=(c=r.distX-u.distX)&&h?c:0!==b?b:0!==O?O:r.series.index>u.series.index?-1:1)}c&&(r=u)}),r)},p.prototype.getChartCoordinatesFromPoint=function(a,h){var n=a.series,d=n.xAxis;n=n.yAxis;var o=a.shapeArgs;if(d&&n){var r=x(a.clientX,a.plotX),u=a.plotY||0;return a.isNode&&o&&v(o.x)&&v(o.y)&&(r=o.x,u=o.y),h?{chartX:n.len+n.pos-u,chartY:d.len+d.pos-r}:{chartX:r+d.pos,chartY:u+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}},p.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var a=this.chart.container,h=C(a);this.chartPosition={left:h.left,top:h.top,scaleX:1,scaleY:1};var n=a.offsetWidth;return a=a.offsetHeight,2<n&&2<a&&(this.chartPosition.scaleX=h.width/n,this.chartPosition.scaleY=h.height/a),this.chartPosition},p.prototype.getCoordinates=function(a){var h={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(n){h[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(a[n.horiz?"chartX":"chartY"])})}),h},p.prototype.getHoverData=function(a,h,n,d,o,r){var u=[];d=!(!d||!a);var c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};g(this,"beforeGetHoverData",c);var b=h&&!h.stickyTracking?[h]:n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&k.stickyTracking}),O=d||!r?a:this.findNearestKDPoint(b,o,r);return h=O&&O.series,O&&(o&&!h.noSharedTooltip?(b=n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&!k.noSharedTooltip})).forEach(function(k){var _=l(k.points,function(A){return A.x===O.x&&!A.isNull});S(_)&&(k.chart.isBoosting&&(_=k.getPoint(_)),u.push(_))}):u.push(O)),g(this,"afterGetHoverData",c={hoverPoint:O}),{hoverPoint:c.hoverPoint,hoverSeries:h,hoverPoints:u}},p.prototype.getPointFromEvent=function(a){a=a.target;for(var h;a&&!h;)h=a.point,a=a.parentNode;return h},p.prototype.onTrackerMouseOut=function(a){a=a.relatedTarget||a.toElement;var h=this.chart.hoverSeries;this.isDirectTouch=!1,!h||!a||h.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+h.index)&&this.inClass(a,"highcharts-tracker")||h.onMouseOut()},p.prototype.inClass=function(a,h){for(var n;a;){if(n=P(a,"class")){if(-1!==n.indexOf(h))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}a=a.parentNode}},p.prototype.init=function(a,h){this.options=h,this.chart=a,this.runChartClick=!(!h.chart.events||!h.chart.events.click),this.pinchDown=[],this.lastValidTouch={},V&&(a.tooltip=new V(a,h.tooltip),this.followTouchMove=x(h.tooltip.followTouchMove,!0)),this.setDOMEvents()},p.prototype.normalize=function(a,h){var n=a.touches,d=n?n.length?n.item(0):x(n.changedTouches,a.changedTouches)[0]:a;return h||(h=this.getChartPosition()),n=d.pageX-h.left,d=d.pageY-h.top,n/=h.scaleX,d/=h.scaleY,s(a,{chartX:Math.round(n),chartY:Math.round(d)})},p.prototype.onContainerClick=function(a){var h=this.chart,n=h.hoverPoint;a=this.normalize(a);var d=h.plotLeft,o=h.plotTop;h.cancelClick||(n&&this.inClass(a.target,"highcharts-tracker")?(g(n.series,"click",s(a,{point:n})),h.hoverPoint&&n.firePointEvent("click",a)):(s(a,this.getCoordinates(a)),h.isInsidePlot(a.chartX-d,a.chartY-o,{visiblePlotOnly:!0})&&g(h,"click",a)))},p.prototype.onContainerMouseDown=function(a){var h=1==(1&(a.buttons||a.button));a=this.normalize(a),K.isFirefox&&0!==a.button&&this.onContainerMouseMove(a),(void 0===a.button||h)&&(this.zoomOption(a),h&&a.preventDefault&&a.preventDefault(),this.dragStart(a))},p.prototype.onContainerMouseLeave=function(a){var h=Y[x(p.hoverChartIndex,-1)],n=this.chart.tooltip;n&&n.shouldStickOnContact()&&this.inClass(a.relatedTarget,"highcharts-tooltip-container")||(a=this.normalize(a),h&&(a.relatedTarget||a.toElement)&&(h.pointer.reset(),h.pointer.chartPosition=void 0),n&&!n.isHidden&&this.reset())},p.prototype.onContainerMouseEnter=function(a){delete this.chartPosition},p.prototype.onContainerMouseMove=function(a){var h=this.chart;a=this.normalize(a),this.setHoverChartIndex(),a.preventDefault||(a.returnValue=!1),("mousedown"===h.mouseIsDown||this.touchSelect(a))&&this.drag(a),h.openMenu||!this.inClass(a.target,"highcharts-tracker")&&!h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||(this.inClass(a.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(a))},p.prototype.onDocumentTouchEnd=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.onContainerTouchMove=function(a){this.touchSelect(a)?this.onContainerMouseMove(a):this.touch(a)},p.prototype.onContainerTouchStart=function(a){this.touchSelect(a)?this.onContainerMouseDown(a):(this.zoomOption(a),this.touch(a,!0))},p.prototype.onDocumentMouseMove=function(a){var h=this.chart,n=this.chartPosition;a=this.normalize(a,n);var d=h.tooltip;!n||d&&d.isStickyOnContact()||h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||this.inClass(a.target,"highcharts-tracker")||this.reset()},p.prototype.onDocumentMouseUp=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.pinch=function(a){var h=this,n=h.chart,d=h.pinchDown,o=a.touches||[],r=o.length,u=h.lastValidTouch,c=h.hasZoom,b={},O=1===r&&(h.inClass(a.target,"highcharts-tracker")&&n.runTrackerClick||h.runChartClick),k={},_=h.selectionMarker;1<r?h.initiated=!0:1===r&&this.followTouchMove&&(h.initiated=!1),c&&h.initiated&&!O&&!1!==a.cancelable&&a.preventDefault(),[].map.call(o,function(A){return h.normalize(A)}),"touchstart"===a.type?([].forEach.call(o,function(A,B){d[B]={chartX:A.chartX,chartY:A.chartY}}),u.x=[d[0].chartX,d[1]&&d[1].chartX],u.y=[d[0].chartY,d[1]&&d[1].chartY],n.axes.forEach(function(A){if(A.zoomEnabled){var B=n.bounds[A.horiz?"h":"v"],m=A.minPixelPadding,T=A.toPixels(Math.min(x(A.options.min,A.dataMin),A.dataMin)),R=A.toPixels(Math.max(x(A.options.max,A.dataMax),A.dataMax)),j=Math.max(T,R);B.min=Math.min(A.pos,Math.min(T,R)-m),B.max=Math.max(A.pos+A.len,j+m)}}),h.res=!0):h.followTouchMove&&1===r?this.runPointActions(h.normalize(a)):d.length&&(g(n,"touchpan",{originalEvent:a},function(){_||(h.selectionMarker=_=s({destroy:z,touch:!0},n.plotBox)),h.pinchTranslate(d,o,b,_,k,u),h.hasPinched=c,h.scaleGroups(b,k)}),h.res&&(h.res=!1,this.reset(!1,0)))},p.prototype.pinchTranslate=function(a,h,n,d,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,a,h,n,d,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,a,h,n,d,o,r)},p.prototype.pinchTranslateDirection=function(a,h,n,d,o,r,u,c){var b=this.chart,O=a?"x":"y",k=a?"X":"Y",_="chart"+k,A=a?"width":"height",B=b["plot"+(a?"Left":"Top")],m=b.inverted,T=b.bounds[a?"h":"v"],R=1===h.length,j=h[0][_],X=!R&&h[1][_];h=function(){"number"==typeof Z&&20<Math.abs(j-X)&&(U=c||Math.abs(N-Z)/Math.abs(j-X)),D=(B-N)/U+j,$=b["plot"+(a?"Width":"Height")]/U};var $,D,U=c||1,N=n[0][_],Z=!R&&n[1][_];if(h(),(n=D)<T.min){n=T.min;var q=!0}else n+$>T.max&&(n=T.max-$,q=!0);q?(N-=.8*(N-u[O][0]),"number"==typeof Z&&(Z-=.8*(Z-u[O][1])),h()):u[O]=[N,Z],m||(r[O]=D-B,r[A]=$),r=m?1/U:U,o[A]=$,o[O]=n,d[m?a?"scaleY":"scaleX":"scale"+k]=U,d["translate"+k]=r*B+(N-r*j)},p.prototype.reset=function(a,h){var n=this.chart,d=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,u=n.tooltip,c=u&&u.shared?r:o;a&&c&&M(c).forEach(function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?u&&c&&M(c).length&&(u.refresh(c),u.shared&&r?r.forEach(function(b){b.setState(b.state,!0),b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):o&&(o.setState(o.state,!0),n.axes.forEach(function(b){b.crosshair&&o.series[b.coll]===b&&b.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),r&&r.forEach(function(b){b.setState()}),d&&d.onMouseOut(),u&&u.hide(h),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(b){b.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},p.prototype.runPointActions=function(a,h){var n=this.chart,d=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,o=!!d&&d.shared,r=h||n.hoverPoint,u=r&&r.series||n.hoverSeries;r=(h=this.getHoverData(r,u,n.series,(!a||"touchmove"!==a.type)&&(!!h||u&&u.directTouch&&this.isDirectTouch),o,a)).hoverPoint;var c=h.hoverPoints;if(h=(u=h.hoverSeries)&&u.tooltipOptions.followPointer&&!u.tooltipOptions.split,o=o&&u&&!u.noSharedTooltip,r&&(r!==n.hoverPoint||d&&d.isHidden)){if((n.hoverPoints||[]).forEach(function(b){-1===c.indexOf(b)&&b.setState()}),n.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(c),(c||[]).forEach(function(b){b.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!r.series)return;n.hoverPoints=c,n.hoverPoint=r,r.firePointEvent("mouseOver"),d&&d.refresh(o?c:r,a)}else h&&d&&!d.isHidden&&(r=d.getAnchor([{}],a),n.isInsidePlot(r[0],r[1],{visiblePlotOnly:!0})&&d.updatePosition({plotX:r[0],plotY:r[1]}));this.unDocMouseMove||(this.unDocMouseMove=I(n.container.ownerDocument,"mousemove",function(b){var O=Y[p.hoverChartIndex];O&&O.pointer.onDocumentMouseMove(b)}),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(b){var k,O=x((b.crosshair||{}).snap,!0);O&&((k=n.hoverPoint)&&k.series[b.coll]===b||(k=l(c,function(_){return _.series[b.coll]===b}))),k||!O?b.drawCrosshair(a,k):b.hideCrosshair()})},p.prototype.scaleGroups=function(a,h){var n=this.chart;n.series.forEach(function(d){var o=a||d.getPlotBox();d.group&&(d.xAxis&&d.xAxis.zoomEnabled||n.mapView)&&(d.group.attr(o),d.markerGroup&&(d.markerGroup.attr(o),d.markerGroup.clip(h?n.clipRect:null)),d.dataLabelsGroup&&d.dataLabelsGroup.attr(o))}),n.clipRect.attr(h||n.clipBox)},p.prototype.setDOMEvents=function(){var a=this,h=this.chart.container,n=h.ownerDocument;h.onmousedown=this.onContainerMouseDown.bind(this),h.onmousemove=this.onContainerMouseMove.bind(this),h.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(I(h,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(I(h,"mouseleave",this.onContainerMouseLeave.bind(this))),p.unbindDocumentMouseUp||(p.unbindDocumentMouseUp=I(n,"mouseup",this.onDocumentMouseUp.bind(this)));for(var d=this.chart.renderTo.parentElement;d&&"BODY"!==d.tagName;)this.eventsToUnbind.push(I(d,"scroll",function(){delete a.chartPosition})),d=d.parentElement;K.hasTouch&&(this.eventsToUnbind.push(I(h,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(I(h,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),p.unbindDocumentTouchEnd||(p.unbindDocumentTouchEnd=I(n,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},p.prototype.setHoverChartIndex=function(){var a=this.chart,h=K.charts[x(p.hoverChartIndex,-1)];h&&h!==a&&h.pointer.onContainerMouseLeave({relatedTarget:!0}),h&&h.mouseIsDown||(p.hoverChartIndex=a.index)},p.prototype.touch=function(a,h){var n=this.chart;if(this.setHoverChartIndex(),1===a.touches.length)if(a=this.normalize(a),n.isInsidePlot(a.chartX-n.plotLeft,a.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu){if(h&&this.runPointActions(a),"touchmove"===a.type)var o=!!(h=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(h[0].chartX-a.chartX,2)+Math.pow(h[0].chartY-a.chartY,2));x(o,!0)&&this.pinch(a)}else h&&this.reset();else 2===a.touches.length&&this.pinch(a)},p.prototype.touchSelect=function(a){return!(!this.chart.options.chart.zoomBySingleTouch||!a.touches||1!==a.touches.length)},p.prototype.zoomOption=function(a){var h=this.chart,n=h.options.chart;h=h.inverted;var d=n.zoomType||"";/touch/.test(a.type)&&(d=x(n.pinchType,d)),this.zoomX=a=/x/.test(d),this.zoomY=n=/y/.test(d),this.zoomHor=a&&!h||n&&h,this.zoomVert=n&&!h||a&&h,this.hasZoom=a||n},p}()}),lt(F,"Core/MSPointer.js",[F["Core/Globals.js"],F["Core/Pointer.js"],F["Core/Utilities.js"]],function(H,K,V){function Q(){var f=[];return f.item=function(C){return this[C]},l(v,function(C){f.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),f}function W(f,C,x,M){var p=z[K.hoverChartIndex||NaN];"touch"!==f.pointerType&&f.pointerType!==f.MSPOINTER_TYPE_TOUCH||!p||(p=p.pointer,M(f),p[C]({type:x,target:f.currentTarget,preventDefault:P,touches:Q()}))}var f,Y=this&&this.__extends||(f=function(C,x){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,p){M.__proto__=p}||function(M,p){for(var a in p)p.hasOwnProperty(a)&&(M[a]=p[a])})(C,x)},function(C,x){function M(){this.constructor=C}f(C,x),C.prototype=null===x?Object.create(x):(M.prototype=x.prototype,new M)}),z=H.charts,I=H.doc,P=H.noop,w=H.win,E=V.addEvent,s=V.css,l=V.objectEach,g=V.removeEvent,v={},S=!!w.PointerEvent;return function(f){function C(){return null!==f&&f.apply(this,arguments)||this}return Y(C,f),C.isRequired=function(){return!(H.hasTouch||!w.PointerEvent&&!w.MSPointerEvent)},C.prototype.batchMSEvents=function(x){x(this.chart.container,S?"pointerdown":"MSPointerDown",this.onContainerPointerDown),x(this.chart.container,S?"pointermove":"MSPointerMove",this.onContainerPointerMove),x(I,S?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(g),f.prototype.destroy.call(this)},C.prototype.init=function(x,M){f.prototype.init.call(this,x,M),this.hasZoom&&s(x.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(x){W(x,"onContainerTouchStart","touchstart",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY,target:M.currentTarget}})},C.prototype.onContainerPointerMove=function(x){W(x,"onContainerTouchMove","touchmove",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY},v[M.pointerId].target||(v[M.pointerId].target=M.currentTarget)})},C.prototype.onDocumentPointerUp=function(x){W(x,"onDocumentTouchEnd","touchend",function(M){delete v[M.pointerId]})},C.prototype.setDOMEvents=function(){f.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(E)},C}(K)}),lt(F,"Core/Legend/Legend.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Point.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.animObject,I=H.setAnimation,P=K.format;H=V.isFirefox;var w=V.marginNames;V=V.win;var E=W.distribute,s=Y.addEvent,l=Y.createElement,g=Y.css,v=Y.defined,S=Y.discardElement,f=Y.find,C=Y.fireEvent,x=Y.isNumber,M=Y.merge,p=Y.pick,a=Y.relativeLength,h=Y.stableSort,n=Y.syncTimeout;return W=Y.wrap,Y=function(){function d(o,r){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=o,this.init(o,r)}return d.prototype.init=function(o,r){this.chart=o,this.setOptions(r),r.enabled&&(this.render(),s(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=s(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},d.prototype.setOptions=function(o){var r=p(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=M(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop||0,this.itemMarginBottom=o.itemMarginBottom||0,this.padding=r,this.initialItemY=r-5,this.symbolWidth=p(o.symbolWidth,16),this.pages=[],this.proximate="proximate"===o.layout&&!this.chart.inverted,this.baseline=void 0},d.prototype.update=function(o,r){var u=this.chart;this.setOptions(M(!0,this.options,o)),this.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,p(r,!0)&&u.redraw(),C(this,"afterUpdate")},d.prototype.colorizeItem=function(o,r){if(o.legendGroup[r?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var u=this.options,c=o.legendItem,b=o.legendLine,O=o.legendSymbol,k=this.itemHiddenStyle.color;u=r?u.itemStyle.color:k;var _=r&&o.color||k,A=o.options&&o.options.marker,B={fill:_};c&&c.css({fill:u,color:u}),b&&b.attr({stroke:_}),O&&(A&&O.isMarker&&(B=o.pointAttribs(),r||(B.stroke=B.fill=k)),O.attr(B))}C(this,"afterColorizeItem",{item:o,visible:r})},d.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},d.prototype.positionItem=function(o){var r=this,u=this.options,c=u.symbolPadding,b=!u.rtl,O=o._legendItemPos;u=O[0],O=O[1];var k=o.checkbox,_=o.legendGroup;_&&_.element&&(c={translateX:b?u:this.legendWidth-u-2*c-4,translateY:O},b=function(){C(r,"afterPositionItem",{item:o})},v(_.translateY)?_.animate(c,void 0,b):(_.attr(c),b())),k&&(k.x=u,k.y=O)},d.prototype.destroyItem=function(o){var r=o.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(u){o[u]&&(o[u]=o[u].destroy())}),r&&S(o.checkbox)},d.prototype.destroy=function(){function o(r){this[r]&&(this[r]=this[r].destroy())}this.getAllItems().forEach(function(r){["legendItem","legendGroup"].forEach(o,r)}),"clipRect up down pager nav box title group".split(" ").forEach(o,this),this.display=null},d.prototype.positionCheckboxes=function(){var o=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,u=this.titleHeight;if(o){var c=o.translateY;this.allItems.forEach(function(b){var O=b.checkbox;if(O){var k=c+u+O.y+(this.scrollOffset||0)+3;g(O,{left:o.translateX+b.checkboxOffset+O.x-20+"px",top:k+"px",display:this.proximate||k>c-6&&k<c+r-6?"":"none"})}},this)}},d.prototype.renderTitle=function(){var o=this.options,r=this.padding,u=o.title,c=0;u.text&&(this.title||(this.title=this.chart.renderer.label(u.text,r-3,r-4,null,null,null,o.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(u.style),this.title.add(this.group)),u.width||this.title.css({width:this.maxLegendWidth+"px"}),c=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},d.prototype.setText=function(o){var r=this.options;o.legendItem.attr({text:r.labelFormat?P(r.labelFormat,o,this.chart):r.labelFormatter.call(o)})},d.prototype.renderItem=function(o){var r=this.chart,u=r.renderer,c=this.options,b=this.symbolWidth,O=c.symbolPadding||0,k=this.itemStyle,_=this.itemHiddenStyle,A="horizontal"===c.layout?p(c.itemDistance,20):0,B=!c.rtl,m=!o.series,T=!m&&o.series.drawLegendSymbol?o.series:o,R=T.options,j=this.createCheckboxForItem&&R&&R.showCheckbox,X=c.useHTML,$=o.options.className,D=o.legendItem;R=b+O+A+(j?20:0),D||(o.legendGroup=u.g("legend-item").addClass("highcharts-"+T.type+"-series highcharts-color-"+o.colorIndex+($?" "+$:"")+(m?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.legendItem=D=u.text("",B?b+O:-O,this.baseline||0,X),r.styledMode||D.css(M(o.visible?k:_)),D.attr({align:B?"left":"right",zIndex:2}).add(o.legendGroup),this.baseline||(this.fontMetrics=u.fontMetrics(r.styledMode?12:k.fontSize,D),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,D.attr("y",this.baseline),this.symbolHeight=c.symbolHeight||this.fontMetrics.f,c.squareSymbol&&(this.symbolWidth=p(c.symbolWidth,Math.max(this.symbolHeight,16)),R=this.symbolWidth+O+A+(j?20:0),B&&D.attr("x",this.symbolWidth+O))),T.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,D,X)),j&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),!r.styledMode&&k.width||D.css({width:(c.itemWidth||this.widthOption||r.spacingBox.width)-R+"px"}),this.setText(o),r=D.getBBox(),u=this.fontMetrics&&this.fontMetrics.h||0,o.itemWidth=o.checkboxOffset=c.itemWidth||o.legendItemWidth||r.width+R,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(o.legendItemHeight||(r.height>1.5*u?r.height:u))},d.prototype.layoutItem=function(o){var r=this.options,u=this.padding,c="horizontal"===r.layout,b=o.itemHeight,O=this.itemMarginBottom,k=this.itemMarginTop,_=c?p(r.itemDistance,20):0,A=this.maxLegendWidth;r=r.alignColumns&&this.totalItemWidth>A?this.maxItemWidth:o.itemWidth,c&&this.itemX-u+r>A&&(this.itemX=u,this.lastLineHeight&&(this.itemY+=k+this.lastLineHeight+O),this.lastLineHeight=0),this.lastItemY=k+this.itemY+O,this.lastLineHeight=Math.max(b,this.lastLineHeight),o._legendItemPos=[this.itemX,this.itemY],c?this.itemX+=r:(this.itemY+=k+b+O,this.lastLineHeight=b),this.offsetWidth=this.widthOption||Math.max((c?this.itemX-u-(o.checkbox?0:_):r)+u,this.offsetWidth)},d.prototype.getAllItems=function(){var o=[];return this.chart.series.forEach(function(r){var u=r&&r.options;r&&p(u.showInLegend,!v(u.linkedTo)&&void 0,!0)&&(o=o.concat(r.legendItems||("point"===u.legendType?r.data:r)))}),C(this,"afterGetAllItems",{allItems:o}),o},d.prototype.getAlignment=function(){var o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)},d.prototype.adjustMargins=function(o,r){var u=this.chart,c=this.options,b=this.getAlignment();b&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(O,k){O.test(b)&&!v(o[k])&&(u[w[k]]=Math.max(u[w[k]],u.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*c[k%2?"x":"y"]+p(c.margin,12)+r[k]+(u.titleOffset[k]||0)))})},d.prototype.proximatePositions=function(){var o=this.chart,r=[],u="left"===this.options.align;this.allItems.forEach(function(c){var b,O=u;if(c.yAxis){c.xAxis.options.reversed&&(O=!O),c.points&&(b=f(O?c.points:c.points.slice(0).reverse(),function(_){return x(_.plotY)})),O=this.itemMarginTop+c.legendItem.getBBox().height+this.itemMarginBottom;var k=c.yAxis.top-o.plotTop;c.visible?(b=b?b.plotY:c.yAxis.height,b+=k-.3*O):b=k+c.yAxis.height,r.push({target:b,size:O,item:c})}},this),E(r,o.plotHeight).forEach(function(c){c.item._legendItemPos&&(c.item._legendItemPos[1]=o.plotTop-o.spacing[0]+c.pos)})},d.prototype.render=function(){var o=this.chart,r=o.renderer,u=this.options,c=this.padding,b=this.getAllItems(),O=this.group,k=this.box;this.itemX=c,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=a(u.width,o.spacingBox.width-c);var _=o.spacingBox.width-2*c-u.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(_/=2),this.maxLegendWidth=this.widthOption||_,O||(this.group=O=r.g("legend").addClass(u.className||"").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(O),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),h(b,function(B,m){return(B.options&&B.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)}),u.reversed&&b.reverse(),this.allItems=b,this.display=_=!!b.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,b.forEach(this.renderItem,this),b.forEach(this.layoutItem,this),b=(this.widthOption||this.offsetWidth)+c;var A=this.lastItemY+this.lastLineHeight+this.titleHeight;A=this.handleOverflow(A),A+=c,k||(this.box=k=r.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(O),k.isNew=!0),o.styledMode||k.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<b&&0<A&&(k[k.isNew?"attr":"animate"](k.crisp.call({},{x:0,y:0,width:b,height:A},k.strokeWidth())),k.isNew=!1),k[_?"show":"hide"](),o.styledMode&&"none"===O.getStyle("display")&&(b=A=0),this.legendWidth=b,this.legendHeight=A,_&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},d.prototype.align=function(o){void 0===o&&(o=this.chart.spacingBox);var r=this.chart,u=this.options,c=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<r.titleOffset[0]?c+=r.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<r.titleOffset[2]&&(c-=r.titleOffset[2]),c!==o.y&&(o=M(o,{y:c})),this.group.align(M(u,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,o)},d.prototype.handleOverflow=function(o){var D,U,r=this,u=this.chart,c=u.renderer,b=this.options,O=b.y,k="top"===b.verticalAlign,_=this.padding,A=b.maxHeight,B=b.navigation,m=p(B.animation,!0),T=B.arrowSize||12,R=this.pages,j=this.allItems,X=function(q){"number"==typeof q?Z.attr({height:q}):Z&&(r.clipRect=Z.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=q?"rect("+_+"px,9999px,"+(_+q)+"px,0)":"auto")},$=function(q){return r[q]=c.circle(0,0,1.3*T).translate(T/2,T/2).add(N),u.styledMode||r[q].attr("fill","rgba(0,0,0,0.0001)"),r[q]};O=u.spacingBox.height+(k?-O:O)-_;var N=this.nav,Z=this.clipRect;return"horizontal"!==b.layout||"middle"===b.verticalAlign||b.floating||(O/=2),A&&(O=Math.min(O,A)),R.length=0,o&&0<O&&o>O&&!1!==B.enabled?(this.clipHeight=D=Math.max(O-20-this.titleHeight-_,0),this.currentPage=p(this.currentPage,1),this.fullHeight=o,j.forEach(function(q,nt){var it=q._legendItemPos[1],ot=Math.round(q.legendItem.getBBox().height),at=R.length;(!at||it-R[at-1]>D&&(U||it)!==R[at-1])&&(R.push(U||it),at++),q.pageIx=at-1,U&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-R[at-1]>D&&ot<=D&&(R.push(it),q.pageIx=at),it!==U&&(U=it)}),Z||(Z=r.clipRect=c.clipRect(0,_,9999,0),r.contentGroup.clip(Z)),X(D),N||(this.nav=N=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,T,T).add(N),$("upTracker").on("click",function(){r.scroll(-1,m)}),this.pager=c.text("",15,10).addClass("highcharts-legend-navigation"),u.styledMode||this.pager.css(B.style),this.pager.add(N),this.down=c.symbol("triangle-down",0,0,T,T).add(N),$("downTracker").on("click",function(){r.scroll(1,m)})),r.scroll(0),o=O):N&&(X(),this.nav=N.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o},d.prototype.scroll=function(o,r){var u=this,c=this.chart,b=this.pages,O=b.length,k=this.clipHeight,_=this.options.navigation,A=this.pager,B=this.padding,m=this.currentPage+o;m>O&&(m=O),0<m&&(void 0!==r&&I(r,c),this.nav.attr({translateX:B,translateY:k+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(T){T.attr({class:1===m?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),A.attr({text:m+"/"+O}),[this.down,this.downTracker].forEach(function(T){T.attr({x:18+this.pager.getBBox().width,class:m===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:1===m?_.inactiveColor:_.activeColor}),this.upTracker.css({cursor:1===m?"default":"pointer"}),this.down.attr({fill:m===O?_.inactiveColor:_.activeColor}),this.downTracker.css({cursor:m===O?"default":"pointer"})),this.scrollOffset=-b[m-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=m,this.positionCheckboxes(),o=z(p(r,c.renderer.globalAnimation,!0)),n(function(){C(u,"afterScroll",{currentPage:m})},o.duration))},d.prototype.setItemEvents=function(o,r,u){var c=this,b=c.chart.renderer.boxWrapper,O=o instanceof Q,k="highcharts-legend-"+(O?"point":"series")+"-active",_=c.chart.styledMode,A=function(B){c.allItems.forEach(function(m){o!==m&&[m].concat(m.linkedSeries||[]).forEach(function(T){T.setState(B,!O)})})};(u?[r,o.legendSymbol]:[o.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){o.visible&&A("inactive"),o.setState("hover"),o.visible&&b.addClass(k),_||r.css(c.options.itemHoverStyle)}).on("mouseout",function(){c.chart.styledMode||r.css(M(o.visible?c.itemStyle:c.itemHiddenStyle)),A(""),b.removeClass(k),o.setState()}).on("click",function(m){var T=function(){o.setVisible&&o.setVisible(),A(o.visible?"inactive":"")};b.removeClass(k),m={browserEvent:m},o.firePointEvent?o.firePointEvent("legendItemClick",m,T):C(o,"legendItemClick",m,T)})})},d.prototype.createCheckboxForItem=function(o){o.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),s(o.checkbox,"click",function(r){C(o.series||o,"checkboxClick",{checked:r.target.checked,item:o},function(){o.select()})})},d}(),(/Trident\/7\.0/.test(V.navigator&&V.navigator.userAgent)||H)&&W(Y.prototype,"positionItem",function(d,o){var r=this,u=function(){o._legendItemPos&&d.call(r,o)};u(),r.bubbleLegend||setTimeout(u)}),Y}),lt(F,"Core/Series/SeriesRegistry.js",[F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=K.defaultOptions,Y=Q.error,z=Q.extendClass,I=Q.merge;return function(w){function E(s,l){var g=W.plotOptions||{},v=l.defaultOptions;l.prototype.pointClass||(l.prototype.pointClass=V),l.prototype.type=s,v&&(g[s]=v),w.seriesTypes[s]=l}w.seriesTypes=H.seriesTypes,w.getSeries=function(s,l){void 0===l&&(l={});var g=s.options.chart,v=w.seriesTypes[g=l.type||g.type||g.defaultSeriesType||""];return w||Y(17,!0,s,{missingModuleFor:g}),"function"==typeof(g=new v).init&&g.init(s,l),g},w.registerSeriesType=E,w.seriesType=function(s,l,g,v,S){var f=W.plotOptions||{};return f[s]=I(f[l=l||""],g),E(s,z(w.seriesTypes[l]||function(){},v)),w.seriesTypes[s].prototype.type=s,S&&(w.seriesTypes[s].prototype.pointClass=z(V,S)),w.seriesTypes[s]}}(P||(P={})),P}),lt(F,"Core/Chart/Chart.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/FormatUtilities.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/Legend.js"],F["Core/MSPointer.js"],F["Core/DefaultOptions.js"],F["Core/Pointer.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Time.js"],F["Core/Utilities.js"],F["Core/Renderer/HTML/AST.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v){var S=H.animate,f=H.animObject,C=H.setAnimation,x=V.numberFormat,M=Q.registerEventOptions,p=W.charts,a=W.doc,h=W.marginNames,n=W.svg,d=W.win,o=I.defaultOptions,r=I.defaultTime,u=E.seriesTypes,c=g.addEvent,b=g.attr,O=g.cleanRecursively,k=g.createElement,_=g.css,A=g.defined,B=g.discardElement,m=g.erase,T=g.error,R=g.extend,j=g.find,X=g.fireEvent,$=g.getStyle,D=g.isArray,U=g.isNumber,N=g.isObject,Z=g.isString,q=g.merge,nt=g.objectEach,it=g.pick,ot=g.pInt,at=g.relativeLength,mt=g.removeEvent,yt=g.splat,vt=g.syncTimeout,pt=g.uniqueKey;return H=function(){function ct(J,et,st){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(J,et,st)}return ct.chart=function(J,et,st){return new ct(J,et,st)},ct.prototype.getArgs=function(J,et,st){Z(J)||J.nodeName?(this.renderTo=J,this.init(et,st)):this.init(J,et)},ct.prototype.init=function(J,et){var st=J.plotOptions||{};X(this,"init",{args:arguments},function(){var ut=q(o,J),dt=ut.chart;nt(ut.plotOptions,function(xt,Et){N(xt)&&(xt.tooltip=st[Et]&&q(st[Et].tooltip)||void 0)}),ut.tooltip.userOptions=J.chart&&J.chart.forExport&&J.tooltip.userOptions||J.tooltip,this.userOptions=J,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=et,this.isResizing=0,this.options=ut,this.axes=[],this.series=[],this.time=J.time&&Object.keys(J.time).length?new l(J.time):W.time,this.numberFormatter=dt.numberFormatter||x,this.styledMode=dt.styledMode,this.hasCartesianSeries=dt.showAxes,this.index=p.length,p.push(this),W.chartCount++,M(this,dt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,X(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(J){var et=this.options.chart,st=u[et=J.type||et.type||et.defaultSeriesType];return st||T(17,!0,this,{missingModuleFor:et}),"function"==typeof(et=new st).init&&et.init(this,J),et},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(J){J.points||J.data||!J.enabledDataSorting||J.setData(J.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(J,et){return J.linkedSeries.length||et.linkedSeries.length?et.linkedSeries.length-J.linkedSeries.length:0})},ct.prototype.orderSeries=function(J){var et=this.series;J=J||0;for(var st=et.length;J<st;++J)et[J]&&(et[J].index=J,et[J].name=et[J].getName())},ct.prototype.isInsidePlot=function(J,et,st){void 0===st&&(st={});var ut=this.inverted,dt=this.plotBox,xt=this.plotLeft,Et=this.plotTop,wt=this.scrollablePlotBox,kt=0,Dt=0;st.visiblePlotOnly&&this.scrollingContainer&&(kt=(Dt=this.scrollingContainer).scrollLeft,Dt=Dt.scrollTop);var bt=st.series;if(dt=st.visiblePlotOnly&&wt||dt,J={x:wt=st.inverted?et:J,y:et=st.inverted?J:et,isInsidePlot:!0},!st.ignoreX){var Lt=bt&&(ut?bt.yAxis:bt.xAxis)||{pos:xt,len:1/0};(wt=st.paneCoordinates?Lt.pos+wt:xt+wt)>=Math.max(kt+xt,Lt.pos)&&wt<=Math.min(kt+xt+dt.width,Lt.pos+Lt.len)||(J.isInsidePlot=!1)}return!st.ignoreY&&J.isInsidePlot&&(ut=bt&&(ut?bt.xAxis:bt.yAxis)||{pos:Et,len:1/0},(st=st.paneCoordinates?ut.pos+et:Et+et)>=Math.max(Dt+Et,ut.pos)&&st<=Math.min(Dt+Et+dt.height,ut.pos+ut.len)||(J.isInsidePlot=!1)),X(this,"afterIsInsidePlot",J),J.isInsidePlot},ct.prototype.redraw=function(J){X(this,"beforeRedraw");var et=this.hasCartesianSeries?this.axes:this.colorAxis||[],st=this.series,ut=this.pointer,dt=this.legend,xt=this.userOptions.legend,Et=this.renderer,wt=Et.isHidden(),kt=[],Dt=this.isDirtyBox,bt=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&J,this),wt&&this.temporaryDisplay(),this.layOutTitles(),J=st.length;J--;){var Lt=st[J];if(Lt.options.stacking||Lt.options.centerInCategory){var Rt=!0;if(Lt.isDirty){var Nt=!0;break}}}if(Nt)for(J=st.length;J--;)(Lt=st[J]).options.stacking&&(Lt.isDirty=!0);st.forEach(function(Ot){Ot.isDirty&&("point"===Ot.options.legendType?("function"==typeof Ot.updateTotals&&Ot.updateTotals(),bt=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(bt=!0)),Ot.isDirtyData&&X(Ot,"updatedData")}),bt&&dt&&dt.options.enabled&&(dt.render(),this.isDirtyLegend=!1),Rt&&this.getStacks(),et.forEach(function(Ot){Ot.updateNames(),Ot.setScale()}),this.getMargins(),et.forEach(function(Ot){Ot.isDirty&&(Dt=!0)}),et.forEach(function(Ot){var Wt=Ot.min+","+Ot.max;Ot.extKey!==Wt&&(Ot.extKey=Wt,kt.push(function(){X(Ot,"afterSetExtremes",R(Ot.eventArgs,Ot.getExtremes())),delete Ot.eventArgs})),(Dt||Rt)&&Ot.redraw()}),Dt&&this.drawChartBox(),X(this,"predraw"),st.forEach(function(Ot){(Dt||Ot.isDirty)&&Ot.visible&&Ot.redraw(),Ot.isDirtyData=!1}),ut&&ut.reset(!0),Et.draw(),X(this,"redraw"),X(this,"render"),wt&&this.temporaryDisplay(!0),kt.forEach(function(Ot){Ot.call()})},ct.prototype.get=function(J){function et(xt){return xt.id===J||xt.options&&xt.options.id===J}for(var st=this.series,ut=j(this.axes,et)||j(this.series,et),dt=0;!ut&&dt<st.length;dt++)ut=j(st[dt].points||[],et);return ut},ct.prototype.getAxes=function(){var J=this,et=this.options,st=et.xAxis=yt(et.xAxis||{});et=et.yAxis=yt(et.yAxis||{}),X(this,"getAxes"),st.forEach(function(ut,dt){ut.index=dt,ut.isX=!0}),et.forEach(function(ut,dt){ut.index=dt}),st.concat(et).forEach(function(ut){new K(J,ut)}),X(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(J,et){return et.getPointsCollection().forEach(function(st){it(st.selectedStaging,st.selected)&&J.push(st)}),J},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(J){return J.selected})},ct.prototype.setTitle=function(J,et,st){this.applyDescription("title",J),this.applyDescription("subtitle",et),this.applyDescription("caption",void 0),this.layOutTitles(st)},ct.prototype.applyDescription=function(J,et){var st=this,ut="title"===J?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ut=this.options[J]=q(!this.styledMode&&{style:ut},this.options[J],et);var dt=this[J];dt&&et&&(this[J]=dt=dt.destroy()),ut&&!dt&&((dt=this.renderer.text(ut.text,0,0,ut.useHTML).attr({align:ut.align,class:"highcharts-"+J,zIndex:ut.zIndex||4}).add()).update=function(xt){st[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[J]](xt)},this.styledMode||dt.css(ut.style),this[J]=dt)},ct.prototype.layOutTitles=function(J){var et=[0,0,0],st=this.renderer,ut=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){var Dt,Et=this[xt],wt=this.options[xt],kt=wt.verticalAlign||"top";if(xt="title"===xt?"top"===kt?-3:0:"top"===kt?et[0]+2:0,Et){this.styledMode||(Dt=wt.style&&wt.style.fontSize),Dt=st.fontMetrics(Dt,Et).b,Et.css({width:(wt.width||ut.width+(wt.widthAdjust||0))+"px"});var bt=Math.round(Et.getBBox(wt.useHTML).height);Et.align(R({y:"bottom"===kt?Dt:xt+Dt,height:bt},wt),!1,"spacingBox"),wt.floating||("top"===kt?et[0]=Math.ceil(et[0]+bt):"bottom"===kt&&(et[2]=Math.ceil(et[2]+bt)))}},this),et[0]&&"top"===(this.options.title.verticalAlign||"top")&&(et[0]+=this.options.title.margin),et[2]&&"bottom"===this.options.caption.verticalAlign&&(et[2]+=this.options.caption.margin);var dt=!this.titleOffset||this.titleOffset.join(",")!==et.join(",");this.titleOffset=et,X(this,"afterLayOutTitles"),!this.isDirtyBox&&dt&&(this.isDirtyBox=this.isDirtyLegend=dt,this.hasRendered&&it(J,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var J=this.options.chart,et=J.width;J=J.height;var st=this.renderTo;A(et)||(this.containerWidth=$(st,"width")),A(J)||(this.containerHeight=$(st,"height")),this.chartWidth=Math.max(0,et||this.containerWidth||600),this.chartHeight=Math.max(0,at(J,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(J){var et=this.renderTo;if(J)for(;et&&et.style;)et.hcOrigStyle&&(_(et,et.hcOrigStyle),delete et.hcOrigStyle),et.hcOrigDetached&&(a.body.removeChild(et),et.hcOrigDetached=!1),et=et.parentNode;else for(;et&&et.style&&(a.body.contains(et)||et.parentNode||(et.hcOrigDetached=!0,a.body.appendChild(et)),("none"===$(et,"display",!1)||et.hcOricDetached)&&(et.hcOrigStyle={display:et.style.display,height:et.style.height,overflow:et.style.overflow},J={display:"block",overflow:"hidden"},et!==this.renderTo&&(J.height=0),_(et,J),et.offsetWidth||et.style.setProperty("display","block","important")),(et=et.parentNode)!==a.body););},ct.prototype.setClassName=function(J){this.container.className="highcharts-container "+(J||"")},ct.prototype.getContainer=function(){var ut,J=this.options,et=J.chart,st=pt(),dt=this.renderTo;dt||(this.renderTo=dt=et.renderTo),Z(dt)&&(this.renderTo=dt=a.getElementById(dt)),dt||T(13,!0,this);var xt=ot(b(dt,"data-highcharts-chart"));U(xt)&&p[xt]&&p[xt].hasRendered&&p[xt].destroy(),b(dt,"data-highcharts-chart",this.index),dt.innerHTML=v.emptyHTML,et.skipClone||dt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;var Et=this.chartHeight;if(_(dt,{overflow:"hidden"}),this.styledMode||(ut=R({position:"relative",overflow:"hidden",width:xt+"px",height:Et+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},et.style||{})),this.container=st=k("div",{id:st},ut,dt),this._cursor=st.style.cursor,this.renderer=new(et.renderer||!n?w.getRendererType(et.renderer):s)(st,xt,Et,void 0,et.forExport,J.exporting&&J.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(et.className),this.styledMode)for(var wt in J.defs)this.renderer.definition(J.defs[wt]);else this.renderer.setStyle(et.style);this.renderer.chartIndex=this.index,X(this,"afterGetContainer")},ct.prototype.getMargins=function(J){var et=this.spacing,st=this.margin,ut=this.titleOffset;this.resetMargins(),ut[0]&&!A(st[0])&&(this.plotTop=Math.max(this.plotTop,ut[0]+et[0])),ut[2]&&!A(st[2])&&(this.marginBottom=Math.max(this.marginBottom,ut[2]+et[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(st,et),X(this,"getMargins"),J||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var J=this,et=J.axisOffset=[0,0,0,0],st=J.colorAxis,ut=J.margin,dt=function(xt){xt.forEach(function(Et){Et.visible&&Et.getOffset()})};J.hasCartesianSeries?dt(J.axes):st&&st.length&&dt(st),h.forEach(function(xt,Et){A(ut[Et])||(J[xt]+=et[Et])}),J.setChartSize()},ct.prototype.reflow=function(J){var et=this,st=et.options.chart,ut=et.renderTo,dt=A(st.width)&&A(st.height),xt=st.width||$(ut,"width");st=st.height||$(ut,"height"),ut=J?J.target:d,delete et.pointer.chartPosition,!dt&&!et.isPrinting&&xt&&st&&(ut===d||ut===a)&&((xt!==et.containerWidth||st!==et.containerHeight)&&(g.clearTimeout(et.reflowTimeout),et.reflowTimeout=vt(function(){et.container&&et.setSize(void 0,void 0,!1)},J?100:0)),et.containerWidth=xt,et.containerHeight=st)},ct.prototype.setReflow=function(J){var et=this;!1===J||this.unbindReflow?!1===J&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=c(d,"resize",function(st){et.options&&et.reflow(st)}),c(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(J,et,st){var ut=this,dt=ut.renderer;ut.isResizing+=1,C(st,ut),st=dt.globalAnimation,ut.oldChartHeight=ut.chartHeight,ut.oldChartWidth=ut.chartWidth,void 0!==J&&(ut.options.chart.width=J),void 0!==et&&(ut.options.chart.height=et),ut.getChartSize(),ut.styledMode||(st?S:_)(ut.container,{width:ut.chartWidth+"px",height:ut.chartHeight+"px"},st),ut.setChartSize(!0),dt.setSize(ut.chartWidth,ut.chartHeight,st),ut.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),ut.isDirtyLegend=!0,ut.isDirtyBox=!0,ut.layOutTitles(),ut.getMargins(),ut.redraw(st),ut.oldChartHeight=null,X(ut,"resize"),vt(function(){ut&&X(ut,"endResize",null,function(){--ut.isResizing})},f(st).duration)},ct.prototype.setChartSize=function(J){var kt,Dt,bt,Lt,et=this.inverted,st=this.renderer,ut=this.chartWidth,dt=this.chartHeight,xt=this.options.chart,Et=this.spacing,wt=this.clipOffset;this.plotLeft=kt=Math.round(this.plotLeft),this.plotTop=Dt=Math.round(this.plotTop),this.plotWidth=bt=Math.max(0,Math.round(ut-kt-this.marginRight)),this.plotHeight=Lt=Math.max(0,Math.round(dt-Dt-this.marginBottom)),this.plotSizeX=et?Lt:bt,this.plotSizeY=et?bt:Lt,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=st.spacingBox={x:Et[3],y:Et[0],width:ut-Et[3]-Et[1],height:dt-Et[0]-Et[2]},this.plotBox=st.plotBox={x:kt,y:Dt,width:bt,height:Lt},et=2*Math.floor(this.plotBorderWidth/2),ut=Math.ceil(Math.max(et,wt[3])/2),dt=Math.ceil(Math.max(et,wt[0])/2),this.clipBox={x:ut,y:dt,width:Math.floor(this.plotSizeX-Math.max(et,wt[1])/2-ut),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(et,wt[2])/2-dt))},J||(this.axes.forEach(function(Rt){Rt.setAxisSize(),Rt.setAxisTranslation()}),st.alignElements()),X(this,"afterSetChartSize",{skipAxes:J})},ct.prototype.resetMargins=function(){X(this,"resetMargins");var J=this,et=J.options.chart;["margin","spacing"].forEach(function(st){var ut=et[st],dt=N(ut)?ut:[ut,ut,ut,ut];["Top","Right","Bottom","Left"].forEach(function(xt,Et){J[st][Et]=it(et[st+xt],dt[Et])})}),h.forEach(function(st,ut){J[st]=it(J.margin[ut],J.spacing[ut])}),J.axisOffset=[0,0,0,0],J.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var ae,J=this.options.chart,et=this.renderer,st=this.chartWidth,ut=this.chartHeight,dt=this.styledMode,xt=this.plotBGImage,Et=J.backgroundColor,wt=J.plotBackgroundColor,kt=J.plotBackgroundImage,Dt=this.plotLeft,bt=this.plotTop,Lt=this.plotWidth,Rt=this.plotHeight,Nt=this.plotBox,Ot=this.clipRect,Wt=this.clipBox,Kt=this.chartBackground,Ft=this.plotBackground,Jt=this.plotBorder,Xt="animate";if(Kt||(this.chartBackground=Kt=et.rect().addClass("highcharts-background").add(),Xt="attr"),dt)var ee=ae=Kt.strokeWidth();else ae=(ee=J.borderWidth||0)+(J.shadow?8:0),Et={fill:Et||"none"},(ee||Kt["stroke-width"])&&(Et.stroke=J.borderColor,Et["stroke-width"]=ee),Kt.attr(Et).shadow(J.shadow);Kt[Xt]({x:ae/2,y:ae/2,width:st-ae-ee%2,height:ut-ae-ee%2,r:J.borderRadius}),Xt="animate",Ft||(Xt="attr",this.plotBackground=Ft=et.rect().addClass("highcharts-plot-background").add()),Ft[Xt](Nt),dt||(Ft.attr({fill:wt||"none"}).shadow(J.plotShadow),kt&&(xt?(kt!==xt.attr("href")&&xt.attr("href",kt),xt.animate(Nt)):this.plotBGImage=et.image(kt,Dt,bt,Lt,Rt).add())),Ot?Ot.animate({width:Wt.width,height:Wt.height}):this.clipRect=et.clipRect(Wt),Xt="animate",Jt||(Xt="attr",this.plotBorder=Jt=et.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),dt||Jt.attr({stroke:J.plotBorderColor,"stroke-width":J.plotBorderWidth||0,fill:"none"}),Jt[Xt](Jt.crisp({x:Dt,y:bt,width:Lt,height:Rt},-Jt.strokeWidth())),this.isDirtyBox=!1,X(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var ut,dt,xt,J=this,et=J.options.chart,st=J.options.series;["inverted","angular","polar"].forEach(function(Et){for(dt=u[et.type||et.defaultSeriesType],xt=et[Et]||dt&&dt.prototype[Et],ut=st&&st.length;!xt&&ut--;)(dt=u[st[ut].type])&&dt.prototype[Et]&&(xt=!0);J[Et]=xt})},ct.prototype.linkSeries=function(){var J=this,et=J.series;et.forEach(function(st){st.linkedSeries.length=0}),et.forEach(function(st){var ut=st.options.linkedTo;Z(ut)&&(ut=":previous"===ut?J.series[st.index-1]:J.get(ut))&&ut.linkedParent!==st&&(ut.linkedSeries.push(st),st.linkedParent=ut,ut.enabledDataSorting&&st.setDataSortingOptions(),st.visible=it(st.options.visible,ut.options.visible,st.visible))}),X(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(J){J.translate(),J.render()})},ct.prototype.renderLabels=function(){var J=this,et=J.options.labels;et.items&&et.items.forEach(function(st){var ut=R(et.style,st.style),dt=ot(ut.left)+J.plotLeft,xt=ot(ut.top)+J.plotTop+12;delete ut.left,delete ut.top,J.renderer.text(st.html,dt,xt).attr({zIndex:2}).css(ut).add()})},ct.prototype.render=function(){var J=this.axes,et=this.colorAxis,st=this.renderer,ut=this.options,dt=function(Dt){Dt.forEach(function(bt){bt.visible&&bt.render()})},xt=0;this.setTitle(),this.legend=new Y(this,ut.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ut=this.plotWidth,J.some(function(Dt){if(Dt.horiz&&Dt.visible&&Dt.options.labels.enabled&&Dt.series.length)return xt=21,!0});var Et=this.plotHeight=Math.max(this.plotHeight-xt,0);J.forEach(function(Dt){Dt.setScale()}),this.getAxisMargins();var wt=1.1<ut/this.plotWidth,kt=1.05<Et/this.plotHeight;(wt||kt)&&(J.forEach(function(Dt){(Dt.horiz&&wt||!Dt.horiz&&kt)&&Dt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?dt(J):et&&et.length&&dt(et),this.seriesGroup||(this.seriesGroup=st.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(J){var et=this,st=q(!0,this.options.credits,J);st.enabled&&!this.credits&&(this.credits=this.renderer.text(st.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){st.href&&(d.location.href=st.href)}).attr({align:st.position.align,zIndex:8}),et.styledMode||this.credits.css(st.style),this.credits.add().align(st.position),this.credits.update=function(ut){et.credits=et.credits.destroy(),et.addCredits(ut)})},ct.prototype.destroy=function(){var xt,J=this,et=J.axes,st=J.series,ut=J.container,dt=ut&&ut.parentNode;for(X(J,"destroy"),J.renderer.forExport?m(p,J):p[J.index]=void 0,W.chartCount--,J.renderTo.removeAttribute("data-highcharts-chart"),mt(J),xt=et.length;xt--;)et[xt]=et[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=st.length;xt--;)st[xt]=st[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Et){var wt=J[Et];wt&&wt.destroy&&(J[Et]=wt.destroy())}),ut&&(ut.innerHTML=v.emptyHTML,mt(ut),dt&&B(ut)),nt(J,function(Et,wt){delete J[wt]})},ct.prototype.firstRender=function(){var J=this,et=J.options;(!J.isReadyToRender||J.isReadyToRender())&&(J.getContainer(),J.resetMargins(),J.setChartSize(),J.propFromSeries(),J.getAxes(),(D(et.series)?et.series:[]).forEach(function(st){J.initSeries(st)}),J.linkSeries(),J.setSeriesData(),X(J,"beforeRender"),P&&(J.pointer=z.isRequired()?new z(J,et):new P(J,et)),J.render(),J.pointer.getChartPosition(),!J.renderer.imgCount&&!J.hasLoaded&&J.onload(),J.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(J){J&&void 0!==this.index&&J.apply(this,[this])},this),X(this,"load"),X(this,"render"),A(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(J,et,st){var dt,ut=this;return J&&(et=it(et,!0),X(ut,"addSeries",{options:J},function(){dt=ut.initSeries(J),ut.isDirtyLegend=!0,ut.linkSeries(),dt.enabledDataSorting&&dt.setData(J.data,!1),X(ut,"afterAddSeries",{series:dt}),et&&ut.redraw(st)})),dt},ct.prototype.addAxis=function(J,et,st,ut){return this.createAxis(et?"xAxis":"yAxis",{axis:J,redraw:st,animation:ut})},ct.prototype.addColorAxis=function(J,et,st){return this.createAxis("colorAxis",{axis:J,redraw:et,animation:st})},ct.prototype.createAxis=function(J,et){return J=new K(this,q(et.axis,{index:this[J].length,isX:"xAxis"===J})),it(et.redraw,!0)&&this.redraw(et.animation),J},ct.prototype.showLoading=function(J){var et=this,st=et.options,ut=st.loading,dt=function(){xt&&_(xt,{left:et.plotLeft+"px",top:et.plotTop+"px",width:et.plotWidth+"px",height:et.plotHeight+"px"})},xt=et.loadingDiv,Et=et.loadingSpan;xt||(et.loadingDiv=xt=k("div",{className:"highcharts-loading highcharts-loading-hidden"},null,et.container)),Et||(et.loadingSpan=Et=k("span",{className:"highcharts-loading-inner"},null,xt),c(et,"redraw",dt)),xt.className="highcharts-loading",v.setElementHTML(Et,it(J,st.lang.loading,"")),et.styledMode||(_(xt,R(ut.style,{zIndex:10})),_(Et,ut.labelStyle),et.loadingShown||(_(xt,{opacity:0,display:""}),S(xt,{opacity:ut.style.opacity||.5},{duration:ut.showDuration||0}))),et.loadingShown=!0,dt()},ct.prototype.hideLoading=function(){var J=this.options,et=this.loadingDiv;et&&(et.className="highcharts-loading highcharts-loading-hidden",this.styledMode||S(et,{opacity:0},{duration:J.loading.hideDuration||100,complete:function(){_(et,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(J,et,st,ut){var kt,Dt,dt=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Et=J.isResponsiveOptions,wt=[];X(dt,"update",{options:J}),Et||dt.setResponsive(!1,!0),J=O(J,dt.options),dt.userOptions=q(dt.userOptions,J);var bt=J.chart;if(bt){if(q(!0,dt.options.chart,bt),"className"in bt&&dt.setClassName(bt.className),"reflow"in bt&&dt.setReflow(bt.reflow),"inverted"in bt||"polar"in bt||"type"in bt){dt.propFromSeries();var Lt=!0}"alignTicks"in bt&&(Lt=!0),"events"in bt&&M(this,bt),nt(bt,function(Rt,Nt){-1!==dt.propsRequireUpdateSeries.indexOf("chart."+Nt)&&(kt=!0),-1!==dt.propsRequireDirtyBox.indexOf(Nt)&&(dt.isDirtyBox=!0),-1!==dt.propsRequireReflow.indexOf(Nt)&&(Et?dt.isDirtyBox=!0:Dt=!0)}),!dt.styledMode&&bt.style&&dt.renderer.setStyle(dt.options.chart.style||{})}!dt.styledMode&&J.colors&&(this.options.colors=J.colors),J.time&&(this.time===r&&(this.time=new l(J.time)),q(!0,dt.options.time,J.time)),nt(J,function(Rt,Nt){dt[Nt]&&"function"==typeof dt[Nt].update?dt[Nt].update(Rt,!1):"function"==typeof dt[xt[Nt]]?dt[xt[Nt]](Rt):"colors"!==Nt&&-1===dt.collectionsWithUpdate.indexOf(Nt)&&q(!0,dt.options[Nt],J[Nt]),"chart"!==Nt&&-1!==dt.propsRequireUpdateSeries.indexOf(Nt)&&(kt=!0)}),this.collectionsWithUpdate.forEach(function(Rt){if(J[Rt]){var Nt=[];dt[Rt].forEach(function(Ot,Wt){Ot.options.isInternal||Nt.push(it(Ot.options.index,Wt))}),yt(J[Rt]).forEach(function(Ot,Wt){var Ft,Kt=A(Ot.id);Kt&&(Ft=dt.get(Ot.id)),!Ft&&dt[Rt]&&(Ft=dt[Rt][Nt?Nt[Wt]:Wt])&&Kt&&A(Ft.options.id)&&(Ft=void 0),Ft&&Ft.coll===Rt&&(Ft.update(Ot,!1),st&&(Ft.touched=!0)),!Ft&&st&&dt.collectionsWithInit[Rt]&&(dt.collectionsWithInit[Rt][0].apply(dt,[Ot].concat(dt.collectionsWithInit[Rt][1]||[]).concat([!1])).touched=!0)}),st&&dt[Rt].forEach(function(Ot){Ot.touched||Ot.options.isInternal?delete Ot.touched:wt.push(Ot)})}}),wt.forEach(function(Rt){Rt.chart&&Rt.remove&&Rt.remove(!1)}),Lt&&dt.axes.forEach(function(Rt){Rt.update({},!1)}),kt&&dt.getSeriesOrderByLinks().forEach(function(Rt){Rt.chart&&Rt.update({},!1)},this),Lt=bt&&bt.width,bt=bt&&(Z(bt.height)?at(bt.height,Lt||dt.chartWidth):bt.height),Dt||U(Lt)&&Lt!==dt.chartWidth||U(bt)&&bt!==dt.chartHeight?dt.setSize(Lt,bt,ut):it(et,!0)&&dt.redraw(ut),X(dt,"afterUpdate",{options:J,redraw:et,animation:ut})},ct.prototype.setSubtitle=function(J,et){this.applyDescription("subtitle",J),this.layOutTitles(et)},ct.prototype.setCaption=function(J,et){this.applyDescription("caption",J),this.layOutTitles(et)},ct.prototype.showResetZoom=function(){function J(){et.zoomOut()}var et=this,st=o.lang,ut=et.options.chart.resetZoomButton,dt=ut.theme,xt=dt.states,Et="chart"===ut.relativeTo||"spacingBox"===ut.relativeTo?null:"scrollablePlotBox";X(this,"beforeShowResetZoom",null,function(){et.resetZoomButton=et.renderer.button(st.resetZoom,null,null,J,dt,xt&&xt.hover).attr({align:ut.position.align,title:st.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ut.position,!1,Et)}),X(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){X(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(J){var xt,et=this,st=et.pointer,ut=et.inverted?st.mouseDownX:st.mouseDownY,dt=!1;!J||J.resetSelection?(et.axes.forEach(function(wt){xt=wt.zoom()}),st.initiated=!1):J.xAxis.concat(J.yAxis).forEach(function(wt){var kt=wt.axis,Dt=et.inverted?kt.left:kt.top,Lt=kt.isXAxis,Rt=!1;(!Lt&&ut>=Dt&&ut<=(et.inverted?Dt+kt.width:Dt+kt.height)||Lt||!A(ut))&&(Rt=!0),st[Lt?"zoomX":"zoomY"]&&Rt&&(xt=kt.zoom(wt.min,wt.max),kt.displayBtn&&(dt=!0))});var Et=et.resetZoomButton;dt&&!Et?et.showResetZoom():!dt&&N(Et)&&(et.resetZoomButton=Et.destroy()),xt&&et.redraw(it(et.options.chart.animation,J&&J.animation,100>et.pointCount))},ct.prototype.pan=function(J,et){var st=this,ut=st.hoverPoints;et="object"==typeof et?et:{enabled:et,type:"x"};var dt=st.options.chart,xt=st.options.mapNavigation&&st.options.mapNavigation.enabled;dt&&dt.panning&&(dt.panning=et);var wt,Et=et.type;X(this,"pan",{originalEvent:J},function(){ut&&ut.forEach(function(bt){bt.setState()});var kt=st.xAxis;"xy"===Et?kt=kt.concat(st.yAxis):"y"===Et&&(kt=st.yAxis);var Dt={};kt.forEach(function(bt){if(bt.options.panningEnabled&&!bt.options.isInternal){var Lt=bt.horiz,Rt=J[Lt?"chartX":"chartY"],Nt=st[Lt=Lt?"mouseDownX":"mouseDownY"],Ot=bt.minPointOffset||0,Wt=bt.reversed&&!st.inverted||!bt.reversed&&st.inverted?-1:1,Kt=bt.getExtremes(),Ft=bt.toValue(Nt-Rt,!0)+Ot*Wt,Jt=bt.toValue(Nt+bt.len-Rt,!0)-(Ot*Wt||bt.isXAxis&&bt.pointRangePadding||0),ae=Jt<Ft;Wt=bt.hasVerticalPanning(),Nt=ae?Jt:Ft,Ft=ae?Ft:Jt;var Xt=bt.panningState;!Wt||bt.isXAxis||Xt&&!Xt.isDirty||bt.series.forEach(function(ee){var be=ee.getProcessedData(!0);be=ee.getExtremes(be.yData,!0),Xt||(Xt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),U(be.dataMin)&&U(be.dataMax)&&(Xt.startMin=Math.min(it(ee.options.threshold,1/0),be.dataMin,Xt.startMin),Xt.startMax=Math.max(it(ee.options.threshold,-1/0),be.dataMax,Xt.startMax))}),Wt=Math.min(it(Xt&&Xt.startMin,Kt.dataMin),Ot?Kt.min:bt.toValue(bt.toPixels(Kt.min)-bt.minPixelPadding)),Jt=Math.max(it(Xt&&Xt.startMax,Kt.dataMax),Ot?Kt.max:bt.toValue(bt.toPixels(Kt.max)+bt.minPixelPadding)),bt.panningState=Xt,bt.isOrdinal||(0<(Ot=Wt-Nt)&&(Ft+=Ot,Nt=Wt),0<(Ot=Ft-Jt)&&(Ft=Jt,Nt-=Ot),bt.series.length&&Nt!==Kt.min&&Ft!==Kt.max&&Nt>=Wt&&Ft<=Jt&&(bt.setExtremes(Nt,Ft,!1,!1,{trigger:"pan"}),st.resetZoomButton||xt||Nt===Wt||Ft===Jt||!Et.match("y")||(st.showResetZoom(),bt.displayBtn=!1),wt=!0),Dt[Lt]=Rt)}}),nt(Dt,function(bt,Lt){st[Lt]=bt}),wt&&st.redraw(!1),_(st.container,{cursor:"move"})})},ct}(),R(H.prototype,{callbacks:[],collectionsWithInit:{xAxis:[H.prototype.addAxis,[!0]],yAxis:[H.prototype.addAxis,[!1]],series:[H.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),H}),lt(F,"Core/Legend/LegendSymbol.js",[F["Core/Utilities.js"]],function(H){var Q,W,K=H.merge,V=H.pick;return(W=Q||(Q={})).drawLineMarker=function(Y){var z=this.options,I=Y.symbolWidth,P=Y.symbolHeight,w=P/2,E=this.chart.renderer,s=this.legendGroup;Y=Y.baseline-Math.round(.3*Y.fontMetrics.b);var l={},g=z.marker;this.chart.styledMode||(l={"stroke-width":z.lineWidth||0},z.dashStyle&&(l.dashstyle=z.dashStyle)),this.legendLine=E.path([["M",0,Y],["L",I,Y]]).addClass("highcharts-graph").attr(l).add(s),g&&!1!==g.enabled&&I&&(z=Math.min(V(g.radius,w),w),0===this.symbol.indexOf("url")&&(g=K(g,{width:P,height:P}),z=0),this.legendSymbol=I=E.symbol(this.symbol,I/2-z,Y-z,2*z,2*z,g).addClass("highcharts-point").add(s),I.isMarker=!0)},W.drawRectangle=function(Y,z){var I=Y.symbolHeight,P=Y.options.squareSymbol;z.legendSymbol=this.chart.renderer.rect(P?(Y.symbolWidth-I)/2:0,Y.baseline-I+1,P?I:Y.symbolWidth,I,V(Y.options.symbolRadius,I/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.legendGroup)},Q}),lt(F,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),lt(F,"Core/Series/Series.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Point.js"],F["Core/Series/SeriesDefaults.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w){var E=H.animObject,s=H.setAnimation,l=K.defaultOptions,g=V.registerEventOptions,v=Q.hasTouch,S=Q.svg,f=Q.win,C=I.seriesTypes,x=w.addEvent,M=w.arrayMax,p=w.arrayMin,a=w.clamp,h=w.cleanRecursively,n=w.correctFloat,d=w.defined,o=w.erase,r=w.error,u=w.extend,c=w.find,b=w.fireEvent,O=w.getNestedProperty,k=w.isArray,_=w.isNumber,A=w.isString,B=w.merge,m=w.objectEach,T=w.pick,R=w.removeEvent,j=w.splat,X=w.syncTimeout;return H=function(){function $(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return $.prototype.init=function(D,U){b(this,"init",{options:U});var N=this,Z=D.series;this.eventsToUnbind=[],N.chart=D,N.options=N.setOptions(U),U=N.options,N.linkedSeries=[],N.bindAxes(),u(N,{name:U.name,state:"",visible:!1!==U.visible,selected:!0===U.selected}),g(this,U);var nt,q=U.events;(q&&q.click||U.point&&U.point.events&&U.point.events.click||U.allowPointSelect)&&(D.runTrackerClick=!0),N.getColor(),N.getSymbol(),N.parallelArrays.forEach(function(it){N[it+"Data"]||(N[it+"Data"]=[])}),N.isCartesian&&(D.hasCartesianSeries=!0),Z.length&&(nt=Z[Z.length-1]),N._i=T(nt&&nt._i,-1)+1,N.opacity=N.options.opacity,D.orderSeries(this.insert(Z)),U.dataSorting&&U.dataSorting.enabled?N.setDataSortingOptions():N.points||N.data||N.setData(U.data,!1),b(this,"afterInit")},$.prototype.is=function(D){return C[D]&&this instanceof C[D]},$.prototype.insert=function(D){var N,U=this.options.index;if(_(U)){for(N=D.length;N--;)if(U>=T(D[N].options.index,D[N]._i)){D.splice(N+1,0,this);break}-1===N&&D.unshift(this),N+=1}else D.push(this);return T(N,D.length-1)},$.prototype.bindAxes=function(){var Z,D=this,U=D.options,N=D.chart;b(this,"bindAxes",null,function(){(D.axisTypes||[]).forEach(function(q){var nt=0;N[q].forEach(function(it){Z=it.options,(U[q]===nt&&!Z.isInternal||void 0!==U[q]&&U[q]===Z.id||void 0===U[q]&&0===Z.index)&&(D.insert(it.series),D[q]=it,it.isDirty=!0),Z.isInternal||nt++}),D[q]||D.optionalAxis===q||r(18,!0,N)})}),b(this,"afterBindAxes")},$.prototype.updateParallelArrays=function(D,U){var N=D.series,Z=arguments,q=_(U)?function(nt){var it="y"===nt&&N.toYData?N.toYData(D):D[nt];N[nt+"Data"][U]=it}:function(nt){Array.prototype[U].apply(N[nt+"Data"],Array.prototype.slice.call(Z,2))};N.parallelArrays.forEach(q)},$.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},$.prototype.autoIncrement=function(D){var it,U=this.options,N=U.pointIntervalUnit,Z=U.relativeXValue,q=this.chart.time,nt=this.xIncrement;return nt=T(nt,U.pointStart,0),this.pointInterval=it=T(this.pointInterval,U.pointInterval,1),Z&&_(D)&&(it*=D),N&&(U=new q.Date(nt),"day"===N?q.set("Date",U,q.get("Date",U)+it):"month"===N?q.set("Month",U,q.get("Month",U)+it):"year"===N&&q.set("FullYear",U,q.get("FullYear",U)+it),it=U.getTime()-nt),Z&&_(D)?nt+it:(this.xIncrement=nt+it,nt)},$.prototype.setDataSortingOptions=function(){var D=this.options;u(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),d(D.pointRange)||(D.pointRange=1)},$.prototype.setOptions=function(D){var U=this.chart,N=U.options,Z=N.plotOptions,q=U.userOptions||{};D=B(D),U=U.styledMode;var nt={plotOptions:Z,userOptions:D};b(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=q.plotOptions||{};return this.userOptions=nt.userOptions,q=B(it,Z.series,q.plotOptions&&q.plotOptions[this.type],D),this.tooltipOptions=B(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,N.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,D.tooltip),this.stickyTracking=T(D.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||q.stickyTracking),null===it.marker&&delete q.marker,this.zoneAxis=q.zoneAxis,Z=this.zones=(q.zones||[]).slice(),!q.negativeColor&&!q.negativeFillColor||q.zones||(N={value:q[this.zoneAxis+"Threshold"]||q.threshold||0,className:"highcharts-negative"},U||(N.color=q.negativeColor,N.fillColor=q.negativeFillColor),Z.push(N)),Z.length&&d(Z[Z.length-1].value)&&Z.push(U?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:q}),q},$.prototype.getName=function(){return T(this.options.name,"Series "+(this.index+1))},$.prototype.getCyclic=function(D,U,N){var Z=this.chart,q=this.userOptions,nt=D+"Index",it=D+"Counter",ot=N?N.length:T(Z.options.chart[D+"Count"],Z[D+"Count"]);if(!U){var at=T(q[nt],q["_"+nt]);d(at)||(Z.series.length||(Z[it]=0),q["_"+nt]=at=Z[it]%ot,Z[it]+=1),N&&(U=N[at])}void 0!==at&&(this[nt]=at),this[D]=U},$.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)},$.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},$.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},$.prototype.findPointIndex=function(D,U){var it,ot,N=D.id,Z=D.x,q=this.points,nt=this.options.dataSorting;if(N)(nt=this.chart.get(N))instanceof Y&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===D.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===D.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===D.x}),!(it=c(q,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&_(Z)&&(at=this.xData.indexOf(Z,U)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&_(at)&&q[at]&&q[at].touched&&(at=void 0),at},$.prototype.updateData=function(D,U){var at,mt,yt,N=this.options,Z=N.dataSorting,q=this.points,nt=[],it=this.requireSorting,ot=D.length===q.length,vt=!0;if(this.xIncrement=null,D.forEach(function(pt,ct){var J=d(pt)&&this.pointClass.prototype.optionsToObject.call({series:this},pt)||{};J.id||_(J.x)?(-1===(J=this.findPointIndex(J,yt))||void 0===J?nt.push(pt):q[J]&&pt!==N.data[J]?(q[J].update(pt,!1,null,!1),q[J].touched=!0,it&&(yt=J+1)):q[J]&&(q[J].touched=!0),(!ot||ct!==J||Z&&Z.enabled||this.hasDerivedData)&&(at=!0)):nt.push(pt)},this),at)for(D=q.length;D--;)(mt=q[D])&&!mt.touched&&mt.remove&&mt.remove(!1,U);else!ot||Z&&Z.enabled?vt=!1:(D.forEach(function(pt,ct){pt!==q[ct].y&&q[ct].update&&q[ct].update(pt,!1,null,!1)}),nt.length=0);return q.forEach(function(pt){pt&&(pt.touched=!1)}),!!vt&&(nt.forEach(function(pt){this.addPoint(pt,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=M(this.xData),this.autoIncrement()),!0)},$.prototype.setData=function(D,U,N,Z){var q=this,nt=q.points,it=nt&&nt.length||0,ot=q.options,at=q.chart,mt=ot.dataSorting,yt=q.xAxis,vt=ot.turboThreshold,pt=this.xData,ct=this.yData,J=q.pointArrayMap;J=J&&J.length;var st,et=ot.keys,ut=0,dt=1,xt=null,Et=(D=D||[]).length;if(U=T(U,!0),mt&&mt.enabled&&(D=this.sortData(D)),!1!==Z&&Et&&it&&!q.cropped&&!q.hasGroupedData&&q.visible&&!q.isSeriesBoosting&&(st=this.updateData(D,N)),!st){if(q.xIncrement=null,q.colorCounter=0,this.parallelArrays.forEach(function(wt){q[wt+"Data"].length=0}),vt&&Et>vt)if(xt=q.getFirstValidPoint(D),_(xt))for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else if(k(xt))if(J)if(xt.length===J)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[0],ct[N]=Z.slice(1,J+1);else if(et&&(ut=0<=(ut=et.indexOf("x"))?ut:0,dt=0<=(dt=et.indexOf("y"))?dt:1),1===xt.length&&(dt=0),ut===dt)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N][dt];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[ut],ct[N]=Z[dt];else r(12,!1,at);else for(N=0;N<Et;N++)void 0!==D[N]&&(q.pointClass.prototype.applyOptions.apply(Z={series:q},[D[N]]),q.updateParallelArrays(Z,N));for(ct&&A(ct[0])&&r(14,!0,at),q.data=[],q.options.data=q.userOptions.data=D,N=it;N--;)nt[N]&&nt[N].destroy&&nt[N].destroy();yt&&(yt.minRange=yt.userMinRange),q.isDirty=at.isDirtyBox=!0,q.isDirtyData=!!nt,N=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),U&&at.redraw(N)},$.prototype.sortData=function(D){var U=this,N=U.options.dataSorting.sortKey||"y",Z=function(q,nt){return d(nt)&&q.pointClass.prototype.optionsToObject.call({series:q},nt)||{}};return D.forEach(function(q,nt){D[nt]=Z(U,q),D[nt].index=nt},this),D.concat().sort(function(q,nt){return q=O(N,q),(nt=O(N,nt))<q?-1:nt>q?1:0}).forEach(function(q,nt){q.x=nt},this),U.linkedSeries&&U.linkedSeries.forEach(function(q){var nt=q.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=Z(q,ot),D[at]&&(it[at].x=D[at].x,it[at].index=at)}),q.setData(it,!1))}),D},$.prototype.getProcessedData=function(D){var U=this.xAxis,N=this.options,Z=N.cropThreshold,q=D||this.getExtremesFromAll||N.getExtremesFromAll,nt=this.isCartesian;D=U&&U.val2lin,N=!(!U||!U.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,yt=!1,vt=ot.length;if(U){var pt=(yt=U.getExtremes()).min,ct=yt.max;yt=U.categories&&!U.names.length}if(nt&&this.sorted&&!q&&(!Z||vt>Z||this.forceCrop))if(ot[vt-1]<pt||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<pt||ot[vt-1]>ct)){var J=this.cropData(this.xData,this.yData,pt,ct);ot=J.xData,at=J.yData,it=J.start,J=!0}for(Z=ot.length||1;--Z;)if(0<(U=N?D(ot[Z])-D(ot[Z-1]):ot[Z]-ot[Z-1])&&(void 0===et||U<et))var et=U;else 0>U&&mt&&!yt&&(r(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:J,cropStart:it,closestPointRange:et}},$.prototype.processData=function(D){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!D)return!1;D=this.getProcessedData(),this.cropped=D.cropped,this.cropStart=D.cropStart,this.processedXData=D.xData,this.processedYData=D.yData,this.closestPointRange=this.basePointRange=D.closestPointRange,b(this,"afterProcessData")},$.prototype.cropData=function(D,U,N,Z,q){var it,nt=D.length,ot=0,at=nt;for(q=T(q,this.cropShoulder),it=0;it<nt;it++)if(D[it]>=N){ot=Math.max(0,it-q);break}for(N=it;N<nt;N++)if(D[N]>Z){at=N+q;break}return{xData:D.slice(ot,at),yData:U.slice(ot,at),start:ot,end:at}},$.prototype.generatePoints=function(){var D=this.options,U=D.data,N=this.processedXData,Z=this.processedYData,q=this.pointClass,nt=N.length,it=this.cropStart||0,ot=this.hasGroupedData,at=D.keys,mt=[];D=D.dataGrouping&&D.dataGrouping.groupAll?it:0;var yt,vt,pt=this.data;if(!pt&&!ot){var ct=[];ct.length=U.length,pt=this.data=ct}for(at&&ot&&(this.options.keys=!1),vt=0;vt<nt;vt++){if(ct=it+vt,ot){var J=(new q).init(this,[N[vt]].concat(j(Z[vt])));J.dataGroup=this.groupMap[D+vt],J.dataGroup.options&&(J.options=J.dataGroup.options,u(J,J.dataGroup.options),delete J.dataLabels)}else(J=pt[ct])||void 0===U[ct]||(pt[ct]=J=(new q).init(this,U[ct],N[vt]));J&&(J.index=ot?D+vt:ct,mt[vt]=J)}if(this.options.keys=at,pt&&(nt!==(yt=pt.length)||ot))for(vt=0;vt<yt;vt++)vt!==it||ot||(vt+=nt),pt[vt]&&(pt[vt].destroyElements(),pt[vt].plotX=void 0);this.data=pt,this.points=mt,b(this,"afterGeneratePoints")},$.prototype.getXExtremes=function(D){return{min:p(D),max:M(D)}},$.prototype.getExtremes=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;Z=!!Z&&Z.positiveValuesOnly;var ot,at=0,mt=0,yt=0,vt=(D=D||this.stackedYData||this.processedYData||[]).length;if(N){var pt=N.getExtremes();at=pt.min,mt=pt.max}for(ot=0;ot<vt;ot++){var ct=q[ot],J=(_(pt=D[ot])||k(pt))&&(pt.length||0<pt||!Z);if(ct=U||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!N||(q[ot+it]||ct)>=at&&(q[ot-it]||ct)<=mt,J&&ct)if(J=pt.length)for(;J--;)_(pt[J])&&(nt[yt++]=pt[J]);else nt[yt++]=pt}return D={activeYData:nt,dataMin:p(nt),dataMax:M(nt)},b(this,"afterGetExtremes",{dataExtremes:D}),D},$.prototype.applyExtremes=function(){var D=this.getExtremes();return this.dataMin=D.dataMin,this.dataMax=D.dataMax,D},$.prototype.getFirstValidPoint=function(D){for(var U=D.length,N=0,Z=null;null===Z&&N<U;)Z=D[N],N++;return Z},$.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,J,D=this.options,U=D.stacking,N=this.xAxis,Z=N.categories,q=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,yt=D.threshold,vt=D.startFromThreshold?yt:0,pt=this.zoneAxis||"y",et=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var st=it[ct],ut=st.x,dt=void 0,xt=void 0,Et=st.y,wt=st.low,kt=U&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Et<(vt?0:yt)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Et)||N.positiveValuesOnly&&!N.validatePositiveValue(ut))&&(st.isNull=!0),st.plotX=J=n(a(N.translate(ut,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),U&&this.visible&&kt&&kt[ut]){var Dt=this.getStackIndicator(Dt,ut,this.index);st.isNull||(xt=(dt=kt[ut]).points[Dt.key])}if(k(xt)&&(Et=xt[1],(wt=xt[0])===vt&&Dt.key===kt[ut].base&&(wt=T(_(yt)&&yt,nt.min)),nt.positiveValuesOnly&&0>=wt&&(wt=null),st.total=st.stackTotal=dt.total,st.percentage=dt.total&&st.y/dt.total*100,st.stackY=Et,this.irregularWidths||dt.setOffset(this.pointXOffset||0,this.barW||0)),st.yBottom=d(wt)?a(nt.translate(wt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Et=this.dataModify.modifyValue(Et,ct)),st.plotY=void 0,_(Et)&&void 0!==(dt=nt.translate(Et,!1,!0,!1,!0))&&(st.plotY=a(dt,-1e5,1e5)),st.isInside=this.isPointInside(st),st.clientX=mt?n(N.translate(ut,0,0,0,1,at)):J,st.negative=st[pt]<(D[pt+"Threshold"]||yt||0),st.category=Z&&void 0!==Z[st.x]?Z[st.x]:st.x,!st.isNull&&!1!==st.visible){void 0!==bt&&(et=Math.min(et,Math.abs(J-bt)));var bt=J}st.zone=this.zones.length?st.getZone():void 0,!st.graphic&&this.group&&q&&(st.isNew=!0)}this.closestPointRangePx=et,b(this,"afterTranslate")},$.prototype.getValidPoints=function(D,U,N){var Z=this.chart;return(D||this.points||[]).filter(function(q){return!(U&&!Z.isInsidePlot(q.plotX,q.plotY,{inverted:Z.inverted}))&&!1!==q.visible&&(N||!q.isNull)})},$.prototype.getClipBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis,Z=B(D.clipBox);return U&&U.len!==D.plotSizeX&&(Z.width=U.len),N&&N.len!==D.plotSizeY&&(Z.height=N.len),Z},$.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},$.prototype.setClip=function(){var D=this.chart,U=this.group,N=this.markerGroup,Z=D.sharedClips;D=D.renderer;var q=this.getClipBox(),nt=this.getSharedClipKey(),it=Z[nt];it?it.animate(q):Z[nt]=it=D.clipRect(q),U&&U.clip(!1===this.options.clip?void 0:it),N&&N.clip()},$.prototype.animate=function(D){var U=this.chart,N=this.group,Z=this.markerGroup,q=U.inverted,nt=E(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=U.sharedClips[it],at=U.sharedClips[it+"m"];if(D&&N)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,q&&(nt.x=U.plotHeight),ot=U.renderer.clipRect(nt),U.sharedClips[it]=ot,at=U.renderer.clipRect({x:q?(U.plotSizeX||0)+99:-99,y:q?-U.plotLeft:-U.plotTop,width:99,height:q?U.chartWidth:U.chartHeight}),U.sharedClips[it+"m"]=at),N.clip(ot),Z&&Z.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){U=this.getClipBox();var mt=nt.step;Z&&Z.element.childNodes.length&&(nt.step=function(yt,vt){mt&&mt.apply(vt,arguments),at&&at.element&&at.attr(vt.prop,"width"===vt.prop?yt+99:yt)}),ot.addClass("highcharts-animating").animate(U,nt)}},$.prototype.afterAnimate=function(){var D=this;this.setClip(),m(this.chart.sharedClips,function(U,N,Z){U&&!D.chart.container.querySelector('[clip-path="url(#'+U.id+')"]')&&(U.destroy(),delete Z[N])}),this.finishedAnimating=!0,b(this,"afterAnimate")},$.prototype.drawPoints=function(){var it,ot,D=this.points,U=this.chart,N=this.options.marker,Z=this[this.specialGroup]||this.markerGroup,q=this.xAxis,nt=T(N.enabled,!(q&&!q.isRadial)||null,this.closestPointRangePx>=N.enabledThreshold*N.radius);if(!1!==N.enabled||this._hasPointMarkers)for(it=0;it<D.length;it++){var at=D[it],mt=(ot=at.graphic)?"animate":"attr",yt=at.marker||{},vt=!!at.marker;if((nt&&void 0===yt.enabled||yt.enabled)&&!at.isNull&&!1!==at.visible){var pt=T(yt.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=q.reversed?-(ct.width||0):q.width);var J=!1!==at.isInside;ot?ot[J?"show":"hide"](J).animate(ct):J&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=U.renderer.symbol(pt,ct.x,ct.y,ct.width,ct.height,vt?yt:N).add(Z),this.enabledDataSorting&&U.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[J?"show":"hide"](J).animate(ct),ot&&!U.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},$.prototype.markerAttribs=function(D,U){var N=this.options,Z=N.marker,q=D.marker||{},nt=q.symbol||Z.symbol,it=T(q.radius,Z.radius);return U&&(Z=Z.states[U],it=T((U=q.states&&q.states[U])&&U.radius,Z&&Z.radius,it+(Z&&Z.radiusPlus||0))),D.hasImage=nt&&0===nt.indexOf("url"),D.hasImage&&(it=0),D={x:N.crisp?Math.floor(D.plotX-it):D.plotX-it,y:D.plotY-it},it&&(D.width=D.height=2*it),D},$.prototype.pointAttribs=function(D,U){var N=this.options.marker,Z=D&&D.options,q=Z&&Z.marker||{},nt=Z&&Z.color,it=D&&D.color,ot=D&&D.zone&&D.zone.color,at=this.color;return D=T(q.lineWidth,N.lineWidth),Z=1,at=nt||ot||it||at,nt=q.fillColor||N.fillColor||at,it=q.lineColor||N.lineColor||at,N=N.states[U=U||"normal"]||{},D=T((U=q.states&&q.states[U]||{}).lineWidth,N.lineWidth,D+T(U.lineWidthPlus,N.lineWidthPlus,0)),{stroke:it=U.lineColor||N.lineColor||it,"stroke-width":D,fill:nt=U.fillColor||N.fillColor||nt,opacity:Z=T(U.opacity,N.opacity,Z)}},$.prototype.destroy=function(D){var it,ot,at,U=this,N=U.chart,Z=/AppleWebKit\/533/.test(f.navigator.userAgent),q=U.data||[];for(b(U,"destroy"),this.removeEvents(D),(U.axisTypes||[]).forEach(function(mt){(at=U[mt])&&at.series&&(o(at.series,U),at.isDirty=at.forceRedraw=!0)}),U.legendItem&&U.chart.legend.destroyItem(U),it=q.length;it--;)(ot=q[it])&&ot.destroy&&ot.destroy();U.clips&&U.clips.forEach(function(mt){return mt.destroy()}),w.clearTimeout(U.animationTimeout),m(U,function(mt,yt){mt instanceof P&&!mt.survive&&mt[Z&&"group"===yt?"hide":"destroy"]()}),N.hoverSeries===U&&(N.hoverSeries=void 0),o(N.series,U),N.orderSeries(),m(U,function(mt,yt){D&&"hcEvents"===yt||delete U[yt]})},$.prototype.applyZones=function(){var yt,vt,pt,ct,J,et,st,ut,D=this,U=this.chart,N=U.renderer,Z=this.zones,q=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(U.chartWidth,U.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=U.inverted,dt=!1;if(Z.length&&(nt||it)&&at&&void 0!==at.min){var xt=at.reversed,Et=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var wt=at.getExtremes();Z.forEach(function(kt,Dt){yt=xt?Et?U.plotWidth:0:Et?0:at.toPixels(wt.min)||0,yt=a(T(vt,yt),0,ot),vt=a(Math.round(at.toPixels(T(kt.value,wt.max),!0)||0),0,ot),dt&&(yt=vt=at.toPixels(wt.max)),ct=Math.abs(yt-vt),J=Math.min(yt,vt),et=Math.max(yt,vt),at.isXAxis?(pt={x:mt?et:J,y:0,width:ct,height:ot},Et||(pt.x=U.plotHeight-pt.x)):(pt={x:0,y:mt?et:J,width:ot,height:ct},Et&&(pt.y=U.plotWidth-pt.y)),mt&&N.isVML&&(pt=at.isXAxis?{x:0,y:xt?J:et,height:pt.width,width:U.chartWidth}:{x:pt.y-U.plotLeft-U.spacingBox.x,y:0,width:pt.height,height:U.chartHeight}),q[Dt]?q[Dt].animate(pt):q[Dt]=N.clipRect(pt),st=D["zone-area-"+Dt],ut=D["zone-graph-"+Dt],nt&&ut&&ut.clip(q[Dt]),it&&st&&st.clip(q[Dt]),dt=kt.value>wt.max,D.resetZones&&0===vt&&(vt=void 0)}),this.clips=q}else D.visible&&(nt&&nt.show(!0),it&&it.show(!0))},$.prototype.invertGroups=function(D){function U(){["group","markerGroup"].forEach(function(q){N[q]&&(Z.renderer.isVML&&N[q].attr({width:N.yAxis.len,height:N.xAxis.len}),N[q].width=N.yAxis.len,N[q].height=N.xAxis.len,N[q].invert(!N.isRadialSeries&&D))})}var N=this,Z=N.chart;N.xAxis&&(N.eventsToUnbind.push(x(Z,"resize",U)),U(),N.invertGroups=U)},$.prototype.plotGroup=function(D,U,N,Z,q){var nt=this[D],it=!nt;return N={visibility:N,zIndex:Z||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(N.opacity=this.opacity),it&&(this[D]=nt=this.chart.renderer.g().add(q)),nt.addClass("highcharts-"+U+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(d(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(N)[it?"attr":"animate"](this.getPlotBox()),nt},$.prototype.getPlotBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis;return D.inverted&&(U=N,N=this.xAxis),{translateX:U?U.left:D.plotLeft,translateY:N?N.top:D.plotTop,scaleX:1,scaleY:1}},$.prototype.removeEvents=function(D){D||R(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(U){U()}),this.eventsToUnbind.length=0)},$.prototype.render=function(){var D=this,U=D.chart,N=D.options,Z=E(N.animation),q=D.visible?"inherit":"hidden",nt=N.zIndex,it=D.hasRendered,ot=U.seriesGroup,at=U.inverted;U=!D.finishedAnimating&&U.renderer.isSVG?Z.duration:0,b(this,"render");var mt=D.plotGroup("group","series",q,nt,ot);D.markerGroup=D.plotGroup("markerGroup","markers",q,nt,ot),!1!==N.clip&&D.setClip(),D.animate&&U&&D.animate(!0),mt.inverted=!!T(D.invertible,D.isCartesian)&&at,D.drawGraph&&(D.drawGraph(),D.applyZones()),D.visible&&D.drawPoints(),D.drawDataLabels&&D.drawDataLabels(),D.redrawPoints&&D.redrawPoints(),D.drawTracker&&!1!==D.options.enableMouseTracking&&D.drawTracker(),D.invertGroups(at),D.animate&&U&&D.animate(),it||(U&&Z.defer&&(U+=Z.defer),D.animationTimeout=X(function(){D.afterAnimate()},U||0)),D.isDirty=!1,D.hasRendered=!0,b(D,"afterRender")},$.prototype.redraw=function(){var D=this.chart,U=this.isDirty||this.isDirtyData,N=this.group,Z=this.xAxis,q=this.yAxis;N&&(D.inverted&&N.attr({width:D.plotWidth,height:D.plotHeight}),N.animate({translateX:T(Z&&Z.left,D.plotLeft),translateY:T(q&&q.top,D.plotTop)})),this.translate(),this.render(),U&&delete this.kdTree},$.prototype.searchPoint=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.chart.inverted;return this.searchKDTree({clientX:q?N.len-D.chartY+N.pos:D.chartX-N.pos,plotY:q?Z.len-D.chartX+Z.pos:D.chartY-Z.pos},U,D)},$.prototype.buildKDTree=function(D){function U(q,nt,it){var ot=q&&q.length;if(ot){var at=N.kdAxisArray[nt%it];return q.sort(function(mt,yt){return mt[at]-yt[at]}),{point:q[ot=Math.floor(ot/2)],left:U(q.slice(0,ot),nt+1,it),right:U(q.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var N=this,Z=-1<N.options.findNearestPointBy.indexOf("y")?2:1;delete N.kdTree,X(function(){N.kdTree=U(N.getValidPoints(null,!N.directTouch),Z,Z),N.buildingKdTree=!1},N.options.kdNow||D&&"touchstart"===D.type?0:1)},$.prototype.searchKDTree=function(D,U,N){var q=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=U?"distX":"dist";if(U=-1<q.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(N),this.kdTree)return function Z(at,mt,yt,vt){var pt=mt.point,ct=q.kdAxisArray[yt%vt],J=pt,et=d(at[nt])&&d(pt[nt])?Math.pow(at[nt]-pt[nt],2):null,st=d(at[it])&&d(pt[it])?Math.pow(at[it]-pt[it],2):null;return pt.dist=d(st=(et||0)+(st||0))?Math.sqrt(st):Number.MAX_VALUE,pt.distX=d(et)?Math.sqrt(et):Number.MAX_VALUE,et=0>(ct=at[ct]-pt[ct])?"right":"left",mt[st=0>ct?"left":"right"]&&(J=(st=Z(at,mt[st],yt+1,vt))[ot]<J[ot]?st:pt),mt[et]&&Math.sqrt(ct*ct)<J[ot]&&(J=(at=Z(at,mt[et],yt+1,vt))[ot]<J[ot]?at:J),J}(D,this.kdTree,U,U)},$.prototype.pointPlacementToXValue=function(){var D=this.options,U=D.pointRange,N=this.xAxis;return"between"===(D=D.pointPlacement)&&(D=N.reversed?-.5:.5),_(D)?D*(U||N.pointRange):0},$.prototype.isPointInside=function(D){var U=this.chart,N=this.xAxis,Z=this.yAxis;return void 0!==D.plotY&&void 0!==D.plotX&&0<=D.plotY&&D.plotY<=(Z?Z.len:U.plotHeight)&&0<=D.plotX&&D.plotX<=(N?N.len:U.plotWidth)},$.prototype.drawTracker=function(){var D=this,U=D.options,N=U.trackByArea,Z=[].concat(N?D.areaPath:D.graphPath),q=D.chart,nt=q.pointer,it=q.renderer,ot=q.options.tooltip.snap,at=D.tracker,mt=function(vt){q.hoverSeries!==D&&D.onMouseOver()},yt="rgba(192,192,192,"+(S?1e-4:.002)+")";at?at.attr({d:Z}):D.graph&&(D.tracker=it.path(Z).attr({visibility:D.visible?"visible":"hidden",zIndex:2}).addClass(N?"highcharts-tracker-area":"highcharts-tracker-line").add(D.group),q.styledMode||D.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:yt,fill:N?yt:"none","stroke-width":D.graph.strokeWidth()+(N?0:2*ot)}),[D.tracker,D.markerGroup,D.dataLabelsGroup].forEach(function(vt){vt&&(vt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(pt){nt.onTrackerMouseOut(pt)}),U.cursor&&!q.styledMode&&vt.css({cursor:U.cursor}),v)&&vt.on("touchstart",mt)})),b(this,"afterDrawTracker")},$.prototype.addPoint=function(D,U,N,Z,q){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var vt,mt=nt.data,yt=this.xData;U=T(U,!0);var pt={series:this};this.pointClass.prototype.applyOptions.apply(pt,[D]);var ct=pt.x,J=yt.length;if(this.requireSorting&&ct<yt[J-1])for(vt=!0;J&&yt[J-1]>ct;)J--;this.updateParallelArrays(pt,"splice",J,0,0),this.updateParallelArrays(pt,J),at&&pt.name&&(at[ct]=pt.name),mt.splice(J,0,D),vt&&(this.data.splice(J,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),N&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(pt,"shift"),mt.shift())),!1!==q&&b(this,"addPoint",{point:pt}),this.isDirtyData=this.isDirty=!0,U&&ot.redraw(Z)},$.prototype.removePoint=function(D,U,N){var Z=this,q=Z.data,nt=q[D],it=Z.points,ot=Z.chart,at=function(){it&&it.length===q.length&&it.splice(D,1),q.splice(D,1),Z.options.data.splice(D,1),Z.updateParallelArrays(nt||{series:Z},"splice",D,1),nt&&nt.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,U&&ot.redraw()};s(N,ot),U=T(U,!0),nt?nt.firePointEvent("remove",null,at):at()},$.prototype.remove=function(D,U,N,Z){function q(){nt.destroy(Z),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),T(D,!0)&&it.redraw(U)}var nt=this,it=nt.chart;!1!==N?b(nt,"remove",null,q):q()},$.prototype.update=function(D,U){D=h(D,this.userOptions),b(this,"update",{options:D});var yt,N=this,Z=N.chart,q=N.userOptions,nt=N.initialType||N.type,it=Z.options.plotOptions,ot=C[nt].prototype,at=N.finishedAnimating&&{animation:!1},mt={},vt=["eventOptions","navigatorSeries","baseSeries"],pt=D.type||q.type||Z.options.chart.type,ct=!(this.hasDerivedData||pt&&pt!==this.type||void 0!==D.pointStart||void 0!==D.pointInterval||void 0!==D.relativeXValue||N.hasOptionChanged("dataGrouping")||N.hasOptionChanged("pointStart")||N.hasOptionChanged("pointInterval")||N.hasOptionChanged("pointIntervalUnit")||N.hasOptionChanged("keys"));if(pt=pt||nt,ct&&(vt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==D.visible&&vt.push("area","graph"),N.parallelArrays.forEach(function(et){vt.push(et+"Data")}),D.data&&(D.dataSorting&&u(N.options.dataSorting,D.dataSorting),this.setData(D.data,!1))),D=B(q,at,{index:void 0===q.index?N.index:q.index,pointStart:T(it&&it.series&&it.series.pointStart,q.pointStart,N.xData[0])},!ct&&{data:N.options.data},D),ct&&D.data&&(D.data=N.options.data),(vt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(vt)).forEach(function(et){vt[et]=N[et],delete N[et]}),it=!1,C[pt]){if(it=pt!==N.type,N.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(N,C[pt].prototype);else{for(yt in at=Object.hasOwnProperty.call(N,"hcEvents")&&N.hcEvents,ot)N[yt]=void 0;u(N,C[pt].prototype),at?N.hcEvents=at:delete N.hcEvents}}else r(17,!0,Z,{missingModuleFor:pt});if(vt.forEach(function(et){N[et]=vt[et]}),N.init(Z,D),ct&&this.points){var J=N.options;!1===J.visible?(mt.graphic=1,mt.dataLabel=1):N._hasPointLabels||(ot=J.dataLabels,!(D=J.marker)||!1!==D.enabled&&(q.marker&&q.marker.symbol)===D.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(et){et&&et.series&&(et.resolveColor(),Object.keys(mt).length&&et.destroyElements(mt),!1===J.showInLegend&&et.legendItem&&Z.legend.destroyItem(et))},this)}N.initialType=nt,Z.linkSeries(),it&&N.linkedSeries.length&&(N.isDirtyData=!0),b(this,"afterUpdate"),T(U,!0)&&Z.redraw(!!ct&&void 0)},$.prototype.setName=function(D){this.name=this.options.name=this.userOptions.name=D,this.chart.isDirtyLegend=!0},$.prototype.hasOptionChanged=function(D){var U=this.options[D],N=this.chart.options.plotOptions,Z=this.userOptions[D];return Z?U!==Z:U!==T(N&&N[this.type]&&N[this.type][D],N&&N.series&&N.series[D],U)},$.prototype.onMouseOver=function(){var D=this.chart,U=D.hoverSeries;D.pointer.setHoverChartIndex(),U&&U!==this&&U.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),D.hoverSeries=this},$.prototype.onMouseOut=function(){var D=this.options,U=this.chart,N=U.tooltip,Z=U.hoverPoint;U.hoverSeries=null,Z&&Z.onMouseOut(),this&&D.events.mouseOut&&b(this,"mouseOut"),!N||this.stickyTracking||N.shared&&!this.noSharedTooltip||N.hide(),U.series.forEach(function(q){q.setState("",!0)})},$.prototype.setState=function(D,U){var N=this,Z=N.options,q=N.graph,nt=Z.inactiveOtherPoints,it=Z.states,ot=T(it[D||"normal"]&&it[D||"normal"].animation,N.chart.options.chart.animation),at=Z.lineWidth,mt=0,yt=Z.opacity;if(N.state!==(D=D||"")&&([N.group,N.markerGroup,N.dataLabelsGroup].forEach(function(vt){vt&&(N.state&&vt.removeClass("highcharts-series-"+N.state),D&&vt.addClass("highcharts-series-"+D))}),N.state=D,!N.chart.styledMode)){if(it[D]&&!1===it[D].enabled)return;if(D&&(at=it[D].lineWidth||at+(it[D].lineWidthPlus||0),yt=T(it[D].opacity,yt)),q&&!q.dashstyle)for(q.animate(Z={"stroke-width":at},ot);N["zone-graph-"+mt];)N["zone-graph-"+mt].animate(Z,ot),mt+=1;nt||[N.group,N.markerGroup,N.dataLabelsGroup,N.labelBySeries].forEach(function(vt){vt&&vt.animate({opacity:yt},ot)})}U&&nt&&N.points&&N.setAllPointsToState(D||void 0)},$.prototype.setAllPointsToState=function(D){this.points.forEach(function(U){U.setState&&U.setState(D)})},$.prototype.setVisible=function(D,U){var N=this,Z=N.chart,q=N.legendItem,nt=Z.options.chart.ignoreHiddenSeries,ot=(N.visible=D=N.options.visible=N.userOptions.visible=void 0===D?!N.visible:D)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){N[at]&&N[at][ot]()}),(Z.hoverSeries===N||(Z.hoverPoint&&Z.hoverPoint.series)===N)&&N.onMouseOut(),q&&Z.legend.colorizeItem(N,D),N.isDirty=!0,N.options.stacking&&Z.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),N.linkedSeries.forEach(function(at){at.setVisible(D,!1)}),nt&&(Z.isDirtyBox=!0),b(N,ot),!1!==U&&Z.redraw()},$.prototype.show=function(){this.setVisible(!0)},$.prototype.hide=function(){this.setVisible(!1)},$.prototype.select=function(D){this.selected=D=this.options.selected=void 0===D?!this.selected:D,this.checkbox&&(this.checkbox.checked=D),b(this,D?"select":"unselect")},$.prototype.shouldShowTooltip=function(D,U,N){return void 0===N&&(N={}),N.series=this,N.visiblePlotOnly=!0,this.chart.isInsidePlot(D,U,N)},$.defaultOptions=z,$}(),u(H.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:W.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Y,requireSorting:!0,sorted:!0}),I.series=H,H}),lt(F,"Extensions/ScrollablePlotArea.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.stop,I=Y.addEvent,P=Y.createElement,w=Y.merge,E=Y.pick;I(V,"afterSetChartSize",function(s){var l=this.options.chart.scrollablePlotArea,g=l&&l.minWidth;if(l=l&&l.minHeight,!this.renderer.forExport){if(g){if(this.scrollablePixelsX=g=Math.max(0,g-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.width=this.plotWidth+=g,this.inverted?this.clipBox.height+=g:this.clipBox.width+=g;var v={1:{name:"right",value:g}}}}else l&&(this.scrollablePixelsY=g=Math.max(0,l-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.height=this.plotHeight+=g,this.inverted?this.clipBox.width+=g:this.clipBox.height+=g,v={2:{name:"bottom",value:g}});v&&!s.skipAxes&&this.axes.forEach(function(S){v[S.side]?S.getPlotLinePath=function(){var f=v[S.side].name,C=this[f];this[f]=C-v[S.side].value;var x=K.prototype.getPlotLinePath.apply(this,arguments);return this[f]=C,x}:(S.setAxisSize(),S.setAxisTranslation())})}}),I(V,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),V.prototype.setUpScrolling=function(){var s=this,l={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(l.overflowX="auto"),this.scrollablePixelsY&&(l.overflowY="auto"),this.scrollingParent=P("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=P("div",{className:"highcharts-scrolling"},l,this.scrollingParent),I(this.scrollingContainer,"scroll",function(){s.pointer&&delete s.pointer.chartPosition}),this.innerContainer=P("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},V.prototype.moveFixedElements=function(){var v,s=this.container,l=this.fixedRenderer,g=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?v=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?v=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(v=".highcharts-yaxis"),v&&g.push(v+":not(.highcharts-radial-axis)",v+"-labels:not(.highcharts-radial-axis-labels)"),g.forEach(function(S){[].forEach.call(s.querySelectorAll(S),function(f){(f.namespaceURI===l.SVG_NS?l.box:l.box.parentNode).appendChild(f),f.style.pointerEvents="auto"})})},V.prototype.applyFixed=function(){var s=!this.fixedDiv,l=this.options.chart,g=l.scrollablePlotArea,v=W.getRendererType();s?(this.fixedDiv=P("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(l.style&&l.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=l=new v(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=l.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":E(g.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I(this,"afterShowResetZoom",this.moveFixedElements),I(this,"afterDrilldown",this.moveFixedElements),I(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||s)&&(this.scrollableDirty=!1,this.moveFixedElements()),l=this.chartWidth+(this.scrollablePixelsX||0),v=this.chartHeight+(this.scrollablePixelsY||0),z(this.container),this.container.style.width=l+"px",this.container.style.height=v+"px",this.renderer.boxWrapper.attr({width:l,height:v,viewBox:[0,0,l,v].join(" ")}),this.chartBackground.attr({width:l,height:v}),this.scrollingContainer.style.height=this.chartHeight+"px",s&&(g.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*g.scrollPositionX),g.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*g.scrollPositionY)),s=this.plotTop-(v=this.axisOffset)[0]-1,g=this.plotLeft-v[3]-1,l=this.plotTop+this.plotHeight+v[2]+1,v=this.plotLeft+this.plotWidth+v[1]+1;var S=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),f=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);s=this.scrollablePixelsX?[["M",0,s],["L",this.plotLeft-1,s],["L",this.plotLeft-1,l],["L",0,l],["Z"],["M",S,s],["L",this.chartWidth,s],["L",this.chartWidth,l],["L",S,l],["Z"]]:this.scrollablePixelsY?[["M",g,0],["L",g,this.plotTop-1],["L",v,this.plotTop-1],["L",v,0],["Z"],["M",g,f],["L",g,this.chartHeight],["L",v,this.chartHeight],["L",v,f],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:s})},I(K,"afterInit",function(){this.chart.scrollableDirty=!0}),I(Q,"show",function(){this.chart.scrollableDirty=!0})}),lt(F,"Core/Axis/StackingAxis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Utilities.js"]],function(H,K,V){var w,Q=H.getDeferredAnimation,W=V.addEvent,Y=V.destroyObjectProperties,z=V.fireEvent,I=V.isNumber,P=V.objectEach;return function(E){function s(){var S=this.stacking;if(S){var f=S.stacks;P(f,function(C,x){Y(C),f[x]=null}),S&&S.stackTotalGroup&&S.stackTotalGroup.destroy()}}function l(){this.stacking||(this.stacking=new v(this))}var g=[];E.compose=function(S){return-1===g.indexOf(S)&&(g.push(S),W(S,"init",l),W(S,"destroy",s)),S};var v=function(){function S(f){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=f}return S.prototype.buildStacks=function(){var p,f=this.axis,C=f.series,x=f.options.reversedStacks,M=C.length;if(!f.isXAxis){for(this.usePercentage=!1,p=M;p--;){var a=C[x?p:M-p-1];a.setStackedPoints(),a.setGroupedPoints()}for(p=0;p<M;p++)C[p].modifyStacks();z(f,"afterBuildStacks")}},S.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var f=this.stacks=this.oldStacks;P(f,function(C){P(C,function(x){x.cumulative=x.total})})}},S.prototype.resetStacks=function(){var f=this;f.axis.isXAxis||P(f.stacks,function(x){P(x,function(M,p){I(M.touched)&&M.touched<f.stacksTouched?(M.destroy(),delete x[p]):(M.total=null,M.cumulative=null)})})},S.prototype.renderStackTotals=function(){var f=this.axis,C=f.chart,x=C.renderer,M=this.stacks;f=Q(C,f.options.stackLabels&&f.options.stackLabels.animation||!1);var p=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();p.translate(C.plotLeft,C.plotTop),P(M,function(a){P(a,function(h){h.render(p)})}),p.animate({opacity:1},f)},S}();E.Additions=v}(w||(w={})),w}),lt(F,"Extensions/Stacking.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Axis/StackingAxis.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var I=V.format,P=z.correctFloat,w=z.defined,E=z.destroyObjectProperties,s=z.isArray,l=z.isNumber,g=z.objectEach,v=z.pick,S=function(){function f(C,x,M,p,a){var h=C.chart.inverted;this.axis=C,this.isNegative=M,this.options=x=x||{},this.x=p,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:x.align||(h?M?"left":"right":"center"),verticalAlign:x.verticalAlign||(h?"middle":M?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(h?M?"right":"left":"center")}return f.prototype.destroy=function(){E(this,this.axis)},f.prototype.render=function(C){var x=this.axis.chart,M=this.options,p=M.format;p=p?I(p,this,x):M.formatter.call(this),this.label?this.label.attr({text:p,visibility:"hidden"}):(this.label=x.renderer.label(p,null,null,M.shape,null,null,M.useHTML,!1,"stack-labels"),p={r:M.borderRadius||0,text:p,rotation:M.rotation,padding:v(M.padding,5),visibility:"hidden"},x.styledMode||(p.fill=M.backgroundColor,p.stroke=M.borderColor,p["stroke-width"]=M.borderWidth,this.label.css(M.style)),this.label.attr(p),this.label.added||this.label.add(C)),this.label.labelrank=x.plotSizeY},f.prototype.setOffset=function(C,x,M,p,a){var h=this.axis,n=h.chart;p=h.translate(h.stacking.usePercentage?100:p||this.total,0,0,0,1),M=h.translate(M||0),M=w(p)&&Math.abs(p-M),C=v(a,n.xAxis[0].translate(this.x))+C,h=w(p)&&this.getStackBox(n,this,C,p,x,M,h),x=this.label,M=this.isNegative,C="justify"===v(this.options.overflow,"justify");var d=this.textAlign;x&&h&&(a=x.getBBox(),p=x.padding,d="left"===d?n.inverted?-p:p:"right"===d?a.width:n.inverted&&"center"===d?a.width/2:n.inverted?M?a.width+p:-p:a.width/2,M=n.inverted?a.height/2:M?-p:a.height,this.alignOptions.x=v(this.options.x,0),this.alignOptions.y=v(this.options.y,0),h.x-=d,h.y-=M,x.align(this.alignOptions,null,h),n.isInsidePlot(x.alignAttr.x+d-this.alignOptions.x,x.alignAttr.y+M-this.alignOptions.y)?x.show():(x.alignAttr.y=-9999,C=!1),C&&W.prototype.justifyDataLabel.call(this.axis,x,this.alignOptions,x.alignAttr,a,h),x.attr({x:x.alignAttr.x,y:x.alignAttr.y}),v(!C&&this.options.crop,!0)&&((n=l(x.x)&&l(x.y)&&n.isInsidePlot(x.x-p+x.width,x.y)&&n.isInsidePlot(x.x+p,x.y))||x.hide()))},f.prototype.getStackBox=function(C,x,M,p,a,h,n){var d=x.axis.reversed,o=C.inverted,r=n.height+n.pos-(o?C.plotLeft:C.plotTop);return x=x.isNegative&&!d||!x.isNegative&&d,{x:o?x?p-n.right:p-h+n.pos-C.plotLeft:M+C.xAxis[0].transB-C.plotLeft,y:o?n.height-M-a:x?r-p-h:r-p,width:o?h:a,height:o?a:h}},f}();return K.prototype.getStacks=function(){var f=this,C=f.inverted;f.yAxis.forEach(function(x){x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),f.series.forEach(function(x){var M=x.xAxis&&x.xAxis.options||{};!x.options.stacking||!0!==x.visible&&!1!==f.options.chart.ignoreHiddenSeries||(x.stackKey=[x.type,v(x.options.stack,""),C?M.top:M.left,C?M.height:M.width].join())})},Y.compose(H),W.prototype.setGroupedPoints=function(){var f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?W.prototype.setStackedPoints.call(this,"group"):f&&g(f.stacks,function(C,x){"group"===x.slice(-5)&&(g(C,function(M){return M.destroy()}),delete f.stacks[x])})},W.prototype.setStackedPoints=function(f){var C=f||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x=this.processedXData,M=this.processedYData,p=[],a=M.length,h=this.options,n=h.threshold,d=v(h.startFromThreshold&&n,0);h=h.stack;var O,k,o="-"+(f=f?this.type+","+C:this.stackKey),r=this.negStacks,u=this.yAxis,c=u.stacking.stacks,b=u.stacking.oldStacks;for(u.stacking.stacksTouched+=1,k=0;k<a;k++){var _=x[k],A=M[k],B=this.getStackIndicator(B,_,this.index),m=B.key,T=(O=r&&A<(d?0:n))?o:f;c[T]||(c[T]={}),c[T][_]||(b[T]&&b[T][_]?(c[T][_]=b[T][_],c[T][_].total=null):c[T][_]=new S(u,u.options.stackLabels,O,_,h)),T=c[T][_],null!==A?(T.points[m]=T.points[this.index]=[v(T.cumulative,d)],w(T.cumulative)||(T.base=m),T.touched=u.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(T.points[m][0]=T.points[this.index+","+_+",0"][0])):T.points[m]=T.points[this.index]=null,"percent"===C?(O=O?f:o,T.total=r&&c[O]&&c[O][_]?(O=c[O][_]).total=Math.max(O.total,T.total)+Math.abs(A)||0:P(T.total+(Math.abs(A)||0))):"group"===C?(s(A)&&(A=A[0]),null!==A&&(T.total=(T.total||0)+1)):T.total=P(T.total+(A||0)),T.cumulative="group"===C?(T.total||1)-1:v(T.cumulative,d)+(A||0),null!==A&&(T.points[m].push(T.cumulative),p[k]=T.cumulative,T.hasValidPoints=!0)}"percent"===C&&(u.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=p),u.stacking.oldStacks={}}},W.prototype.modifyStacks=function(){var p,f=this,C=f.stackKey,x=f.yAxis.stacking.stacks,M=f.processedXData,a=f.options.stacking;f[a+"Stacker"]&&[C,"-"+C].forEach(function(h){for(var d,o,n=M.length;n--;)p=f.getStackIndicator(p,d=M[n],f.index,h),(o=(d=x[h]&&x[h][d])&&d.points[p.key])&&f[a+"Stacker"](o,d,n)})},W.prototype.percentStacker=function(f,C,x){f[0]=P(f[0]*(C=C.total?100/C.total:0)),f[1]=P(f[1]*C),this.stackedYData[x]=f[1]},W.prototype.getStackIndicator=function(f,C,x,M){return!w(f)||f.x!==C||M&&f.key!==M?f={x:C,index:0,key:M}:f.index++,f.key=[x,C,f.index].join(),f},Q.StackItem=S,Q.StackItem}),lt(F,"Series/Line/LineSeries.js",[F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.defined,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.prototype.drawGraph=function(){var P=this,w=this.options,E=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode,l=[["graph","highcharts-graph"]];s||l[0].push(w.lineColor||this.color||"#cccccc",w.dashStyle),(l=P.getZonesGraphs(l)).forEach(function(g,v){var S=g[0],f=P[S],C=f?"animate":"attr";f?(f.endX=P.preventGraphAnimation?null:E.xMap,f.animate({d:E})):E.length&&(P[S]=f=P.chart.renderer.path(E).addClass(g[1]).attr({zIndex:1}).add(P.group)),f&&!s&&(S={stroke:g[2],"stroke-width":w.lineWidth,fill:P.fillGraph&&P.color||"none"},g[3]?S.dashstyle=g[3]:"square"!==w.linecap&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),f[C](S).shadow(2>v&&w.shadow)),f&&(f.startX=E.xMap,f.isArea=E.isArea)})},I.prototype.getGraphPath=function(P,w,E){var S,s=this,l=s.options,g=[],v=[],f=l.step,C=(P=P||s.points).reversed;return C&&P.reverse(),(f={right:1,center:2}[f]||f&&3)&&C&&(f=4-f),(P=this.getValidPoints(P,!1,!(l.connectNulls&&!w&&!E))).forEach(function(x,M){var p=x.plotX,a=x.plotY,h=P[M-1];(x.leftCliff||h&&h.rightCliff)&&!E&&(S=!0),x.isNull&&!W(w)&&0<M?S=!l.connectNulls:x.isNull&&!w?S=!0:(0===M||S?M=[["M",x.plotX,x.plotY]]:s.getPointSpline?M=[s.getPointSpline(P,x,M)]:f?(M=1===f?[["L",h.plotX,a]]:2===f?[["L",(h.plotX+p)/2,h.plotY],["L",(h.plotX+p)/2,a]]:[["L",p,h.plotY]]).push(["L",p,a]):M=[["L",p,a]],v.push(x.x),f&&(v.push(x.x),2===f&&v.push(x.x)),g.push.apply(g,M),S=!1)}),g.xMap=v,s.graphPath=g},I.prototype.getZonesGraphs=function(P){return this.zones.forEach(function(w,E){E=["zone-graph-"+E,"highcharts-graph highcharts-zone-graph-"+E+" "+(w.className||"")],this.chart.styledMode||E.push(w.color||this.color,w.dashStyle||this.options.dashStyle),P.push(E)},this),P},I.defaultOptions=Y(H.defaultOptions,{}),I}(H),K.registerSeriesType("line",V),V}),lt(F,"Series/Area/AreaSeries.js",[F["Core/Color/Color.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var E,W=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),Y=H.parse,z=V.seriesTypes.line;H=Q.extend;var I=Q.merge,P=Q.objectEach,w=Q.pick;return Q=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return W(s,E),s.prototype.drawGraph=function(){this.areaPath=[],E.prototype.drawGraph.apply(this);var l=this,g=this.areaPath,v=this.options,S=[["area","highcharts-area",this.color,v.fillColor]];this.zones.forEach(function(f,C){S.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+f.className,f.color||l.color,f.fillColor||v.fillColor])}),S.forEach(function(f){var C=f[0],x=l[C],M=x?"animate":"attr",p={};x?(x.endX=l.preventGraphAnimation?null:g.xMap,x.animate({d:g})):(p.zIndex=0,(x=l[C]=l.chart.renderer.path(g).addClass(f[1]).add(l.group)).isArea=!0),l.chart.styledMode||(p.fill=w(f[3],Y(f[2]).setOpacity(w(v.fillOpacity,.75)).get())),x[M](p),x.startX=g.xMap,x.shiftUnit=v.step?2:1})},s.prototype.getGraphPath=function(l){var C,g=z.prototype.getGraphPath,v=this.options,S=v.stacking,f=this.yAxis,x=[],M=[],p=this.index,a=f.stacking.stacks[this.stackKey],h=v.threshold,n=Math.round(f.getThreshold(v.threshold));v=w(v.connectNulls,"percent"===S);var d=function(c,b,O){var k=l[c];c=S&&a[k.x].points[p];var _=k[O+"Null"]||0;if(O=k[O+"Cliff"]||0,k=!0,O||_){var A=(_?c[0]:c[1])+O,B=c[0]+O;k=!!_}else!S&&l[b]&&l[b].isNull&&(A=B=h);void 0!==A&&(M.push({plotX:r,plotY:null===A?n:f.getThreshold(A),isNull:k,isCliff:!0}),x.push({plotX:r,plotY:null===B?n:f.getThreshold(B),doCurve:!1}))};for(l=l||this.points,S&&(l=this.getStackPoints(l)),C=0;C<l.length;C++){S||(l[C].leftCliff=l[C].rightCliff=l[C].leftNull=l[C].rightNull=void 0);var o=l[C].isNull,r=w(l[C].rectPlotX,l[C].plotX),u=S?w(l[C].yBottom,n):n;(!o||v)&&(v||d(C,C-1,"left"),o&&!S&&v||(M.push(l[C]),x.push({x:C,plotX:r,plotY:u})),v||d(C,C+1,"right"))}return C=g.call(this,M,!0,!0),x.reversed=!0,(u=(o=g.call(this,x,!0,!0))[0])&&"M"===u[0]&&(o[0]=["L",u[1],u[2]]),(o=C.concat(o)).length&&o.push(["Z"]),g=g.call(this,M,!1,v),o.xMap=C.xMap,this.areaPath=o,g},s.prototype.getStackPoints=function(l){var g=this,v=[],S=[],f=this.xAxis,C=this.yAxis,x=C.stacking.stacks[this.stackKey],M={},p=C.series,a=p.length,h=C.options.reversedStacks?1:-1,n=p.indexOf(g);if(l=l||this.points,this.options.stacking){for(var d=0;d<l.length;d++)l[d].leftNull=l[d].rightNull=void 0,M[l[d].x]=l[d];P(x,function(r,u){null!==r.total&&S.push(u)}),S.sort(function(r,u){return r-u});var o=p.map(function(r){return r.visible});S.forEach(function(r,u){var b,O,c=0;if(M[r]&&!M[r].isNull)v.push(M[r]),[-1,1].forEach(function(_){var A=1===_?"rightNull":"leftNull",B=0,m=x[S[u+_]];if(m)for(var T=n;0<=T&&T<a;){var R=p[T].index;(b=m.points[R])||(R===g.index?M[r][A]=!0:o[T]&&(O=x[r].points[R])&&(B-=O[1]-O[0])),T+=h}M[r][1===_?"rightCliff":"leftCliff"]=B});else{for(var k=n;0<=k&&k<a;){if(b=x[r].points[p[k].index]){c=b[1];break}k+=h}c=w(c,0),c=C.translate(c,0,1,0,1),v.push({isNull:!0,plotX:f.translate(r,0,0,0,1),x:r,plotY:c,yBottom:c})}})}return v},s.defaultOptions=I(z.defaultOptions,{threshold:0}),s}(z),H(Q.prototype,{singleStacks:!1,drawLegendSymbol:K.drawRectangle}),V.registerSeriesType("area",Q),Q}),lt(F,"Series/Spline/SplineSeries.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var z,V=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),Q=H.seriesTypes.line,W=K.merge,Y=K.pick;return K=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return V(I,z),I.prototype.getPointSpline=function(P,w,E){var s=w.plotX||0,l=w.plotY||0,g=P[E-1];if(E=P[E+1],g&&!g.isNull&&!1!==g.doCurve&&!w.isCliff&&E&&!E.isNull&&!1!==E.doCurve&&!w.isCliff){var v=E.plotX||0,S=0,f=(1.5*s+(g.plotX||0))/2.5,C=(1.5*l+(P=g.plotY||0))/2.5,x=(1.5*l+(E=E.plotY||0))/2.5;(v=(1.5*s+v)/2.5)!==f&&(S=(x-C)*(v-s)/(v-f)+l-x),x+=S,(C+=S)>P&&C>l?x=2*l-(C=Math.max(P,l)):C<P&&C<l&&(x=2*l-(C=Math.min(P,l))),x>E&&x>l?C=2*l-(x=Math.max(E,l)):x<E&&x<l&&(C=2*l-(x=Math.min(E,l))),w.rightContX=v,w.rightContY=x}return w=["C",Y(g.rightContX,g.plotX,0),Y(g.rightContY,g.plotY,0),Y(f,s,0),Y(C,l,0),s,l],g.rightContX=g.rightContY=void 0,w},I.defaultOptions=W(Q.defaultOptions),I}(Q),H.registerSeriesType("spline",K),K}),lt(F,"Series/AreaSpline/AreaSplineSeries.js",[F["Series/Area/AreaSeries.js"],F["Series/Spline/SplineSeries.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var w,Y=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),z=H.prototype,I=W.extend,P=W.merge;return W=function(w){function E(){var s=null!==w&&w.apply(this,arguments)||this;return s.data=void 0,s.points=void 0,s.options=void 0,s}return Y(E,w),E.defaultOptions=P(K.defaultOptions,H.defaultOptions),E}(K),I(W.prototype,{getGraphPath:z.getGraphPath,getStackPoints:z.getStackPoints,drawGraph:z.drawGraph,drawLegendSymbol:V.drawRectangle}),Q.registerSeriesType("areaspline",W),W}),lt(F,"Series/Column/ColumnSeries.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var a,I=this&&this.__extends||(a=function(h,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])})(h,n)},function(h,n){function d(){this.constructor=h}a(h,n),h.prototype=null===n?Object.create(n):(d.prototype=n.prototype,new d)}),P=H.animObject,w=K.parse,E=V.hasTouch;H=V.noop;var s=z.clamp,l=z.css,g=z.defined,v=z.extend,S=z.fireEvent,f=z.isArray,C=z.isNumber,x=z.merge,M=z.pick,p=z.objectEach;return z=function(a){function h(){var n=null!==a&&a.apply(this,arguments)||this;return n.borderWidth=void 0,n.data=void 0,n.group=void 0,n.options=void 0,n.points=void 0,n}return I(h,a),h.prototype.animate=function(n){var d=this,o=this.yAxis,r=d.options,u=this.chart.inverted,c={},b=u?"translateX":"translateY";if(n)c.scaleY=.001,n=s(o.toPixels(r.threshold),o.pos,o.pos+o.len),u?c.translateX=n-o.len:c.translateY=n,d.clipBox&&d.setClip(),d.group.attr(c);else{var O=Number(d.group.attr(b));d.group.animate({scaleY:1},v(P(d.options.animation),{step:function(k,_){d.group&&(c[b]=O+_.pos*(o.pos-O),d.group.attr(c))}}))}},h.prototype.init=function(n,d){a.prototype.init.apply(this,arguments);var o=this;(n=o.chart).hasRendered&&n.series.forEach(function(r){r.type===o.type&&(r.isDirty=!0)})},h.prototype.getColumnMetrics=function(){var n=this,d=n.options,o=n.xAxis,r=n.yAxis,u=o.options.reversedStacks;u=o.reversed&&!u||!o.reversed&&u;var b,c={},O=0;!1===d.grouping?O=1:n.chart.series.forEach(function(B){var m=B.yAxis,T=B.options;if(B.type===n.type&&(B.visible||!n.chart.options.chart.ignoreHiddenSeries)&&r.len===m.len&&r.pos===m.pos){if(T.stacking&&"group"!==T.stacking){void 0===c[b=B.stackKey]&&(c[b]=O++);var R=c[b]}else!1!==T.grouping&&(R=O++);B.columnIndex=R}});var k=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||d.pointRange||o.closestPointRange||o.tickInterval||1),o.len),_=k*d.groupPadding,A=(k-2*_)/(O||1);return d=Math.min(d.maxPointWidth||o.len,M(d.pointWidth,A*(1-2*d.pointPadding))),n.columnMetrics={width:d,offset:(A-d)/2+(_+((n.columnIndex||0)+(u?1:0))*A-k/2)*(u?-1:1),paddedWidth:A,columnCount:O},n.columnMetrics},h.prototype.crispCol=function(n,d,o,r){var u=this.chart,c=this.borderWidth,b=-(c%2?.5:0);return c=c%2?.5:1,u.inverted&&u.renderer.isVML&&(c+=1),this.options.crisp&&(o=Math.round(n+o)+b,o-=n=Math.round(n)+b),r=Math.round(d+r)+c,b=.5>=Math.abs(d)&&.5<r,r-=d=Math.round(d)+c,b&&r&&(--d,r+=1),{x:n,y:d,width:o,height:r}},h.prototype.adjustForMissingColumns=function(n,d,o,r){var u=this,c=this.options.stacking;if(!o.isNull&&1<r.columnCount){var b=0,O=0;p(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(k){if("number"==typeof o.x&&(k=k[o.x.toString()])){var _=k.points[u.index],A=k.total;c?(_&&(b=O),k.hasValidPoints&&O++):f(_)&&(b=_[1],O=A||0)}}),n=(o.plotX||0)+((O-1)*r.paddedWidth+d)/2-d-b*r.paddedWidth}return n},h.prototype.translate=function(){var n=this,d=n.chart,o=n.options,r=n.dense=2>n.closestPointRange*n.xAxis.transA;r=n.borderWidth=M(o.borderWidth,r?0:1);var u=n.xAxis,c=n.yAxis,b=o.threshold,O=n.translatedThreshold=c.getThreshold(b),k=M(o.minPointLength,5),_=n.getColumnMetrics(),A=_.width,B=n.pointXOffset=_.offset,m=n.dataMin,T=n.dataMax,R=n.barW=Math.max(A,1+2*r);d.inverted&&(O-=.5),o.pointPadding&&(R=Math.ceil(R)),W.prototype.translate.apply(n),n.points.forEach(function(j){var X=M(j.yBottom,O),$=999+Math.abs(X),D=j.plotX||0;$=s(j.plotY,-$,c.len+$);var U=Math.min($,X),N=Math.max($,X)-U,Z=A,q=D+B,nt=R;k&&Math.abs(N)<k&&(N=k,D=!c.reversed&&!j.negative||c.reversed&&j.negative,C(b)&&C(T)&&j.y===b&&T<=b&&(c.min||0)<b&&(m!==T||(c.max||0)<=b)&&(D=!D),U=Math.abs(U-O)>k?X-k:O-(D?k:0)),g(j.options.pointWidth)&&(Z=nt=Math.ceil(j.options.pointWidth),q-=Math.round((Z-A)/2)),o.centerInCategory&&(q=n.adjustForMissingColumns(q,Z,j,_)),j.barX=q,j.pointWidth=Z,j.tooltipPos=d.inverted?[s(c.len+c.pos-d.plotLeft-$,c.pos-d.plotLeft,c.len+c.pos-d.plotLeft),u.len+u.pos-d.plotTop-q-nt/2,N]:[u.left-d.plotLeft+q+nt/2,s($+c.pos-d.plotTop,c.pos-d.plotTop,c.len+c.pos-d.plotTop),N],j.shapeType=n.pointClass.prototype.shapeType||"rect",j.shapeArgs=n.crispCol.apply(n,j.isNull?[q,O,nt,0]:[q,U,nt,N])})},h.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},h.prototype.pointAttribs=function(n,d){var o=this.options,r=this.pointAttrToOptions||{},u=r.stroke||"borderColor",c=r["stroke-width"]||"borderWidth",b=n&&n.color||this.color,O=n&&n[u]||o[u]||b;r=n&&n.options.dashStyle||o.dashStyle;var k=n&&n[c]||o[c]||this[c]||0,_=M(n&&n.opacity,o.opacity,1);if(n&&this.zones.length){var A=n.getZone();b=n.options.color||A&&(A.color||n.nonZonedColor)||this.color,A&&(O=A.borderColor||O,r=A.dashStyle||r,k=A.borderWidth||k)}return d&&n&&(d=(n=x(o.states[d],n.options.states&&n.options.states[d]||{})).brightness,b=n.color||void 0!==d&&w(b).brighten(n.brightness).get()||b,O=n[u]||O,k=n[c]||k,r=n.dashStyle||r,_=M(n.opacity,_)),u={fill:b,stroke:O,"stroke-width":k,opacity:_},r&&(u.dashstyle=r),u},h.prototype.drawPoints=function(){var c,n=this,d=this.chart,o=n.options,r=d.renderer,u=o.animationLimit||250;n.points.forEach(function(b){var O=b.graphic,k=!!O,_=O&&d.pointCount<u?"animate":"attr";C(b.plotY)&&null!==b.y?(c=b.shapeArgs,O&&b.hasNewShapeType()&&(O=O.destroy()),n.enabledDataSorting&&(b.startXPos=n.xAxis.reversed?-(c&&c.width||0):n.xAxis.width),O||(b.graphic=O=r[b.shapeType](c).add(b.group||n.group))&&n.enabledDataSorting&&d.hasRendered&&d.pointCount<u&&(O.attr({x:b.startXPos}),k=!0,_="animate"),O&&k&&O[_](x(c)),o.borderRadius&&O[_]({r:o.borderRadius}),d.styledMode||O[_](n.pointAttribs(b,b.selected&&"select")).shadow(!1!==b.allowShadow&&o.shadow,null,o.stacking&&!o.borderRadius),O&&(O.addClass(b.getClassName(),!0),O.attr({visibility:b.visible?"inherit":"hidden"}))):O&&(b.graphic=O.destroy())})},h.prototype.drawTracker=function(){var u,n=this,d=n.chart,o=d.pointer,r=function(c){var b=o.getPointFromEvent(c);void 0!==b&&(o.isDirectTouch=!0,b.onMouseOver(c))};n.points.forEach(function(c){u=f(c.dataLabels)?c.dataLabels:c.dataLabel?[c.dataLabel]:[],c.graphic&&(c.graphic.element.point=c),u.forEach(function(b){b.div?b.div.point=c:b.element.point=c})}),n._hasTracking||(n.trackerGroups.forEach(function(c){n[c]&&(n[c].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(b){o.onTrackerMouseOut(b)}),E&&n[c].on("touchstart",r),!d.styledMode&&n.options.cursor&&n[c].css(l).css({cursor:n.options.cursor}))}),n._hasTracking=!0),S(this,"afterDrawTracker")},h.prototype.remove=function(){var n=this,d=n.chart;d.hasRendered&&d.series.forEach(function(o){o.type===n.type&&(o.isDirty=!0)}),W.prototype.remove.apply(n,arguments)},h.defaultOptions=x(W.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),h}(W),v(z.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:Q.drawRectangle,getSymbol:H,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Y.registerSeriesType("column",z),z}),lt(F,"Core/Series/DataLabel.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=H.getDeferredAnimation,W=K.format,Y=V.defined,z=V.extend,I=V.fireEvent,P=V.isArray,w=V.merge,E=V.objectEach,s=V.pick,l=V.splat;return function(v){function S(h,n,d,o,r){var u=this,c=this.chart,b=this.isCartesian&&c.inverted,O=this.enabledDataSorting,k=s(h.dlBox&&h.dlBox.centerX,h.plotX,-9999),_=s(h.plotY,-9999),A=n.getBBox(),B=d.rotation,m=d.align,T=c.isInsidePlot(k,Math.round(_),{inverted:b,paneCoordinates:!0,series:u}),R=function(D){O&&u.xAxis&&!j&&u.setDataLabelStartPos(h,n,r,T,D)},j="justify"===s(d.overflow,O?"none":"justify"),X=this.visible&&!1!==h.visible&&(h.series.forceDL||O&&!j||T||s(d.inside,!!this.options.stacking)&&o&&c.isInsidePlot(k,b?o.x+1:o.y+o.height-1,{inverted:b,paneCoordinates:!0,series:u}));if(X){var $=c.renderer.fontMetrics(c.styledMode?void 0:d.style.fontSize,n).b;o=z({x:b?this.yAxis.len-_:k,y:Math.round(b?this.xAxis.len-k:_),width:0,height:0},o),z(d,{width:A.width,height:A.height}),B?(j=!1,k=c.renderer.rotCorr($,B),R(k={x:o.x+(d.x||0)+o.width/2+k.x,y:o.y+(d.y||0)+{top:0,middle:.5,bottom:1}[d.verticalAlign]*o.height}),n[r?"attr":"animate"](k).attr({align:m}),R=180<(R=(B+720)%360)&&360>R,"left"===m?k.y-=R?A.height:0:"center"===m?(k.x-=A.width/2,k.y-=A.height/2):"right"===m&&(k.x-=A.width,k.y-=R?0:A.height),n.placed=!0,n.alignAttr=k):(R(o),n.align(d,void 0,o),k=n.alignAttr),j&&0<=o.height?this.justifyDataLabel(n,d,k,A,o,r):s(d.crop,!0)&&(X=c.isInsidePlot(k.x,k.y,{paneCoordinates:!0,series:u})&&c.isInsidePlot(k.x+A.width,k.y+A.height,{paneCoordinates:!0,series:u})),d.shape&&!B&&n[r?"attr":"animate"]({anchorX:b?c.plotWidth-h.plotY:h.plotX,anchorY:b?c.plotHeight-h.plotX:h.plotY})}r&&O&&(n.placed=!1),X||O&&!j||(n.hide(!0),n.placed=!1)}function C(){var h=this,n=h.chart,d=h.options,o=h.points,r=h.hasRendered||0,u=n.renderer,c=d.dataLabels,O=c.animation;if(O=c.defer?Q(n,O,h):{defer:0,duration:0},c=M(M(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[h.type]&&n.options.plotOptions[h.type].dataLabels),c),I(this,"drawDataLabels"),P(c)||c.enabled||h._hasPointLabels){var k=h.plotGroup("dataLabelsGroup","data-labels",r?"inherit":"hidden",c.zIndex||6);k.attr({opacity:+r}),!r&&(r=h.dataLabelsGroup)&&(h.visible&&k.show(!0),r[d.animation?"animate":"attr"]({opacity:1},O)),o.forEach(function(_){l(M(c,_.dlOptions||_.options&&_.options.dataLabels)).forEach(function(A,B){var m=A.enabled&&(!_.isNull||_.dataLabelOnNull)&&function f(h,n){var d=n.filter;return!d||(n=d.operator,h=h[d.property],d=d.value,">"===n&&h>d||"<"===n&&h<d||">="===n&&h>=d||"<="===n&&h<=d||"=="===n&&h==d||"==="===n&&h===d)}(_,A),T=_.connectors?_.connectors[B]:_.connector,R=_.dataLabels?_.dataLabels[B]:_.dataLabel,j=s(A.distance,_.labelDistance),X=!R;if(m){var $=_.getLabelConfig(),D=s(A[_.formatPrefix+"Format"],A.format);$=Y(D)?W(D,$,n):(A[_.formatPrefix+"Formatter"]||A.formatter).call($,A),D=A.style;var U=A.rotation;n.styledMode||(D.color=s(A.color,D.color,h.color,"#000000"),"contrast"===D.color?(_.contrastColor=u.getContrast(_.color||h.color),D.color=!Y(j)&&A.inside||0>j||d.stacking?_.contrastColor:"#000000"):delete _.contrastColor,d.cursor&&(D.cursor=d.cursor));var N={r:A.borderRadius||0,rotation:U,padding:A.padding,zIndex:1};n.styledMode||(N.fill=A.backgroundColor,N.stroke=A.borderColor,N["stroke-width"]=A.borderWidth),E(N,function(Z,q){void 0===Z&&delete N[q]})}!R||m&&Y($)&&!!R.div==!!A.useHTML||(_.dataLabel=R=_.dataLabel&&_.dataLabel.destroy(),_.dataLabels&&(1===_.dataLabels.length?delete _.dataLabels:delete _.dataLabels[B]),B||delete _.dataLabel,T&&(_.connector=_.connector.destroy(),_.connectors&&(1===_.connectors.length?delete _.connectors:delete _.connectors[B]))),m&&Y($)&&(R?N.text=$:(_.dataLabels=_.dataLabels||[],R=_.dataLabels[B]=U?u.text($,0,-9999,A.useHTML).addClass("highcharts-data-label"):u.label($,0,-9999,A.shape,null,null,A.useHTML,null,"data-label"),B||(_.dataLabel=R),R.addClass(" highcharts-data-label-color-"+_.colorIndex+" "+(A.className||"")+(A.useHTML?" highcharts-tracker":""))),R.options=A,R.attr(N),n.styledMode||R.css(D).shadow(A.shadow),R.added||R.add(k),A.textPath&&!A.useHTML&&(R.setTextPath(_.getDataLabelPath&&_.getDataLabelPath(R)||_.graphic,A.textPath),_.dataLabelPath&&!A.textPath.enabled&&(_.dataLabelPath=_.dataLabelPath.destroy())),h.alignDataLabel(_,R,A,null,X))})})}I(this,"afterDrawDataLabels")}function x(h,n,d,o,r,u){var c=this.chart,b=n.align,O=n.verticalAlign,k=h.box?0:h.padding||0,_=n.x;_=void 0===_?0:_;var A=n.y;A=void 0===A?0:A;var B=(d.x||0)+k;if(0>B){"right"===b&&0<=_?(n.align="left",n.inside=!0):_-=B;var m=!0}return(B=(d.x||0)+o.width-k)>c.plotWidth&&("left"===b&&0>=_?(n.align="right",n.inside=!0):_+=c.plotWidth-B,m=!0),0>(B=d.y+k)&&("bottom"===O&&0<=A?(n.verticalAlign="top",n.inside=!0):A-=B,m=!0),(B=(d.y||0)+o.height-k)>c.plotHeight&&("top"===O&&0>=A?(n.verticalAlign="bottom",n.inside=!0):A+=c.plotHeight-B,m=!0),m&&(n.x=_,n.y=A,h.placed=!u,h.align(n,void 0,r)),m}function M(h,n){var o,d=[];if(P(h)&&!P(n))d=h.map(function(r){return w(r,n)});else if(P(n)&&!P(h))d=n.map(function(r){return w(h,r)});else if(P(h)||P(n))for(o=Math.max(h.length,n.length);o--;)d[o]=w(h[o],n[o]);else d=w(h,n);return d}function p(h,n,d,o,r){var u=this.chart,c=u.inverted,b=this.xAxis,O=b.reversed,k=c?n.height/2:n.width/2;h=(h=h.pointWidth)?h/2:0,n.startXPos=c?r.x:O?-k-h:b.width-k+h,n.startYPos=c?O?this.yAxis.height-k+h:-k-h:r.y,o?"hidden"===n.visibility&&(n.show(),n.attr({opacity:0}).animate({opacity:1})):n.attr({opacity:1}).animate({opacity:0},void 0,n.hide),u.hasRendered&&(d&&n.attr({x:n.startXPos,y:n.startYPos}),n.placed=!0)}var a=[];v.compose=function(h){if(-1===a.indexOf(h)){var n=h.prototype;a.push(h),n.alignDataLabel=S,n.drawDataLabels=C,n.justifyDataLabel=x,n.setDataLabelStartPos=p}}}(g||(g={})),g}),lt(F,"Series/Column/ColumnDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=K.series,W=V.merge,Y=V.pick;return function(I){function P(E,s,l,g,v){var S=this.chart.inverted,f=E.series,C=(f.xAxis?f.xAxis.len:this.chart.plotSizeX)||0,x=E.dlBox||E.shapeArgs,M=Y(E.below,E.plotY>Y(this.translatedThreshold,f=(f.yAxis?f.yAxis.len:this.chart.plotSizeY)||0)),p=Y(l.inside,!!this.options.stacking);x&&(0>(g=W(x)).y&&(g.height+=g.y,g.y=0),0<(x=g.y+g.height-f)&&x<g.height&&(g.height-=x),S&&(g={x:f-g.y-g.height,y:C-g.x-g.width,width:g.height,height:g.width}),p||(S?(g.x+=M?0:g.width,g.width=0):(g.y+=M?g.height:0,g.height=0))),l.align=Y(l.align,!S||p?"center":M?"right":"left"),l.verticalAlign=Y(l.verticalAlign,S||p?"middle":M?"top":"bottom"),Q.prototype.alignDataLabel.call(this,E,s,l,g,v),l.inside&&E.contrastColor&&s.css({color:E.contrastColor})}var w=[];I.compose=function(E){H.compose(Q),-1===w.indexOf(E)&&(w.push(E),E.prototype.alignDataLabel=P)}}(z||(z={})),z}),lt(F,"Series/Bar/BarSeries.js",[F["Series/Column/ColumnSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.extend,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.defaultOptions=Y(H.defaultOptions,{}),I}(H),W(V.prototype,{inverted:!0}),K.registerSeriesType("bar",V),V}),lt(F,"Series/Scatter/ScatterSeries.js",[F["Series/Column/ColumnSeries.js"],F["Series/Line/LineSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=this&&this.__extends||(P=function(w,E){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])})(w,E)},function(w,E){function s(){this.constructor=w}P(w,E),w.prototype=null===E?Object.create(E):(s.prototype=E.prototype,new s)}),Y=Q.addEvent,z=Q.extend,I=Q.merge;return Q=function(P){function w(){var E=null!==P&&P.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return W(w,P),w.prototype.applyJitter=function(){var E=this,s=this.options.jitter,l=this.points.length;s&&this.points.forEach(function(g,v){["x","y"].forEach(function(S,f){var C="plot"+S.toUpperCase();if(s[S]&&!g.isNull){var x=E[S+"Axis"],M=s[S]*x.transA;if(x&&!x.isLog){var p=Math.max(0,g[C]-M);x=Math.min(x.len,g[C]+M),f=1e4*Math.sin(v+f*l),g[C]=p+(x-p)*(f-Math.floor(f)),"x"===S&&(g.clientX=g.plotX)}}})})},w.prototype.drawGraph=function(){this.options.lineWidth?P.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},w.defaultOptions=I(K.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),w}(K),z(Q.prototype,{drawTracker:H.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),Y(Q,"afterTranslate",function(){this.applyJitter()}),V.registerSeriesType("scatter",Q),Q}),lt(F,"Series/CenteredUtilities.js",[F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V){var I,P,Q=H.deg2rad,W=V.isNumber,Y=V.pick,z=V.relativeLength;return(P=I||(I={})).getCenter=function(){var w=this.options,E=this.chart,s=2*(w.slicedOffset||0),l=E.plotWidth-2*s,g=E.plotHeight-2*s,v=w.center,S=Math.min(l,g),f=w.size,C=w.innerSize||0;for("string"==typeof f&&(f=parseFloat(f)),"string"==typeof C&&(C=parseFloat(C)),w=[Y(v[0],"50%"),Y(v[1],"50%"),Y(f&&0>f?void 0:w.size,"100%"),Y(C&&0>C?void 0:w.innerSize||0,"0%")],!E.angular||this instanceof K||(w[3]=0),v=0;4>v;++v)f=w[v],E=2>v||2===v&&/%$/.test(f),w[v]=z(f,[l,g,S,w[2]][v])+(E?s:0);return w[3]>w[2]&&(w[3]=w[2]),w},P.getStartAndEndRadians=function(w,E){return w=W(w)?w:0,E=W(E)&&E>w&&360>E-w?E:w+360,{start:Q*(w+-90),end:Q*(E+-90)}},I}),lt(F,"Series/Pie/PiePoint.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V){var E,Q=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),W=H.setAnimation,Y=V.addEvent,z=V.defined;H=V.extend;var I=V.isNumber,P=V.pick,w=V.relativeLength;return K=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.labelDistance=void 0,l.options=void 0,l.series=void 0,l}return Q(s,E),s.prototype.getConnectorPath=function(){var l=this.labelPosition,g=this.series.options.dataLabels,v=this.connectorShapes,S=g.connectorShape;return v[S]&&(S=v[S]),S.call(this,{x:l.final.x,y:l.final.y,alignment:l.alignment},l.connectorPosition,g)},s.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},s.prototype.haloPath=function(l){var g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+l,g.r+l,{innerR:g.r-1,start:g.start,end:g.end})},s.prototype.init=function(){var l=this;E.prototype.init.apply(this,arguments),this.name=P(this.name,"Slice");var g=function(v){l.slice("select"===v.type)};return Y(this,"select",g),Y(this,"unselect",g),this},s.prototype.isValid=function(){return I(this.y)&&0<=this.y},s.prototype.setVisible=function(l,g){var v=this,S=this.series,f=S.chart,C=S.options.ignoreHiddenPoint;g=P(g,C),l!==this.visible&&(this.visible=this.options.visible=l=void 0===l?!this.visible:l,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(x){v[x]&&v[x][l?"show":"hide"](l)}),this.legendItem&&f.legend.colorizeItem(this,l),l||"hover"!==this.state||this.setState(""),C&&(S.isDirty=!0),g&&f.redraw())},s.prototype.slice=function(l,g,v){var S=this.series;W(v,S.chart),P(g,!0),this.sliced=this.options.sliced=z(l)?l:!this.sliced,S.options.data[S.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},s}(K),H(K.prototype,{connectorShapes:{fixedOffset:function(E,s,l){var g=s.breakAt;return s=s.touchingSliceAt,[["M",E.x,E.y],l.softConnector?["C",E.x+("left"===E.alignment?-5:5),E.y,2*g.x-s.x,2*g.y-s.y,g.x,g.y]:["L",g.x,g.y],["L",s.x,s.y]]},straight:function(E,s){return[["M",E.x,E.y],["L",(s=s.touchingSliceAt).x,s.y]]},crookedLine:function(E,s,l){s=s.touchingSliceAt;var g=this.series,v=g.center[0],S=g.chart.plotWidth,f=g.chart.plotLeft;g=E.alignment;var C=this.shapeArgs.r;return l=w(l.crookDistance,1),l=["L",S="left"===g?v+C+(S+f-v-C)*(1-l):f+(v-C)*l,E.y],v=!0,("left"===g?S>E.x||S<s.x:S<E.x||S>s.x)&&(v=!1),E=[["M",E.x,E.y]],v&&E.push(l),E.push(["L",s.x,s.y]),E}}}),K}),lt(F,"Series/Pie/PieSeries.js",[F["Series/CenteredUtilities.js"],F["Series/Column/ColumnSeries.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Series/Pie/PiePoint.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var C,w=this&&this.__extends||(C=function(x,M){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var h in a)a.hasOwnProperty(h)&&(p[h]=a[h])})(x,M)},function(x,M){function p(){this.constructor=x}C(x,M),x.prototype=null===M?Object.create(M):(p.prototype=M.prototype,new p)}),E=H.getStartAndEndRadians;V=V.noop;var s=P.clamp,l=P.extend,g=P.fireEvent,v=P.merge,S=P.pick,f=P.relativeLength;return P=function(C){function x(){var M=null!==C&&C.apply(this,arguments)||this;return M.center=void 0,M.data=void 0,M.maxLabelDistance=void 0,M.options=void 0,M.points=void 0,M}return w(x,C),x.prototype.animate=function(M){var p=this,h=p.startAngleRad;M||p.points.forEach(function(n){var d=n.graphic,o=n.shapeArgs;d&&o&&(d.attr({r:S(n.startR,p.center&&p.center[3]/2),start:h,end:h}),d.animate({r:o.r,start:o.start,end:o.end},p.options.animation))})},x.prototype.drawEmpty=function(){var M=this.startAngleRad,p=this.endAngleRad,a=this.options;if(0===this.total&&this.center){var h=this.center[0],n=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(h,n,this.center[1]/2,0,M,p).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:I.arc(h,n,this.center[2]/2,0,{start:M,end:p,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":a.borderWidth,fill:a.fillColor||"none",stroke:a.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},x.prototype.drawPoints=function(){var M=this.chart.renderer;this.points.forEach(function(p){p.graphic&&p.hasNewShapeType()&&(p.graphic=p.graphic.destroy()),p.graphic||(p.graphic=M[p.shapeType](p.shapeArgs).add(p.series.group),p.delayedRendering=!0)})},x.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},x.prototype.getX=function(M,p,a){var h=this.center,n=this.radii?this.radii[a.index]||0:h[2]/2;return M=Math.asin(s((M-h[1])/(n+a.labelDistance),-1,1)),h[0]+(p?-1:1)*Math.cos(M)*(n+a.labelDistance)+(0<a.labelDistance?(p?-1:1)*this.options.dataLabels.padding:0)},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.redrawPoints=function(){var n,d,o,r,M=this,p=M.chart,a=p.renderer,h=M.options.shadow;this.drawEmpty(),!h||M.shadowGroup||p.styledMode||(M.shadowGroup=a.g("shadow").attr({zIndex:-1}).add(M.group)),M.points.forEach(function(u){var c={};if(d=u.graphic,!u.isNull&&d){var b=void 0;r=u.shapeArgs,n=u.getTranslate(),p.styledMode||(b=u.shadowGroup,h&&!b&&(b=u.shadowGroup=a.g("shadow").add(M.shadowGroup)),b&&b.attr(n),o=M.pointAttribs(u,u.selected&&"select")),u.delayedRendering?(d.setRadialReference(M.center).attr(r).attr(n),p.styledMode||d.attr(o).attr({"stroke-linejoin":"round"}).shadow(h,b),u.delayedRendering=!1):(d.setRadialReference(M.center),p.styledMode||v(!0,c,o),v(!0,c,r,n),d.animate(c)),d.attr({visibility:u.visible?"inherit":"hidden"}),d.addClass(u.getClassName(),!0)}else d&&(u.graphic=d.destroy())})},x.prototype.sortByAngle=function(M,p){M.sort(function(a,h){return void 0!==a.angle&&(h.angle-a.angle)*p})},x.prototype.translate=function(M){this.generatePoints();var p=this.options,a=p.slicedOffset,h=a+(p.borderWidth||0),n=E(p.startAngle,p.endAngle),d=this.startAngleRad=n.start;n=(this.endAngleRad=n.end)-d;var o=this.points,r=p.dataLabels.distance;p=p.ignoreHiddenPoint;var c,u=o.length,b=0;for(M||(this.center=M=this.getCenter()),c=0;c<u;c++){var O=o[c],k=d+b*n;!O.isValid()||p&&!O.visible||(b+=O.percentage/100);var _=d+b*n,A={x:M[0],y:M[1],r:M[2]/2,innerR:M[3]/2,start:Math.round(1e3*k)/1e3,end:Math.round(1e3*_)/1e3};O.shapeType="arc",O.shapeArgs=A,O.labelDistance=S(O.options.dataLabels&&O.options.dataLabels.distance,r),O.labelDistance=f(O.labelDistance,A.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,O.labelDistance),(_=(_+k)/2)>1.5*Math.PI?_-=2*Math.PI:_<-Math.PI/2&&(_+=2*Math.PI),O.slicedTranslation={translateX:Math.round(Math.cos(_)*a),translateY:Math.round(Math.sin(_)*a)},A=Math.cos(_)*M[2]/2;var B=Math.sin(_)*M[2]/2;O.tooltipPos=[M[0]+.7*A,M[1]+.7*B],O.half=_<-Math.PI/2||_>Math.PI/2?1:0,O.angle=_,k=Math.min(h,O.labelDistance/5),O.labelPosition={natural:{x:M[0]+A+Math.cos(_)*O.labelDistance,y:M[1]+B+Math.sin(_)*O.labelDistance},final:{},alignment:0>O.labelDistance?"center":O.half?"right":"left",connectorPosition:{breakAt:{x:M[0]+A+Math.cos(_)*k,y:M[1]+B+Math.sin(_)*k},touchingSliceAt:{x:M[0]+A,y:M[1]+B}}}}g(this,"afterTranslate")},x.prototype.updateTotals=function(){var h,M=this.points,p=M.length,a=this.options.ignoreHiddenPoint,n=0;for(h=0;h<p;h++){var d=M[h];!d.isValid()||a&&!d.visible||(n+=d.y)}for(this.total=n,h=0;h<p;h++)(d=M[h]).percentage=0<n&&(d.visible||!a)?d.y/n*100:0,d.total=n},x.defaultOptions=v(Y.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),x}(Y),l(P.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:Q.drawRectangle,drawTracker:K.prototype.drawTracker,getCenter:H.getCenter,getSymbol:V,isCartesian:!1,noSharedTooltip:!0,pointAttribs:K.prototype.pointAttribs,pointClass:W,requireSorting:!1,searchPoint:V,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("pie",P),P}),lt(F,"Series/Pie/PieDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var v,Y=K.noop,z=V.distribute,I=Q.series,P=W.arrayMax,w=W.clamp,E=W.defined,s=W.merge,l=W.pick,g=W.relativeLength;return function(S){function f(){var T,R,j,X,$,D,U,N,Z,q,nt,it,a=this,h=a.data,n=a.chart,d=a.options.dataLabels||{},o=d.connectorPadding,r=n.plotWidth,u=n.plotHeight,c=n.plotLeft,b=Math.round(n.chartWidth/3),O=a.center,k=O[2]/2,_=O[1],A=[[],[]],B=[0,0,0,0],m=a.dataLabelPositioners;a.visible&&(d.enabled||a._hasPointLabels)&&(h.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),I.prototype.drawDataLabels.apply(a),h.forEach(function(ot){ot.dataLabel&&(ot.visible?(A[ot.half].push(ot),ot.dataLabel._pos=null,!E(d.style.width)&&!E(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>b&&(ot.dataLabel.css({width:Math.round(.7*b)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),A.forEach(function(ot,at){var vt,mt=ot.length,yt=[];if(mt){if(a.sortByAngle(ot,at-.5),0<a.maxLabelDistance){var pt=Math.max(0,_-k-a.maxLabelDistance),ct=Math.min(_+k+a.maxLabelDistance,n.plotHeight);ot.forEach(function(J){0<J.labelDistance&&J.dataLabel&&(J.top=Math.max(0,_-k-J.labelDistance),J.bottom=Math.min(_+k+J.labelDistance,n.plotHeight),vt=J.dataLabel.getBBox().height||21,J.distributeBox={target:J.labelPosition.natural.y-J.top+vt/2,size:vt,rank:J.y},yt.push(J.distributeBox))}),z(yt,pt=ct+vt-pt,pt/5)}for(nt=0;nt<mt;nt++){if(X=(T=ot[nt]).dataLabel,q=!1===T.visible?"hidden":"inherit",Z=pt=(D=T.labelPosition).natural.y,yt&&E(T.distributeBox)&&(void 0===T.distributeBox.pos?q="hidden":(U=T.distributeBox.size,Z=m.radialDistributionY(T))),delete T.positionIndex,d.justify)N=m.justify(T,k,O);else switch(d.alignTo){case"connectors":N=m.alignToConnectors(ot,at,r,c);break;case"plotEdges":N=m.alignToPlotEdges(X,at,r,c);break;default:N=m.radialDistributionX(a,T,Z,pt)}X._attr={visibility:q,align:D.alignment},X._pos={x:N+l((it=T.options.dataLabels||{}).x,d.x)+({left:o,right:-o}[D.alignment]||0),y:Z+l(it.y,d.y)-10},D.final.x=N,D.final.y=Z,l(d.crop,!0)&&($=X.getBBox().width,pt=null,N-$<o&&1===at?(pt=Math.round($-N+o),B[3]=Math.max(pt,B[3])):N+$>r-o&&0===at&&(pt=Math.round(N+$-r+o),B[1]=Math.max(pt,B[1])),0>Z-U/2?B[0]=Math.max(Math.round(U/2-Z),B[0]):Z+U/2>u&&(B[2]=Math.max(Math.round(Z+U/2-u),B[2])),X.sideOverflow=pt)}}}),0===P(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=s(d,ot.options.dataLabels),(R=l(it.connectorWidth,1))&&(j=ot.connector,(X=ot.dataLabel)&&X._pos&&ot.visible&&0<ot.labelDistance?(q=X._attr.visibility,(at=!j)&&(ot.connector=j=n.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(a.dataLabelsGroup),n.styledMode||j.attr({"stroke-width":R,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",q)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(a){var n,h=a.dataLabel;h&&a.visible&&((n=h._pos)?(h.sideOverflow&&(h._attr.width=Math.max(h.getBBox().width-h.sideOverflow,0),h.css({width:h._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),h.shortened=!0),h.attr(h._attr),h[h.moved?"animate":"attr"](n),h.moved=!0):h&&h.attr({y:-9999})),delete a.distributeBox},this)}function x(a){var h=this.center,n=this.options,d=n.center,o=n.minSize||80,r=null!==n.size;if(!r){if(null!==d[0])var u=Math.max(h[2]-Math.max(a[1],a[3]),o);else u=Math.max(h[2]-a[1]-a[3],o),h[0]+=(a[3]-a[1])/2;null!==d[1]?u=w(u,o,h[2]-Math.max(a[0],a[2])):(u=w(u,o,h[2]-a[0]-a[2]),h[1]+=(a[0]-a[2])/2),u<h[2]?(h[2]=u,h[3]=Math.min(g(n.innerSize||0,u),u),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):r=!0}return r}var M=[],p={radialDistributionY:function(a){return a.top+a.distributeBox.pos},radialDistributionX:function(a,h,n,d){return a.getX(n<h.top+2||n>h.bottom-2?d:n,h.half,h)},justify:function(a,h,n){return n[0]+(a.half?-1:1)*(h+a.labelDistance)},alignToPlotEdges:function(a,h,n,d){return a=a.getBBox().width,h?a+d:n-a-d},alignToConnectors:function(a,h,n,d){var r,o=0;return a.forEach(function(u){(r=u.dataLabel.getBBox().width)>o&&(o=r)}),h?o+d:n-o-d}};S.compose=function(a){H.compose(I),-1===M.indexOf(a)&&(M.push(a),(a=a.prototype).dataLabelPositioners=p,a.alignDataLabel=Y,a.drawDataLabels=f,a.placeDataLabels=C,a.verifyDataLabelOverflow=x)}}(v||(v={})),v}),lt(F,"Extensions/OverlappingDataLabels.js",[F["Core/Chart/Chart.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E){var s=!1;if(w){var l=w.newOpacity;w.oldOpacity!==l&&(w.alignAttr&&w.placed?(w[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,w.alignAttr.opacity=l,w[w.isOld?"animate":"attr"](w.alignAttr,null,function(){E.styledMode||w.css({pointerEvents:l?"auto":"none"})}),W(E,"afterHideOverlappingLabel")):w.attr({opacity:l})),w.isOld=!0}return s}var W=K.fireEvent,Y=K.isArray,z=K.isNumber,I=K.objectEach,P=K.pick;(0,K.addEvent)(H,"render",function(){var w=this,E=[];(this.labelCollectors||[]).forEach(function(s){E=E.concat(s())}),(this.yAxis||[]).forEach(function(s){s.stacking&&s.options.stackLabels&&!s.options.stackLabels.allowOverlap&&I(s.stacking.stacks,function(l){I(l,function(g){g.label&&"hidden"!==g.label.visibility&&E.push(g.label)})})}),(this.series||[]).forEach(function(s){var l=s.options.dataLabels;s.visible&&(!1!==l.enabled||s._hasPointLabels)&&((l=function(g){return g.forEach(function(v){v.visible&&(Y(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[]).forEach(function(S){var f=S.options;S.labelrank=P(f.labelrank,v.labelrank,v.shapeArgs&&v.shapeArgs.height),f.allowOverlap?(S.oldOpacity=S.opacity,S.newOpacity=1,V(S,w)):E.push(S)})})})(s.nodes||[]),l(s.points))}),this.hideOverlappingLabels(E)}),H.prototype.hideOverlappingLabels=function(w){var g,v,S,E=this,s=w.length,l=E.renderer,f=!1,C=function(p){var a,d,h=p.box?0:p.padding||0,n=a=0;if(p&&(!p.alignAttr||p.placed)){var o=p.alignAttr||{x:p.attr("x"),y:p.attr("y")},r=p.parentGroup;return p.width||(a=p.getBBox(),p.width=a.width,p.height=a.height,a=l.fontMetrics(null,p.element).h),(d={left:"0",center:"0.5",right:"1"}[p.alignValue])?n=+d*(p.width-2*h):z(p.x)&&Math.round(p.x)!==p.translateX&&(n=p.x-p.translateX),{x:o.x+(r.translateX||0)+h-(n||0),y:o.y+(r.translateY||0)+h-a,width:p.width-2*h,height:p.height-2*h}}};for(v=0;v<s;v++)(g=w[v])&&(g.oldOpacity=g.opacity,g.newOpacity=1,g.absoluteBox=C(g));for(w.sort(function(p,a){return(a.labelrank||0)-(p.labelrank||0)}),v=0;v<s;v++){var x=(C=w[v])&&C.absoluteBox;for(g=v+1;g<s;++g){var M=(S=w[g])&&S.absoluteBox;!x||!M||C===S||0===C.newOpacity||0===S.newOpacity||M.x>=x.x+x.width||M.x+M.width<=x.x||M.y>=x.y+x.height||M.y+M.height<=x.y||((C.labelrank<S.labelrank?C:S).newOpacity=0)}}w.forEach(function(p){V(p,E)&&(f=!0)}),f&&W(E,"afterHideAllOverlappingLabels")}}),lt(F,"Core/Responsive.js",[F["Core/Utilities.js"]],function(H){var E,K=H.extend,V=H.find,Q=H.isArray,W=H.isObject,Y=H.merge,z=H.objectEach,I=H.pick,P=H.splat,w=H.uniqueKey;return function(s){var l=[];s.compose=function(v){return-1===l.indexOf(v)&&(l.push(v),K(v.prototype,g.prototype)),v};var g=function(){function v(){}return v.prototype.currentOptions=function(S){var C=this,x={};return function f(M,p,a,h){var n;z(M,function(d,o){if(!h&&-1<C.collectionsWithUpdate.indexOf(o)&&p[o])for(d=P(d),a[o]=[],n=0;n<Math.max(d.length,p[o].length);n++)p[o][n]&&(void 0===d[n]?a[o][n]=p[o][n]:(a[o][n]={},f(d[n],p[o][n],a[o][n],h+1)));else W(d)?(a[o]=Q(d)?[]:{},f(d,p[o]||{},a[o],h+1)):a[o]=void 0===p[o]?null:p[o]})}(S,this.options,x,0),x},v.prototype.matchResponsiveRule=function(S,f){var C=S.condition;(C.callback||function(){return this.chartWidth<=I(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=I(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=I(C.minWidth,0)&&this.chartHeight>=I(C.minHeight,0)}).call(this)&&f.push(S._id)},v.prototype.setResponsive=function(S,f){var C=this,x=this.options.responsive,M=this.currentResponsive,p=[];!f&&x&&x.rules&&x.rules.forEach(function(a){void 0===a._id&&(a._id=w()),C.matchResponsiveRule(a,p)},this),(f=Y.apply(void 0,p.map(function(a){return V((x||{}).rules||[],function(h){return h._id===a})}).map(function(a){return a&&a.chartOptions}))).isResponsiveOptions=!0,(p=p.toString()||void 0)!==(M&&M.ruleIds)&&(M&&this.update(M.undoOptions,S,!0),p?((M=this.currentOptions(f)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:p,mergedOptions:f,undoOptions:M},this.update(f,S,!0)):this.currentResponsive=void 0)},v}()}(E||(E={})),E}),lt(F,"masters/highcharts.src.js",[F["Core/Globals.js"],F["Core/Utilities.js"],F["Core/DefaultOptions.js"],F["Core/Animation/Fx.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/FormatUtilities.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Renderer/HTML/HTMLElement.js"],F["Core/Renderer/HTML/HTMLRenderer.js"],F["Core/Axis/Axis.js"],F["Core/Axis/DateTimeAxis.js"],F["Core/Axis/LogarithmicAxis.js"],F["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],F["Core/Axis/Tick.js"],F["Core/Tooltip.js"],F["Core/Series/Point.js"],F["Core/Pointer.js"],F["Core/MSPointer.js"],F["Core/Legend/Legend.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Series/Column/ColumnSeries.js"],F["Series/Column/ColumnDataLabel.js"],F["Series/Pie/PieSeries.js"],F["Series/Pie/PieDataLabel.js"],F["Core/Series/DataLabel.js"],F["Core/Responsive.js"],F["Core/Color/Color.js"],F["Core/Time.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v,S,f,C,x,M,p,a,h,n,d,o,r,u,c,b,O,k,_){return H.animate=W.animate,H.animObject=W.animObject,H.getDeferredAnimation=W.getDeferredAnimation,H.setAnimation=W.setAnimation,H.stop=W.stop,H.timers=Q.timers,H.AST=Y,H.Axis=l,H.Chart=h,H.chart=h.chart,H.Fx=Q,H.Legend=a,H.PlotLineOrBand=S,H.Point=x,H.Pointer=p.isRequired()?p:M,H.Series=n,H.SVGElement=P,H.SVGRenderer=w,H.Tick=f,H.Time=_,H.Tooltip=C,H.Color=k,H.color=k.parse,s.compose(w),E.compose(P),H.defaultOptions=V.defaultOptions,H.getOptions=V.getOptions,H.time=V.defaultTime,H.setOptions=V.setOptions,H.dateFormat=z.dateFormat,H.format=z.format,H.numberFormat=z.numberFormat,H.addEvent=K.addEvent,H.arrayMax=K.arrayMax,H.arrayMin=K.arrayMin,H.attr=K.attr,H.clearTimeout=K.clearTimeout,H.correctFloat=K.correctFloat,H.createElement=K.createElement,H.css=K.css,H.defined=K.defined,H.destroyObjectProperties=K.destroyObjectProperties,H.discardElement=K.discardElement,H.distribute=I.distribute,H.erase=K.erase,H.error=K.error,H.extend=K.extend,H.extendClass=K.extendClass,H.find=K.find,H.fireEvent=K.fireEvent,H.getMagnitude=K.getMagnitude,H.getStyle=K.getStyle,H.inArray=K.inArray,H.isArray=K.isArray,H.isClass=K.isClass,H.isDOMElement=K.isDOMElement,H.isFunction=K.isFunction,H.isNumber=K.isNumber,H.isObject=K.isObject,H.isString=K.isString,H.keys=K.keys,H.merge=K.merge,H.normalizeTickInterval=K.normalizeTickInterval,H.objectEach=K.objectEach,H.offset=K.offset,H.pad=K.pad,H.pick=K.pick,H.pInt=K.pInt,H.relativeLength=K.relativeLength,H.removeEvent=K.removeEvent,H.seriesType=d.seriesType,H.splat=K.splat,H.stableSort=K.stableSort,H.syncTimeout=K.syncTimeout,H.timeUnits=K.timeUnits,H.uniqueKey=K.uniqueKey,H.useSerialIds=K.useSerialIds,H.wrap=K.wrap,r.compose(o),b.compose(n),g.compose(l),v.compose(l),c.compose(u),S.compose(l),O.compose(h),H}),F["masters/highcharts.src.js"]._modules=F,F["masters/highcharts.src.js"]},ke.exports?(lt.default=lt,ke.exports=St.document?lt(St):lt):void 0!==(ft=function(){return lt(St)}.call(zt,Mt,zt,ke))&&(ke.exports=ft)},220:function(ke,zt,Mt){"use strict";var ft,St,lt;St="undefined"!=typeof window?window:this,lt=function(St){function lt(H,K,V,Q){H.hasOwnProperty(K)||(H[K]=Q.apply(null,V))}var F={};return lt(F,"Core/Globals.js",[],function(){var K,V,H=void 0!==St?St:"undefined"!=typeof window?window:{};return(V=K||(K={})).SVG_NS="http://www.w3.org/2000/svg",V.product="Highcharts",V.version="9.3.3",V.win=H,V.doc=V.win.document,V.svg=V.doc&&V.doc.createElementNS&&!!V.doc.createElementNS(V.SVG_NS,"svg").createSVGRect,V.userAgent=V.win.navigator&&V.win.navigator.userAgent||"",V.isChrome=-1!==V.userAgent.indexOf("Chrome"),V.isFirefox=-1!==V.userAgent.indexOf("Firefox"),V.isMS=/(edge|msie|trident)/i.test(V.userAgent)&&!V.win.opera,V.isSafari=!V.isChrome&&-1!==V.userAgent.indexOf("Safari"),V.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(V.userAgent),V.isWebKit=-1!==V.userAgent.indexOf("AppleWebKit"),V.deg2rad=2*Math.PI/360,V.hasBidiBug=V.isFirefox&&4>parseInt(V.userAgent.split("Firefox/")[1],10),V.hasTouch=!!V.win.TouchEvent,V.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],V.noop=function(){},V.supportsPassiveEvents=function(){var Q=!1;if(!V.isMS){var W=Object.defineProperty({},"passive",{get:function(){Q=!0}});V.win.addEventListener&&V.win.removeEventListener&&(V.win.addEventListener("testPassive",V.noop,W),V.win.removeEventListener("testPassive",V.noop,W))}return Q}(),V.charts=[],V.dateFormats={},V.seriesTypes={},V.symbolSizes={},V.chartCount=0,K}),lt(F,"Core/Utilities.js",[F["Core/Globals.js"]],function(H){function K(r,u,c,b){var O=u?"Highcharts error":"Highcharts warning";32===r&&(r=O+": Deprecated member");var k=w(r),_=k?O+" #"+r+": www.highcharts.com/errors/"+r+"/":r.toString();if(void 0!==b){var A="";k&&(_+="?"),C(b,function(B,m){A+="\n - "+m+": "+B,k&&(_+=encodeURI(m)+"="+encodeURI(B))}),_+=A}M(H,"displayError",{chart:c,code:r,message:_,params:b},function(){if(u)throw Error(_);h.console&&-1===K.messages.indexOf(_)&&console.warn(_)}),K.messages.push(_)}function Q(r,u){return parseInt(r,u||10)}function W(r){return"string"==typeof r}function Y(r){return"[object Array]"===(r=Object.prototype.toString.call(r))||"[object Array Iterator]"===r}function z(r,u){return!(!r||"object"!=typeof r||u&&Y(r))}function I(r){return z(r)&&"number"==typeof r.nodeType}function P(r){var u=r&&r.constructor;return!(!z(r,!0)||I(r)||!u||!u.name||"Object"===u.name)}function w(r){return"number"==typeof r&&!isNaN(r)&&1/0>r&&-1/0<r}function E(r){return null!=r}function s(r,u,c){var b;return W(u)?E(c)?r.setAttribute(u,c):r&&r.getAttribute&&((b=r.getAttribute(u))||"class"!==u||(b=r.getAttribute(u+"Name"))):C(u,function(O,k){E(O)?r.setAttribute(k,O):r.removeAttribute(k)}),b}function l(r,u){var c;for(c in r||(r={}),u)r[c]=u[c];return r}function g(){for(var r=arguments,u=r.length,c=0;c<u;c++){var b=r[c];if(null!=b)return b}}function v(r,u){H.isMS&&!H.svg&&u&&void 0!==u.opacity&&(u.filter="alpha(opacity="+100*u.opacity+")"),l(r.style,u)}function S(r,u){return 1e14<r?r:parseFloat(r.toPrecision(u||14))}function C(r,u,c){for(var b in r)Object.hasOwnProperty.call(r,b)&&u.call(c||r[b],r[b],b,r)}function x(r,u,c){function b(A,B){var m=r.removeEventListener||H.removeEventListenerPolyfill;m&&m.call(r,A,B,!1)}function O(A){var B;if(r.nodeName){if(u){var m={};m[u]=!0}else m=A;C(m,function(T,R){if(A[R])for(B=A[R].length;B--;)b(R,A[R][B].fn)})}}var k="function"==typeof r&&r.prototype||r;if(Object.hasOwnProperty.call(k,"hcEvents")){var _=k.hcEvents;u?(k=_[u]||[],c?(_[u]=k.filter(function(A){return c!==A.fn}),b(u,c)):(O(_),_[u]=[])):(O(_),delete k.hcEvents)}}function M(r,u,c,b){if(c=c||{},a.createEvent&&(r.dispatchEvent||r.fireEvent&&r!==H)){var O=a.createEvent("Events");O.initEvent(u,!0,!0),c=l(O,c),r.dispatchEvent?r.dispatchEvent(c):r.fireEvent(u,c)}else if(r.hcEvents){c.target||l(c,{preventDefault:function(){c.defaultPrevented=!0},target:r,type:u}),O=[];for(var k=r,_=!1;k.hcEvents;)Object.hasOwnProperty.call(k,"hcEvents")&&k.hcEvents[u]&&(O.length&&(_=!0),O.unshift.apply(O,k.hcEvents[u])),k=Object.getPrototypeOf(k);_&&O.sort(function(A,B){return A.order-B.order}),O.forEach(function(A){!1===A.fn.call(r,c)&&c.preventDefault()})}b&&!c.defaultPrevented&&b.call(r,c)}var p=H.charts,a=H.doc,h=H.win;(K||(K={})).messages=[],Math.easeInOutSine=function(r){return-.5*(Math.cos(Math.PI*r)-1)};var n=Array.prototype.find?function(r,u){return r.find(u)}:function(r,u){var c,b=r.length;for(c=0;c<b;c++)if(u(r[c],c))return r[c]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(r,u){H[u]=function(c){var b;return K(32,!1,void 0,((b={})["Highcharts."+u]="use Array."+r,b)),Array.prototype[r].apply(c,[].slice.call(arguments,1))}});var d,r,u,o=(r=Math.random().toString(36).substring(2,9)+"-",u=0,function(){return"highcharts-"+(d?"":r)+u++});return h.jQuery&&(h.jQuery.fn.highcharts=function(){var r=[].slice.call(arguments);if(this[0])return r[0]?(new(H[W(r[0])?r.shift():"Chart"])(this[0],r[0],r[1]),this):p[s(this[0],"data-highcharts-chart")]}),n={addEvent:function(r,u,c,b){void 0===b&&(b={});var O="function"==typeof r&&r.prototype||r;Object.hasOwnProperty.call(O,"hcEvents")||(O.hcEvents={}),O=O.hcEvents,H.Point&&r instanceof H.Point&&r.series&&r.series.chart&&(r.series.chart.runTrackerClick=!0);var k=r.addEventListener||H.addEventListenerPolyfill;return k&&k.call(r,u,c,!!H.supportsPassiveEvents&&{passive:void 0===b.passive?-1!==u.indexOf("touch"):b.passive,capture:!1}),O[u]||(O[u]=[]),O[u].push({fn:c,order:"number"==typeof b.order?b.order:1/0}),O[u].sort(function(_,A){return _.order-A.order}),function(){x(r,u,c)}},arrayMax:function(r){for(var u=r.length,c=r[0];u--;)r[u]>c&&(c=r[u]);return c},arrayMin:function(r){for(var u=r.length,c=r[0];u--;)r[u]<c&&(c=r[u]);return c},attr:s,clamp:function(r,u,c){return r>u?r<c?r:c:u},cleanRecursively:function V(r,u){var c={};return C(r,function(b,O){z(r[O],!0)&&!r.nodeType&&u[O]?(b=V(r[O],u[O]),Object.keys(b).length&&(c[O]=b)):(z(r[O])||r[O]!==u[O])&&(c[O]=r[O])}),c},clearTimeout:function(r){E(r)&&clearTimeout(r)},correctFloat:S,createElement:function(r,u,c,b,O){return r=a.createElement(r),u&&l(r,u),O&&v(r,{padding:"0",border:"none",margin:"0"}),c&&v(r,c),b&&b.appendChild(r),r},css:v,defined:E,destroyObjectProperties:function(r,u){C(r,function(c,b){c&&c!==u&&c.destroy&&c.destroy(),delete r[b]})},discardElement:function(r){r&&r.parentElement&&r.parentElement.removeChild(r)},erase:function(r,u){for(var c=r.length;c--;)if(r[c]===u){r.splice(c,1);break}},error:K,extend:l,extendClass:function(r,u){var c=function(){};return l(c.prototype=new r,u),c},find:n,fireEvent:M,getMagnitude:function(r){return Math.pow(10,Math.floor(Math.log(r)/Math.LN10))},getNestedProperty:function(r,u){for(r=r.split(".");r.length&&E(u);){var c=r.shift();if(void 0===c||"__proto__"===c||!E(u=u[c])||"function"==typeof u||"number"==typeof u.nodeType||u===h)return}return u},getStyle:function f(r,u,c){var b=H.getStyle||f;if("width"===u)return u=Math.min(r.offsetWidth,r.scrollWidth),(c=r.getBoundingClientRect&&r.getBoundingClientRect().width)<u&&c>=u-1&&(u=Math.floor(c)),Math.max(0,u-(b(r,"padding-left",!0)||0)-(b(r,"padding-right",!0)||0));if("height"===u)return Math.max(0,Math.min(r.offsetHeight,r.scrollHeight)-(b(r,"padding-top",!0)||0)-(b(r,"padding-bottom",!0)||0));if(h.getComputedStyle||K(27,!0),r=h.getComputedStyle(r,void 0)){var O=r.getPropertyValue(u);g(c,"opacity"!==u)&&(O=Q(O))}return O},inArray:function(r,u,c){return K(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),u.indexOf(r,c)},isArray:Y,isClass:P,isDOMElement:I,isFunction:function(r){return"function"==typeof r},isNumber:w,isObject:z,isString:W,keys:function(r){return K(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(r)},merge:function(){var r,u=arguments,c={},b=function(k,_){return"object"!=typeof k&&(k={}),C(_,function(A,B){"__proto__"!==B&&"constructor"!==B&&(k[B]=!z(A,!0)||P(A)||I(A)?_[B]:b(k[B]||{},A))}),k};!0===u[0]&&(c=u[1],u=Array.prototype.slice.call(u,2));var O=u.length;for(r=0;r<O;r++)c=b(c,u[r]);return c},normalizeTickInterval:function(r,u,c,b,O){var k=r,_=r/(c=g(c,1));for(u||(u=O?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===b&&(1===c?u=u.filter(function(A){return A%1==0}):.1>=c&&(u=[1/c]))),b=0;b<u.length&&(k=u[b],!(O&&k*c>=r||!O&&_<=(u[b]+(u[b+1]||u[b]))/2));b++);return S(k*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(r){var u=a.documentElement;return{top:(r=r.parentElement||r.parentNode?r.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(h.pageYOffset||u.scrollTop)-(u.clientTop||0),left:r.left+(h.pageXOffset||u.scrollLeft)-(u.clientLeft||0),width:r.width,height:r.height}},pad:function(r,u,c){return Array((u||2)+1-String(r).replace("-","").length).join(c||"0")+r},pick:g,pInt:Q,relativeLength:function(r,u,c){return/%$/.test(r)?u*parseFloat(r)/100+(c||0):parseFloat(r)},removeEvent:x,splat:function(r){return Y(r)?r:[r]},stableSort:function(r,u){var b,O,c=r.length;for(O=0;O<c;O++)r[O].safeI=O;for(r.sort(function(k,_){return 0===(b=u(k,_))?k.safeI-_.safeI:b}),O=0;O<c;O++)delete r[O].safeI},syncTimeout:function(r,u,c){return 0<u?setTimeout(r,u,c):(r.call(0,c),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:o,useSerialIds:function(r){return d=g(r,d)},wrap:function(r,u,c){var b=r[u];r[u]=function(){var O=Array.prototype.slice.call(arguments),k=arguments,_=this;return _.proceed=function(){b.apply(_,arguments.length?arguments:k)},O.unshift(b),O=c.apply(this,O),_.proceed=null,O}}},n}),lt(F,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),lt(F,"Core/Color/Color.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=K.isNumber,Q=K.merge,W=K.pInt;return function(){function Y(z){this.rgba=[NaN,NaN,NaN,NaN],this.input=z;var I=H.Color;return I&&I!==Y?new I(z):this instanceof Y?void this.init(z):new Y(z)}return Y.parse=function(z){return z?new Y(z):Y.None},Y.prototype.init=function(z){var I;if("object"==typeof z&&void 0!==z.stops)this.stops=z.stops.map(function(s){return new Y(s[1])});else if("string"==typeof z){if(this.input=z=Y.names[z.toLowerCase()]||z,"#"===z.charAt(0)){var P=z.length,w=parseInt(z.substr(1),16);7===P?I=[(16711680&w)>>16,(65280&w)>>8,255&w,1]:4===P&&(I=[(3840&w)>>4|(3840&w)>>8,(240&w)>>4|240&w,(15&w)<<4|15&w,1])}if(!I)for(w=Y.parsers.length;w--&&!I;){var E=Y.parsers[w];(P=E.regex.exec(z))&&(I=E.parse(P))}}I&&(this.rgba=I)},Y.prototype.get=function(z){var I=this.input,P=this.rgba;if("object"==typeof I&&void 0!==this.stops){var w=Q(I);return w.stops=[].slice.call(w.stops),this.stops.forEach(function(E,s){w.stops[s]=[w.stops[s][0],E.get(z)]}),w}return P&&V(P[0])?"rgb"===z||!z&&1===P[3]?"rgb("+P[0]+","+P[1]+","+P[2]+")":"a"===z?""+P[3]:"rgba("+P.join(",")+")":I},Y.prototype.brighten=function(z){var I=this.rgba;if(this.stops)this.stops.forEach(function(w){w.brighten(z)});else if(V(z)&&0!==z)for(var P=0;3>P;P++)I[P]+=W(255*z),0>I[P]&&(I[P]=0),255<I[P]&&(I[P]=255);return this},Y.prototype.setOpacity=function(z){return this.rgba[3]=z,this},Y.prototype.tweenTo=function(z,I){var P=this.rgba,w=z.rgba;return V(P[0])&&V(w[0])?((z=1!==w[3]||1!==P[3])?"rgba(":"rgb(")+Math.round(w[0]+(P[0]-w[0])*(1-I))+","+Math.round(w[1]+(P[1]-w[1])*(1-I))+","+Math.round(w[2]+(P[2]-w[2])*(1-I))+(z?","+(w[3]+(P[3]-w[3])*(1-I)):"")+")":z.input||"none"},Y.names={white:"#ffffff",black:"#000000"},Y.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),parseFloat(z[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),1]}}],Y.None=new Y(""),Y}()}),lt(F,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),lt(F,"Core/Time.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.win,Q=K.defined,W=K.error,Y=K.extend,z=K.isObject,I=K.merge,P=K.objectEach,w=K.pad,E=K.pick,s=K.splat,l=K.timeUnits,g=H.isSafari&&V.Intl&&V.Intl.DateTimeFormat.prototype.formatRange,v=H.isSafari&&V.Intl&&!V.Intl.DateTimeFormat.prototype.formatRange;return K=function(){function S(f){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=V.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(f)}return S.prototype.get=function(f,C){if(this.variableTimezone||this.timezoneOffset){var x=C.getTime(),M=x-this.getTimezoneOffset(C);return C.setTime(M),f=C["getUTC"+f](),C.setTime(x),f}return this.useUTC?C["getUTC"+f]():C["get"+f]()},S.prototype.set=function(f,C,x){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===f||"Seconds"===f||"Minutes"===f&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+f](x);var M=this.getTimezoneOffset(C);return M=C.getTime()-M,C.setTime(M),C["setUTC"+f](x),f=this.getTimezoneOffset(C),M=C.getTime()+f,C.setTime(M)}return this.useUTC||g&&"FullYear"===f?C["setUTC"+f](x):C["set"+f](x)},S.prototype.update=function(f){var C=E(f&&f.useUTC,!0);this.options=f=I(!0,this.options||{},f),this.Date=f.Date||V.Date||Date,this.timezoneOffset=(this.useUTC=C)&&f.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!f.getTimezoneOffset&&!f.timezone)},S.prototype.makeTime=function(f,C,x,M,p,a){if(this.useUTC){var h=this.Date.UTC.apply(0,arguments),n=this.getTimezoneOffset(h),d=this.getTimezoneOffset(h+=n);n!==d?h+=d-n:n-36e5!==this.getTimezoneOffset(h-36e5)||v||(h-=36e5)}else h=new this.Date(f,C,E(x,1),E(M,0),E(p,0),E(a,0)).getTime();return h},S.prototype.timezoneOffsetFunction=function(){var f=this,C=this.options,x=C.getTimezoneOffset,M=C.moment||V.moment;if(!this.useUTC)return function(p){return 6e4*new Date(p.toString()).getTimezoneOffset()};if(C.timezone){if(M)return function(p){return 6e4*-M.tz(p,C.timezone).utcOffset()};W(25)}return this.useUTC&&x?function(p){return 6e4*x(p.valueOf())}:function(){return 6e4*(f.timezoneOffset||0)}},S.prototype.dateFormat=function(f,C,x){if(!Q(C)||isNaN(C))return H.defaultOptions.lang&&H.defaultOptions.lang.invalidDate||"";f=E(f,"%Y-%m-%d %H:%M:%S");var M=this,p=new this.Date(C),a=this.get("Hours",p),h=this.get("Day",p),n=this.get("Date",p),d=this.get("Month",p),o=this.get("FullYear",p),r=H.defaultOptions.lang,u=r&&r.weekdays,c=r&&r.shortWeekdays;return p=Y({a:c?c[h]:u[h].substr(0,3),A:u[h],d:w(n),e:w(n,2," "),w:h,b:r.shortMonths[d],B:r.months[d],m:w(d+1),o:d+1,y:o.toString().substr(2,2),Y:o,H:w(a),k:a,I:w(a%12||12),l:a%12||12,M:w(this.get("Minutes",p)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:w(p.getSeconds()),L:w(Math.floor(C%1e3),3)},H.dateFormats),P(p,function(b,O){for(;-1!==f.indexOf("%"+O);)f=f.replace("%"+O,"function"==typeof b?b.call(M,C):b)}),x?f.substr(0,1).toUpperCase()+f.substr(1):f},S.prototype.resolveDTLFormat=function(f){return z(f,!0)?f:{main:(f=s(f))[0],from:f[1],to:f[2]}},S.prototype.getTimeTicks=function(f,C,x,M){var r,p=this,a=[],h={},n=new p.Date(C),d=f.unitRange,o=f.count||1;if(M=E(M,1),Q(C)){if(p.set("Milliseconds",n,d>=l.second?0:o*Math.floor(p.get("Milliseconds",n)/o)),d>=l.second&&p.set("Seconds",n,d>=l.minute?0:o*Math.floor(p.get("Seconds",n)/o)),d>=l.minute&&p.set("Minutes",n,d>=l.hour?0:o*Math.floor(p.get("Minutes",n)/o)),d>=l.hour&&p.set("Hours",n,d>=l.day?0:o*Math.floor(p.get("Hours",n)/o)),d>=l.day&&p.set("Date",n,d>=l.month?1:Math.max(1,o*Math.floor(p.get("Date",n)/o))),d>=l.month){p.set("Month",n,d>=l.year?0:o*Math.floor(p.get("Month",n)/o));var u=p.get("FullYear",n)}d>=l.year&&p.set("FullYear",n,u-u%o),d===l.week&&(u=p.get("Day",n),p.set("Date",n,p.get("Date",n)-u+M+(u<M?-7:0))),u=p.get("FullYear",n),M=p.get("Month",n);var c=p.get("Date",n),b=p.get("Hours",n);for(C=n.getTime(),!p.variableTimezone&&p.useUTC||!Q(x)||(r=x-C>4*l.month||p.getTimezoneOffset(C)!==p.getTimezoneOffset(x)),C=n.getTime(),n=1;C<x;)a.push(C),C=d===l.year?p.makeTime(u+n*o,0):d===l.month?p.makeTime(u,M+n*o):!r||d!==l.day&&d!==l.week?r&&d===l.hour&&1<o?p.makeTime(u,M,c,b+n*o):C+d*o:p.makeTime(u,M,c+n*o*(d===l.day?1:7)),n++;a.push(C),d<=l.hour&&1e4>a.length&&a.forEach(function(O){O%18e5==0&&"000000000"===p.dateFormat("%H%M%S%L",O)&&(h[O]="day")})}return a.info=Y(f,{higherRanks:h,totalRange:d*o}),a},S.prototype.getDateFormat=function(f,C,x,M){var p=this.dateFormat("%m-%d %H:%M:%S.%L",C),a={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";for(n in l){if(f===l.week&&+this.dateFormat("%w",C)===x&&"00:00:00.000"===p.substr(6)){var n="week";break}if(l[n]>f){n=h;break}if(a[n]&&p.substr(a[n])!=="01-01 00:00:00.000".substr(a[n]))break;"week"!==n&&(h=n)}if(n)var d=this.resolveDTLFormat(M[n]).main;return d},S}(),K}),lt(F,"Core/DefaultOptions.js",[F["Core/Chart/ChartDefaults.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Color/Palettes.js"],F["Core/Time.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){K=K.parse;var z=Y.merge,I={colors:Q.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:H,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:V.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:V.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:K("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};I.chart.styledMode=!1;var P=new W(z(I.global,I.time));return{defaultOptions:I,defaultTime:P,getOptions:function(){return I},setOptions:function(w){return z(!0,I,w),(w.time||w.global)&&(V.time?V.time.update(z(I.global,I.time,w.global,w.time)):V.time=P),I}}}),lt(F,"Core/Animation/Fx.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=H.parse,W=K.win,Y=V.isNumber,z=V.objectEach;return function(){function I(P,w,E){this.pos=NaN,this.options=w,this.elem=P,this.prop=E}return I.prototype.dSetter=function(){var P=this.paths,w=P&&P[0];P=P&&P[1];var E=this.now||0,s=[];if(1!==E&&w&&P)if(w.length===P.length&&1>E)for(var l=0;l<P.length;l++){for(var g=w[l],v=P[l],S=[],f=0;f<v.length;f++){var C=g[f],x=v[f];S[f]=Y(C)&&Y(x)&&("A"!==v[0]||4!==f&&5!==f)?C+E*(x-C):x}s.push(S)}else s=P;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)},I.prototype.update=function(){var P=this.elem,w=this.prop,E=this.now,s=this.options.step;this[w+"Setter"]?this[w+"Setter"]():P.attr?P.element&&P.attr(w,E,null,!0):P.style[w]=E+this.unit,s&&s.call(P,E,this)},I.prototype.run=function(P,w,E){var s=this,l=s.options,g=function(f){return!g.stopped&&s.step(f)},v=W.requestAnimationFrame||function(f){setTimeout(f,13)},S=function(){for(var f=0;f<I.timers.length;f++)I.timers[f]()||I.timers.splice(f--,1);I.timers.length&&v(S)};P!==w||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=P,this.end=w,this.unit=E,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===I.timers.push(g)&&v(S)):(delete l.curAnim[this.prop],l.complete&&0===Object.keys(l.curAnim).length&&l.complete.call(this.elem))},I.prototype.step=function(P){var w=+new Date,E=this.options,s=this.elem,l=E.complete,g=E.duration,v=E.curAnim;if(s.attr&&!s.element)P=!1;else if(P||w>=g+this.startTime){this.now=this.end,this.pos=1,this.update();var S=v[this.prop]=!0;z(v,function(f){!0!==f&&(S=!1)}),S&&l&&l.call(s),P=!1}else this.pos=E.easing((w-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),P=!0;return P},I.prototype.initPath=function(P,w,E){function s(p,a){for(;p.length<M;){var h=p[0],n=a[M-p.length];n&&"M"===h[0]&&(p[0]="C"===n[0]?["C",h[1],h[2],h[1],h[2],h[1],h[2]]:["L",h[1],h[2]]),p.unshift(h),S&&(h=p.pop(),p.push(p[p.length-1],h))}}function l(p,a){for(;p.length<M;)if("C"===(a=p[Math.floor(p.length/f)-1].slice())[0]&&(a[1]=a[5],a[2]=a[6]),S){var h=p[Math.floor(p.length/f)].slice();p.splice(p.length/2,0,a,h)}else p.push(a)}var g=P.startX,v=P.endX;E=E.slice();var S=P.isArea,f=S?2:1;if(!(w=w&&w.slice()))return[E,E];if(g&&v&&v.length){for(P=0;P<g.length;P++){if(g[P]===v[0]){var C=P;break}if(g[0]===v[v.length-g.length+P]){C=P;var x=!0;break}if(g[g.length-1]===v[v.length-g.length+P]){C=g.length-P;break}}void 0===C&&(w=[])}if(w.length&&Y(C)){var M=E.length+C*f;x?(s(w,E),l(E,w)):(s(E,w),l(w,E))}return[w,E]},I.prototype.fillSetter=function(){I.prototype.strokeSetter.apply(this,arguments)},I.prototype.strokeSetter=function(){this.elem.attr(this.prop,Q(this.start).tweenTo(Q(this.end),this.pos),void 0,!0)},I.timers=[],I}()}),lt(F,"Core/Animation/AnimationUtilities.js",[F["Core/Animation/Fx.js"],F["Core/Utilities.js"]],function(H,K){function V(l){return P(l)?w({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function Q(l,g){for(var v=H.timers.length;v--;)H.timers[v].elem!==l||g&&g!==H.timers[v].prop||(H.timers[v].stopped=!0)}var W=K.defined,Y=K.getStyle,z=K.isArray,I=K.isNumber,P=K.isObject,w=K.merge,E=K.objectEach,s=K.pick;return{animate:function(l,g,v){var S,C,x,f="";if(!P(v)){var M=arguments;v={duration:M[2],easing:M[3],complete:M[4]}}I(v.duration)||(v.duration=400),v.easing="function"==typeof v.easing?v.easing:Math[v.easing]||Math.easeInOutSine,v.curAnim=w(g),E(g,function(p,a){Q(l,a),x=new H(l,v,a),C=void 0,"d"===a&&z(g.d)?(x.paths=x.initPath(l,l.pathArray,g.d),x.toD=g.d,S=0,C=1):l.attr?S=l.attr(a):(S=parseFloat(Y(l,a))||0,"opacity"!==a&&(f="px")),C||(C=p),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),x.run(S,C,f)})},animObject:V,getDeferredAnimation:function(l,g,v){var S=V(g),f=0,C=0;return(v?[v]:l.series).forEach(function(x){x=V(x.options.animation),f=g&&W(g.defer)?S.defer:Math.max(f,x.duration+x.defer),C=Math.min(S.duration,x.duration)}),l.renderer.forExport&&(f=0),{defer:Math.max(0,f-C),duration:Math.min(f,C)}},setAnimation:function(l,g){g.renderer.globalAnimation=s(l,g.options.chart.animation,!0)},stop:Q}}),lt(F,"Core/Renderer/HTML/AST.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.SVG_NS,Q=K.attr,W=K.createElement,Y=K.error,z=K.isFunction,I=K.isString,P=K.objectEach,w=K.splat,E=(K=H.win.trustedTypes)&&z(K.createPolicy)&&K.createPolicy("highcharts",{createHTML:function(g){return g}}),s=E?E.createHTML(""):"";try{var l=!!(new DOMParser).parseFromString(s,"text/html")}catch(g){l=!1}return function(){function g(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}return g.filterUserAttributes=function(v){return P(v,function(S,f){var C=!0;-1===g.allowedAttributes.indexOf(f)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(f)&&(C=I(S)&&g.allowedReferences.some(function(x){return 0===S.indexOf(x)})),C||(Y("Highcharts warning: Invalid attribute '"+f+"' in config"),delete v[f])}),v},g.setElementHTML=function(v,S){v.innerHTML=g.emptyHTML,S&&new g(S).addToDOM(v)},g.prototype.addToDOM=function(v){return function S(f,C){var x;return w(f).forEach(function(M){var p=M.tagName,a=M.textContent?H.doc.createTextNode(M.textContent):void 0;if(p)if("#text"===p)var h=a;else if(-1!==g.allowedTags.indexOf(p)){p=H.doc.createElementNS("svg"===p?V:C.namespaceURI||V,p);var n=M.attributes||{};P(M,function(d,o){"tagName"!==o&&"attributes"!==o&&"children"!==o&&"textContent"!==o&&(n[o]=d)}),Q(p,g.filterUserAttributes(n)),a&&p.appendChild(a),S(M.children||[],p),h=p}else Y("Highcharts warning: Invalid tagName "+p+" in config");h&&C.appendChild(h),x=h}),x}(this.nodes,v)},g.prototype.parseMarkup=function(v){var S=[];if(v=v.trim(),l)v=(new DOMParser).parseFromString(E?E.createHTML(v):v,"text/html");else{var f=W("div");f.innerHTML=v,v={body:f}}var C=function(x,M){var p=x.nodeName.toLowerCase(),a={tagName:p};if("#text"===p&&(a.textContent=x.textContent||""),p=x.attributes){var h={};[].forEach.call(p,function(d){h[d.name]=d.value}),a.attributes=h}if(x.childNodes.length){var n=[];[].forEach.call(x.childNodes,function(d){C(d,n)}),n.length&&(a.children=n)}M.push(a)};return[].forEach.call(v.body.childNodes,function(x){return C(x,S)}),S},g.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),g.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),g.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),g.emptyHTML=s,g}()}),lt(F,"Core/FormatUtilities.js",[F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E,s,l){E=+E;var g=Q.lang,v=((w=+w||0).toString().split(".")[1]||"").split("e")[0].length,S=w.toString().split("e"),f=E;if(-1===E)E=Math.min(v,20);else if(z(E)){if(E&&S[1]&&0>S[1]){var C=E+ +S[1];0<=C?(S[0]=(+S[0]).toExponential(C).split("e")[0],E=C):(S[0]=S[0].split(".")[0]||0,w=20>E?(S[0]*Math.pow(10,S[1])).toFixed(E):0,S[1]=0)}}else E=2;C=(Math.abs(S[1]?S[0]:w)+Math.pow(10,-Math.max(E,v)-1)).toFixed(E);var x=3<(v=String(P(C))).length?v.length%3:0;return s=I(s,g.decimalPoint),l=I(l,g.thousandsSep),w=(0>w?"-":"")+(x?v.substr(0,x)+l:""),w=0>+S[1]&&!f?"0":w+v.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+l),E&&(w+=s+C.slice(-E)),S[1]&&0!=+w&&(w+="e"+S[1]),w}var Q=H.defaultOptions,W=H.defaultTime,Y=K.getNestedProperty,z=K.isNumber,I=K.pick,P=K.pInt;return{dateFormat:function(w,E,s){return W.dateFormat(w,E,s)},format:function(w,E,s){var l="{",g=!1,v=/f$/,S=/\.([0-9])/,f=Q.lang,C=s&&s.time||W;s=s&&s.numberFormatter||V;for(var x=[];w;){var M=w.indexOf(l);if(-1===M)break;var p=w.slice(0,M);if(g){if(p=p.split(":"),l=Y(p.shift()||"",E),p.length&&"number"==typeof l)if(p=p.join(":"),v.test(p)){var a=parseInt((p.match(S)||["","-1"])[1],10);null!==l&&(l=s(l,a,f.decimalPoint,-1<p.indexOf(",")?f.thousandsSep:""))}else l=C.dateFormat(p,l);x.push(l)}else x.push(p);w=w.slice(M+1),l=(g=!g)?"}":"{"}return x.push(w),x.join("")},numberFormat:V}}),lt(F,"Core/Renderer/RendererUtilities.js",[F["Core/Utilities.js"]],function(H){var W,K=H.clamp,V=H.pick,Q=H.stableSort;return(W||(W={})).distribute=function z(I,P,w){var v,E=I,s=E.reducedLen||P,l=function(x,M){return(M.rank||0)-(x.rank||0)},g=function(x,M){return x.target-M.target},S=!0,f=[],C=0;for(v=I.length;v--;)C+=I[v].size;if(C>s){for(Q(I,l),C=v=0;C<=s;)C+=I[v].size,v++;f=I.splice(v-1,I.length)}for(Q(I,g),I=I.map(function(x){return{size:x.size,targets:[x.target],align:V(x.align,.5)}});S;){for(v=I.length;v--;)s=I[v],l=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=K(l-s.size*s.align,0,P-s.size);for(v=I.length,S=!1;v--;)0<v&&I[v-1].pos+I[v-1].size>I[v].pos&&(I[v-1].size+=I[v].size,I[v-1].targets=I[v-1].targets.concat(I[v].targets),I[v-1].align=.5,I[v-1].pos+I[v-1].size>P&&(I[v-1].pos=P-I[v-1].size),I.splice(v,1),S=!0)}return E.push.apply(E,f),v=0,I.some(function(x){var M=0;return(x.targets||[]).some(function(){return E[v].pos=x.pos+M,void 0!==w&&Math.abs(E[v].pos-E[v].target)>w?(E.slice(0,v+1).forEach(function(p){return delete p.pos}),E.reducedLen=(E.reducedLen||P)-.1*P,E.reducedLen>.1*P&&z(E,P,w),!0):(M+=E[v].size,v++,!1)})}),Q(E,g),E},W}),lt(F,"Core/Renderer/SVG/SVGElement.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.animate,z=H.animObject,I=H.stop,P=Q.deg2rad,w=Q.doc,E=Q.noop,s=Q.svg,l=Q.SVG_NS,g=Q.win,v=W.addEvent,S=W.attr,f=W.createElement,C=W.css,x=W.defined,M=W.erase,p=W.extend,a=W.fireEvent,h=W.isArray,n=W.isFunction,d=W.isNumber,o=W.isString,r=W.merge,u=W.objectEach,c=W.pick,b=W.pInt,O=W.syncTimeout,k=W.uniqueKey;return H=function(){function _(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=l,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return _.prototype._defaultGetter=function(A){return A=c(this[A+"Value"],this[A],this.element?this.element.getAttribute(A):null,0),/^[\-0-9\.]+$/.test(A)&&(A=parseFloat(A)),A},_.prototype._defaultSetter=function(A,B,m){m.setAttribute(B,A)},_.prototype.add=function(A){var B=this.renderer,m=this.element;if(A&&(this.parentGroup=A),this.parentInverted=A&&A.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!A||A.handleZ||this.zIndex)var T=this.zIndexSetter();return T||(A?A.element:B.box).appendChild(m),this.onAdd&&this.onAdd(),this},_.prototype.addClass=function(A,B){var m=B?"":this.attr("class")||"";return(A=(A||"").split(/ /g).reduce(function(T,R){return-1===m.indexOf(R)&&T.push(R),T},m?[m]:[]).join(" "))!==m&&this.attr("class",A),this},_.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},_.prototype.align=function(A,B,m){var X,$,D,T={},R=this.renderer,j=R.alignedObjects;A?(this.alignOptions=A,this.alignByTranslate=B,(!m||o(m))&&(this.alignTo=X=m||"renderer",M(j,this),j.push(this),m=void 0)):(A=this.alignOptions,B=this.alignByTranslate,X=this.alignTo),m=c(m,R[X],"scrollablePlotBox"===X?R.plotBox:void 0,R);var U=A.verticalAlign;return R=(m.x||0)+(A.x||0),j=(m.y||0)+(A.y||0),"right"===(X=A.align)?$=1:"center"===X&&($=2),$&&(R+=(m.width-(A.width||0))/$),T[B?"translateX":"x"]=Math.round(R),"bottom"===U?D=1:"middle"===U&&(D=2),D&&(j+=(m.height-(A.height||0))/D),T[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](T),this.placed=!0,this.alignAttr=T,this},_.prototype.alignSetter=function(A){var B={left:"start",center:"middle",right:"end"};B[A]&&(this.alignValue=A,this.element.setAttribute("text-anchor",B[A]))},_.prototype.animate=function(A,B,m){var T=this,R=z(c(B,this.renderer.globalAnimation,!0));return B=R.defer,c(w.hidden,w.msHidden,w.webkitHidden,!1)&&(R.duration=0),0!==R.duration?(m&&(R.complete=m),O(function(){T.element&&Y(T,A,R)},B)):(this.attr(A,void 0,m),u(A,function(j,X){R.step&&R.step.call(this,j,{prop:X,pos:1,elem:this})},this)),this},_.prototype.applyTextOutline=function(A){var B=this.element;-1!==A.indexOf("contrast")&&(A=A.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var m=A.split(" ");if(A=m[m.length-1],(m=m[0])&&"none"!==m&&Q.svg){this.fakeTS=!0,this.ySetter=this.xSetter,m=m.replace(/(^[\d\.]+)(.*?)$/g,function(j,X,$){return 2*Number(X)+$}),this.removeTextOutline();var T=w.createElementNS(l,"tspan");S(T,{class:"highcharts-text-outline",fill:A,stroke:A,"stroke-width":m,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var X=j.cloneNode(!0);X.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function($){return X.removeAttribute($)}),T.appendChild(X)});var R=w.createElementNS(l,"tspan");R.textContent="\u200b",["x","y"].forEach(function(j){var X=B.getAttribute(j);X&&R.setAttribute(j,X)}),T.appendChild(R),B.insertBefore(T,B.firstChild)}},_.prototype.attr=function(A,B,m,T){var X,D,U,R=this.element,j=this.symbolCustomAttribs,$=this;if("string"==typeof A&&void 0!==B){var N=A;(A={})[N]=B}return"string"==typeof A?$=(this[A+"Getter"]||this._defaultGetter).call(this,A,R):(u(A,function(Z,q){D=!1,T||I(this,q),this.symbolName&&-1!==j.indexOf(q)&&(X||(this.symbolAttr(A),X=!0),D=!0),!this.rotation||"x"!==q&&"y"!==q||(this.doTransform=!0),D||((U=this[q+"Setter"]||this._defaultSetter).call(this,Z,q,R),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(q)&&this.updateShadows(q,Z,U))},this),this.afterSetters()),m&&m.call(this),$},_.prototype.clip=function(A){return this.attr("clip-path",A?"url("+this.renderer.url+"#"+A.id+")":"none")},_.prototype.crisp=function(A,B){B=B||A.strokeWidth||0;var m=Math.round(B)%2/2;return A.x=Math.floor(A.x||this.x||0)+m,A.y=Math.floor(A.y||this.y||0)+m,A.width=Math.floor((A.width||this.width||0)-2*m),A.height=Math.floor((A.height||this.height||0)-2*m),x(A.strokeWidth)&&(A.strokeWidth=B),A},_.prototype.complexColor=function(A,B,m){var R,j,X,$,D,U,N,Z,q,nt,ot,T=this.renderer,it=[];a(this.renderer,"complexColor",{args:arguments},function(){if(A.radialGradient?j="radialGradient":A.linearGradient&&(j="linearGradient"),j){if(D=T.gradients,U=A.stops,q=m.radialReference,h(X=A[j])&&(A[j]=X={x1:X[0],y1:X[1],x2:X[2],y2:X[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&q&&!x(X.gradientUnits)&&(X=r(X,T.getRadialAttr(q,$=X),{gradientUnits:"userSpaceOnUse"})),u(X,function(mt,yt){"id"!==yt&&it.push(yt,mt)}),u(U,function(mt){it.push(mt)}),it=it.join(","),D[it])nt=D[it].attr("id");else{X.id=nt=k();var at=D[it]=T.createElement(j).attr(X).add(T.defs);at.radAttr=$,at.stops=[],U.forEach(function(mt){0===mt[1].indexOf("rgba")?(R=V.parse(mt[1]),N=R.get("rgb"),Z=R.get("a")):(N=mt[1],Z=1),mt=T.createElement("stop").attr({offset:mt[0],"stop-color":N,"stop-opacity":Z}).add(at),at.stops.push(mt)})}m.setAttribute(B,ot="url("+T.url+"#"+nt+")"),m.gradient=it,A.toString=function(){return ot}}})},_.prototype.css=function(A){var B=this.styles,m={},T=this.element,R=["textOutline","textOverflow","width"],j="",X=!B;if(A&&A.color&&(A.fill=A.color),B&&u(A,function(U,N){B&&B[N]!==U&&(m[N]=U,X=!0)}),X){if(B&&(A=p(B,m)),A)if(null===A.width||"auto"===A.width)delete this.textWidth;else if("text"===T.nodeName.toLowerCase()&&A.width)var $=this.textWidth=b(A.width);if(this.styles=A,$&&!s&&this.renderer.forExport&&delete A.width,T.namespaceURI===this.SVG_NS){var D=function(U,N){return"-"+N.toLowerCase()};u(A,function(U,N){-1===R.indexOf(N)&&(j+=N.replace(/([A-Z])/g,D)+":"+U+";")}),j&&S(T,"style",j)}else C(T,A);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),A&&A.textOutline&&this.applyTextOutline(A.textOutline))}return this},_.prototype.dashstyleSetter=function(A){var B=this["stroke-width"];if("inherit"===B&&(B=1),A=A&&A.toLowerCase()){var m=A.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=m.length;A--;)m[A]=""+b(m[A])*c(B,NaN);A=m.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",A)}},_.prototype.destroy=function(){var A=this,B=A.element||{},m=A.renderer,T=B.ownerSVGElement,R=m.isSVG&&"SPAN"===B.nodeName&&A.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,I(A),A.clipPath&&T){var j=A.clipPath;[].forEach.call(T.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){-1<X.getAttribute("clip-path").indexOf(j.element.id)&&X.removeAttribute("clip-path")}),A.clipPath=j.destroy()}if(A.stops){for(T=0;T<A.stops.length;T++)A.stops[T].destroy();A.stops.length=0,A.stops=void 0}for(A.safeRemoveChild(B),m.styledMode||A.destroyShadows();R&&R.div&&0===R.div.childNodes.length;)B=R.parentGroup,A.safeRemoveChild(R.div),delete R.div,R=B;A.alignTo&&M(m.alignedObjects,A),u(A,function(X,$){A[$]&&A[$].parentGroup===A&&A[$].destroy&&A[$].destroy(),delete A[$]})},_.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(A){this.safeRemoveChild(A)},this),this.shadows=void 0},_.prototype.destroyTextPath=function(A,B){var m=A.getElementsByTagName("text")[0];if(m){if(m.removeAttribute("dx"),m.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&m.getElementsByTagName("textPath").length){for(A=this.textPathWrapper.element.childNodes;A.length;)m.appendChild(A[0]);m.removeChild(this.textPathWrapper.element)}}else(A.getAttribute("dx")||A.getAttribute("dy"))&&(A.removeAttribute("dx"),A.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},_.prototype.dSetter=function(A,B,m){h(A)&&("string"==typeof A[0]&&(A=this.renderer.pathToSegments(A)),this.pathArray=A,A=A.reduce(function(T,R,j){return R&&R.join?(j?T+" ":"")+R.join(" "):(R||"").toString()},"")),/(NaN| {2}|^$)/.test(A)&&(A="M 0 0"),this[B]!==A&&(m.setAttribute(B,A),this[B]=A)},_.prototype.fadeOut=function(A){var B=this;B.animate({opacity:0},{duration:c(A,150),complete:function(){B.attr({y:-9999}).hide()}})},_.prototype.fillSetter=function(A,B,m){"string"==typeof A?m.setAttribute(B,A):A&&this.complexColor(A,B,m)},_.prototype.getBBox=function(A,B){var m=this.renderer,T=this.element,R=this.styles,j=this.textStr,X=m.cache,$=m.cacheKeys,D=T.namespaceURI===this.SVG_NS;B=c(B,this.rotation,0);var N,U=m.styledMode?T&&_.prototype.getStyle.call(T,"font-size"):R&&R.fontSize;if(x(j)){var Z=j.toString();-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",B,U,this.textWidth,R&&R.textOverflow,R&&R.fontWeight].join()}if(Z&&!A&&(N=X[Z]),!N){if(D||m.forExport){try{var q=this.fakeTS&&function(nt){var it=T.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};n(q)&&q("none"),N=T.getBBox?p({},T.getBBox()):{width:T.offsetWidth,height:T.offsetHeight},n(q)&&q("")}catch(nt){}(!N||0>N.width)&&(N={width:0,height:0})}else N=this.htmlGetBBox();if(m.isSVG&&(A=N.width,m=N.height,D&&(N.height=m={"11px,17":14,"13px,20":16}[(U||"")+","+Math.round(m)]||m),B&&(D=B*P,N.width=Math.abs(m*Math.sin(D))+Math.abs(A*Math.cos(D)),N.height=Math.abs(m*Math.cos(D))+Math.abs(A*Math.sin(D)))),Z&&(""===j||0<N.height)){for(;250<$.length;)delete X[$.shift()];X[Z]||$.push(Z),X[Z]=N}}return N},_.prototype.getStyle=function(A){return g.getComputedStyle(this.element||this,"").getPropertyValue(A)},_.prototype.hasClass=function(A){return-1!==(""+this.attr("class")).split(" ").indexOf(A)},_.prototype.hide=function(A){return this.attr(A?{y:-9999}:{visibility:"hidden"}),this},_.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},_.prototype.init=function(A,B){this.element="span"===B?f(B):w.createElementNS(this.SVG_NS,B),this.renderer=A,a(this,"afterInit")},_.prototype.invert=function(A){return this.inverted=A,this.updateTransform(),this},_.prototype.on=function(A,B){var m=this.onEvents;return m[A]&&m[A](),m[A]=v(this.element,A,B),this},_.prototype.opacitySetter=function(A,B,m){this.opacity=A=Number(Number(A).toFixed(3)),m.setAttribute(B,A)},_.prototype.removeClass=function(A){return this.attr("class",(""+this.attr("class")).replace(o(A)?new RegExp("(^| )"+A+"( |$)"):A," ").replace(/ +/g," ").trim())},_.prototype.removeTextOutline=function(){var A=this.element.querySelector("tspan.highcharts-text-outline");A&&this.safeRemoveChild(A)},_.prototype.safeRemoveChild=function(A){var B=A.parentNode;B&&B.removeChild(A)},_.prototype.setRadialReference=function(A){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=A,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(A,B.radAttr)),this},_.prototype.setTextPath=function(A,B){var m=this.element,T=this.text?this.text.element:m,R={textAnchor:"text-anchor"},j=!1,X=this.textPathWrapper,$=!X;B=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var D=K.filterUserAttributes(B.attributes);if(A&&B&&B.enabled){X&&null===X.element.parentNode?($=!0,X=X.destroy()):X&&this.removeTextOutline.call(X.parentGroup),this.options&&this.options.padding&&(D.dx=-this.options.padding),X||(this.textPathWrapper=X=this.renderer.createElement("textPath"),j=!0);var U=X.element;if((B=A.element.getAttribute("id"))||A.element.setAttribute("id",B=k()),$)for(T.setAttribute("y",0),d(D.dx)&&T.setAttribute("x",-D.dx),A=[].slice.call(T.childNodes),$=0;$<A.length;$++){var N=A[$];N.nodeType!==g.Node.TEXT_NODE&&"tspan"!==N.nodeName||U.appendChild(N)}j&&X&&X.add({element:T}),U.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),x(D.dy)&&(U.parentNode.setAttribute("dy",D.dy),delete D.dy),x(D.dx)&&(U.parentNode.setAttribute("dx",D.dx),delete D.dx),u(D,function(Z,q){U.setAttribute(R[q]||q,Z)}),m.removeAttribute("transform"),this.removeTextOutline.call(X),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=E}else X&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(m,A),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},_.prototype.shadow=function(A,B,m){var D,T=[],R=this.element,j=this.oldShadowOptions,X={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},$=!1;if(!0===A?D=X:"object"==typeof A&&(D=p(X,A)),D&&(D&&j&&u(D,function(nt,it){nt!==j[it]&&($=!0)}),$&&this.destroyShadows(),this.oldShadowOptions=D),D){if(!this.shadows){var U=D.opacity/D.width,N=this.parentInverted?"translate("+D.offsetY+", "+D.offsetX+")":"translate("+D.offsetX+", "+D.offsetY+")";for(X=1;X<=D.width;X++){var Z=R.cloneNode(!1),q=2*D.width+1-2*X;S(Z,{stroke:A.color||"#000000","stroke-opacity":U*X,"stroke-width":q,transform:N,fill:"none"}),Z.setAttribute("class",(Z.getAttribute("class")||"")+" highcharts-shadow"),m&&(S(Z,"height",Math.max(S(Z,"height")-q,0)),Z.cutHeight=q),B?B.element.appendChild(Z):R.parentNode&&R.parentNode.insertBefore(Z,R),T.push(Z)}this.shadows=T}}else this.destroyShadows();return this},_.prototype.show=function(A){return this.attr({visibility:A?"inherit":"visible"})},_.prototype.strokeSetter=function(A,B,m){this[B]=A,this.stroke&&this["stroke-width"]?(_.prototype.fillSetter.call(this,this.stroke,"stroke",m),m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===A&&this.hasStroke?(m.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},_.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var A=this.getStyle("stroke-width"),B=0;if(A.indexOf("px")===A.length-2)B=b(A);else if(""!==A){var m=w.createElementNS(l,"rect");S(m,{width:A,"stroke-width":0}),this.element.parentNode.appendChild(m),B=m.getBBox().width,m.parentNode.removeChild(m)}return B},_.prototype.symbolAttr=function(A){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(m){B[m]=c(A[m],B[m])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},_.prototype.textSetter=function(A){A!==this.textStr&&(delete this.textPxLength,this.textStr=A,this.added&&this.renderer.buildText(this))},_.prototype.titleSetter=function(A){var B=this.element,m=B.getElementsByTagName("title")[0]||w.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(m,B.firstChild):B.appendChild(m),m.textContent=String(c(A,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},_.prototype.toFront=function(){var A=this.element;return A.parentNode.appendChild(A),this},_.prototype.translate=function(A,B){return this.attr({translateX:A,translateY:B})},_.prototype.updateShadows=function(A,B,m){var T=this.shadows;if(T)for(var R=T.length;R--;)m.call(T[R],"height"===A?Math.max(B-(T[R].cutHeight||0),0):"d"===A?this.d:B,A,T[R])},_.prototype.updateTransform=function(){var A=this.scaleX,B=this.scaleY,m=this.inverted,T=this.rotation,R=this.matrix,j=this.element,X=this.translateX||0,$=this.translateY||0;m&&(X+=this.width,$+=this.height),X=["translate("+X+","+$+")"],x(R)&&X.push("matrix("+R.join(",")+")"),m?X.push("rotate(90) scale(-1,1)"):T&&X.push("rotate("+T+" "+c(this.rotationOriginX,j.getAttribute("x"),0)+" "+c(this.rotationOriginY,j.getAttribute("y")||0)+")"),(x(A)||x(B))&&X.push("scale("+c(A,1)+" "+c(B,1)+")"),X.length&&j.setAttribute("transform",X.join(" "))},_.prototype.visibilitySetter=function(A,B,m){"inherit"===A?m.removeAttribute(B):this[B]!==A&&m.setAttribute(B,A),this[B]=A},_.prototype.xGetter=function(A){return"circle"===this.element.nodeName&&("x"===A?A="cx":"y"===A&&(A="cy")),this._defaultGetter(A)},_.prototype.zIndexSetter=function(A,B){var m=this.renderer,T=this.parentGroup,R=(T||m).element||m.box,j=this.element;m=R===m.box;var D,X=!1,$=this.added;if(x(A)?(j.setAttribute("data-z-index",A),this[B]===(A=+A)&&($=!1)):x(this[B])&&j.removeAttribute("data-z-index"),this[B]=A,$){for((A=this.zIndex)&&T&&(T.handleZ=!0),D=(B=R.childNodes).length-1;0<=D&&!X;D--){$=(T=B[D]).getAttribute("data-z-index");var U=!x($);T!==j&&(0>A&&U&&!m&&!D?(R.insertBefore(j,B[D]),X=!0):(b($)<=A||U&&(!x(A)||0<=A))&&(R.insertBefore(j,B[D+1]||null),X=!0))}X||(R.insertBefore(j,B[m?3:0]||null),X=!0)}return X},_}(),H.prototype["stroke-widthSetter"]=H.prototype.strokeSetter,H.prototype.yGetter=H.prototype.xGetter,H.prototype.matrixSetter=H.prototype.rotationOriginXSetter=H.prototype.rotationOriginYSetter=H.prototype.rotationSetter=H.prototype.scaleXSetter=H.prototype.scaleYSetter=H.prototype.translateXSetter=H.prototype.translateYSetter=H.prototype.verticalAlignSetter=function(_,A){this[A]=_,this.doTransform=!0},H}),lt(F,"Core/Renderer/RendererRegistry.js",[F["Core/Globals.js"]],function(H){var K,V,Q;return(V=K||(K={})).rendererTypes={},V.getRendererType=function(W){return void 0===W&&(W=Q),V.rendererTypes[W]||V.rendererTypes[Q]},V.registerRendererType=function(W,Y,z){V.rendererTypes[W]=Y,(!Q||z)&&(Q=W,H.Renderer=Y)},K}),lt(F,"Core/Renderer/SVG/SVGLabel.js",[F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K){var w,V=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Q=K.defined,W=K.extend,Y=K.isNumber,z=K.merge,I=K.pick,P=K.removeEvent;return function(w){function E(s,l,g,v,S,f,C,x,M,p){var h,a=w.call(this)||this;return a.paddingLeftSetter=a.paddingSetter,a.paddingRightSetter=a.paddingSetter,a.init(s,"g"),a.textStr=l,a.x=g,a.y=v,a.anchorX=f,a.anchorY=C,a.baseline=M,a.className=p,a.addClass("button"===p?"highcharts-no-tooltip":"highcharts-label"),p&&a.addClass("highcharts-"+p),a.text=s.text(void 0,0,0,x).attr({zIndex:1}),"string"==typeof S&&((h=/^url\((.*?)\)$/.test(S))||a.renderer.symbols[S])&&(a.symbolKey=S),a.bBox=E.emptyBBox,a.padding=3,a.baselineOffset=0,a.needsBox=s.styledMode||h,a.deferredAttr={},a.alignFactor=0,a}return V(E,w),E.prototype.alignSetter=function(s){(s={left:0,center:.5,right:1}[s])!==this.alignFactor&&(this.alignFactor=s,this.bBox&&Y(this.xSetting)&&this.attr({x:this.xSetting}))},E.prototype.anchorXSetter=function(s,l){this.anchorX=s,this.boxAttr(l,Math.round(s)-this.getCrispAdjust()-this.xSetting)},E.prototype.anchorYSetter=function(s,l){this.anchorY=s,this.boxAttr(l,s-this.ySetting)},E.prototype.boxAttr=function(s,l){this.box?this.box.attr(s,l):this.deferredAttr[s]=l},E.prototype.css=function(s){if(s){var l={};s=z(s),E.textProps.forEach(function(v){void 0!==s[v]&&(l[v]=s[v],delete s[v])}),this.text.css(l);var g="width"in l;"fontSize"in l||"fontWeight"in l?this.updateTextPadding():g&&this.updateBoxSize()}return H.prototype.css.call(this,s)},E.prototype.destroy=function(){P(this.element,"mouseenter"),P(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),H.prototype.destroy.call(this)},E.prototype.fillSetter=function(s,l){s&&(this.needsBox=!0),this.fill=s,this.boxAttr(l,s)},E.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var s=this.padding,l=I(this.paddingLeft,s);return{width:this.width,height:this.height,x:this.bBox.x-l,y:this.bBox.y-s}},E.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},E.prototype.heightSetter=function(s){this.heightSetting=s},E.prototype.onAdd=function(){var s=this.textStr;this.text.add(this),this.attr({text:Q(s)?s:"",x:this.x,y:this.y}),this.box&&Q(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},E.prototype.paddingSetter=function(s,l){Y(s)?s!==this[l]&&(this[l]=s,this.updateTextPadding()):this[l]=void 0},E.prototype.rSetter=function(s,l){this.boxAttr(l,s)},E.prototype.shadow=function(s){return s&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(s)),this},E.prototype.strokeSetter=function(s,l){this.stroke=s,this.boxAttr(l,s)},E.prototype["stroke-widthSetter"]=function(s,l){s&&(this.needsBox=!0),this["stroke-width"]=s,this.boxAttr(l,s)},E.prototype["text-alignSetter"]=function(s){this.textAlign=s},E.prototype.textSetter=function(s){void 0!==s&&this.text.attr({text:s}),this.updateTextPadding()},E.prototype.updateBoxSize=function(){var s=this.text.element.style,l={},g=this.padding,v=this.bBox=Y(this.widthSetting)&&Y(this.heightSetting)&&!this.textAlign||!Q(this.text.textStr)?E.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||v.height||0)+2*g,s=this.renderer.fontMetrics(s&&s.fontSize,this.text),this.baselineOffset=g+Math.min((this.text.firstLineMetrics||s).b,v.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-s.h)/2),this.needsBox&&(this.box||((g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)),g=this.getCrispAdjust(),l.x=g,l.y=(this.baseline?-this.baselineOffset:0)+g,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(W(l,this.deferredAttr)),this.deferredAttr={})},E.prototype.updateTextPadding=function(){var s=this.text;this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,g=I(this.paddingLeft,this.padding);Q(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(g+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(g!==s.x||l!==s.y)&&(s.attr("x",g),s.hasBoxWidthChanged&&(this.bBox=s.getBBox(!0)),void 0!==l&&s.attr("y",l)),s.x=g,s.y=l},E.prototype.widthSetter=function(s){this.widthSetting=Y(s)?s:void 0},E.prototype.getPaddedWidth=function(){var s=this.padding,l=I(this.paddingLeft,s);return s=I(this.paddingRight,s),(this.widthSetting||this.bBox.width||0)+l+s},E.prototype.xSetter=function(s){this.x=s,this.alignFactor&&(s-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(s),this.attr("translateX",this.xSetting)},E.prototype.ySetter=function(s){this.ySetting=this.y=Math.round(s),this.attr("translateY",this.ySetting)},E.emptyBBox={width:0,height:0,x:0,y:0},E.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),E}(H)}),lt(F,"Core/Renderer/SVG/Symbols.js",[F["Core/Utilities.js"]],function(H){function K(I,P,w,E,s){var l=[];if(s){var g=s.start||0,v=z(s.r,w);w=z(s.r,E||w);var S=(s.end||0)-.001;E=s.innerR;var f=z(s.open,.001>Math.abs((s.end||0)-g-2*Math.PI)),C=Math.cos(g),x=Math.sin(g),M=Math.cos(S),p=Math.sin(S);g=z(s.longArc,.001>S-g-Math.PI?0:1),l.push(["M",I+v*C,P+w*x],["A",v,w,0,g,z(s.clockwise,1),I+v*M,P+w*p]),W(E)&&l.push(f?["M",I+E*M,P+E*p]:["L",I+E*M,P+E*p],["A",E,E,0,g,W(s.clockwise)?1-s.clockwise:0,I+E*C,P+E*x]),f||l.push(["Z"])}return l}function V(I,P,w,E,s){return s&&s.r?Q(I,P,w,E,s):[["M",I,P],["L",I+w,P],["L",I+w,P+E],["L",I,P+E],["Z"]]}function Q(I,P,w,E,s){return[["M",I+(s=s&&s.r||0),P],["L",I+w-s,P],["C",I+w,P,I+w,P,I+w,P+s],["L",I+w,P+E-s],["C",I+w,P+E,I+w,P+E,I+w-s,P+E],["L",I+s,P+E],["C",I,P+E,I,P+E,I,P+E-s],["L",I,P+s],["C",I,P,I,P,I+s,P]]}var W=H.defined,Y=H.isNumber,z=H.pick;return{arc:K,callout:function(I,P,w,E,s){var l=Math.min(s&&s.r||0,w,E),g=l+6,v=s&&s.anchorX;s=s&&s.anchorY||0;var S=Q(I,P,w,E,{r:l});return Y(v)&&(I+v>=w?s>P+g&&s<P+E-g?S.splice(3,1,["L",I+w,s-6],["L",I+w+6,s],["L",I+w,s+6],["L",I+w,P+E-l]):S.splice(3,1,["L",I+w,E/2],["L",v,s],["L",I+w,E/2],["L",I+w,P+E-l]):0>=I+v?s>P+g&&s<P+E-g?S.splice(7,1,["L",I,s+6],["L",I-6,s],["L",I,s-6],["L",I,P+l]):S.splice(7,1,["L",I,E/2],["L",v,s],["L",I,E/2],["L",I,P+l]):s&&s>E&&v>I+g&&v<I+w-g?S.splice(5,1,["L",v+6,P+E],["L",v,P+E+6],["L",v-6,P+E],["L",I+l,P+E]):s&&0>s&&v>I+g&&v<I+w-g&&S.splice(1,1,["L",v-6,P],["L",v,P-6],["L",v+6,P],["L",w-l,P])),S},circle:function(I,P,w,E){return K(I+w/2,P+E/2,w/2,E/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E/2],["L",I+w/2,P+E],["L",I,P+E/2],["Z"]]},rect:V,roundedRect:Q,square:V,triangle:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E],["L",I,P+E],["Z"]]},"triangle-down":function(I,P,w,E){return[["M",I,P],["L",I+w,P],["L",I+w/2,P+E],["Z"]]}}}),lt(F,"Core/Renderer/SVG/TextBuilder.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.doc,W=K.SVG_NS,Y=K.win,z=V.attr,I=V.isString,P=V.objectEach,w=V.pick;return function(){function E(s){var l=s.styles;this.renderer=s.renderer,this.svgElement=s,this.width=s.textWidth,this.textLineHeight=l&&l.lineHeight,this.textOutline=l&&l.textOutline,this.ellipsis=!(!l||"ellipsis"!==l.textOverflow),this.noWrap=!(!l||"nowrap"!==l.whiteSpace),this.fontSize=l&&l.fontSize}return E.prototype.buildSVG=function(){var s=this.svgElement,l=s.element,g=s.renderer,v=w(s.textStr,"").toString(),S=-1!==v.indexOf("<"),f=l.childNodes;g=this.width&&!s.added&&g.box;var x=[v,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(x!==s.textCache){for(s.textCache=x,delete s.actualWidth,x=f.length;x--;)l.removeChild(f[x]);S||this.ellipsis||this.width||-1!==v.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(v))?""!==v&&(g&&g.appendChild(l),v=new H(v),this.modifyTree(v.nodes),v.addToDOM(s.element),this.modifyDOM(),this.ellipsis&&-1!==(l.textContent||"").indexOf("\u2026")&&s.attr("title",this.unescapeEntities(s.textStr||"",["&lt;","&gt;"])),g&&g.removeChild(l)):l.appendChild(Q.createTextNode(this.unescapeEntities(v))),I(this.textOutline)&&s.applyTextOutline&&s.applyTextOutline(this.textOutline)}},E.prototype.modifyDOM=function(){var v,s=this,l=this.svgElement,g=z(l.element,"x");for(l.firstLineMetrics=void 0;(v=l.element.firstChild)&&/^[\s\u200B]*$/.test(v.textContent||" ");)l.element.removeChild(v);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),function(x,M){x.nextSibling&&x.previousSibling&&(0===M&&1===x.previousSibling.nodeType&&(l.firstLineMetrics=l.renderer.fontMetrics(void 0,x.previousSibling)),z(x,{dy:s.getLineHeight(x.nextSibling),x:g}))});var S=this.width||0;if(S){var C=function(x){[].slice.call(x.childNodes).forEach(function(M){M.nodeType===Y.Node.TEXT_NODE?function(x,M){var p=x.textContent||"",a=p.replace(/([^\^])-/g,"$1- ").split(" "),h=!s.noWrap&&(1<a.length||1<l.element.childNodes.length),n=s.getLineHeight(M),d=0,o=l.actualWidth;if(s.ellipsis)p&&s.truncate(x,p,void 0,0,Math.max(0,S-parseInt(s.fontSize||12,10)),function(r,u){return r.substring(0,u)+"\u2026"});else if(h){for(p=[],h=[];M.firstChild&&M.firstChild!==x;)h.push(M.firstChild),M.removeChild(M.firstChild);for(;a.length;)a.length&&!s.noWrap&&0<d&&(p.push(x.textContent||""),x.textContent=a.join(" ").replace(/- /g,"-")),s.truncate(x,void 0,a,0===d&&o||0,S,function(r,u){return a.slice(0,u).join(" ").replace(/- /g,"-")}),o=l.actualWidth,d++;h.forEach(function(r){M.insertBefore(r,x)}),p.forEach(function(r){M.insertBefore(Q.createTextNode(r),x),(r=Q.createElementNS(W,"tspan")).textContent="\u200b",z(r,{dy:n,x:g}),M.insertBefore(r,x)})}}(M,x):(-1!==M.className.baseVal.indexOf("highcharts-br")&&(l.actualWidth=0),C(M))})};C(l.element)}},E.prototype.getLineHeight=function(s){var l;return s=s.nodeType===Y.Node.TEXT_NODE?s.parentElement:s,this.renderer.styledMode||(l=s&&/(px|em)$/.test(s.style.fontSize)?s.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l,s||this.svgElement.element).h},E.prototype.modifyTree=function(s){var l=this,g=function(v,S){var f=v.attributes;f=void 0===f?{}:f;var C=v.children,x=v.tagName,M=l.renderer.styledMode;"b"===x||"strong"===x?M?f.class="highcharts-strong":f.style="font-weight:bold;"+(f.style||""):("i"===x||"em"===x)&&(M?f.class="highcharts-emphasized":f.style="font-style:italic;"+(f.style||"")),I(f.style)&&(f.style=f.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===x?(f.class="highcharts-br",v.textContent="\u200b",(S=s[S+1])&&S.textContent&&(S.textContent=S.textContent.replace(/^ +/gm,""))):"a"===x&&C&&C.some(function(p){return"#text"===p.tagName})&&(v.children=[{children:C,tagName:"tspan"}]),"#text"!==x&&"a"!==x&&(v.tagName="tspan"),v.attributes=f,C&&C.filter(function(p){return"#text"!==p.tagName}).forEach(g)};s.forEach(g)},E.prototype.truncate=function(s,l,g,v,S,f){var d,C=this.svgElement,x=C.renderer,M=C.rotation,p=[],a=g?1:0,h=(l||g||"").length,n=h,o=function(u,c){c=c||u;var b=s.parentNode;if(b&&void 0===p[c])if(b.getSubStringLength)try{p[c]=v+b.getSubStringLength(0,g?c+1:c)}catch(O){}else x.getSpanWidth&&(s.textContent=f(l||g,u),p[c]=v+x.getSpanWidth(C,s));return p[c]};C.rotation=0;var r=o(s.textContent.length);if(v+r>S){for(;a<=h;)n=Math.ceil((a+h)/2),g&&(d=f(g,n)),r=o(n,d&&d.length-1),a===h?a=h+1:r>S?h=n-1:a=n;0===h?s.textContent="":l&&h===l.length-1||(s.textContent=d||f(l||g,n))}g&&g.splice(0,n),C.actualWidth=r,C.rotation=M},E.prototype.unescapeEntities=function(s,l){return P(this.renderer.escapes,function(g,v){l&&-1!==l.indexOf(g)||(s=s.toString().replace(new RegExp(g,"g"),v))}),s},E}()}),lt(F,"Core/Renderer/SVG/SVGRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGLabel.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Renderer/SVG/TextBuilder.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var B,w=V.charts,E=V.deg2rad,s=V.doc,l=V.isFirefox,g=V.isMS,v=V.isWebKit,S=V.noop,f=V.SVG_NS,C=V.symbolSizes,x=V.win,M=P.addEvent,p=P.attr,a=P.createElement,h=P.css,n=P.defined,d=P.destroyObjectProperties,o=P.extend,r=P.isArray,u=P.isNumber,c=P.isObject,b=P.isString,O=P.merge,k=P.pick,_=P.pInt,A=P.uniqueKey;return V=function(){function m(T,R,j,X,$,D,U){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(T,R,j,X,$,D,U)}return m.prototype.init=function(T,R,j,X,$,D,U){var q,N=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=N.element;U||N.css(this.getStyle(X)),T.appendChild(Z),p(T,"dir","ltr"),-1===T.innerHTML.indexOf("xmlns")&&p(Z,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Z,this.boxWrapper=N,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(s.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=D,this.forExport=$,this.styledMode=U,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(R,j,!1),l&&T.getBoundingClientRect&&((R=function(){h(T,{left:0,top:0}),q=T.getBoundingClientRect(),h(T,{left:Math.ceil(q.left)-q.left+"px",top:Math.ceil(q.top)-q.top+"px"})})(),this.unSubPixelFix=M(x,"resize",R))},m.prototype.definition=function(T){return new H([T]).addToDOM(this.defs.element)},m.prototype.getReferenceURL=function(){if((l||v)&&s.getElementsByTagName("base").length){if(!n(B)){var T=A();T=new H([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:T},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+T+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(s.body),h(T,{position:"fixed",top:0,left:0,zIndex:9e5});var R=s.elementFromPoint(6,6);B="hitme"===(R&&R.id),s.body.removeChild(T)}if(B)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},m.prototype.getStyle=function(T){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},T)},m.prototype.setStyle=function(T){this.boxWrapper.css(this.getStyle(T))},m.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},m.prototype.destroy=function(){var T=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,T&&(this.defs=T.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},m.prototype.createElement=function(T){var R=new this.Element;return R.init(this,T),R},m.prototype.getRadialAttr=function(T,R){return{cx:T[0]-T[2]/2+(R.cx||0)*T[2],cy:T[1]-T[2]/2+(R.cy||0)*T[2],r:(R.r||0)*T[2]}},m.prototype.buildText=function(T){new I(T).buildSVG()},m.prototype.getContrast=function(T){return(T=K.parse(T).rgba)[0]*=1,T[1]*=1.2,T[2]*=.5,459<T[0]+T[1]+T[2]?"#000000":"#FFFFFF"},m.prototype.button=function(T,R,j,X,$,D,U,N,Z,q){var nt=this.label(T,R,j,Z,void 0,void 0,q,void 0,"button"),it=this.styledMode,ot=0,at=$?O($):{};if(T=at&&at.style||{},at=H.filterUserAttributes(at),nt.attr(O({padding:8,r:2},at)),!it){var mt=(at=O({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:T},at)).style;delete at.style;var yt=(D=O(at,{fill:"#e6e6e6"},H.filterUserAttributes(D||{}))).style;delete D.style;var vt=(U=O(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},H.filterUserAttributes(U||{}))).style;delete U.style;var pt=(N=O(at,{style:{color:"#cccccc"}},H.filterUserAttributes(N||{}))).style;delete N.style}return M(nt.element,g?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),M(nt.element,g?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,D,U,N][ct||0]).css([mt,yt,vt,pt][ct||0])},it||nt.attr(at).css(o({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&X.call(nt,ct)})},m.prototype.crispLine=function(T,R,j){void 0===j&&(j="round");var X=T[0],$=T[1];return n(X[1])&&X[1]===$[1]&&(X[1]=$[1]=Math[j](X[1])-R%2/2),n(X[2])&&X[2]===$[2]&&(X[2]=$[2]=Math[j](X[2])+R%2/2),T},m.prototype.path=function(T){var R=this.styledMode?{}:{fill:"none"};return r(T)?R.d=T:c(T)&&o(R,T),this.createElement("path").attr(R)},m.prototype.circle=function(T,R,j){return T=c(T)?T:void 0===T?{}:{x:T,y:R,r:j},(R=this.createElement("circle")).xSetter=R.ySetter=function(X,$,D){D.setAttribute("c"+$,X)},R.attr(T)},m.prototype.arc=function(T,R,j,X,$,D){return c(T)?(R=(X=T).y,j=X.r,T=X.x):X={innerR:X,start:$,end:D},(T=this.symbol("arc",T,R,j,j,X)).r=j,T},m.prototype.rect=function(T,R,j,X,$,D){$=c(T)?T.r:$;var U=this.createElement("rect");return T=c(T)?T:void 0===T?{}:{x:T,y:R,width:Math.max(j,0),height:Math.max(X,0)},this.styledMode||(void 0!==D&&(T["stroke-width"]=D,T=U.crisp(T)),T.fill="none"),$&&(T.r=$),U.rSetter=function(N,Z,q){U.r=N,p(q,{rx:N,ry:N})},U.rGetter=function(){return U.r||0},U.attr(T)},m.prototype.setSize=function(T,R,j){this.width=T,this.height=R,this.boxWrapper.animate({width:T,height:R},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:k(j,!0)?void 0:0}),this.alignElements()},m.prototype.g=function(T){var R=this.createElement("g");return T?R.attr({class:"highcharts-"+T}):R},m.prototype.image=function(T,R,j,X,$,D){var U={preserveAspectRatio:"none"},N=function(q,nt){q.setAttributeNS?q.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):q.setAttribute("hc-svg-href",nt)};u(R)&&(U.x=R),u(j)&&(U.y=j),u(X)&&(U.width=X),u($)&&(U.height=$);var Z=this.createElement("image").attr(U);return R=function(q){N(Z.element,T),D.call(Z,q)},D?(N(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new x.Image,M(j,"load",R),j.src=T,j.complete&&R({})):N(Z.element,T),Z},m.prototype.symbol=function(T,R,j,X,$,D){var it,U=this,N=/^url\((.*?)\)$/,Z=N.test(T),q=!Z&&(this.symbols[T]?T:"circle"),nt=q&&this.symbols[q];if(nt){"number"==typeof R&&(it=nt.call(this.symbols,Math.round(R||0),Math.round(j||0),X||0,$||0,D));var ot=this.path(it);U.styledMode||ot.attr("fill","none"),o(ot,{symbolName:q||void 0,x:R,y:j,width:X,height:$}),D&&o(ot,D)}else if(Z){var at=T.match(N)[1],mt=ot=this.image(at);mt.imgwidth=k(C[at]&&C[at].width,D&&D.width),mt.imgheight=k(C[at]&&C[at].height,D&&D.height);var yt=function(vt){return vt.attr({width:vt.width,height:vt.height})};["width","height"].forEach(function(vt){mt[vt+"Setter"]=function(pt,ct){var J=this["img"+ct];this[ct]=pt,n(J)&&(D&&"within"===D.backgroundSize&&this.width&&this.height&&(J=Math.round(J*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,J),this.alignByTranslate||(pt=((this[ct]||0)-J)/2,this.attr("width"===ct?{translateX:pt}:{translateY:pt})))}}),n(R)&&mt.attr({x:R,y:j}),mt.isImg=!0,n(mt.imgwidth)&&n(mt.imgheight)?yt(mt):(mt.attr({width:0,height:0}),a("img",{onload:function(){var vt=w[U.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),s.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&yt(mt),this.parentNode&&this.parentNode.removeChild(this),U.imgCount--,!U.imgCount&&vt&&!vt.hasLoaded&&vt.onload()},src:at}),this.imgCount++)}return ot},m.prototype.clipRect=function(T,R,j,X){var $=A()+"-",D=this.createElement("clipPath").attr({id:$}).add(this.defs);return(T=this.rect(T,R,j,X,0).add(D)).id=$,T.clipPath=D,T.count=0,T},m.prototype.text=function(T,R,j,X){var $={};return!X||!this.allowHTML&&this.forExport?($.x=Math.round(R||0),j&&($.y=Math.round(j)),n(T)&&($.text=T),T=this.createElement("text").attr($),(!X||this.forExport&&!this.allowHTML)&&(T.xSetter=function(D,U,N){for(var it,Z=N.getElementsByTagName("tspan"),q=N.getAttribute(U),nt=0;nt<Z.length;nt++)(it=Z[nt]).getAttribute(U)===q&&it.setAttribute(U,D);N.setAttribute(U,D)}),T):this.html(T,R,j)},m.prototype.fontMetrics=function(T,R){return T=!this.styledMode&&/px/.test(T)||!x.getComputedStyle?T||R&&R.style&&R.style.fontSize||this.style&&this.style.fontSize:R&&W.prototype.getStyle.call(R,"font-size"),{h:R=24>(T=/px/.test(T)?_(T):12)?T+3:Math.round(1.2*T),b:Math.round(.8*R),f:T}},m.prototype.rotCorr=function(T,R,j){var X=T;return R&&j&&(X=Math.max(X*Math.cos(R*E),4)),{x:-T/3*Math.sin(R*E),y:X}},m.prototype.pathToSegments=function(T){for(var R=[],j=[],X={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},$=0;$<T.length;$++)b(j[0])&&u(T[$])&&j.length===X[j[0].toUpperCase()]&&T.splice($,0,j[0].replace("M","L").replace("m","l")),"string"==typeof T[$]&&(j.length&&R.push(j.slice(0)),j.length=0),j.push(T[$]);return R.push(j.slice(0)),R},m.prototype.label=function(T,R,j,X,$,D,U,N,Z){return new Y(this,T,R,j,X,$,D,U,N,Z)},m.prototype.alignElements=function(){this.alignedObjects.forEach(function(T){return T.align()})},m}(),o(V.prototype,{Element:W,SVG_NS:f,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:z,draw:S}),Q.registerRendererType("svg",V,!0),V}),lt(F,"Core/Renderer/HTML/HTMLElement.js",[F["Core/Globals.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=this&&this.__extends||(g=function(v,S){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var x in C)C.hasOwnProperty(x)&&(f[x]=C[x])})(v,S)},function(v,S){function f(){this.constructor=v}g(v,S),v.prototype=null===S?Object.create(S):(f.prototype=S.prototype,new f)}),W=H.isFirefox,Y=H.isMS,z=H.isWebKit,I=H.win,P=V.css,w=V.defined,E=V.extend,s=V.pick,l=V.pInt;return function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return Q(v,g),v.compose=function(S){if(-1===v.composedClasses.indexOf(S)){v.composedClasses.push(S);var f=v.prototype,C=S.prototype;C.getSpanCorrection=f.getSpanCorrection,C.htmlCss=f.htmlCss,C.htmlGetBBox=f.htmlGetBBox,C.htmlUpdateTransform=f.htmlUpdateTransform,C.setSpanRotation=f.setSpanRotation}return S},v.prototype.getSpanCorrection=function(S,f,C){this.xCorr=-S*C,this.yCorr=-f},v.prototype.htmlCss=function(S){var f="SPAN"===this.element.tagName&&S&&"width"in S,C=s(f&&S.width,void 0);if(f){delete S.width,this.textWidth=C;var x=!0}return S&&"ellipsis"===S.textOverflow&&(S.whiteSpace="nowrap",S.overflow="hidden"),this.styles=E(this.styles,S),P(this.element,S),x&&this.htmlUpdateTransform(),this},v.prototype.htmlGetBBox=function(){var S=this.element;return{x:S.offsetLeft,y:S.offsetTop,width:S.offsetWidth,height:S.offsetHeight}},v.prototype.htmlUpdateTransform=function(){if(this.added){var S=this.renderer,f=this.element,C=this.translateX||0,x=this.translateY||0,M=this.x||0,p=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],n=this.styles;if(n=n&&n.whiteSpace,P(f,{marginLeft:C,marginTop:x}),!S.styledMode&&this.shadows&&this.shadows.forEach(function(b){P(b,{marginLeft:C+1,marginTop:x+1})}),this.inverted&&[].forEach.call(f.childNodes,function(b){S.invertChild(b,f)}),"SPAN"===f.tagName){var d=this.rotation,o=this.textWidth&&l(this.textWidth),r=[d,a,f.innerHTML,this.textWidth,this.textAlign].join(),u=void 0;if(u=!1,o!==this.oldTextWidth){if(this.textPxLength)var c=this.textPxLength;else P(f,{width:"",whiteSpace:n||"nowrap"}),c=f.offsetWidth;(o>this.oldTextWidth||c>o)&&(/[ \-]/.test(f.textContent||f.innerText)||"ellipsis"===f.style.textOverflow)&&(P(f,{width:c>o||d?o+"px":"auto",display:"block",whiteSpace:n||"normal"}),this.oldTextWidth=o,u=!0)}this.hasBoxWidthChanged=u,r!==this.cTT&&(u=S.fontMetrics(f.style.fontSize,f).b,!w(d)||d===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(d,h,u),this.getSpanCorrection(!w(d)&&this.textPxLength||f.offsetWidth,u,h,d,a)),P(f,{left:M+(this.xCorr||0)+"px",top:p+(this.yCorr||0)+"px"}),this.cTT=r,this.oldRotation=d,this.oldAlign=a}}else this.alignOnAdd=!0},v.prototype.setSpanRotation=function(S,f,C){var x={},M=Y&&!/Edge/.test(I.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":W?"MozTransform":I.opera?"-o-transform":void 0;M&&(x[M]=x.transform="rotate("+S+"deg)",x[M+(W?"Origin":"-origin")]=x.transformOrigin=100*f+"% "+C+"px",P(this.element,x))},v.composedClasses=[],v}(K)}),lt(F,"Core/Renderer/HTML/HTMLRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var w,W=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Y=Q.attr,z=Q.createElement,I=Q.extend,P=Q.pick;return function(w){function E(){return null!==w&&w.apply(this,arguments)||this}return W(E,w),E.compose=function(s){return-1===E.composedClasses.indexOf(s)&&(E.composedClasses.push(s),s.prototype.html=E.prototype.html),s},E.prototype.html=function(s,l,g){var v=this.createElement("span"),S=v.element,f=v.renderer,C=f.isSVG,x=function(M,p){["opacity","visibility"].forEach(function(a){M[a+"Setter"]=function(h,n,d){var o=M.div?M.div.style:p;K.prototype[a+"Setter"].call(this,h,n,d),o&&(o[n]=h)}}),M.addedSetters=!0};return v.textSetter=function(M){M!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,H.setElementHTML(this.element,P(M,"")),this.textStr=M,v.doTransform=!0)},C&&x(v,v.element.style),v.xSetter=v.ySetter=v.alignSetter=v.rotationSetter=function(M,p){"align"===p?v.alignValue=v.textAlign=M:v[p]=M,v.doTransform=!0},v.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},v.attr({text:s,x:Math.round(l),y:Math.round(g)}).css({position:"absolute"}),f.styledMode||v.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),S.style.whiteSpace="nowrap",v.css=v.htmlCss,C&&(v.add=function(M){var p=f.box.parentNode,a=[];if(this.parentGroup=M){var h=M.div;if(!h){for(;M;)a.push(M),M=M.parentGroup;a.reverse().forEach(function(n){function d(c,b){n[b]=c,"translateX"===b?u.left=c+"px":u.top=c+"px",n.doTransform=!0}var c,o=Y(n.element,"class"),r=n.styles||{},u=(h=n.div=n.div||z("div",o?{className:o}:void 0,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,cursor:r.cursor,pointerEvents:r.pointerEvents,visibility:n.visibility},h||p)).style;I(n,{classSetter:(c=h,function(b){this.element.setAttribute("class",b),c.className=b}),on:function(){return a[0].div&&v.on.apply({element:a[0].div,onEvents:n.onEvents},arguments),n},translateXSetter:d,translateYSetter:d}),n.addedSetters||x(n)})}}else h=p;return h.appendChild(S),v.added=!0,v.alignOnAdd&&v.htmlUpdateTransform(),v}),v},E.composedClasses=[],E}(V)}),lt(F,"Core/Axis/AxisDefaults.js",[],function(){var H=(()=>{return(K=H||(H={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},K.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},K.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},K.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},K.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},K.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},H;var K})();return H}),lt(F,"Core/Foundation.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.isFunction,Q=H.objectEach,W=H.removeEvent;return(Y||(Y={})).registerEventOptions=function(I,P){I.eventOptions=I.eventOptions||{},Q(P.events,function(w,E){I.eventOptions[E]!==w&&(I.eventOptions[E]&&(W(I,E,I.eventOptions[E]),delete I.eventOptions[E]),V(w)&&(I.eventOptions[E]=w,K(I,E,w)))})},Y}),lt(F,"Core/Axis/Tick.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.deg2rad,W=V.clamp,Y=V.correctFloat,z=V.defined,I=V.destroyObjectProperties,P=V.extend,w=V.fireEvent,E=V.isNumber,s=V.merge,l=V.objectEach,g=V.pick;return function(){function v(S,f,C,x,M){this.isNewLabel=this.isNew=!0,this.axis=S,this.pos=f,this.type=C||"",this.parameters=M||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,w(this,"init"),C||x||this.addLabel()}return v.prototype.addLabel=function(){var S=this,f=S.axis,C=f.options,x=f.chart,M=f.categories,p=f.logarithmic,a=f.names,h=S.pos,n=g(S.options&&S.options.labels,C.labels),d=f.tickPositions,o=h===d[0],r=h===d[d.length-1],u=(!n.step||1===n.step)&&1===f.tickInterval;d=d.info;var b,c=S.label;if(M=this.parameters.category||(M?g(M[h],a[h],h):h),p&&E(M)&&(M=Y(p.lin2log(M))),f.dateTime)if(d)var O=x.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&d.higherRanks[h]||d.unitName]),k=O.main;else E(M)&&(k=f.dateTime.getXDateFormat(M,C.dateTimeLabelFormats||{}));S.isFirst=o,S.isLast=r;var _={axis:f,chart:x,dateTimeLabelFormat:k,isFirst:o,isLast:r,pos:h,tick:S,tickPositionInfo:d,value:M};w(this,"labelFormat",_);var A=function(m){return n.formatter?n.formatter.call(m,m):n.format?(m.text=f.defaultLabelFormatter.call(m),H.format(n.format,m,x)):f.defaultLabelFormatter.call(m,m)};C=A.call(_,_);var B=O&&O.list;S.shortenLabel=B?function(){for(b=0;b<B.length;b++)if(P(_,{dateTimeLabelFormat:B[b]}),c.attr({text:A.call(_,_)}),c.getBBox().width<f.getSlotWidth(S)-2*n.padding)return;c.attr({text:""})}:void 0,u&&f._addedPlotLB&&S.moveLabel(C,n),z(c)||S.movedLabel?c&&c.textStr!==C&&!u&&(!c.textWidth||n.style.width||c.styles.width||c.css({width:null}),c.attr({text:C}),c.textPxLength=c.getBBox().width):(S.label=c=S.createLabel({x:0,y:0},C,n),S.rotation=0)},v.prototype.createLabel=function(S,f,C){var x=this.axis,M=x.chart;return(S=z(f)&&C.enabled?M.renderer.text(f,S.x,S.y,C.useHTML).add(x.labelGroup):null)&&(M.styledMode||S.css(s(C.style)),S.textPxLength=S.getBBox().width),S},v.prototype.destroy=function(){I(this,this.axis)},v.prototype.getPosition=function(S,f,C,x){var M=this.axis,p=M.chart,a=x&&p.oldChartHeight||p.chartHeight;return(S={x:S?Y(M.translate(f+C,null,null,x)+M.transB):M.left+M.offset+(M.opposite?(x&&p.oldChartWidth||p.chartWidth)-M.right-M.left:0),y:S?a-M.bottom+M.offset-(M.opposite?M.height:0):Y(a-M.translate(f+C,null,null,x)-M.transB)}).y=W(S.y,-1e5,1e5),w(this,"afterGetPosition",{pos:S}),S},v.prototype.getLabelPosition=function(S,f,C,x,M,p,a,h){var n=this.axis,d=n.transA,o=n.isLinked&&n.linkedParent?n.linkedParent.reversed:n.reversed,r=n.staggerLines,u=n.tickRotCorr||{x:0,y:0},c=x||n.reserveSpaceDefault?0:-n.labelOffset*("center"===n.labelAlign?.5:1),b={},O=M.y;return z(O)||(O=0===n.side?C.rotation?-8:-C.getBBox().height:2===n.side?u.y+8:Math.cos(C.rotation*Q)*(u.y-C.getBBox(!1,0).height/2)),f=f+O-(p&&!x?p*d*(o?1:-1):0),r&&(C=a/(h||1)%r,n.opposite&&(C=r-C-1),f+=n.labelOffset/r*C),b.x=S=S+M.x+c+u.x-(p&&x?p*d*(o?-1:1):0),b.y=Math.round(f),w(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:p,index:a}),b},v.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},v.prototype.getMarkPath=function(S,f,C,x,M,p){return p.crispLine([["M",S,f],["L",S+(M?0:-C),f+(M?C:0)]],x)},v.prototype.handleOverflow=function(S){var f=this.axis,C=f.options.labels,x=S.x,M=f.chart.chartWidth,p=f.chart.spacing,a=g(f.labelLeft,Math.min(f.pos,p[3]));p=g(f.labelRight,Math.max(f.isRadial?0:f.pos+f.len,M-p[1]));var O,h=this.label,n=this.rotation,d={left:0,center:.5,right:1}[f.labelAlign||h.attr("align")],o=h.getBBox().width,r=f.getSlotWidth(this),u={},c=r,b=1;n||"justify"!==C.overflow?0>n&&x-d*o<a?O=Math.round(x/Math.cos(n*Q)-a):0<n&&x+d*o>p&&(O=Math.round((M-x)/Math.cos(n*Q))):(M=x+(1-d)*o,x-d*o<a?c=S.x+c*(1-d)-a:M>p&&(c=p-S.x+c*d,b=-1),(c=Math.min(r,c))<r&&"center"===f.labelAlign&&(S.x+=b*(r-c-d*(r-Math.min(o,c)))),(o>c||f.autoRotation&&(h.styles||{}).width)&&(O=c)),O&&(this.shortenLabel?this.shortenLabel():(u.width=Math.floor(O)+"px",(C.style||{}).textOverflow||(u.textOverflow="ellipsis"),h.css(u)))},v.prototype.moveLabel=function(S,f){var C=this,x=C.label,M=C.axis,p=M.reversed,a=!1;if(x&&x.textStr===S?(C.movedLabel=x,a=!0,delete C.label):l(M.ticks,function(n){a||n.isNew||n===C||!n.label||n.label.textStr!==S||(C.movedLabel=n.label,a=!0,n.labelPos=C.movedLabel.xy,delete n.label)}),!a&&(C.labelPos||x)){var h=C.labelPos||x.xy;C.movedLabel=C.createLabel({x:x=M.horiz?p?0:M.width+M.left:h.x,y:M=M.horiz?h.y:p?M.width+M.left:0},S,f),C.movedLabel&&C.movedLabel.attr({opacity:0})}},v.prototype.render=function(S,f,C){var x=this.axis,M=x.horiz,p=this.pos,a=g(this.tickmarkOffset,x.tickmarkOffset);a=(p=this.getPosition(M,p,a,f)).x,x=M&&a===x.pos+x.len||!M&&p.y===x.pos?-1:1,M=g(C,this.label&&this.label.newOpacity,1),C=g(C,1),this.isActive=!0,this.renderGridLine(f,C,x),this.renderMark(p,C,x),this.renderLabel(p,f,M,S),this.isNew=!1,w(this,"afterRender")},v.prototype.renderGridLine=function(S,f,C){var x=this.axis,M=x.options,p={},a=this.pos,h=this.type,n=g(this.tickmarkOffset,x.tickmarkOffset),d=x.chart.renderer,o=this.gridLine,r=M.gridLineWidth,u=M.gridLineColor,c=M.gridLineDashStyle;"minor"===this.type&&(r=M.minorGridLineWidth,u=M.minorGridLineColor,c=M.minorGridLineDashStyle),o||(x.chart.styledMode||(p.stroke=u,p["stroke-width"]=r||0,p.dashstyle=c),h||(p.zIndex=1),S&&(f=0),this.gridLine=o=d.path().attr(p).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(x.gridGroup)),o&&(C=x.getPlotLinePath({value:a+n,lineWidth:o.strokeWidth()*C,force:"pass",old:S}))&&o[S||this.isNew?"attr":"animate"]({d:C,opacity:f})},v.prototype.renderMark=function(S,f,C){var x=this.axis,M=x.options,p=x.chart.renderer,a=this.type,h=x.tickSize(a?a+"Tick":"tick"),n=S.x;S=S.y;var d=g(M["minor"!==a?"tickWidth":"minorTickWidth"],!a&&x.isXAxis?1:0);M=M["minor"!==a?"tickColor":"minorTickColor"];var o=this.mark,r=!o;h&&(x.opposite&&(h[0]=-h[0]),o||(this.mark=o=p.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(x.axisGroup),x.chart.styledMode||o.attr({stroke:M,"stroke-width":d})),o[r?"attr":"animate"]({d:this.getMarkPath(n,S,h[0],o.strokeWidth()*C,x.horiz,p),opacity:f}))},v.prototype.renderLabel=function(S,f,C,x){var M=this.axis,p=M.horiz,a=M.options,h=this.label,n=a.labels,d=n.step;M=g(this.tickmarkOffset,M.tickmarkOffset);var o=S.x;S=S.y;var r=!0;h&&E(o)&&(h.xy=S=this.getLabelPosition(o,S,h,p,n,M,x,d),this.isFirst&&!this.isLast&&!a.showFirstLabel||this.isLast&&!this.isFirst&&!a.showLastLabel?r=!1:!p||n.step||n.rotation||f||0===C||this.handleOverflow(S),d&&x%d&&(r=!1),r&&E(S.y)?(S.opacity=C,h[this.isNewLabel?"attr":"animate"](S),this.isNewLabel=!1):(h.attr("y",-9999),this.isNewLabel=!0))},v.prototype.replaceMovedLabel=function(){var S=this.label,f=this.axis,C=f.reversed;S&&!this.isNew&&(S.animate({x:f.horiz?C?f.left:f.width+f.left:S.xy.x,y:C=f.horiz?S.xy.y:C?f.width+f.top:f.top,opacity:0},void 0,S.destroy),delete this.label),f.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},v}()}),lt(F,"Core/Axis/Axis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/AxisDefaults.js"],F["Core/Color/Color.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Axis/Tick.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){var P=H.animObject,w=Q.defaultOptions,E=W.registerEventOptions,s=Y.deg2rad,l=I.arrayMax,g=I.arrayMin,v=I.clamp,S=I.correctFloat,f=I.defined,C=I.destroyObjectProperties,x=I.erase,M=I.error,p=I.extend,a=I.fireEvent,h=I.getMagnitude,n=I.isArray,d=I.isNumber,o=I.isString,r=I.merge,u=I.normalizeTickInterval,c=I.objectEach,b=I.pick,O=I.relativeLength,k=I.removeEvent,_=I.splat,A=I.syncTimeout;return function(){function B(m,T){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(m,T)}return B.prototype.init=function(m,T){var R=T.isX;this.chart=m,this.horiz=m.inverted&&!this.isZAxis?!R:R,this.isXAxis=R,this.coll=this.coll||(R?"xAxis":"yAxis"),a(this,"init",{userOptions:T}),this.opposite=b(T.opposite,this.opposite),this.side=b(T.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(T);var j=this.options,X=j.labels,$=j.type;this.userOptions=T,this.minPixelPadding=0,this.reversed=b(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===$||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=f(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,T=b(j.crosshair,_(m.options.tooltip.crosshairs)[R?0:1]),this.crosshair=!0===T?{}:T,-1===m.axes.indexOf(this)&&(R?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),m[this.coll].push(this)),this.series=this.series||[],m.inverted&&!this.isZAxis&&R&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=d(X.rotation)?X.rotation:void 0,E(this,j),a(this,"afterInit")},B.prototype.setOptions=function(m){this.options=r(K.defaultXAxisOptions,"yAxis"===this.coll&&K.defaultYAxisOptions,[K.defaultTopAxisOptions,K.defaultRightAxisOptions,K.defaultBottomAxisOptions,K.defaultLeftAxisOptions][this.side],r(w[this.coll],m)),a(this,"afterSetOptions",{userOptions:m})},B.prototype.defaultLabelFormatter=function(m){var T=this.axis;m=this.chart.numberFormatter;var R=d(this.value)?this.value:NaN,j=T.chart.time,X=this.dateTimeLabelFormat,$=w.lang,D=$.numericSymbols;$=$.numericSymbolMagnitude||1e3;var U=T.logarithmic?Math.abs(R):T.tickInterval,N=D&&D.length;if(T.categories)var Z=""+this.value;else if(X)Z=j.dateFormat(X,R);else if(N&&1e3<=U)for(;N--&&void 0===Z;)U>=(T=Math.pow($,N+1))&&10*R%T==0&&null!==D[N]&&0!==R&&(Z=m(R/T,-1)+D[N]);return void 0===Z&&(Z=1e4<=Math.abs(R)?m(R,-1):m(R,-1,void 0,"")),Z},B.prototype.getSeriesExtremes=function(){var R,m=this,T=m.chart;a(this,"getSeriesExtremes",null,function(){m.hasVisibleSeries=!1,m.dataMin=m.dataMax=m.threshold=null,m.softThreshold=!m.isXAxis,m.stacking&&m.stacking.buildStacks(),m.series.forEach(function(j){if(j.visible||!T.options.chart.ignoreHiddenSeries){var X=j.options,$=X.threshold;if(m.hasVisibleSeries=!0,m.positiveValuesOnly&&0>=$&&($=null),m.isXAxis){if((X=j.xData).length){X=m.logarithmic?X.filter(m.validatePositiveValue):X;var D=(R=j.getXExtremes(X)).min,U=R.max;d(D)||D instanceof Date||(X=X.filter(d),D=(R=j.getXExtremes(X)).min,U=R.max),X.length&&(m.dataMin=Math.min(b(m.dataMin,D),D),m.dataMax=Math.max(b(m.dataMax,U),U))}}else j=j.applyExtremes(),d(j.dataMin)&&(D=j.dataMin,m.dataMin=Math.min(b(m.dataMin,D),D)),d(j.dataMax)&&(U=j.dataMax,m.dataMax=Math.max(b(m.dataMax,U),U)),f($)&&(m.threshold=$),(!X.softThreshold||m.positiveValuesOnly)&&(m.softThreshold=!1)}})}),a(this,"afterGetSeriesExtremes")},B.prototype.translate=function(m,T,R,j,X,$){var D=this.linkedParent||this,U=j&&D.old?D.old.min:D.min,N=D.minPixelPadding;X=(D.isOrdinal||D.brokenAxis&&D.brokenAxis.hasBreaks||D.logarithmic&&X)&&D.lin2val;var Z=1,q=0;return(j=j&&D.old?D.old.transA:D.transA)||(j=D.transA),R&&(Z*=-1,q=D.len),D.reversed&&(q-=(Z*=-1)*(D.sector||D.len)),T?(m=(m*Z+q-N)/j+U,X&&(m=D.lin2val(m))):(X&&(m=D.val2lin(m)),m=d(U)?Z*(m-U)*j+q+Z*N+(d($)?j*$:0):void 0),m},B.prototype.toPixels=function(m,T){return this.translate(m,!1,!this.horiz,null,!0)+(T?0:this.pos)},B.prototype.toValue=function(m,T){return this.translate(m-(T?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(m){function T(ct,J,et){return("pass"!==ot&&ct<J||ct>et)&&(ot?ct=v(ct,J,et):pt=!0),ct}var at,mt,yt,vt,pt,R=this,j=R.chart,X=R.left,$=R.top,D=m.old,U=m.value,N=m.lineWidth,Z=D&&j.oldChartHeight||j.chartHeight,q=D&&j.oldChartWidth||j.chartWidth,nt=R.transB,it=m.translatedValue,ot=m.force;return a(this,"getPlotLinePath",m={value:U,lineWidth:N,old:D,force:ot,acrossPanes:m.acrossPanes,translatedValue:it},function(ct){it=b(it,R.translate(U,null,null,D)),it=v(it,-1e5,1e5),at=yt=Math.round(it+nt),mt=vt=Math.round(Z-it-nt),d(it)?R.horiz?(mt=$,vt=Z-R.bottom,at=yt=T(at,X,X+R.width)):(at=X,yt=q-R.right,mt=vt=T(mt,$,$+R.height)):(pt=!0,ot=!1),ct.path=pt&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",yt,vt]],N||1)}),m.path},B.prototype.getLinearTickPositions=function(m,T,R){var j=S(Math.floor(T/m)*m);R=S(Math.ceil(R/m)*m);var $,X=[];if(S(j+m)===j&&($=20),this.single)return[T];for(T=j;T<=R&&(X.push(T),(T=S(T+m,$))!==D);)var D=T;return X},B.prototype.getMinorTickInterval=function(){var m=this.options;return!0===m.minorTicks?b(m.minorTickInterval,"auto"):!1===m.minorTicks?null:m.minorTickInterval},B.prototype.getMinorTickPositions=function(){var m=this.options,T=this.tickPositions,R=this.minorTickInterval,j=this.pointRangePadding||0,X=this.min-j,$=(j=this.max+j)-X,D=[];if($&&$/R<this.len/3){var U=this.logarithmic;if(U)this.paddedTicks.forEach(function(N,Z,q){Z&&D.push.apply(D,U.getLogTickPositions(R,q[Z-1],q[Z],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())D=D.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(R),X,j,m.startOfWeek));else for(m=X+(T[0]-X)%R;m<=j&&m!==D[0];m+=R)D.push(m)}return 0!==D.length&&this.trimTicks(D),D},B.prototype.adjustForMinRange=function(){var $,D,U,N,m=this.options,T=this.logarithmic,R=this.min,j=this.max,X=0;if(this.isXAxis&&void 0===this.minRange&&!T&&(f(m.min)||f(m.max)||f(m.floor)||f(m.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(U=it.xData,N=it.xIncrement?1:U.length-1,1<U.length)for($=N;0<$;$--)D=U[$]-U[$-1],(!X||D<X)&&(X=D)}),this.minRange=Math.min(5*X,this.dataMax-this.dataMin))),j-R<this.minRange){var Z=this.dataMax-this.dataMin>=this.minRange,q=this.minRange,nt=(q-j+R)/2;nt=[R-nt,b(m.min,R-nt)],Z&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(R=l(nt))+q,b(m.max,R+q)],Z&&(j[2]=T?T.log2lin(this.dataMax):this.dataMax),(j=g(j))-R<q&&(nt[0]=j-q,nt[1]=b(m.min,j-q),R=l(nt))}this.min=R,this.max=j},B.prototype.getClosest=function(){var m;return this.categories?m=1:this.series.forEach(function(T){var R=T.closestPointRange,j=T.visible||!T.chart.options.chart.ignoreHiddenSeries;!T.noSharedTooltip&&f(R)&&j&&(m=f(m)?Math.min(m,R):R)}),m},B.prototype.nameToX=function(m){var T=n(this.categories),R=T?this.categories:this.names,j=m.options.x;if(m.series.requireSorting=!1,f(j)||(j=this.options.uniqueNames?T?R.indexOf(m.name):b(R.keys[m.name],-1):m.series.autoIncrement()),-1===j){if(!T)var X=R.length}else X=j;return void 0!==X&&(this.names[X]=m.name,this.names.keys[m.name]=X),X},B.prototype.updateNames=function(){var m=this,T=this.names;0<T.length&&(Object.keys(T.keys).forEach(function(R){delete T.keys[R]}),T.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(R){R.xIncrement=null,(!R.points||R.isDirtyData)&&(m.max=Math.max(m.max,R.xData.length-1),R.processData(),R.generatePoints()),R.data.forEach(function(j,X){if(j&&j.options&&void 0!==j.name){var $=m.nameToX(j);void 0!==$&&$!==j.x&&(j.x=$,R.xData[X]=$)}})}))},B.prototype.setAxisTranslation=function(){var N,m=this,T=m.max-m.min,R=m.linkedParent,j=!!m.categories,X=m.isXAxis,$=m.axisPointRange||0,D=0,U=0;if(X||j||$){var Z=m.getClosest();R?(D=R.minPointOffset,U=R.pointRangePadding):m.series.forEach(function(q){var nt=j?1:X?b(q.options.pointRange,Z,0):m.axisPointRange||0,it=q.options.pointPlacement;$=Math.max($,nt),(!m.single||j)&&(q=q.is("xrange")?!X:X,D=Math.max(D,q&&o(it)?0:nt/2),U=Math.max(U,q&&"on"===it?0:nt))}),m.minPointOffset=D*=R=m.ordinal&&m.ordinal.slope&&Z?m.ordinal.slope/Z:1,m.pointRangePadding=U*=R,m.pointRange=Math.min($,m.single&&j?1:T),X&&(m.closestPointRange=Z)}m.translationSlope=m.transA=N=m.staticScale||m.len/(T+U||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=N*D,a(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(m){var T=this.chart,R=this.logarithmic,j=this.options,X=this.isXAxis,$=this.isLinked,D=j.tickPixelInterval,U=this.categories,N=this.softThreshold,Z=j.maxPadding,q=j.minPadding,nt=d(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=d(this.threshold)?this.threshold:null;this.dateTime||U||$||this.getTickAmount();var ot=b(this.userMin,j.min),at=b(this.userMax,j.max);if($){this.linkedParent=T[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=b(mt.min,mt.dataMin),this.max=b(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&M(11,1,T)}else{if(N&&f(it))if(this.dataMin>=it)mt=it,q=0;else if(this.dataMax<=it){var yt=it;Z=0}this.min=b(ot,mt,this.dataMin),this.max=b(at,yt,this.dataMax)}if(R&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,b(this.dataMin,this.min))&&M(10,1,T),this.min=S(R.log2lin(this.min),16),this.max=S(R.log2lin(this.max),16)),this.range&&f(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),a(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(U||this.axisPointRange||this.stacking&&this.stacking.usePercentage||$)&&f(this.min)&&f(this.max)&&(T=this.max-this.min)&&(!f(ot)&&q&&(this.min-=T*q),!f(at)&&Z&&(this.max+=T*Z)),d(this.userMin)||(d(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),d(j.floor)&&(this.min=Math.max(this.min,j.floor))),d(this.userMax)||(d(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),d(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),N&&f(this.dataMin)&&(it=it||0,!f(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!f(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),d(this.min)&&d(this.max)&&!this.chart.polar&&this.min>this.max&&(f(this.options.min)?this.max=this.min:f(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:$&&this.linkedParent&&!nt&&D===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:b(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,U?1:(this.max-this.min)*D/Math.max(this.len,D)),X&&!m){var vt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(pt){pt.forceCrop=pt.forceCropping&&pt.forceCropping(),pt.processData(vt)}),a(this,"postProcessData",{hasExtemesChanged:vt})}this.setAxisTranslation(),a(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),m=b(j.minTickInterval,this.dateTime&&!this.series.some(function(pt){return pt.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<m&&(this.tickInterval=m),this.dateTime||this.logarithmic||nt||(this.tickInterval=u(this.tickInterval,void 0,h(this.tickInterval),b(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var m=this.options,T=m.tickPositions,R=this.getMinorTickInterval(),j=this.hasVerticalPanning(),X="colorAxis"===this.coll,$=(X||!j)&&m.startOnTick;j=(X||!j)&&m.endOnTick,X=m.tickPositioner,this.tickmarkOffset=this.categories&&"between"===m.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===R&&this.tickInterval?this.tickInterval/5:R,this.single=this.min===this.max&&f(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==m.allowDecimals),this.tickPositions=R=T&&T.slice(),!R&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?R=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(R=[this.min,this.max],M(19,!1,this.chart)),R.length>this.len&&(R=[R[0],R.pop()])[0]===R[1]&&(R.length=1),this.tickPositions=R,X&&(X=X.apply(this,[this.min,this.max])))&&(this.tickPositions=R=X),this.paddedTicks=R.slice(0),this.trimTicks(R,$,j),this.isLinked||(this.single&&2>R.length&&!this.categories&&!this.series.some(function(D){return D.is("heatmap")&&"between"===D.options.pointPlacement})&&(this.min-=.5,this.max+=.5),T||X||this.adjustTickAmount()),a(this,"afterSetTickPositions")},B.prototype.trimTicks=function(m,T,R){var j=m[0],X=m[m.length-1],$=!this.isOrdinal&&this.minPointOffset||0;if(a(this,"trimTicks"),!this.isLinked){if(T&&j!==-1/0)this.min=j;else for(;this.min-$>m[0];)m.shift();if(R)this.max=X;else for(;this.max+$<m[m.length-1];)m.pop();0===m.length&&f(j)&&!this.options.tickPositions&&m.push((X+j)/2)}},B.prototype.alignToOthers=function(){var R,m={},T=this.options;return!1!==this.chart.options.chart.alignTicks&&T.alignTicks&&!1!==T.startOnTick&&!1!==T.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var X=j.options;X=[j.horiz?X.left:X.top,X.width,X.height,X.pane].join(),j.series.length&&(m[X]?R=!0:m[X]=1)}),R},B.prototype.getTickAmount=function(){var m=this.options,T=m.tickPixelInterval,R=m.tickAmount;!f(m.tickInterval)&&!R&&this.len<T&&!this.isRadial&&!this.logarithmic&&m.startOnTick&&m.endOnTick&&(R=2),!R&&this.alignToOthers()&&(R=Math.ceil(this.len/T)+1),4>R&&(this.finalTickAmt=R,R=5),this.tickAmount=R},B.prototype.adjustTickAmount=function(){var m=this.options,T=this.tickInterval,R=this.tickPositions,j=this.tickAmount,X=this.finalTickAmt,$=R&&R.length,D=b(this.threshold,this.softThreshold?0:null);if(this.hasData()&&d(this.min)&&d(this.max)){if($<j){for(;R.length<j;)R.length%2||this.min===D?R.push(S(R[R.length-1]+T)):R.unshift(S(R[0]-T));this.transA*=($-1)/(j-1),this.min=m.startOnTick?R[0]:Math.min(this.min,R[0]),this.max=m.endOnTick?R[R.length-1]:Math.max(this.max,R[R.length-1])}else $>j&&(this.tickInterval*=2,this.setTickPositions());if(f(X)){for(T=m=R.length;T--;)(3===X&&T%2==1||2>=X&&0<T&&T<m-1)&&R.splice(T,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var m=!1,T=!1;this.series.forEach(function(j){m=m||j.isDirtyData||j.isDirty,T=T||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var R=this.len!==(this.old&&this.old.len);R||m||T||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=R||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),m&&this.panningState&&(this.panningState.isDirty=!0),a(this,"afterSetScale")},B.prototype.setExtremes=function(m,T,R,j,X){var $=this,D=$.chart;R=b(R,!0),$.series.forEach(function(U){delete U.kdTree}),X=p(X,{min:m,max:T}),a($,"setExtremes",X,function(){$.userMin=m,$.userMax=T,$.eventArgs=X,R&&D.redraw(j)})},B.prototype.zoom=function(m,T){var R=this,j=this.dataMin,X=this.dataMax,$=this.options,D=Math.min(j,b($.min,j)),U=Math.max(X,b($.max,X));return a(this,"zoom",m={newMin:m,newMax:T},function(N){var Z=N.newMin,q=N.newMax;(Z!==R.min||q!==R.max)&&(R.allowZoomOutside||(f(j)&&(Z<D&&(Z=D),Z>U&&(Z=U)),f(X)&&(q<D&&(q=D),q>U&&(q=U))),R.displayBtn=void 0!==Z||void 0!==q,R.setExtremes(Z,q,!1,void 0,{trigger:"zoom"})),N.zoomed=!0}),m.zoomed},B.prototype.setAxisSize=function(){var m=this.chart,T=this.options,R=T.offsets||[0,0,0,0],j=this.horiz,X=this.width=Math.round(O(b(T.width,m.plotWidth-R[3]+R[1]),m.plotWidth)),$=this.height=Math.round(O(b(T.height,m.plotHeight-R[0]+R[2]),m.plotHeight)),D=this.top=Math.round(O(b(T.top,m.plotTop+R[0]),m.plotHeight,m.plotTop));T=this.left=Math.round(O(b(T.left,m.plotLeft+R[3]),m.plotWidth,m.plotLeft)),this.bottom=m.chartHeight-$-D,this.right=m.chartWidth-X-T,this.len=Math.max(j?X:$,0),this.pos=j?T:D},B.prototype.getExtremes=function(){var m=this.logarithmic;return{min:m?S(m.lin2log(this.min)):this.min,max:m?S(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(m){var T=this.logarithmic,R=T?T.lin2log(this.min):this.min;return T=T?T.lin2log(this.max):this.max,null===m||m===-1/0?m=R:m===1/0?m=T:R>m?m=R:T<m&&(m=T),this.translate(m,0,1,0,1)},B.prototype.autoLabelAlign=function(m){var T=(b(m,0)-90*this.side+720)%360;return a(this,"autoLabelAlign",m={align:"center"},function(R){15<T&&165>T?R.align="right":195<T&&345>T&&(R.align="left")}),m.align},B.prototype.tickSize=function(m){var T=this.options,R=b(T["tick"===m?"tickWidth":"minorTickWidth"],"tick"===m&&this.isXAxis&&!this.categories?1:0),j=T["tick"===m?"tickLength":"minorTickLength"];if(R&&j){"inside"===T[m+"Position"]&&(j=-j);var X=[j,R]}return a(this,"afterTickSize",m={tickSize:X}),m.tickSize},B.prototype.labelMetrics=function(){var m=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[m]&&this.ticks[m].label)},B.prototype.unsquish=function(){var Z,q,m=this.options.labels,T=this.horiz,R=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/R),X=m.rotation,$=this.labelMetrics(),D=Math.max(this.max-this.min,0),U=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*R>D&&ot!==1/0&&j!==1/0&&D&&(at=Math.ceil(D/R)),S(at*R)},N=R,nt=Number.MAX_VALUE;if(T){if(!m.staggerLines&&!m.step)if(d(X))var it=[X];else j<m.autoRotationLimit&&(it=m.autoRotation);it&&it.forEach(function(ot){if(ot===X||ot&&-90<=ot&&90>=ot){var at=(q=U(Math.abs($.h/Math.sin(s*ot))))+Math.abs(ot/360);at<nt&&(nt=at,Z=ot,N=q)}})}else m.step||(N=U($.h));return this.autoRotation=it,this.labelRotation=b(Z,d(X)?X:0),N},B.prototype.getSlotWidth=function(m){var T=this.chart,R=this.horiz,j=this.options.labels,X=Math.max(this.tickPositions.length-(this.categories?0:1),1),$=T.margin[3];if(m&&d(m.slotWidth))return m.slotWidth;if(R&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/X;if(!R){if(void 0!==(m=j.style.width))return parseInt(String(m),10);if($)return $-T.spacing[3]}return.33*T.chartWidth},B.prototype.renderUnsquish=function(){var m=this.chart,T=m.renderer,R=this.tickPositions,j=this.ticks,X=this.options.labels,$=X.style,D=this.horiz,U=this.getSlotWidth(),N=Math.max(1,Math.round(U-2*X.padding)),Z={},q=this.labelMetrics(),nt=$.textOverflow,it=0;if(o(X.rotation)||(Z.rotation=X.rotation||0),R.forEach(function(yt){(yt=j[yt]).movedLabel&&yt.replaceMovedLabel(),yt&&yt.label&&yt.label.textPxLength>it&&(it=yt.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>N&&it>q.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(U){var ot=N;if(!nt){var at="clip";for(N=R.length;!D&&N--;){var mt=R[N];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>U&&mt.css({width:U+"px"}),mt.getBBox().height>this.len/R.length-(q.h-q.f)&&(mt.specificTextOverflow="ellipsis"))}}}Z.rotation&&(ot=it>.5*m.chartHeight?.33*m.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=X.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),R.forEach(function(yt){var vt=(yt=j[yt])&&yt.label,pt=$.width,ct={};vt&&(vt.attr(Z),yt.shortenLabel?yt.shortenLabel():ot&&!pt&&"nowrap"!==$.whiteSpace&&(ot<vt.textPxLength||"SPAN"===vt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=vt.specificTextOverflow||at),vt.css(ct)):vt.styles&&vt.styles.width&&!ct.width&&!pt&&vt.css({width:null}),delete vt.specificTextOverflow,yt.rotation=Z.rotation)},this),this.tickRotCorr=T.rotCorr(q.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&f(this.min)&&f(this.max)},B.prototype.addTitle=function(m){var D,j=this.opposite,X=this.options.title,$=this.chart.styledMode;this.axisTitle||((D=X.textAlign)||(D=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[X.align]),this.axisTitle=this.chart.renderer.text(X.text||"",0,0,X.useHTML).attr({zIndex:7,rotation:X.rotation,align:D}).addClass("highcharts-axis-title"),$||this.axisTitle.css(r(X.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),$||X.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)},B.prototype.generateTick=function(m){var T=this.ticks;T[m]?T[m].addLabel():T[m]=new z(this,m)},B.prototype.getOffset=function(){var m=this,T=this,R=T.chart,j=T.horiz,X=T.options,$=T.side,D=T.ticks,U=T.tickPositions,N=T.coll,Z=T.axisParent,q=R.renderer,nt=R.inverted&&!T.isZAxis?[1,0,3,2][$]:$,it=T.hasData(),ot=X.title,at=X.labels,mt=R.axisOffset;R=R.clipOffset;var pt,yt=[-1,1,1,-1][$],vt=X.className,ct=0,J=0,et=0;if(T.showAxis=pt=it||X.showEmpty,T.staggerLines=T.horiz&&at.staggerLines||void 0,!T.axisGroup){var st=function(dt,xt,Et){return q.g(dt).attr({zIndex:Et}).addClass("highcharts-"+N.toLowerCase()+xt+" "+(m.isRadial?"highcharts-radial-axis"+xt+" ":"")+(vt||"")).add(Z)};T.gridGroup=st("grid","-grid",X.gridZIndex),T.axisGroup=st("axis","",X.zIndex),T.labelGroup=st("axis-labels","-labels",at.zIndex)}if(it||T.isLinked?(U.forEach(function(dt){T.generateTick(dt)}),T.renderUnsquish(),T.reserveSpaceDefault=0===$||2===$||{1:"left",3:"right"}[$]===T.labelAlign,b(at.reserveSpace,"center"===T.labelAlign||null,T.reserveSpaceDefault)&&U.forEach(function(dt){et=Math.max(D[dt].getLabelSize(),et)}),T.staggerLines&&(et*=T.staggerLines),T.labelOffset=et*(T.opposite?-1:1)):c(D,function(dt,xt){dt.destroy(),delete D[xt]}),ot&&ot.text&&!1!==ot.enabled&&(T.addTitle(pt),pt&&!1!==ot.reserveSpace)){T.titleOffset=ct=T.axisTitle.getBBox()[j?"height":"width"];var ut=ot.offset;J=f(ut)?0:b(ot.margin,j?5:10)}T.renderLine(),T.offset=yt*b(X.offset,mt[$]?mt[$]+(X.margin||0):0),T.tickRotCorr=T.tickRotCorr||{x:0,y:0},ot=0===$?-T.labelMetrics().h:2===$?T.tickRotCorr.y:0,it=Math.abs(et)+J,et&&(it=it-ot+yt*(j?b(at.y,T.tickRotCorr.y+8*yt):at.x)),T.axisTitleMargin=b(ut,it),T.getMaxLabelDimensions&&(T.maxLabelDimensions=T.getMaxLabelDimensions(D,U)),"colorAxis"!==N&&(j=this.tickSize("tick"),mt[$]=Math.max(mt[$],(T.axisTitleMargin||0)+ct+yt*T.offset,it,U&&U.length&&j?j[0]+yt*T.offset:0),X=!T.axisLine||X.offset?0:2*Math.floor(T.axisLine.strokeWidth()/2),R[nt]=Math.max(R[nt],X)),a(this,"afterGetOffset")},B.prototype.getLinePath=function(m){var T=this.chart,R=this.opposite,j=this.offset,X=this.horiz,$=this.left+(R?this.width:0)+j;return j=T.chartHeight-this.bottom-(R?this.height:0)+j,R&&(m*=-1),T.renderer.crispLine([["M",X?this.left:$,X?j:this.top],["L",X?T.chartWidth-this.right:$,X?j:T.chartHeight-this.bottom]],m)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var m=this.horiz,T=this.left,R=this.top,j=this.len,X=this.options.title,$=m?T:R,D=this.opposite,U=this.offset,N=X.x,Z=X.y,q=this.axisTitle,nt=this.chart.renderer.fontMetrics(X.style.fontSize,q);return q=Math.max(q.getBBox(null,0).height-nt.h-1,0),j={low:$+(m?0:j),middle:$+j/2,high:$+(m?j:0)}[X.align],T=(m?R+this.height:T)+(m?1:-1)*(D?-1:1)*this.axisTitleMargin+[-q,q,nt.f,-q][this.side],a(this,"afterGetTitlePosition",{titlePosition:m={x:m?j+N:T+(D?this.width:0)+U+N,y:m?T+Z-(D?this.height:0)+U:j+Z}}),m},B.prototype.renderMinorTick=function(m,T){var R=this.minorTicks;R[m]||(R[m]=new z(this,m,"minor")),T&&R[m].isNew&&R[m].render(null,!0),R[m].render(null,!1,1)},B.prototype.renderTick=function(m,T,R){var j=this.ticks;(!this.isLinked||m>=this.min&&m<=this.max||this.grid&&this.grid.isColumn)&&(j[m]||(j[m]=new z(this,m)),R&&j[m].isNew&&j[m].render(T,!0,-1),j[m].render(T))},B.prototype.render=function(){var yt,vt,m=this,T=m.chart,R=m.logarithmic,j=m.options,X=m.isLinked,$=m.tickPositions,D=m.axisTitle,U=m.ticks,N=m.minorTicks,Z=m.alternateBands,q=j.stackLabels,nt=j.alternateGridColor,it=m.tickmarkOffset,ot=m.axisLine,at=m.showAxis,mt=P(T.renderer.globalAnimation);if(m.labelEdge.length=0,m.overlap=!1,[U,N,Z].forEach(function(ct){c(ct,function(J){J.isActive=!1})}),m.hasData()||X){var pt=m.chart.hasRendered&&m.old&&d(m.old.min);m.minorTickInterval&&!m.categories&&m.getMinorTickPositions().forEach(function(ct){m.renderMinorTick(ct,pt)}),$.length&&($.forEach(function(ct,J){m.renderTick(ct,J,pt)}),it&&(0===m.min||m.single)&&(U[-1]||(U[-1]=new z(m,-1,null,!0)),U[-1].render(-1))),nt&&$.forEach(function(ct,J){vt=void 0!==$[J+1]?$[J+1]+it:m.max-it,J%2==0&&ct<m.max&&vt<=m.max+(T.polar?-it:it)&&(Z[ct]||(Z[ct]=new Y.PlotLineOrBand(m)),yt=ct+it,Z[ct].options={from:R?R.lin2log(yt):yt,to:R?R.lin2log(vt):vt,color:nt,className:"highcharts-alternate-grid"},Z[ct].render(),Z[ct].isActive=!0)}),m._addedPlotLB||(m._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){m.addPlotBandOrLine(ct)}))}[U,N,Z].forEach(function(ct){var J=[],et=mt.duration;c(ct,function(st,ut){st.isActive||(st.render(ut,!1,0),st.isActive=!1,J.push(ut))}),A(function(){for(var st=J.length;st--;)ct[J[st]]&&!ct[J[st]].isActive&&(ct[J[st]].destroy(),delete ct[J[st]])},ct!==Z&&T.hasRendered&&et?et:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),D&&at&&(j=m.getTitlePosition(),d(j.y)?(D[D.isNew?"attr":"animate"](j),D.isNew=!1):(D.attr("y",-9999),D.isNew=!0)),q&&q.enabled&&m.stacking&&m.stacking.renderStackTotals(),m.old={len:m.len,max:m.max,min:m.min,transA:m.transA,userMax:m.userMax,userMin:m.userMin},m.isDirty=!1,a(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(m){var T=this,R=T.plotLinesAndBands,j=this.eventOptions;if(a(this,"destroy",{keepEvents:m}),m||k(T),[T.ticks,T.minorTicks,T.alternateBands].forEach(function($){C($)}),R)for(m=R.length;m--;)R[m].destroy();for(var X in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function($){T[$]&&(T[$]=T[$].destroy())}),T.plotLinesAndBandsGroups)T.plotLinesAndBandsGroups[X]=T.plotLinesAndBandsGroups[X].destroy();c(T,function($,D){-1===T.getKeepProps().indexOf(D)&&delete T[D]}),this.eventOptions=j},B.prototype.drawCrosshair=function(m,T){var $,R=this.crosshair,j=b(R&&R.snap,!0),X=this.chart,D=this.cross;if(a(this,"drawCrosshair",{e:m,point:T}),m||(m=this.cross&&this.cross.e),R&&!1!==(f(T)||!j)){if(j?f(T)&&($=b("colorAxis"!==this.coll?T.crosshairPos:null,this.isXAxis?T.plotX:this.len-T.plotY)):$=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),f($)){var U={value:T&&(this.isXAxis?T.x:b(T.stackY,T.y)),translatedValue:$};X.polar&&p(U,{isCrosshair:!0,chartX:m&&m.chartX,chartY:m&&m.chartY,point:T}),U=this.getPlotLinePath(U)||null}if(!f(U))return void this.hideCrosshair();j=this.categories&&!this.isRadial,D||(this.cross=D=X.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(R.className||"")).attr({zIndex:b(R.zIndex,2)}).add(),X.styledMode||(D.attr({stroke:R.color||(j?V.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":b(R.width,1)}).css({"pointer-events":"none"}),R.dashStyle&&D.attr({dashstyle:R.dashStyle}))),D.show().attr({d:U}),j&&!R.width&&D.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();a(this,"afterDrawCrosshair",{e:m,point:T})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),a(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var m=this.chart.options.chart.panning;return!!(m&&m.enabled&&/y/.test(m.type))},B.prototype.validatePositiveValue=function(m){return d(m)&&0<m},B.prototype.update=function(m,T){var R=this.chart;m=r(this.userOptions,m),this.destroy(!0),this.init(R,m),R.isDirtyBox=!0,b(T,!0)&&R.redraw()},B.prototype.remove=function(m){for(var T=this.chart,R=this.coll,j=this.series,X=j.length;X--;)j[X]&&j[X].remove(!1);x(T.axes,this),x(T[R],this),T[R].forEach(function($,D){$.options.index=$.userOptions.index=D}),this.destroy(),T.isDirtyBox=!0,b(m,!0)&&T.redraw()},B.prototype.setTitle=function(m,T){this.update({title:m},T)},B.prototype.setCategories=function(m,T){this.update({categories:m},T)},B.defaultOptions=K.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),lt(F,"Core/Axis/DateTimeAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.timeUnits;return function(z){function I(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function P(s){"datetime"!==s.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new E(this))}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("dateTime"),s.prototype.getTimeTicks=I,K(s,"init",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.normalizeTimeTickInterval=function(l,g){var C,v=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],S=W[(g=v[v.length-1])[0]],f=g[1];for(C=0;C<v.length&&(S=W[(g=v[C])[0]],f=g[1],!(v[C+1]&&l<=(S*f[f.length-1]+W[v[C+1][0]])/2));C++);return S===W.year&&l<5*S&&(f=[1,2,5]),{unitRange:S,count:l=Q(l/S,f,"year"===g[0]?Math.max(V(l/S),1):1),unitName:g[0]}},s.prototype.getXDateFormat=function(l,g){var v=this.axis;return v.closestPointRange?v.chart.time.getDateFormat(v.closestPointRange,l,v.options.startOfWeek,g)||g.year:g.day},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/LogarithmicAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.pick;return function(z){function I(s){var l=this.logarithmic;"logarithmic"!==s.userOptions.type?this.logarithmic=void 0:l||(this.logarithmic=new E(this))}function P(){var s=this.logarithmic;s&&(this.lin2val=function(l){return s.lin2log(l)},this.val2lin=function(l){return s.log2lin(l)})}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("logarithmic"),K(s,"init",I),K(s,"afterInit",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.getLogTickPositions=function(l,g,v,S){var f=this.axis,C=f.len,x=f.options,M=[];if(S||(this.minorAutoInterval=void 0),.5<=l)l=Math.round(l),M=f.getLinearTickPositions(l,g,v);else if(.08<=l){var a,p=Math.floor(g),h=x=void 0;for(C=.3<l?[1,2,4]:.15<l?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];p<v+1&&!h;p++){var n=C.length;for(a=0;a<n&&!h;a++){var d=this.log2lin(this.lin2log(p)*C[a]);d>g&&(!S||x<=v)&&void 0!==x&&M.push(x),x>v&&(h=!0),x=d}}}else g=this.lin2log(g),v=this.lin2log(v),l=S?f.getMinorTickInterval():x.tickInterval,l=W("auto"===l?null:l,this.minorAutoInterval,x.tickPixelInterval/(S?5:1)*(v-g)/((S?C/f.tickPositions.length:C)||1)),l=Q(l,void 0,V(l)),M=f.getLinearTickPositions(l,g,v).map(this.log2lin),S||(this.minorAutoInterval=l/5);return S||(f.tickInterval=l),M},s.prototype.lin2log=function(l){return Math.pow(10,l)},s.prototype.log2lin=function(l){return Math.log(l)/Math.LN10},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[F["Core/Utilities.js"]],function(H){var W,K=H.erase,V=H.extend,Q=H.isNumber;return function(Y){var I,z=[];Y.compose=function(w,E){return I||(I=w),-1===z.indexOf(E)&&(z.push(E),V(E.prototype,P.prototype)),E};var P=function(){function w(){}return w.prototype.getPlotBandPath=function(E,s,l){void 0===l&&(l=this.options);var g=this.getPlotLinePath({value:s,force:!0,acrossPanes:l.acrossPanes}),v=[],S=this.horiz;if(s=!Q(this.min)||!Q(this.max)||E<this.min&&s<this.min||E>this.max&&s>this.max,E=this.getPlotLinePath({value:E,force:!0,acrossPanes:l.acrossPanes}),l=1,E&&g){if(s){var f=E.toString()===g.toString();l=0}for(s=0;s<E.length;s+=2){var C=E[s],x=E[s+1],M=g[s],p=g[s+1];"M"!==C[0]&&"L"!==C[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==p[0]&&"L"!==p[0]||(S&&M[1]===C[1]?(M[1]+=l,p[1]+=l):S||M[2]!==C[2]||(M[2]+=l,p[2]+=l),v.push(["M",C[1],C[2]],["L",x[1],x[2]],["L",p[1],p[2]],["L",M[1],M[2]],["Z"])),v.isFlat=f}}return v},w.prototype.addPlotBand=function(E){return this.addPlotBandOrLine(E,"plotBands")},w.prototype.addPlotLine=function(E){return this.addPlotBandOrLine(E,"plotLines")},w.prototype.addPlotBandOrLine=function(E,s){var l=this,g=this.userOptions,v=new I(this,E);if(this.visible&&(v=v.render()),v){if(this._addedPlotLB||(this._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(f){l.addPlotBandOrLine(f)})),s){var S=g[s]||[];S.push(E),g[s]=S}this.plotLinesAndBands.push(v)}return v},w.prototype.removePlotBandOrLine=function(E){var s=this.plotLinesAndBands,l=this.options,g=this.userOptions;if(s){for(var v=s.length;v--;)s[v].id===E&&s[v].destroy();[l.plotLines||[],g.plotLines||[],l.plotBands||[],g.plotBands||[]].forEach(function(S){for(v=S.length;v--;)(S[v]||{}).id===E&&K(S,S[v])})}},w.prototype.removePlotBand=function(E){this.removePlotBandOrLine(E)},w.prototype.removePlotLine=function(E){this.removePlotBandOrLine(E)},w}()}(W||(W={})),W}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[F["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],F["Core/Utilities.js"]],function(H,K){var V=K.arrayMax,Q=K.arrayMin,W=K.defined,Y=K.destroyObjectProperties,z=K.erase,I=K.fireEvent,P=K.merge,w=K.objectEach,E=K.pick;return function(){function s(l,g){this.axis=l,g&&(this.options=g,this.id=g.id)}return s.compose=function(l){return H.compose(s,l)},s.prototype.render=function(){I(this,"render");var l=this,g=l.axis,v=g.horiz,S=g.logarithmic,f=l.options,C=f.color,x=E(f.zIndex,0),M=f.events,p={},a=g.chart.renderer,h=f.label,n=l.label,d=f.to,o=f.from,r=f.value,u=l.svgElem,c=[],b=W(o)&&W(d);c=W(r);var O=!u,k={class:"highcharts-plot-"+(b?"band ":"line ")+(f.className||"")},_=b?"bands":"lines";if(S&&(o=S.log2lin(o),d=S.log2lin(d),r=S.log2lin(r)),g.chart.styledMode||(c?(k.stroke=C||"#999999",k["stroke-width"]=E(f.width,1),f.dashStyle&&(k.dashstyle=f.dashStyle)):b&&(k.fill=C||"#e6ebf5",f.borderWidth&&(k.stroke=f.borderColor,k["stroke-width"]=f.borderWidth))),p.zIndex=x,(S=g.plotLinesAndBandsGroups[_+="-"+x])||(g.plotLinesAndBandsGroups[_]=S=a.g("plot-"+_).attr(p).add()),O&&(l.svgElem=u=a.path().attr(k).add(S)),c)c=g.getPlotLinePath({value:r,lineWidth:u.strokeWidth(),acrossPanes:f.acrossPanes});else{if(!b)return;c=g.getPlotBandPath(o,d,f)}return!l.eventsAdded&&M&&(w(M,function(A,B){u.on(B,function(m){M[B].apply(l,[m])})}),l.eventsAdded=!0),(O||!u.d)&&c&&c.length?u.attr({d:c}):u&&(c?(u.show(!0),u.animate({d:c})):u.d&&(u.hide(),n&&(l.label=n=n.destroy()))),h&&(W(h.text)||W(h.formatter))&&c&&c.length&&0<g.width&&0<g.height&&!c.isFlat?(h=P({align:v&&b&&"center",x:v?!b&&4:10,verticalAlign:!v&&b&&"middle",y:v?b?16:10:b?6:-4,rotation:v&&!b&&90},h),this.renderLabel(h,c,b,x)):n&&n.hide(),l},s.prototype.renderLabel=function(l,g,v,S){var f=this.axis,C=f.chart.renderer,x=this.label;x||(this.label=x=C.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(v?"band":"line")+"-label "+(l.className||""),zIndex:S}).add(),f.chart.styledMode||x.css(P({textOverflow:"ellipsis"},l.style))),S=g.xBounds||[g[0][1],g[1][1],v?g[2][1]:g[0][1]],g=g.yBounds||[g[0][2],g[1][2],v?g[2][2]:g[0][2]],v=Q(S),C=Q(g),x.align(l,!1,{x:v,y:C,width:V(S)-v,height:V(g)-C}),x.alignValue&&"left"!==x.alignValue||x.css({width:(90===x.rotation?f.height-(x.alignAttr.y-f.top):f.width-(x.alignAttr.x-f.left))+"px"}),x.show(!0)},s.prototype.getLabelText=function(l){return W(l.formatter)?l.formatter.call(this):l.text},s.prototype.destroy=function(){z(this.axis.plotLinesAndBands,this),delete this.axis,Y(this)},s}()}),lt(F,"Core/Tooltip.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.format,z=K.doc,I=V.distribute,P=W.addEvent,w=W.clamp,E=W.css,s=W.defined,l=W.discardElement,g=W.extend,v=W.fireEvent,S=W.isArray,f=W.isNumber,C=W.isString,x=W.merge,M=W.pick,p=W.splat,a=W.syncTimeout;return function(){function h(n,d){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=n,this.init(n,d)}return h.prototype.applyFilter=function(){var n=this.chart;n.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+n.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},h.prototype.bodyFormatter=function(n){return n.map(function(d){var o=d.series.tooltipOptions;return(o[(d.point.formatPrefix||"point")+"Formatter"]||d.point.tooltipFormatter).call(d.point,o[(d.point.formatPrefix||"point")+"Format"]||"")})},h.prototype.cleanSplit=function(n){this.chart.series.forEach(function(d){var o=d&&d.tt;o&&(!o.isActive||n?d.tt=o.destroy():o.isActive=!1)})},h.prototype.defaultFormatter=function(n){var d=this.points||p(this),o=[n.tooltipFooterHeaderFormatter(d[0])];return(o=o.concat(n.bodyFormatter(d))).push(n.tooltipFooterHeaderFormatter(d[0],!0)),o},h.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),l(this.container)),W.clearTimeout(this.hideTimer),W.clearTimeout(this.tooltipTimeout)},h.prototype.getAnchor=function(n,d){var O,k,o=this.chart,r=o.pointer,u=o.inverted,c=o.plotTop,b=o.plotLeft,_=0,A=0;return n=p(n),this.followPointer&&d?(void 0===d.chartX&&(d=r.normalize(d)),r=[d.chartX-b,d.chartY-c]):n[0].tooltipPos?r=n[0].tooltipPos:(n.forEach(function(B){O=B.series.yAxis,_+=B.plotX||0,A+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(k=B.series.xAxis)&&O&&(u?(_+=c+o.plotHeight-k.len-k.pos,A+=b+o.plotWidth-O.len-O.pos):(_+=k.pos-b,A+=O.pos-c))}),_/=n.length,A/=n.length,r=[u?o.plotWidth-A:_,u?o.plotHeight-_:A],this.shared&&1<n.length&&d&&(u?r[0]=d.chartX-b:r[1]=d.chartY-c)),r.map(Math.round)},h.prototype.getLabel=function(){var k,n=this,d=this.chart.styledMode,o=this.options,r=this.split&&this.allowShared,u="tooltip"+(s(o.className)?" "+o.className:""),c=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),b=function(){n.inContact=!0},O=function(j){var X=n.chart.hoverSeries;n.inContact=n.shouldStickOnContact()&&n.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!n.inContact&&X&&X.onMouseOut&&X.onMouseOut()},_=this.chart.renderer;if(n.label){var A=!n.label.hasClass("highcharts-label");(r&&!A||!r&&A)&&n.destroy()}if(!this.label){if(this.outside){A=this.chart.options.chart.style;var B=Q.getRendererType();this.container=k=K.doc.createElement("div"),k.className="highcharts-tooltip-container",E(k,{position:"absolute",top:"1px",pointerEvents:c,zIndex:Math.max(this.options.style.zIndex||0,(A&&A.zIndex||0)+3)}),P(k,"mouseenter",b),P(k,"mouseleave",O),K.doc.body.appendChild(k),this.renderer=_=new B(k,0,0,A,void 0,void 0,_.styledMode)}if(r?this.label=_.g(u):(this.label=_.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,u).attr({padding:o.padding,r:o.borderRadius}),d||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:c}).shadow(o.shadow)),d&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),n.outside&&!n.split){var m=this.label,T=m.xSetter,R=m.ySetter;m.xSetter=function(j){T.call(m,n.distance),k.style.left=j+"px"},m.ySetter=function(j){R.call(m,n.distance),k.style.top=j+"px"}}this.label.on("mouseenter",b).on("mouseleave",O).attr({zIndex:8}).add()}return this.label},h.prototype.getPosition=function(n,d,o){var R,r=this.chart,u=this.distance,c={},b=r.inverted&&o.h||0,O=this.outside,k=O?z.documentElement.clientWidth-2*u:r.chartWidth,_=O?Math.max(z.body.scrollHeight,z.documentElement.scrollHeight,z.body.offsetHeight,z.documentElement.offsetHeight,z.documentElement.clientHeight):r.chartHeight,A=r.pointer.getChartPosition(),B=function(N){var Z="x"===N;return[N,Z?k:_,Z?n:d].concat(O?[Z?n*A.scaleX:d*A.scaleY,Z?A.left-u+(o.plotX+r.plotLeft)*A.scaleX:A.top-u+(o.plotY+r.plotTop)*A.scaleY,0,Z?k:_]:[Z?n:d,Z?o.plotX+r.plotLeft:o.plotY+r.plotTop,Z?r.plotLeft:r.plotTop,Z?r.plotLeft+r.plotWidth:r.plotTop+r.plotHeight])},m=B("y"),T=B("x");B=!!o.negative,!r.polar&&r.hoverSeries&&r.hoverSeries.yAxis&&r.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&M(o.ttBelow,!r.inverted===B),X=function(N,Z,q,nt,it,ot,at){var mt=O?"y"===N?u*A.scaleY:u*A.scaleX:u,yt=(q-nt)/2,vt=nt<it-u,pt=it+u+nt<Z,ct=it-mt-q+yt;if(it=it+mt-yt,j&&pt)c[N]=it;else if(!j&&vt)c[N]=ct;else if(vt)c[N]=Math.min(at-nt,0>ct-b?ct:ct-b);else{if(!pt)return!1;c[N]=Math.max(ot,it+b+q>Z?it:it+b)}},$=function(N,Z,q,nt,it){var ot;return it<u||it>Z-u?ot=!1:c[N]=it<q/2?1:it>Z-nt/2?Z-nt-2:it-q/2,ot},D=function(N){var Z=m;m=T,T=Z,R=N},U=function(){!1!==X.apply(0,m)?!1!==$.apply(0,T)||R||(D(!0),U()):R?c.x=c.y=0:(D(!0),U())};return(r.inverted||1<this.len)&&D(),U(),c},h.prototype.hide=function(n){var d=this;W.clearTimeout(this.hideTimer),n=M(n,this.options.hideDelay),this.isHidden||(this.hideTimer=a(function(){d.getLabel().fadeOut(n&&void 0),d.isHidden=!0},n))},h.prototype.init=function(n,d){this.chart=n,this.options=d,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=d.split&&!n.inverted&&!n.polar,this.shared=d.shared||this.split,this.outside=M(d.outside,!(!n.scrollablePixelsX&&!n.scrollablePixelsY))},h.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},h.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},h.prototype.move=function(n,d,o,r){var u=this,c=u.now,b=!1!==u.options.animation&&!u.isHidden&&(1<Math.abs(n-c.x)||1<Math.abs(d-c.y)),O=u.followPointer||1<u.len;g(c,{x:b?(2*c.x+n)/3:n,y:b?(c.y+d)/2:d,anchorX:O?void 0:b?(2*c.anchorX+o)/3:o,anchorY:O?void 0:b?(c.anchorY+r)/2:r}),u.getLabel().attr(c),u.drawTracker(),b&&(W.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,d,o,r)},32))},h.prototype.refresh=function(n,d){var o=this.chart,r=this.options,u=p(n),c=u[0],b=[],O=r.formatter||this.defaultFormatter,k=this.shared,_=o.styledMode,A={};if(r.enabled){W.clearTimeout(this.hideTimer),this.allowShared=!(!S(n)&&n.series&&n.series.noSharedTooltip),this.followPointer=!this.split&&c.series.tooltipOptions.followPointer;var B=(n=this.getAnchor(n,d))[0],m=n[1];if(k&&this.allowShared?(o.pointer.applyInactiveState(u),u.forEach(function(j){j.setState("hover"),b.push(j.getLabelConfig())}),(A={x:c.category,y:c.y}).points=b):A=c.getLabelConfig(),this.len=b.length,O=O.call(A,this),this.distance=M((k=c.series).tooltipOptions.distance,16),!1===O)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(O,u);else{var T=B,R=m;if(d&&o.pointer.isDirectTouch&&(T=d.chartX-o.plotLeft,R=d.chartY-o.plotTop),!o.polar&&!1!==k.options.clip&&!u.some(function(j){return j.series.shouldShowTooltip(T,R)}))return void this.hide();d=this.getLabel(),r.style.width&&!_||d.css({width:this.chart.spacingBox.width+"px"}),d.attr({text:O&&O.join?O.join(""):O}),d.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+M(c.colorIndex,k.colorIndex)),_||d.attr({stroke:r.borderColor||c.color||k.color||"#666666"}),this.updatePosition({plotX:B,plotY:m,negative:c.negative,ttBelow:c.ttBelow,h:n[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}},h.prototype.renderSplit=function(n,d){function o(pt,ct,J,et,st){return void 0===st&&(st=!0),J?(ct=nt?0:mt,pt=w(pt-et/2,N.left,N.right-et-(r.outside?it:0))):(ct-=ot,pt=w(pt=st?pt-et-$:pt+$,st?pt:N.left,N.right)),{x:pt,y:ct}}var r=this,u=r.chart,c=r.chart,b=c.chartWidth,O=c.chartHeight,k=c.plotHeight,_=c.plotLeft,A=c.plotTop,B=c.pointer,m=c.scrollablePixelsY;m=void 0===m?0:m;var R=c.scrollingContainer,j=(R=void 0===R?{scrollLeft:0,scrollTop:0}:R).scrollLeft;R=R.scrollTop;var X=c.styledMode,$=r.distance,D=r.options,U=r.options.positioner,N=r.outside&&"number"!=typeof c.scrollablePixelsX?z.documentElement.getBoundingClientRect():{left:j,right:j+b,top:R,bottom:R+O},Z=r.getLabel(),q=this.renderer||u.renderer,nt=!(!u.xAxis[0]||!u.xAxis[0].opposite),it=(u=B.getChartPosition()).left;u=u.top;var ot=A+R,at=0,mt=k-m;C(n)&&(n=[!1,n]),n=n.slice(0,d.length+1).reduce(function(pt,ct,J){if(!1!==ct&&""!==ct){var et=(J=d[J-1]||{isHeader:!0,plotX:d[0].plotX,plotY:k,series:{}}).isHeader,st=et?r:J.series;ct=ct.toString();var ut=st.tt,dt=J.isHeader,xt=J.series,Et="highcharts-color-"+M(J.colorIndex,xt.colorIndex,"none");if(ut||(ut={padding:D.padding,r:D.borderRadius},X||(ut.fill=D.backgroundColor,ut["stroke-width"]=D.borderWidth),ut=q.label("",0,0,D[dt?"headerShape":"shape"],void 0,void 0,D.useHTML).addClass((dt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Et).attr(ut).add(Z)),ut.isActive=!0,ut.attr({text:ct}),X||ut.css(D.style).shadow(D.shadow).attr({stroke:D.borderColor||J.color||xt.color||"#333333"}),ct=(dt=(st=st.tt=ut).getBBox()).width+st.strokeWidth(),et&&(mt+=at=dt.height,nt&&(ot-=at)),xt=void 0===(xt=J.plotX)?0:xt,Et=void 0===(Et=J.plotY)?0:Et,ut=J.series,J.isHeader){xt=_+xt;var wt=A+k/2}else{var kt=ut.xAxis,Dt=ut.yAxis;xt=kt.pos+w(xt,-$,kt.len+$),ut.shouldShowTooltip(0,Dt.pos-A+Et,{ignoreX:!0})&&(wt=Dt.pos+Et)}xt=w(xt,N.left-$,N.right+$),"number"==typeof wt?(dt=dt.height+1,Et=U?U.call(r,ct,dt,J):o(xt,wt,et,ct),pt.push({align:U?0:void 0,anchorX:xt,anchorY:wt,boxWidth:ct,point:J,rank:M(Et.rank,et?1:0),size:dt,target:Et.y,tt:st,x:Et.x})):st.isActive=!1}return pt},[]),!U&&n.some(function(pt){var ct=(r.outside?it:0)+pt.anchorX;return ct<N.left&&ct+pt.boxWidth<N.right||ct<it-N.left+pt.boxWidth&&N.right-ct>ct})&&(n=n.map(function(pt){var ct=o(pt.anchorX,pt.anchorY,pt.point.isHeader,pt.boxWidth,!1);return g(pt,{target:ct.y,x:ct.x})})),r.cleanSplit(),I(n,mt);var yt=it,vt=it;n.forEach(function(pt){var ct=pt.x,J=pt.boxWidth;(pt=pt.isHeader)||(r.outside&&it+ct<yt&&(yt=it+ct),!pt&&r.outside&&yt+J>vt&&(vt=it+ct))}),n.forEach(function(pt){var ct=pt.x,J=pt.anchorX,et=pt.pos,st=pt.point.isHeader;if(et={visibility:void 0===et?"hidden":"inherit",x:ct,y:et+ot,anchorX:J,anchorY:pt.anchorY},r.outside&&ct<J){var ut=it-yt;0<ut&&(st||(et.x=ct+ut,et.anchorX=J+ut),st&&(et.x=(vt-yt)/2,et.anchorX=J+ut))}pt.tt.attr(et)}),n=r.container,m=r.renderer,r.outside&&n&&m&&(c=Z.getBBox(),m.setSize(c.width+c.x,c.height+c.y,!1),n.style.left=yt+"px",n.style.top=u+"px")},h.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var n=this.chart,d=this.label,o=this.shared?n.hoverPoints:n.hoverPoint;if(d&&o){var r={x:0,y:0,width:0,height:0};o=this.getAnchor(o);var u=d.getBBox();o[0]+=n.plotLeft-d.translateX,o[1]+=n.plotTop-d.translateY,r.x=Math.min(0,o[0]),r.y=Math.min(0,o[1]),r.width=0>o[0]?Math.max(Math.abs(o[0]),u.width-o[0]):Math.max(Math.abs(o[0]),u.width),r.height=0>o[1]?Math.max(Math.abs(o[1]),u.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),u.height),this.tracker?this.tracker.attr(r):(this.tracker=d.renderer.rect(r).addClass("highcharts-tracker").add(d),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},h.prototype.styledModeFormat=function(n){return n.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},h.prototype.tooltipFooterHeaderFormatter=function(n,d){var o=n.series,r=o.tooltipOptions,u=o.xAxis,c=u&&u.dateTime,b=r.xDateFormat,O=r[d?"footerFormat":"headerFormat"];return v(this,"headerFormatter",u={isFooter:d,labelConfig:n},function(k){c&&!b&&f(n.key)&&(b=c.getXDateFormat(n.key,r.dateTimeLabelFormats)),c&&b&&(n.point&&n.point.tooltipDateKeys||["key"]).forEach(function(_){O=O.replace("{point."+_+"}","{point."+_+":"+b+"}")}),o.chart.styledMode&&(O=this.styledModeFormat(O)),k.text=Y(O,{point:n,series:o},this.chart)}),u.text},h.prototype.update=function(n){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,n),this.init(this.chart,x(!0,this.options,n))},h.prototype.updatePosition=function(n){var d=this.chart,o=this.options,r=d.pointer,u=this.getLabel();r=r.getChartPosition();var c=(o.positioner||this.getPosition).call(this,u.width,u.height,n),b=n.plotX+d.plotLeft;n=n.plotY+d.plotTop,this.outside&&(this.renderer.setSize(u.width+(o=o.borderWidth+2*this.distance),u.height+o,!1),(1!==r.scaleX||1!==r.scaleY)&&(E(this.container,{transform:"scale("+r.scaleX+", "+r.scaleY+")"}),b*=r.scaleX,n*=r.scaleY),b+=r.left-c.x,n+=r.top-c.y),this.move(Math.round(c.x),Math.round(c.y||0),b,n)},h}()}),lt(F,"Core/Series/Point.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=K.animObject,z=V.defaultOptions,I=Q.format,P=W.addEvent,w=W.defined,E=W.erase,s=W.extend,l=W.fireEvent,g=W.getNestedProperty,v=W.isArray,S=W.isFunction,f=W.isNumber,C=W.isObject,x=W.merge,M=W.objectEach,p=W.pick,a=W.syncTimeout,h=W.removeEvent,n=W.uniqueKey;return function(){function d(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return d.prototype.animateBeforeDestroy=function(){var o=this,r={x:o.startXPos,opacity:0},u=o.getGraphicalProps();u.singular.forEach(function(c){o[c]=o[c].animate("dataLabel"===c?{x:o[c].startXPos,y:o[c].startYPos,opacity:0}:r)}),u.plural.forEach(function(c){o[c].forEach(function(b){b.element&&b.animate(s({x:o.startXPos},b.startYPos?{x:b.startXPos,y:b.startYPos}:{}))})})},d.prototype.applyOptions=function(o,r){var u=this.series,c=u.options.pointValKey||u.pointValKey;return o=d.prototype.optionsToObject.call(this,o),s(this,o),this.options=this.options?s(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,c&&(this.y=d.prototype.getNestedProperty.call(this,c)),this.formatPrefix=(this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!f(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===r&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),void 0===this.x&&u?this.x=void 0===r?u.autoIncrement():r:f(o.x)&&u.options.relativeXValue&&(this.x=u.autoIncrement(o.x)),this},d.prototype.destroy=function(){function o(){for(k in(r.graphic||r.dataLabel||r.dataLabels)&&(h(r),r.destroyElements()),r)r[k]=null}var r=this,u=r.series,c=u.chart;u=u.options.dataSorting;var k,b=c.hoverPoints,O=Y(r.series.chart.renderer.globalAnimation);r.legendItem&&c.legend.destroyItem(r),b&&(r.setState(),E(b,r),b.length||(c.hoverPoints=null)),r===c.hoverPoint&&r.onMouseOut(),u&&u.enabled?(this.animateBeforeDestroy(),a(o,O.duration)):o(),c.pointCount--},d.prototype.destroyElements=function(o){var r=this;(o=r.getGraphicalProps(o)).singular.forEach(function(u){r[u]=r[u].destroy()}),o.plural.forEach(function(u){r[u].forEach(function(c){c.element&&c.destroy()}),delete r[u]})},d.prototype.firePointEvent=function(o,r,u){var c=this,b=this.series.options;(b.point.events[o]||c.options&&c.options.events&&c.options.events[o])&&c.importEvents(),"click"===o&&b.allowPointSelect&&(u=function(O){c.select&&c.select(null,O.ctrlKey||O.metaKey||O.shiftKey)}),l(c,o,r,u)},d.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},d.prototype.getGraphicalProps=function(o){var b,r=this,u=[],c={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","upperGraphic","shadowGroup"),o.dataLabel&&u.push("dataLabel","dataLabelUpper","connector"),b=u.length;b--;){var O=u[b];r[O]&&c.singular.push(O)}return["dataLabel","connector"].forEach(function(k){var _=k+"s";o[k]&&r[_]&&c.plural.push(_)}),c},d.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},d.prototype.getNestedProperty=function(o){if(o)return 0===o.indexOf("custom.")?g(o,this.options):this[o]},d.prototype.getZone=function(){var o=this.series,r=o.zones;o=o.zoneAxis||"y";var u,c=0;for(u=r[c];this[o]>=u.value;)u=r[++c];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=u&&u.color&&!this.options.color?u.color:this.nonZonedColor,u},d.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},d.prototype.init=function(o,r,u){return this.series=o,this.applyOptions(r,u),this.id=w(this.id)?this.id:n(),this.resolveColor(),o.chart.pointCount++,l(this,"afterInit"),this},d.prototype.optionsToObject=function(o){var r=this.series,u=r.options.keys,c=u||r.pointArrayMap||["y"],b=c.length,O={},k=0,_=0;if(f(o)||null===o)O[c[0]]=o;else if(v(o))for(!u&&o.length>b&&("string"==(r=typeof o[0])?O.name=o[0]:"number"===r&&(O.x=o[0]),k++);_<b;)u&&void 0===o[k]||(0<c[_].indexOf(".")?d.prototype.setNestedProperty(O,o[k],c[_]):O[c[_]]=o[k]),k++,_++;else"object"==typeof o&&(O=o,o.dataLabels&&(r._hasPointLabels=!0),o.marker&&(r._hasPointMarkers=!0));return O},d.prototype.resolveColor=function(){var o=this.series,r=o.chart.styledMode,u=o.chart.options.chart.colorCount;if(delete this.nonZonedColor,o.options.colorByPoint){if(!r){var c=(u=o.options.colors||o.chart.options.colors)[o.colorCounter];u=u.length}r=o.colorCounter,o.colorCounter++,o.colorCounter===u&&(o.colorCounter=0)}else r||(c=o.color),r=o.colorIndex;this.colorIndex=p(this.options.colorIndex,r),this.color=p(this.options.color,c)},d.prototype.setNestedProperty=function(o,r,u){return u.split(".").reduce(function(c,b,O,k){return c[b]=k.length-1===O?r:C(c[b],!0)?c[b]:{},c[b]},o),o},d.prototype.tooltipFormatter=function(o){var r=this.series,u=r.tooltipOptions,c=p(u.valueDecimals,""),b=u.valuePrefix||"",O=u.valueSuffix||"";return r.chart.styledMode&&(o=r.chart.tooltip.styledModeFormat(o)),(r.pointArrayMap||["y"]).forEach(function(k){k="{point."+k,(b||O)&&(o=o.replace(RegExp(k+"}","g"),b+k+"}"+O)),o=o.replace(RegExp(k+"}","g"),k+":,."+c+"f}")}),I(o,{point:this,series:this.series},r.chart)},d.prototype.update=function(o,r,u,c){function b(){O.applyOptions(o);var T=_&&O.hasDummyGraphic;T=null===O.y?!T:T,_&&T&&(O.graphic=_.destroy(),delete O.hasDummyGraphic),C(o,!0)&&(_&&_.element&&o&&o.marker&&void 0!==o.marker.symbol&&(O.graphic=_.destroy()),o&&o.dataLabels&&O.dataLabel&&(O.dataLabel=O.dataLabel.destroy()),O.connector&&(O.connector=O.connector.destroy())),k.updateParallelArrays(O,m=O.index),B.data[m]=C(B.data[m],!0)||C(o,!0)?O.options:p(o,B.data[m]),k.isDirty=k.isDirtyData=!0,!k.fixedBox&&k.hasCartesianSeries&&(A.isDirtyBox=!0),"point"===B.legendType&&(A.isDirtyLegend=!0),r&&A.redraw(u)}var m,O=this,k=O.series,_=O.graphic,A=k.chart,B=k.options;r=p(r,!0),!1===c?b():O.firePointEvent("update",{options:o},b)},d.prototype.remove=function(o,r){this.series.removePoint(this.series.data.indexOf(this),o,r)},d.prototype.select=function(o,r){var u=this,c=u.series,b=c.chart;this.selectedStaging=o=p(o,!u.selected),u.firePointEvent(o?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=o,c.options.data[c.data.indexOf(u)]=u.options,u.setState(o&&"select"),r||b.getSelectedPoints().forEach(function(O){var k=O.series;O.selected&&O!==u&&(O.selected=O.options.selected=!1,k.options.data[k.data.indexOf(O)]=O.options,O.setState(b.hoverPoints&&k.options.inactiveOtherPoints?"inactive":""),O.firePointEvent("unselect"))})}),delete this.selectedStaging},d.prototype.onMouseOver=function(o){var r=this.series.chart,u=r.pointer;o=o?u.normalize(o):u.getChartCoordinatesFromPoint(this,r.inverted),u.runPointActions(o,this)},d.prototype.onMouseOut=function(){var o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(r){r.setState()}),o.hoverPoints=o.hoverPoint=null},d.prototype.importEvents=function(){if(!this.hasImportedEvents){var o=this,r=x(o.series.options.point,o.options).events;o.events=r,M(r,function(u,c){S(u)&&P(o,c,u)}),this.hasImportedEvents=!0}},d.prototype.setState=function(o,r){var j,u=this.series,c=this.state,b=u.options.states[o||"normal"]||{},O=z.plotOptions[u.type].marker&&u.options.marker,_=O&&O.states&&O.states[o||"normal"]||{},B=this.marker||{},m=u.chart,T=O&&u.markerAttribs,R=u.halo,X=u.stateMarkerGraphic;if(!((o=o||"")===this.state&&!r||this.selected&&"select"!==o||!1===b.enabled||o&&(!1===_.enabled||O&&!1===O.enabled&&!1===_.enabled)||o&&B.states&&B.states[o]&&!1===B.states[o].enabled)){if(this.state=o,T&&(j=u.markerAttribs(this,o)),this.graphic&&!this.hasDummyGraphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),o&&this.graphic.addClass("highcharts-point-"+o),!m.styledMode){var $=u.pointAttribs(this,o),D=p(m.options.chart.animation,b.animation);u.options.inactiveOtherPoints&&f($.opacity)&&((this.dataLabels||[]).forEach(function(U){U&&U.animate({opacity:$.opacity},D)}),this.connector&&this.connector.animate({opacity:$.opacity},D)),this.graphic.animate($,D)}j&&this.graphic.animate(j,p(m.options.chart.animation,_.animation,O.animation)),X&&X.hide()}else o&&_&&(c=B.symbol||u.symbol,X&&X.currentSymbol!==c&&(X=X.destroy()),j&&(X?X[r?"animate":"attr"]({x:j.x,y:j.y}):c&&(u.stateMarkerGraphic=X=m.renderer.symbol(c,j.x,j.y,j.width,j.height).add(u.markerGroup),X.currentSymbol=c)),!m.styledMode&&X&&"inactive"!==this.state&&X.attr(u.pointAttribs(this,o))),X&&(X[o&&this.isInside?"show":"hide"](),X.element.point=this,X.addClass(this.getClassName(),!0));j=(X=this.graphic||X)&&X.visibility||"inherit",(b=b.halo)&&b.size&&X&&"hidden"!==j&&!this.isCluster?(R||(u.halo=R=m.renderer.path().add(X.parentGroup)),R.show()[r?"animate":"attr"]({d:this.haloPath(b.size)}),R.attr({class:"highcharts-halo highcharts-color-"+p(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),R.point=this,m.styledMode||R.attr(s({fill:this.color||u.color,"fill-opacity":b.opacity},H.filterUserAttributes(b.attributes||{})))):R&&R.point&&R.point.haloPath&&R.animate({d:R.point.haloPath(0)},null,R.hide),l(this,"afterSetState",{state:o})}},d.prototype.haloPath=function(o){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-o,this.plotY-o,2*o,2*o)},d}()}),lt(F,"Core/Pointer.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Tooltip.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var W=H.parse,Y=K.charts,z=K.noop,I=Q.addEvent,P=Q.attr,w=Q.css,E=Q.defined,s=Q.extend,l=Q.find,g=Q.fireEvent,v=Q.isNumber,S=Q.isObject,f=Q.objectEach,C=Q.offset,x=Q.pick,M=Q.splat;return function(){function p(a,h){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=a,this.hasDragged=!1,this.options=h,this.init(a,h)}return p.prototype.applyInactiveState=function(a){var n,h=[];(a||[]).forEach(function(d){h.push(n=d.series),n.linkedParent&&h.push(n.linkedParent),n.linkedSeries&&(h=h.concat(n.linkedSeries)),n.navigatorSeries&&h.push(n.navigatorSeries)}),this.chart.series.forEach(function(d){-1===h.indexOf(d)?d.setState("inactive",!0):d.options.inactiveOtherPoints&&d.setAllPointsToState("inactive")})},p.prototype.destroy=function(){var a=this;this.eventsToUnbind.forEach(function(h){return h()}),this.eventsToUnbind=[],K.chartCount||(p.unbindDocumentMouseUp&&(p.unbindDocumentMouseUp=p.unbindDocumentMouseUp()),p.unbindDocumentTouchEnd&&(p.unbindDocumentTouchEnd=p.unbindDocumentTouchEnd())),clearInterval(a.tooltipTimeout),f(a,function(h,n){a[n]=void 0})},p.prototype.drag=function(a){var h=this.chart,n=h.options.chart,d=this.zoomHor,o=this.zoomVert,r=h.plotLeft,u=h.plotTop,c=h.plotWidth,b=h.plotHeight,O=this.mouseDownX||0,k=this.mouseDownY||0,_=S(n.panning)?n.panning&&n.panning.enabled:n.panning,A=n.panKey&&a[n.panKey+"Key"],B=a.chartX,m=a.chartY,T=this.selectionMarker;if((!T||!T.touch)&&(B<r?B=r:B>r+c&&(B=r+c),m<u?m=u:m>u+b&&(m=u+b),this.hasDragged=Math.sqrt(Math.pow(O-B,2)+Math.pow(k-m,2)),10<this.hasDragged)){var R=h.isInsidePlot(O-r,k-u,{visiblePlotOnly:!0});!h.hasCartesianSeries&&!h.mapView||!this.zoomX&&!this.zoomY||!R||A||T||(this.selectionMarker=T=h.renderer.rect(r,u,d?1:c,o?1:b,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),h.styledMode||T.attr({fill:n.selectionMarkerFill||W("#335cad").setOpacity(.25).get()})),T&&d&&(d=B-O,T.attr({width:Math.abs(d),x:(0<d?0:d)+O})),T&&o&&(d=m-k,T.attr({height:Math.abs(d),y:(0<d?0:d)+k})),R&&!T&&_&&h.pan(a,n.panning)}},p.prototype.dragStart=function(a){var h=this.chart;h.mouseIsDown=a.type,h.cancelClick=!1,h.mouseDownX=this.mouseDownX=a.chartX,h.mouseDownY=this.mouseDownY=a.chartY},p.prototype.drop=function(a){var h=this,n=this.chart,d=this.hasPinched;if(this.selectionMarker){var o=this.selectionMarker,r=o.attr?o.attr("x"):o.x,u=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,b=o.attr?o.attr("height"):o.height,O={originalEvent:a,xAxis:[],yAxis:[],x:r,y:u,width:c,height:b},k=!!n.mapView;(this.hasDragged||d)&&(n.axes.forEach(function(_){if(_.zoomEnabled&&E(_.min)&&(d||h[{xAxis:"zoomX",yAxis:"zoomY"}[_.coll]])&&v(r)&&v(u)){var A=_.horiz,B="touchend"===a.type?_.minPixelPadding:0,m=_.toValue((A?r:u)+B);A=_.toValue((A?r+c:u+b)-B),O[_.coll].push({axis:_,min:Math.min(m,A),max:Math.max(m,A)}),k=!0}}),k&&g(n,"selection",O,function(_){n.zoom(s(_,d?{animation:!1}:null))})),v(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),d&&this.scaleGroups()}n&&v(n.index)&&(w(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},p.prototype.findNearestKDPoint=function(a,h,n){var r,d=this.chart,o=d.hoverPoint;return d=d.tooltip,o&&d&&d.isStickyOnContact()?o:(a.forEach(function(u){var c=!(u.noSharedTooltip&&h)&&0>u.options.findNearestPointBy.indexOf("y");if(u=u.searchPoint(n,c),(c=S(u,!0)&&u.series)&&!(c=!S(r,!0))){var b=r.dist-u.dist,O=(u.series.group&&u.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);c=0<(0!=(c=r.distX-u.distX)&&h?c:0!==b?b:0!==O?O:r.series.index>u.series.index?-1:1)}c&&(r=u)}),r)},p.prototype.getChartCoordinatesFromPoint=function(a,h){var n=a.series,d=n.xAxis;n=n.yAxis;var o=a.shapeArgs;if(d&&n){var r=x(a.clientX,a.plotX),u=a.plotY||0;return a.isNode&&o&&v(o.x)&&v(o.y)&&(r=o.x,u=o.y),h?{chartX:n.len+n.pos-u,chartY:d.len+d.pos-r}:{chartX:r+d.pos,chartY:u+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}},p.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var a=this.chart.container,h=C(a);this.chartPosition={left:h.left,top:h.top,scaleX:1,scaleY:1};var n=a.offsetWidth;return a=a.offsetHeight,2<n&&2<a&&(this.chartPosition.scaleX=h.width/n,this.chartPosition.scaleY=h.height/a),this.chartPosition},p.prototype.getCoordinates=function(a){var h={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(n){h[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(a[n.horiz?"chartX":"chartY"])})}),h},p.prototype.getHoverData=function(a,h,n,d,o,r){var u=[];d=!(!d||!a);var c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};g(this,"beforeGetHoverData",c);var b=h&&!h.stickyTracking?[h]:n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&k.stickyTracking}),O=d||!r?a:this.findNearestKDPoint(b,o,r);return h=O&&O.series,O&&(o&&!h.noSharedTooltip?(b=n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&!k.noSharedTooltip})).forEach(function(k){var _=l(k.points,function(A){return A.x===O.x&&!A.isNull});S(_)&&(k.chart.isBoosting&&(_=k.getPoint(_)),u.push(_))}):u.push(O)),g(this,"afterGetHoverData",c={hoverPoint:O}),{hoverPoint:c.hoverPoint,hoverSeries:h,hoverPoints:u}},p.prototype.getPointFromEvent=function(a){a=a.target;for(var h;a&&!h;)h=a.point,a=a.parentNode;return h},p.prototype.onTrackerMouseOut=function(a){a=a.relatedTarget||a.toElement;var h=this.chart.hoverSeries;this.isDirectTouch=!1,!h||!a||h.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+h.index)&&this.inClass(a,"highcharts-tracker")||h.onMouseOut()},p.prototype.inClass=function(a,h){for(var n;a;){if(n=P(a,"class")){if(-1!==n.indexOf(h))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}a=a.parentNode}},p.prototype.init=function(a,h){this.options=h,this.chart=a,this.runChartClick=!(!h.chart.events||!h.chart.events.click),this.pinchDown=[],this.lastValidTouch={},V&&(a.tooltip=new V(a,h.tooltip),this.followTouchMove=x(h.tooltip.followTouchMove,!0)),this.setDOMEvents()},p.prototype.normalize=function(a,h){var n=a.touches,d=n?n.length?n.item(0):x(n.changedTouches,a.changedTouches)[0]:a;return h||(h=this.getChartPosition()),n=d.pageX-h.left,d=d.pageY-h.top,n/=h.scaleX,d/=h.scaleY,s(a,{chartX:Math.round(n),chartY:Math.round(d)})},p.prototype.onContainerClick=function(a){var h=this.chart,n=h.hoverPoint;a=this.normalize(a);var d=h.plotLeft,o=h.plotTop;h.cancelClick||(n&&this.inClass(a.target,"highcharts-tracker")?(g(n.series,"click",s(a,{point:n})),h.hoverPoint&&n.firePointEvent("click",a)):(s(a,this.getCoordinates(a)),h.isInsidePlot(a.chartX-d,a.chartY-o,{visiblePlotOnly:!0})&&g(h,"click",a)))},p.prototype.onContainerMouseDown=function(a){var h=1==(1&(a.buttons||a.button));a=this.normalize(a),K.isFirefox&&0!==a.button&&this.onContainerMouseMove(a),(void 0===a.button||h)&&(this.zoomOption(a),h&&a.preventDefault&&a.preventDefault(),this.dragStart(a))},p.prototype.onContainerMouseLeave=function(a){var h=Y[x(p.hoverChartIndex,-1)],n=this.chart.tooltip;n&&n.shouldStickOnContact()&&this.inClass(a.relatedTarget,"highcharts-tooltip-container")||(a=this.normalize(a),h&&(a.relatedTarget||a.toElement)&&(h.pointer.reset(),h.pointer.chartPosition=void 0),n&&!n.isHidden&&this.reset())},p.prototype.onContainerMouseEnter=function(a){delete this.chartPosition},p.prototype.onContainerMouseMove=function(a){var h=this.chart;a=this.normalize(a),this.setHoverChartIndex(),a.preventDefault||(a.returnValue=!1),("mousedown"===h.mouseIsDown||this.touchSelect(a))&&this.drag(a),h.openMenu||!this.inClass(a.target,"highcharts-tracker")&&!h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||(this.inClass(a.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(a))},p.prototype.onDocumentTouchEnd=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.onContainerTouchMove=function(a){this.touchSelect(a)?this.onContainerMouseMove(a):this.touch(a)},p.prototype.onContainerTouchStart=function(a){this.touchSelect(a)?this.onContainerMouseDown(a):(this.zoomOption(a),this.touch(a,!0))},p.prototype.onDocumentMouseMove=function(a){var h=this.chart,n=this.chartPosition;a=this.normalize(a,n);var d=h.tooltip;!n||d&&d.isStickyOnContact()||h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||this.inClass(a.target,"highcharts-tracker")||this.reset()},p.prototype.onDocumentMouseUp=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.pinch=function(a){var h=this,n=h.chart,d=h.pinchDown,o=a.touches||[],r=o.length,u=h.lastValidTouch,c=h.hasZoom,b={},O=1===r&&(h.inClass(a.target,"highcharts-tracker")&&n.runTrackerClick||h.runChartClick),k={},_=h.selectionMarker;1<r?h.initiated=!0:1===r&&this.followTouchMove&&(h.initiated=!1),c&&h.initiated&&!O&&!1!==a.cancelable&&a.preventDefault(),[].map.call(o,function(A){return h.normalize(A)}),"touchstart"===a.type?([].forEach.call(o,function(A,B){d[B]={chartX:A.chartX,chartY:A.chartY}}),u.x=[d[0].chartX,d[1]&&d[1].chartX],u.y=[d[0].chartY,d[1]&&d[1].chartY],n.axes.forEach(function(A){if(A.zoomEnabled){var B=n.bounds[A.horiz?"h":"v"],m=A.minPixelPadding,T=A.toPixels(Math.min(x(A.options.min,A.dataMin),A.dataMin)),R=A.toPixels(Math.max(x(A.options.max,A.dataMax),A.dataMax)),j=Math.max(T,R);B.min=Math.min(A.pos,Math.min(T,R)-m),B.max=Math.max(A.pos+A.len,j+m)}}),h.res=!0):h.followTouchMove&&1===r?this.runPointActions(h.normalize(a)):d.length&&(g(n,"touchpan",{originalEvent:a},function(){_||(h.selectionMarker=_=s({destroy:z,touch:!0},n.plotBox)),h.pinchTranslate(d,o,b,_,k,u),h.hasPinched=c,h.scaleGroups(b,k)}),h.res&&(h.res=!1,this.reset(!1,0)))},p.prototype.pinchTranslate=function(a,h,n,d,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,a,h,n,d,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,a,h,n,d,o,r)},p.prototype.pinchTranslateDirection=function(a,h,n,d,o,r,u,c){var b=this.chart,O=a?"x":"y",k=a?"X":"Y",_="chart"+k,A=a?"width":"height",B=b["plot"+(a?"Left":"Top")],m=b.inverted,T=b.bounds[a?"h":"v"],R=1===h.length,j=h[0][_],X=!R&&h[1][_];h=function(){"number"==typeof Z&&20<Math.abs(j-X)&&(U=c||Math.abs(N-Z)/Math.abs(j-X)),D=(B-N)/U+j,$=b["plot"+(a?"Width":"Height")]/U};var $,D,U=c||1,N=n[0][_],Z=!R&&n[1][_];if(h(),(n=D)<T.min){n=T.min;var q=!0}else n+$>T.max&&(n=T.max-$,q=!0);q?(N-=.8*(N-u[O][0]),"number"==typeof Z&&(Z-=.8*(Z-u[O][1])),h()):u[O]=[N,Z],m||(r[O]=D-B,r[A]=$),r=m?1/U:U,o[A]=$,o[O]=n,d[m?a?"scaleY":"scaleX":"scale"+k]=U,d["translate"+k]=r*B+(N-r*j)},p.prototype.reset=function(a,h){var n=this.chart,d=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,u=n.tooltip,c=u&&u.shared?r:o;a&&c&&M(c).forEach(function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?u&&c&&M(c).length&&(u.refresh(c),u.shared&&r?r.forEach(function(b){b.setState(b.state,!0),b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):o&&(o.setState(o.state,!0),n.axes.forEach(function(b){b.crosshair&&o.series[b.coll]===b&&b.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),r&&r.forEach(function(b){b.setState()}),d&&d.onMouseOut(),u&&u.hide(h),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(b){b.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},p.prototype.runPointActions=function(a,h){var n=this.chart,d=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,o=!!d&&d.shared,r=h||n.hoverPoint,u=r&&r.series||n.hoverSeries;r=(h=this.getHoverData(r,u,n.series,(!a||"touchmove"!==a.type)&&(!!h||u&&u.directTouch&&this.isDirectTouch),o,a)).hoverPoint;var c=h.hoverPoints;if(h=(u=h.hoverSeries)&&u.tooltipOptions.followPointer&&!u.tooltipOptions.split,o=o&&u&&!u.noSharedTooltip,r&&(r!==n.hoverPoint||d&&d.isHidden)){if((n.hoverPoints||[]).forEach(function(b){-1===c.indexOf(b)&&b.setState()}),n.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(c),(c||[]).forEach(function(b){b.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!r.series)return;n.hoverPoints=c,n.hoverPoint=r,r.firePointEvent("mouseOver"),d&&d.refresh(o?c:r,a)}else h&&d&&!d.isHidden&&(r=d.getAnchor([{}],a),n.isInsidePlot(r[0],r[1],{visiblePlotOnly:!0})&&d.updatePosition({plotX:r[0],plotY:r[1]}));this.unDocMouseMove||(this.unDocMouseMove=I(n.container.ownerDocument,"mousemove",function(b){var O=Y[p.hoverChartIndex];O&&O.pointer.onDocumentMouseMove(b)}),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(b){var k,O=x((b.crosshair||{}).snap,!0);O&&((k=n.hoverPoint)&&k.series[b.coll]===b||(k=l(c,function(_){return _.series[b.coll]===b}))),k||!O?b.drawCrosshair(a,k):b.hideCrosshair()})},p.prototype.scaleGroups=function(a,h){var n=this.chart;n.series.forEach(function(d){var o=a||d.getPlotBox();d.group&&(d.xAxis&&d.xAxis.zoomEnabled||n.mapView)&&(d.group.attr(o),d.markerGroup&&(d.markerGroup.attr(o),d.markerGroup.clip(h?n.clipRect:null)),d.dataLabelsGroup&&d.dataLabelsGroup.attr(o))}),n.clipRect.attr(h||n.clipBox)},p.prototype.setDOMEvents=function(){var a=this,h=this.chart.container,n=h.ownerDocument;h.onmousedown=this.onContainerMouseDown.bind(this),h.onmousemove=this.onContainerMouseMove.bind(this),h.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(I(h,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(I(h,"mouseleave",this.onContainerMouseLeave.bind(this))),p.unbindDocumentMouseUp||(p.unbindDocumentMouseUp=I(n,"mouseup",this.onDocumentMouseUp.bind(this)));for(var d=this.chart.renderTo.parentElement;d&&"BODY"!==d.tagName;)this.eventsToUnbind.push(I(d,"scroll",function(){delete a.chartPosition})),d=d.parentElement;K.hasTouch&&(this.eventsToUnbind.push(I(h,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(I(h,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),p.unbindDocumentTouchEnd||(p.unbindDocumentTouchEnd=I(n,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},p.prototype.setHoverChartIndex=function(){var a=this.chart,h=K.charts[x(p.hoverChartIndex,-1)];h&&h!==a&&h.pointer.onContainerMouseLeave({relatedTarget:!0}),h&&h.mouseIsDown||(p.hoverChartIndex=a.index)},p.prototype.touch=function(a,h){var n=this.chart;if(this.setHoverChartIndex(),1===a.touches.length)if(a=this.normalize(a),n.isInsidePlot(a.chartX-n.plotLeft,a.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu){if(h&&this.runPointActions(a),"touchmove"===a.type)var o=!!(h=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(h[0].chartX-a.chartX,2)+Math.pow(h[0].chartY-a.chartY,2));x(o,!0)&&this.pinch(a)}else h&&this.reset();else 2===a.touches.length&&this.pinch(a)},p.prototype.touchSelect=function(a){return!(!this.chart.options.chart.zoomBySingleTouch||!a.touches||1!==a.touches.length)},p.prototype.zoomOption=function(a){var h=this.chart,n=h.options.chart;h=h.inverted;var d=n.zoomType||"";/touch/.test(a.type)&&(d=x(n.pinchType,d)),this.zoomX=a=/x/.test(d),this.zoomY=n=/y/.test(d),this.zoomHor=a&&!h||n&&h,this.zoomVert=n&&!h||a&&h,this.hasZoom=a||n},p}()}),lt(F,"Core/MSPointer.js",[F["Core/Globals.js"],F["Core/Pointer.js"],F["Core/Utilities.js"]],function(H,K,V){function Q(){var f=[];return f.item=function(C){return this[C]},l(v,function(C){f.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),f}function W(f,C,x,M){var p=z[K.hoverChartIndex||NaN];"touch"!==f.pointerType&&f.pointerType!==f.MSPOINTER_TYPE_TOUCH||!p||(p=p.pointer,M(f),p[C]({type:x,target:f.currentTarget,preventDefault:P,touches:Q()}))}var f,Y=this&&this.__extends||(f=function(C,x){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,p){M.__proto__=p}||function(M,p){for(var a in p)p.hasOwnProperty(a)&&(M[a]=p[a])})(C,x)},function(C,x){function M(){this.constructor=C}f(C,x),C.prototype=null===x?Object.create(x):(M.prototype=x.prototype,new M)}),z=H.charts,I=H.doc,P=H.noop,w=H.win,E=V.addEvent,s=V.css,l=V.objectEach,g=V.removeEvent,v={},S=!!w.PointerEvent;return function(f){function C(){return null!==f&&f.apply(this,arguments)||this}return Y(C,f),C.isRequired=function(){return!(H.hasTouch||!w.PointerEvent&&!w.MSPointerEvent)},C.prototype.batchMSEvents=function(x){x(this.chart.container,S?"pointerdown":"MSPointerDown",this.onContainerPointerDown),x(this.chart.container,S?"pointermove":"MSPointerMove",this.onContainerPointerMove),x(I,S?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(g),f.prototype.destroy.call(this)},C.prototype.init=function(x,M){f.prototype.init.call(this,x,M),this.hasZoom&&s(x.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(x){W(x,"onContainerTouchStart","touchstart",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY,target:M.currentTarget}})},C.prototype.onContainerPointerMove=function(x){W(x,"onContainerTouchMove","touchmove",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY},v[M.pointerId].target||(v[M.pointerId].target=M.currentTarget)})},C.prototype.onDocumentPointerUp=function(x){W(x,"onDocumentTouchEnd","touchend",function(M){delete v[M.pointerId]})},C.prototype.setDOMEvents=function(){f.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(E)},C}(K)}),lt(F,"Core/Legend/Legend.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Point.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.animObject,I=H.setAnimation,P=K.format;H=V.isFirefox;var w=V.marginNames;V=V.win;var E=W.distribute,s=Y.addEvent,l=Y.createElement,g=Y.css,v=Y.defined,S=Y.discardElement,f=Y.find,C=Y.fireEvent,x=Y.isNumber,M=Y.merge,p=Y.pick,a=Y.relativeLength,h=Y.stableSort,n=Y.syncTimeout;return W=Y.wrap,Y=function(){function d(o,r){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=o,this.init(o,r)}return d.prototype.init=function(o,r){this.chart=o,this.setOptions(r),r.enabled&&(this.render(),s(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=s(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},d.prototype.setOptions=function(o){var r=p(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=M(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop||0,this.itemMarginBottom=o.itemMarginBottom||0,this.padding=r,this.initialItemY=r-5,this.symbolWidth=p(o.symbolWidth,16),this.pages=[],this.proximate="proximate"===o.layout&&!this.chart.inverted,this.baseline=void 0},d.prototype.update=function(o,r){var u=this.chart;this.setOptions(M(!0,this.options,o)),this.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,p(r,!0)&&u.redraw(),C(this,"afterUpdate")},d.prototype.colorizeItem=function(o,r){if(o.legendGroup[r?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var u=this.options,c=o.legendItem,b=o.legendLine,O=o.legendSymbol,k=this.itemHiddenStyle.color;u=r?u.itemStyle.color:k;var _=r&&o.color||k,A=o.options&&o.options.marker,B={fill:_};c&&c.css({fill:u,color:u}),b&&b.attr({stroke:_}),O&&(A&&O.isMarker&&(B=o.pointAttribs(),r||(B.stroke=B.fill=k)),O.attr(B))}C(this,"afterColorizeItem",{item:o,visible:r})},d.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},d.prototype.positionItem=function(o){var r=this,u=this.options,c=u.symbolPadding,b=!u.rtl,O=o._legendItemPos;u=O[0],O=O[1];var k=o.checkbox,_=o.legendGroup;_&&_.element&&(c={translateX:b?u:this.legendWidth-u-2*c-4,translateY:O},b=function(){C(r,"afterPositionItem",{item:o})},v(_.translateY)?_.animate(c,void 0,b):(_.attr(c),b())),k&&(k.x=u,k.y=O)},d.prototype.destroyItem=function(o){var r=o.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(u){o[u]&&(o[u]=o[u].destroy())}),r&&S(o.checkbox)},d.prototype.destroy=function(){function o(r){this[r]&&(this[r]=this[r].destroy())}this.getAllItems().forEach(function(r){["legendItem","legendGroup"].forEach(o,r)}),"clipRect up down pager nav box title group".split(" ").forEach(o,this),this.display=null},d.prototype.positionCheckboxes=function(){var o=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,u=this.titleHeight;if(o){var c=o.translateY;this.allItems.forEach(function(b){var O=b.checkbox;if(O){var k=c+u+O.y+(this.scrollOffset||0)+3;g(O,{left:o.translateX+b.checkboxOffset+O.x-20+"px",top:k+"px",display:this.proximate||k>c-6&&k<c+r-6?"":"none"})}},this)}},d.prototype.renderTitle=function(){var o=this.options,r=this.padding,u=o.title,c=0;u.text&&(this.title||(this.title=this.chart.renderer.label(u.text,r-3,r-4,null,null,null,o.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(u.style),this.title.add(this.group)),u.width||this.title.css({width:this.maxLegendWidth+"px"}),c=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},d.prototype.setText=function(o){var r=this.options;o.legendItem.attr({text:r.labelFormat?P(r.labelFormat,o,this.chart):r.labelFormatter.call(o)})},d.prototype.renderItem=function(o){var r=this.chart,u=r.renderer,c=this.options,b=this.symbolWidth,O=c.symbolPadding||0,k=this.itemStyle,_=this.itemHiddenStyle,A="horizontal"===c.layout?p(c.itemDistance,20):0,B=!c.rtl,m=!o.series,T=!m&&o.series.drawLegendSymbol?o.series:o,R=T.options,j=this.createCheckboxForItem&&R&&R.showCheckbox,X=c.useHTML,$=o.options.className,D=o.legendItem;R=b+O+A+(j?20:0),D||(o.legendGroup=u.g("legend-item").addClass("highcharts-"+T.type+"-series highcharts-color-"+o.colorIndex+($?" "+$:"")+(m?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.legendItem=D=u.text("",B?b+O:-O,this.baseline||0,X),r.styledMode||D.css(M(o.visible?k:_)),D.attr({align:B?"left":"right",zIndex:2}).add(o.legendGroup),this.baseline||(this.fontMetrics=u.fontMetrics(r.styledMode?12:k.fontSize,D),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,D.attr("y",this.baseline),this.symbolHeight=c.symbolHeight||this.fontMetrics.f,c.squareSymbol&&(this.symbolWidth=p(c.symbolWidth,Math.max(this.symbolHeight,16)),R=this.symbolWidth+O+A+(j?20:0),B&&D.attr("x",this.symbolWidth+O))),T.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,D,X)),j&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),!r.styledMode&&k.width||D.css({width:(c.itemWidth||this.widthOption||r.spacingBox.width)-R+"px"}),this.setText(o),r=D.getBBox(),u=this.fontMetrics&&this.fontMetrics.h||0,o.itemWidth=o.checkboxOffset=c.itemWidth||o.legendItemWidth||r.width+R,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(o.legendItemHeight||(r.height>1.5*u?r.height:u))},d.prototype.layoutItem=function(o){var r=this.options,u=this.padding,c="horizontal"===r.layout,b=o.itemHeight,O=this.itemMarginBottom,k=this.itemMarginTop,_=c?p(r.itemDistance,20):0,A=this.maxLegendWidth;r=r.alignColumns&&this.totalItemWidth>A?this.maxItemWidth:o.itemWidth,c&&this.itemX-u+r>A&&(this.itemX=u,this.lastLineHeight&&(this.itemY+=k+this.lastLineHeight+O),this.lastLineHeight=0),this.lastItemY=k+this.itemY+O,this.lastLineHeight=Math.max(b,this.lastLineHeight),o._legendItemPos=[this.itemX,this.itemY],c?this.itemX+=r:(this.itemY+=k+b+O,this.lastLineHeight=b),this.offsetWidth=this.widthOption||Math.max((c?this.itemX-u-(o.checkbox?0:_):r)+u,this.offsetWidth)},d.prototype.getAllItems=function(){var o=[];return this.chart.series.forEach(function(r){var u=r&&r.options;r&&p(u.showInLegend,!v(u.linkedTo)&&void 0,!0)&&(o=o.concat(r.legendItems||("point"===u.legendType?r.data:r)))}),C(this,"afterGetAllItems",{allItems:o}),o},d.prototype.getAlignment=function(){var o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)},d.prototype.adjustMargins=function(o,r){var u=this.chart,c=this.options,b=this.getAlignment();b&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(O,k){O.test(b)&&!v(o[k])&&(u[w[k]]=Math.max(u[w[k]],u.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*c[k%2?"x":"y"]+p(c.margin,12)+r[k]+(u.titleOffset[k]||0)))})},d.prototype.proximatePositions=function(){var o=this.chart,r=[],u="left"===this.options.align;this.allItems.forEach(function(c){var b,O=u;if(c.yAxis){c.xAxis.options.reversed&&(O=!O),c.points&&(b=f(O?c.points:c.points.slice(0).reverse(),function(_){return x(_.plotY)})),O=this.itemMarginTop+c.legendItem.getBBox().height+this.itemMarginBottom;var k=c.yAxis.top-o.plotTop;c.visible?(b=b?b.plotY:c.yAxis.height,b+=k-.3*O):b=k+c.yAxis.height,r.push({target:b,size:O,item:c})}},this),E(r,o.plotHeight).forEach(function(c){c.item._legendItemPos&&(c.item._legendItemPos[1]=o.plotTop-o.spacing[0]+c.pos)})},d.prototype.render=function(){var o=this.chart,r=o.renderer,u=this.options,c=this.padding,b=this.getAllItems(),O=this.group,k=this.box;this.itemX=c,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=a(u.width,o.spacingBox.width-c);var _=o.spacingBox.width-2*c-u.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(_/=2),this.maxLegendWidth=this.widthOption||_,O||(this.group=O=r.g("legend").addClass(u.className||"").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(O),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),h(b,function(B,m){return(B.options&&B.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)}),u.reversed&&b.reverse(),this.allItems=b,this.display=_=!!b.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,b.forEach(this.renderItem,this),b.forEach(this.layoutItem,this),b=(this.widthOption||this.offsetWidth)+c;var A=this.lastItemY+this.lastLineHeight+this.titleHeight;A=this.handleOverflow(A),A+=c,k||(this.box=k=r.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(O),k.isNew=!0),o.styledMode||k.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<b&&0<A&&(k[k.isNew?"attr":"animate"](k.crisp.call({},{x:0,y:0,width:b,height:A},k.strokeWidth())),k.isNew=!1),k[_?"show":"hide"](),o.styledMode&&"none"===O.getStyle("display")&&(b=A=0),this.legendWidth=b,this.legendHeight=A,_&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},d.prototype.align=function(o){void 0===o&&(o=this.chart.spacingBox);var r=this.chart,u=this.options,c=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<r.titleOffset[0]?c+=r.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<r.titleOffset[2]&&(c-=r.titleOffset[2]),c!==o.y&&(o=M(o,{y:c})),this.group.align(M(u,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,o)},d.prototype.handleOverflow=function(o){var D,U,r=this,u=this.chart,c=u.renderer,b=this.options,O=b.y,k="top"===b.verticalAlign,_=this.padding,A=b.maxHeight,B=b.navigation,m=p(B.animation,!0),T=B.arrowSize||12,R=this.pages,j=this.allItems,X=function(q){"number"==typeof q?Z.attr({height:q}):Z&&(r.clipRect=Z.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=q?"rect("+_+"px,9999px,"+(_+q)+"px,0)":"auto")},$=function(q){return r[q]=c.circle(0,0,1.3*T).translate(T/2,T/2).add(N),u.styledMode||r[q].attr("fill","rgba(0,0,0,0.0001)"),r[q]};O=u.spacingBox.height+(k?-O:O)-_;var N=this.nav,Z=this.clipRect;return"horizontal"!==b.layout||"middle"===b.verticalAlign||b.floating||(O/=2),A&&(O=Math.min(O,A)),R.length=0,o&&0<O&&o>O&&!1!==B.enabled?(this.clipHeight=D=Math.max(O-20-this.titleHeight-_,0),this.currentPage=p(this.currentPage,1),this.fullHeight=o,j.forEach(function(q,nt){var it=q._legendItemPos[1],ot=Math.round(q.legendItem.getBBox().height),at=R.length;(!at||it-R[at-1]>D&&(U||it)!==R[at-1])&&(R.push(U||it),at++),q.pageIx=at-1,U&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-R[at-1]>D&&ot<=D&&(R.push(it),q.pageIx=at),it!==U&&(U=it)}),Z||(Z=r.clipRect=c.clipRect(0,_,9999,0),r.contentGroup.clip(Z)),X(D),N||(this.nav=N=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,T,T).add(N),$("upTracker").on("click",function(){r.scroll(-1,m)}),this.pager=c.text("",15,10).addClass("highcharts-legend-navigation"),u.styledMode||this.pager.css(B.style),this.pager.add(N),this.down=c.symbol("triangle-down",0,0,T,T).add(N),$("downTracker").on("click",function(){r.scroll(1,m)})),r.scroll(0),o=O):N&&(X(),this.nav=N.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o},d.prototype.scroll=function(o,r){var u=this,c=this.chart,b=this.pages,O=b.length,k=this.clipHeight,_=this.options.navigation,A=this.pager,B=this.padding,m=this.currentPage+o;m>O&&(m=O),0<m&&(void 0!==r&&I(r,c),this.nav.attr({translateX:B,translateY:k+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(T){T.attr({class:1===m?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),A.attr({text:m+"/"+O}),[this.down,this.downTracker].forEach(function(T){T.attr({x:18+this.pager.getBBox().width,class:m===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:1===m?_.inactiveColor:_.activeColor}),this.upTracker.css({cursor:1===m?"default":"pointer"}),this.down.attr({fill:m===O?_.inactiveColor:_.activeColor}),this.downTracker.css({cursor:m===O?"default":"pointer"})),this.scrollOffset=-b[m-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=m,this.positionCheckboxes(),o=z(p(r,c.renderer.globalAnimation,!0)),n(function(){C(u,"afterScroll",{currentPage:m})},o.duration))},d.prototype.setItemEvents=function(o,r,u){var c=this,b=c.chart.renderer.boxWrapper,O=o instanceof Q,k="highcharts-legend-"+(O?"point":"series")+"-active",_=c.chart.styledMode,A=function(B){c.allItems.forEach(function(m){o!==m&&[m].concat(m.linkedSeries||[]).forEach(function(T){T.setState(B,!O)})})};(u?[r,o.legendSymbol]:[o.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){o.visible&&A("inactive"),o.setState("hover"),o.visible&&b.addClass(k),_||r.css(c.options.itemHoverStyle)}).on("mouseout",function(){c.chart.styledMode||r.css(M(o.visible?c.itemStyle:c.itemHiddenStyle)),A(""),b.removeClass(k),o.setState()}).on("click",function(m){var T=function(){o.setVisible&&o.setVisible(),A(o.visible?"inactive":"")};b.removeClass(k),m={browserEvent:m},o.firePointEvent?o.firePointEvent("legendItemClick",m,T):C(o,"legendItemClick",m,T)})})},d.prototype.createCheckboxForItem=function(o){o.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),s(o.checkbox,"click",function(r){C(o.series||o,"checkboxClick",{checked:r.target.checked,item:o},function(){o.select()})})},d}(),(/Trident\/7\.0/.test(V.navigator&&V.navigator.userAgent)||H)&&W(Y.prototype,"positionItem",function(d,o){var r=this,u=function(){o._legendItemPos&&d.call(r,o)};u(),r.bubbleLegend||setTimeout(u)}),Y}),lt(F,"Core/Series/SeriesRegistry.js",[F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=K.defaultOptions,Y=Q.error,z=Q.extendClass,I=Q.merge;return function(w){function E(s,l){var g=W.plotOptions||{},v=l.defaultOptions;l.prototype.pointClass||(l.prototype.pointClass=V),l.prototype.type=s,v&&(g[s]=v),w.seriesTypes[s]=l}w.seriesTypes=H.seriesTypes,w.getSeries=function(s,l){void 0===l&&(l={});var g=s.options.chart,v=w.seriesTypes[g=l.type||g.type||g.defaultSeriesType||""];return w||Y(17,!0,s,{missingModuleFor:g}),"function"==typeof(g=new v).init&&g.init(s,l),g},w.registerSeriesType=E,w.seriesType=function(s,l,g,v,S){var f=W.plotOptions||{};return f[s]=I(f[l=l||""],g),E(s,z(w.seriesTypes[l]||function(){},v)),w.seriesTypes[s].prototype.type=s,S&&(w.seriesTypes[s].prototype.pointClass=z(V,S)),w.seriesTypes[s]}}(P||(P={})),P}),lt(F,"Core/Chart/Chart.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/FormatUtilities.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/Legend.js"],F["Core/MSPointer.js"],F["Core/DefaultOptions.js"],F["Core/Pointer.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Time.js"],F["Core/Utilities.js"],F["Core/Renderer/HTML/AST.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v){var S=H.animate,f=H.animObject,C=H.setAnimation,x=V.numberFormat,M=Q.registerEventOptions,p=W.charts,a=W.doc,h=W.marginNames,n=W.svg,d=W.win,o=I.defaultOptions,r=I.defaultTime,u=E.seriesTypes,c=g.addEvent,b=g.attr,O=g.cleanRecursively,k=g.createElement,_=g.css,A=g.defined,B=g.discardElement,m=g.erase,T=g.error,R=g.extend,j=g.find,X=g.fireEvent,$=g.getStyle,D=g.isArray,U=g.isNumber,N=g.isObject,Z=g.isString,q=g.merge,nt=g.objectEach,it=g.pick,ot=g.pInt,at=g.relativeLength,mt=g.removeEvent,yt=g.splat,vt=g.syncTimeout,pt=g.uniqueKey;return H=function(){function ct(J,et,st){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(J,et,st)}return ct.chart=function(J,et,st){return new ct(J,et,st)},ct.prototype.getArgs=function(J,et,st){Z(J)||J.nodeName?(this.renderTo=J,this.init(et,st)):this.init(J,et)},ct.prototype.init=function(J,et){var st=J.plotOptions||{};X(this,"init",{args:arguments},function(){var ut=q(o,J),dt=ut.chart;nt(ut.plotOptions,function(xt,Et){N(xt)&&(xt.tooltip=st[Et]&&q(st[Et].tooltip)||void 0)}),ut.tooltip.userOptions=J.chart&&J.chart.forExport&&J.tooltip.userOptions||J.tooltip,this.userOptions=J,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=et,this.isResizing=0,this.options=ut,this.axes=[],this.series=[],this.time=J.time&&Object.keys(J.time).length?new l(J.time):W.time,this.numberFormatter=dt.numberFormatter||x,this.styledMode=dt.styledMode,this.hasCartesianSeries=dt.showAxes,this.index=p.length,p.push(this),W.chartCount++,M(this,dt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,X(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(J){var et=this.options.chart,st=u[et=J.type||et.type||et.defaultSeriesType];return st||T(17,!0,this,{missingModuleFor:et}),"function"==typeof(et=new st).init&&et.init(this,J),et},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(J){J.points||J.data||!J.enabledDataSorting||J.setData(J.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(J,et){return J.linkedSeries.length||et.linkedSeries.length?et.linkedSeries.length-J.linkedSeries.length:0})},ct.prototype.orderSeries=function(J){var et=this.series;J=J||0;for(var st=et.length;J<st;++J)et[J]&&(et[J].index=J,et[J].name=et[J].getName())},ct.prototype.isInsidePlot=function(J,et,st){void 0===st&&(st={});var ut=this.inverted,dt=this.plotBox,xt=this.plotLeft,Et=this.plotTop,wt=this.scrollablePlotBox,kt=0,Dt=0;st.visiblePlotOnly&&this.scrollingContainer&&(kt=(Dt=this.scrollingContainer).scrollLeft,Dt=Dt.scrollTop);var bt=st.series;if(dt=st.visiblePlotOnly&&wt||dt,J={x:wt=st.inverted?et:J,y:et=st.inverted?J:et,isInsidePlot:!0},!st.ignoreX){var Lt=bt&&(ut?bt.yAxis:bt.xAxis)||{pos:xt,len:1/0};(wt=st.paneCoordinates?Lt.pos+wt:xt+wt)>=Math.max(kt+xt,Lt.pos)&&wt<=Math.min(kt+xt+dt.width,Lt.pos+Lt.len)||(J.isInsidePlot=!1)}return!st.ignoreY&&J.isInsidePlot&&(ut=bt&&(ut?bt.xAxis:bt.yAxis)||{pos:Et,len:1/0},(st=st.paneCoordinates?ut.pos+et:Et+et)>=Math.max(Dt+Et,ut.pos)&&st<=Math.min(Dt+Et+dt.height,ut.pos+ut.len)||(J.isInsidePlot=!1)),X(this,"afterIsInsidePlot",J),J.isInsidePlot},ct.prototype.redraw=function(J){X(this,"beforeRedraw");var et=this.hasCartesianSeries?this.axes:this.colorAxis||[],st=this.series,ut=this.pointer,dt=this.legend,xt=this.userOptions.legend,Et=this.renderer,wt=Et.isHidden(),kt=[],Dt=this.isDirtyBox,bt=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&J,this),wt&&this.temporaryDisplay(),this.layOutTitles(),J=st.length;J--;){var Lt=st[J];if(Lt.options.stacking||Lt.options.centerInCategory){var Rt=!0;if(Lt.isDirty){var Nt=!0;break}}}if(Nt)for(J=st.length;J--;)(Lt=st[J]).options.stacking&&(Lt.isDirty=!0);st.forEach(function(Ot){Ot.isDirty&&("point"===Ot.options.legendType?("function"==typeof Ot.updateTotals&&Ot.updateTotals(),bt=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(bt=!0)),Ot.isDirtyData&&X(Ot,"updatedData")}),bt&&dt&&dt.options.enabled&&(dt.render(),this.isDirtyLegend=!1),Rt&&this.getStacks(),et.forEach(function(Ot){Ot.updateNames(),Ot.setScale()}),this.getMargins(),et.forEach(function(Ot){Ot.isDirty&&(Dt=!0)}),et.forEach(function(Ot){var Wt=Ot.min+","+Ot.max;Ot.extKey!==Wt&&(Ot.extKey=Wt,kt.push(function(){X(Ot,"afterSetExtremes",R(Ot.eventArgs,Ot.getExtremes())),delete Ot.eventArgs})),(Dt||Rt)&&Ot.redraw()}),Dt&&this.drawChartBox(),X(this,"predraw"),st.forEach(function(Ot){(Dt||Ot.isDirty)&&Ot.visible&&Ot.redraw(),Ot.isDirtyData=!1}),ut&&ut.reset(!0),Et.draw(),X(this,"redraw"),X(this,"render"),wt&&this.temporaryDisplay(!0),kt.forEach(function(Ot){Ot.call()})},ct.prototype.get=function(J){function et(xt){return xt.id===J||xt.options&&xt.options.id===J}for(var st=this.series,ut=j(this.axes,et)||j(this.series,et),dt=0;!ut&&dt<st.length;dt++)ut=j(st[dt].points||[],et);return ut},ct.prototype.getAxes=function(){var J=this,et=this.options,st=et.xAxis=yt(et.xAxis||{});et=et.yAxis=yt(et.yAxis||{}),X(this,"getAxes"),st.forEach(function(ut,dt){ut.index=dt,ut.isX=!0}),et.forEach(function(ut,dt){ut.index=dt}),st.concat(et).forEach(function(ut){new K(J,ut)}),X(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(J,et){return et.getPointsCollection().forEach(function(st){it(st.selectedStaging,st.selected)&&J.push(st)}),J},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(J){return J.selected})},ct.prototype.setTitle=function(J,et,st){this.applyDescription("title",J),this.applyDescription("subtitle",et),this.applyDescription("caption",void 0),this.layOutTitles(st)},ct.prototype.applyDescription=function(J,et){var st=this,ut="title"===J?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ut=this.options[J]=q(!this.styledMode&&{style:ut},this.options[J],et);var dt=this[J];dt&&et&&(this[J]=dt=dt.destroy()),ut&&!dt&&((dt=this.renderer.text(ut.text,0,0,ut.useHTML).attr({align:ut.align,class:"highcharts-"+J,zIndex:ut.zIndex||4}).add()).update=function(xt){st[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[J]](xt)},this.styledMode||dt.css(ut.style),this[J]=dt)},ct.prototype.layOutTitles=function(J){var et=[0,0,0],st=this.renderer,ut=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){var Dt,Et=this[xt],wt=this.options[xt],kt=wt.verticalAlign||"top";if(xt="title"===xt?"top"===kt?-3:0:"top"===kt?et[0]+2:0,Et){this.styledMode||(Dt=wt.style&&wt.style.fontSize),Dt=st.fontMetrics(Dt,Et).b,Et.css({width:(wt.width||ut.width+(wt.widthAdjust||0))+"px"});var bt=Math.round(Et.getBBox(wt.useHTML).height);Et.align(R({y:"bottom"===kt?Dt:xt+Dt,height:bt},wt),!1,"spacingBox"),wt.floating||("top"===kt?et[0]=Math.ceil(et[0]+bt):"bottom"===kt&&(et[2]=Math.ceil(et[2]+bt)))}},this),et[0]&&"top"===(this.options.title.verticalAlign||"top")&&(et[0]+=this.options.title.margin),et[2]&&"bottom"===this.options.caption.verticalAlign&&(et[2]+=this.options.caption.margin);var dt=!this.titleOffset||this.titleOffset.join(",")!==et.join(",");this.titleOffset=et,X(this,"afterLayOutTitles"),!this.isDirtyBox&&dt&&(this.isDirtyBox=this.isDirtyLegend=dt,this.hasRendered&&it(J,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var J=this.options.chart,et=J.width;J=J.height;var st=this.renderTo;A(et)||(this.containerWidth=$(st,"width")),A(J)||(this.containerHeight=$(st,"height")),this.chartWidth=Math.max(0,et||this.containerWidth||600),this.chartHeight=Math.max(0,at(J,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(J){var et=this.renderTo;if(J)for(;et&&et.style;)et.hcOrigStyle&&(_(et,et.hcOrigStyle),delete et.hcOrigStyle),et.hcOrigDetached&&(a.body.removeChild(et),et.hcOrigDetached=!1),et=et.parentNode;else for(;et&&et.style&&(a.body.contains(et)||et.parentNode||(et.hcOrigDetached=!0,a.body.appendChild(et)),("none"===$(et,"display",!1)||et.hcOricDetached)&&(et.hcOrigStyle={display:et.style.display,height:et.style.height,overflow:et.style.overflow},J={display:"block",overflow:"hidden"},et!==this.renderTo&&(J.height=0),_(et,J),et.offsetWidth||et.style.setProperty("display","block","important")),(et=et.parentNode)!==a.body););},ct.prototype.setClassName=function(J){this.container.className="highcharts-container "+(J||"")},ct.prototype.getContainer=function(){var ut,J=this.options,et=J.chart,st=pt(),dt=this.renderTo;dt||(this.renderTo=dt=et.renderTo),Z(dt)&&(this.renderTo=dt=a.getElementById(dt)),dt||T(13,!0,this);var xt=ot(b(dt,"data-highcharts-chart"));U(xt)&&p[xt]&&p[xt].hasRendered&&p[xt].destroy(),b(dt,"data-highcharts-chart",this.index),dt.innerHTML=v.emptyHTML,et.skipClone||dt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;var Et=this.chartHeight;if(_(dt,{overflow:"hidden"}),this.styledMode||(ut=R({position:"relative",overflow:"hidden",width:xt+"px",height:Et+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},et.style||{})),this.container=st=k("div",{id:st},ut,dt),this._cursor=st.style.cursor,this.renderer=new(et.renderer||!n?w.getRendererType(et.renderer):s)(st,xt,Et,void 0,et.forExport,J.exporting&&J.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(et.className),this.styledMode)for(var wt in J.defs)this.renderer.definition(J.defs[wt]);else this.renderer.setStyle(et.style);this.renderer.chartIndex=this.index,X(this,"afterGetContainer")},ct.prototype.getMargins=function(J){var et=this.spacing,st=this.margin,ut=this.titleOffset;this.resetMargins(),ut[0]&&!A(st[0])&&(this.plotTop=Math.max(this.plotTop,ut[0]+et[0])),ut[2]&&!A(st[2])&&(this.marginBottom=Math.max(this.marginBottom,ut[2]+et[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(st,et),X(this,"getMargins"),J||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var J=this,et=J.axisOffset=[0,0,0,0],st=J.colorAxis,ut=J.margin,dt=function(xt){xt.forEach(function(Et){Et.visible&&Et.getOffset()})};J.hasCartesianSeries?dt(J.axes):st&&st.length&&dt(st),h.forEach(function(xt,Et){A(ut[Et])||(J[xt]+=et[Et])}),J.setChartSize()},ct.prototype.reflow=function(J){var et=this,st=et.options.chart,ut=et.renderTo,dt=A(st.width)&&A(st.height),xt=st.width||$(ut,"width");st=st.height||$(ut,"height"),ut=J?J.target:d,delete et.pointer.chartPosition,!dt&&!et.isPrinting&&xt&&st&&(ut===d||ut===a)&&((xt!==et.containerWidth||st!==et.containerHeight)&&(g.clearTimeout(et.reflowTimeout),et.reflowTimeout=vt(function(){et.container&&et.setSize(void 0,void 0,!1)},J?100:0)),et.containerWidth=xt,et.containerHeight=st)},ct.prototype.setReflow=function(J){var et=this;!1===J||this.unbindReflow?!1===J&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=c(d,"resize",function(st){et.options&&et.reflow(st)}),c(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(J,et,st){var ut=this,dt=ut.renderer;ut.isResizing+=1,C(st,ut),st=dt.globalAnimation,ut.oldChartHeight=ut.chartHeight,ut.oldChartWidth=ut.chartWidth,void 0!==J&&(ut.options.chart.width=J),void 0!==et&&(ut.options.chart.height=et),ut.getChartSize(),ut.styledMode||(st?S:_)(ut.container,{width:ut.chartWidth+"px",height:ut.chartHeight+"px"},st),ut.setChartSize(!0),dt.setSize(ut.chartWidth,ut.chartHeight,st),ut.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),ut.isDirtyLegend=!0,ut.isDirtyBox=!0,ut.layOutTitles(),ut.getMargins(),ut.redraw(st),ut.oldChartHeight=null,X(ut,"resize"),vt(function(){ut&&X(ut,"endResize",null,function(){--ut.isResizing})},f(st).duration)},ct.prototype.setChartSize=function(J){var kt,Dt,bt,Lt,et=this.inverted,st=this.renderer,ut=this.chartWidth,dt=this.chartHeight,xt=this.options.chart,Et=this.spacing,wt=this.clipOffset;this.plotLeft=kt=Math.round(this.plotLeft),this.plotTop=Dt=Math.round(this.plotTop),this.plotWidth=bt=Math.max(0,Math.round(ut-kt-this.marginRight)),this.plotHeight=Lt=Math.max(0,Math.round(dt-Dt-this.marginBottom)),this.plotSizeX=et?Lt:bt,this.plotSizeY=et?bt:Lt,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=st.spacingBox={x:Et[3],y:Et[0],width:ut-Et[3]-Et[1],height:dt-Et[0]-Et[2]},this.plotBox=st.plotBox={x:kt,y:Dt,width:bt,height:Lt},et=2*Math.floor(this.plotBorderWidth/2),ut=Math.ceil(Math.max(et,wt[3])/2),dt=Math.ceil(Math.max(et,wt[0])/2),this.clipBox={x:ut,y:dt,width:Math.floor(this.plotSizeX-Math.max(et,wt[1])/2-ut),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(et,wt[2])/2-dt))},J||(this.axes.forEach(function(Rt){Rt.setAxisSize(),Rt.setAxisTranslation()}),st.alignElements()),X(this,"afterSetChartSize",{skipAxes:J})},ct.prototype.resetMargins=function(){X(this,"resetMargins");var J=this,et=J.options.chart;["margin","spacing"].forEach(function(st){var ut=et[st],dt=N(ut)?ut:[ut,ut,ut,ut];["Top","Right","Bottom","Left"].forEach(function(xt,Et){J[st][Et]=it(et[st+xt],dt[Et])})}),h.forEach(function(st,ut){J[st]=it(J.margin[ut],J.spacing[ut])}),J.axisOffset=[0,0,0,0],J.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var ae,J=this.options.chart,et=this.renderer,st=this.chartWidth,ut=this.chartHeight,dt=this.styledMode,xt=this.plotBGImage,Et=J.backgroundColor,wt=J.plotBackgroundColor,kt=J.plotBackgroundImage,Dt=this.plotLeft,bt=this.plotTop,Lt=this.plotWidth,Rt=this.plotHeight,Nt=this.plotBox,Ot=this.clipRect,Wt=this.clipBox,Kt=this.chartBackground,Ft=this.plotBackground,Jt=this.plotBorder,Xt="animate";if(Kt||(this.chartBackground=Kt=et.rect().addClass("highcharts-background").add(),Xt="attr"),dt)var ee=ae=Kt.strokeWidth();else ae=(ee=J.borderWidth||0)+(J.shadow?8:0),Et={fill:Et||"none"},(ee||Kt["stroke-width"])&&(Et.stroke=J.borderColor,Et["stroke-width"]=ee),Kt.attr(Et).shadow(J.shadow);Kt[Xt]({x:ae/2,y:ae/2,width:st-ae-ee%2,height:ut-ae-ee%2,r:J.borderRadius}),Xt="animate",Ft||(Xt="attr",this.plotBackground=Ft=et.rect().addClass("highcharts-plot-background").add()),Ft[Xt](Nt),dt||(Ft.attr({fill:wt||"none"}).shadow(J.plotShadow),kt&&(xt?(kt!==xt.attr("href")&&xt.attr("href",kt),xt.animate(Nt)):this.plotBGImage=et.image(kt,Dt,bt,Lt,Rt).add())),Ot?Ot.animate({width:Wt.width,height:Wt.height}):this.clipRect=et.clipRect(Wt),Xt="animate",Jt||(Xt="attr",this.plotBorder=Jt=et.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),dt||Jt.attr({stroke:J.plotBorderColor,"stroke-width":J.plotBorderWidth||0,fill:"none"}),Jt[Xt](Jt.crisp({x:Dt,y:bt,width:Lt,height:Rt},-Jt.strokeWidth())),this.isDirtyBox=!1,X(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var ut,dt,xt,J=this,et=J.options.chart,st=J.options.series;["inverted","angular","polar"].forEach(function(Et){for(dt=u[et.type||et.defaultSeriesType],xt=et[Et]||dt&&dt.prototype[Et],ut=st&&st.length;!xt&&ut--;)(dt=u[st[ut].type])&&dt.prototype[Et]&&(xt=!0);J[Et]=xt})},ct.prototype.linkSeries=function(){var J=this,et=J.series;et.forEach(function(st){st.linkedSeries.length=0}),et.forEach(function(st){var ut=st.options.linkedTo;Z(ut)&&(ut=":previous"===ut?J.series[st.index-1]:J.get(ut))&&ut.linkedParent!==st&&(ut.linkedSeries.push(st),st.linkedParent=ut,ut.enabledDataSorting&&st.setDataSortingOptions(),st.visible=it(st.options.visible,ut.options.visible,st.visible))}),X(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(J){J.translate(),J.render()})},ct.prototype.renderLabels=function(){var J=this,et=J.options.labels;et.items&&et.items.forEach(function(st){var ut=R(et.style,st.style),dt=ot(ut.left)+J.plotLeft,xt=ot(ut.top)+J.plotTop+12;delete ut.left,delete ut.top,J.renderer.text(st.html,dt,xt).attr({zIndex:2}).css(ut).add()})},ct.prototype.render=function(){var J=this.axes,et=this.colorAxis,st=this.renderer,ut=this.options,dt=function(Dt){Dt.forEach(function(bt){bt.visible&&bt.render()})},xt=0;this.setTitle(),this.legend=new Y(this,ut.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ut=this.plotWidth,J.some(function(Dt){if(Dt.horiz&&Dt.visible&&Dt.options.labels.enabled&&Dt.series.length)return xt=21,!0});var Et=this.plotHeight=Math.max(this.plotHeight-xt,0);J.forEach(function(Dt){Dt.setScale()}),this.getAxisMargins();var wt=1.1<ut/this.plotWidth,kt=1.05<Et/this.plotHeight;(wt||kt)&&(J.forEach(function(Dt){(Dt.horiz&&wt||!Dt.horiz&&kt)&&Dt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?dt(J):et&&et.length&&dt(et),this.seriesGroup||(this.seriesGroup=st.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(J){var et=this,st=q(!0,this.options.credits,J);st.enabled&&!this.credits&&(this.credits=this.renderer.text(st.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){st.href&&(d.location.href=st.href)}).attr({align:st.position.align,zIndex:8}),et.styledMode||this.credits.css(st.style),this.credits.add().align(st.position),this.credits.update=function(ut){et.credits=et.credits.destroy(),et.addCredits(ut)})},ct.prototype.destroy=function(){var xt,J=this,et=J.axes,st=J.series,ut=J.container,dt=ut&&ut.parentNode;for(X(J,"destroy"),J.renderer.forExport?m(p,J):p[J.index]=void 0,W.chartCount--,J.renderTo.removeAttribute("data-highcharts-chart"),mt(J),xt=et.length;xt--;)et[xt]=et[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=st.length;xt--;)st[xt]=st[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Et){var wt=J[Et];wt&&wt.destroy&&(J[Et]=wt.destroy())}),ut&&(ut.innerHTML=v.emptyHTML,mt(ut),dt&&B(ut)),nt(J,function(Et,wt){delete J[wt]})},ct.prototype.firstRender=function(){var J=this,et=J.options;(!J.isReadyToRender||J.isReadyToRender())&&(J.getContainer(),J.resetMargins(),J.setChartSize(),J.propFromSeries(),J.getAxes(),(D(et.series)?et.series:[]).forEach(function(st){J.initSeries(st)}),J.linkSeries(),J.setSeriesData(),X(J,"beforeRender"),P&&(J.pointer=z.isRequired()?new z(J,et):new P(J,et)),J.render(),J.pointer.getChartPosition(),!J.renderer.imgCount&&!J.hasLoaded&&J.onload(),J.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(J){J&&void 0!==this.index&&J.apply(this,[this])},this),X(this,"load"),X(this,"render"),A(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(J,et,st){var dt,ut=this;return J&&(et=it(et,!0),X(ut,"addSeries",{options:J},function(){dt=ut.initSeries(J),ut.isDirtyLegend=!0,ut.linkSeries(),dt.enabledDataSorting&&dt.setData(J.data,!1),X(ut,"afterAddSeries",{series:dt}),et&&ut.redraw(st)})),dt},ct.prototype.addAxis=function(J,et,st,ut){return this.createAxis(et?"xAxis":"yAxis",{axis:J,redraw:st,animation:ut})},ct.prototype.addColorAxis=function(J,et,st){return this.createAxis("colorAxis",{axis:J,redraw:et,animation:st})},ct.prototype.createAxis=function(J,et){return J=new K(this,q(et.axis,{index:this[J].length,isX:"xAxis"===J})),it(et.redraw,!0)&&this.redraw(et.animation),J},ct.prototype.showLoading=function(J){var et=this,st=et.options,ut=st.loading,dt=function(){xt&&_(xt,{left:et.plotLeft+"px",top:et.plotTop+"px",width:et.plotWidth+"px",height:et.plotHeight+"px"})},xt=et.loadingDiv,Et=et.loadingSpan;xt||(et.loadingDiv=xt=k("div",{className:"highcharts-loading highcharts-loading-hidden"},null,et.container)),Et||(et.loadingSpan=Et=k("span",{className:"highcharts-loading-inner"},null,xt),c(et,"redraw",dt)),xt.className="highcharts-loading",v.setElementHTML(Et,it(J,st.lang.loading,"")),et.styledMode||(_(xt,R(ut.style,{zIndex:10})),_(Et,ut.labelStyle),et.loadingShown||(_(xt,{opacity:0,display:""}),S(xt,{opacity:ut.style.opacity||.5},{duration:ut.showDuration||0}))),et.loadingShown=!0,dt()},ct.prototype.hideLoading=function(){var J=this.options,et=this.loadingDiv;et&&(et.className="highcharts-loading highcharts-loading-hidden",this.styledMode||S(et,{opacity:0},{duration:J.loading.hideDuration||100,complete:function(){_(et,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(J,et,st,ut){var kt,Dt,dt=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Et=J.isResponsiveOptions,wt=[];X(dt,"update",{options:J}),Et||dt.setResponsive(!1,!0),J=O(J,dt.options),dt.userOptions=q(dt.userOptions,J);var bt=J.chart;if(bt){if(q(!0,dt.options.chart,bt),"className"in bt&&dt.setClassName(bt.className),"reflow"in bt&&dt.setReflow(bt.reflow),"inverted"in bt||"polar"in bt||"type"in bt){dt.propFromSeries();var Lt=!0}"alignTicks"in bt&&(Lt=!0),"events"in bt&&M(this,bt),nt(bt,function(Rt,Nt){-1!==dt.propsRequireUpdateSeries.indexOf("chart."+Nt)&&(kt=!0),-1!==dt.propsRequireDirtyBox.indexOf(Nt)&&(dt.isDirtyBox=!0),-1!==dt.propsRequireReflow.indexOf(Nt)&&(Et?dt.isDirtyBox=!0:Dt=!0)}),!dt.styledMode&&bt.style&&dt.renderer.setStyle(dt.options.chart.style||{})}!dt.styledMode&&J.colors&&(this.options.colors=J.colors),J.time&&(this.time===r&&(this.time=new l(J.time)),q(!0,dt.options.time,J.time)),nt(J,function(Rt,Nt){dt[Nt]&&"function"==typeof dt[Nt].update?dt[Nt].update(Rt,!1):"function"==typeof dt[xt[Nt]]?dt[xt[Nt]](Rt):"colors"!==Nt&&-1===dt.collectionsWithUpdate.indexOf(Nt)&&q(!0,dt.options[Nt],J[Nt]),"chart"!==Nt&&-1!==dt.propsRequireUpdateSeries.indexOf(Nt)&&(kt=!0)}),this.collectionsWithUpdate.forEach(function(Rt){if(J[Rt]){var Nt=[];dt[Rt].forEach(function(Ot,Wt){Ot.options.isInternal||Nt.push(it(Ot.options.index,Wt))}),yt(J[Rt]).forEach(function(Ot,Wt){var Ft,Kt=A(Ot.id);Kt&&(Ft=dt.get(Ot.id)),!Ft&&dt[Rt]&&(Ft=dt[Rt][Nt?Nt[Wt]:Wt])&&Kt&&A(Ft.options.id)&&(Ft=void 0),Ft&&Ft.coll===Rt&&(Ft.update(Ot,!1),st&&(Ft.touched=!0)),!Ft&&st&&dt.collectionsWithInit[Rt]&&(dt.collectionsWithInit[Rt][0].apply(dt,[Ot].concat(dt.collectionsWithInit[Rt][1]||[]).concat([!1])).touched=!0)}),st&&dt[Rt].forEach(function(Ot){Ot.touched||Ot.options.isInternal?delete Ot.touched:wt.push(Ot)})}}),wt.forEach(function(Rt){Rt.chart&&Rt.remove&&Rt.remove(!1)}),Lt&&dt.axes.forEach(function(Rt){Rt.update({},!1)}),kt&&dt.getSeriesOrderByLinks().forEach(function(Rt){Rt.chart&&Rt.update({},!1)},this),Lt=bt&&bt.width,bt=bt&&(Z(bt.height)?at(bt.height,Lt||dt.chartWidth):bt.height),Dt||U(Lt)&&Lt!==dt.chartWidth||U(bt)&&bt!==dt.chartHeight?dt.setSize(Lt,bt,ut):it(et,!0)&&dt.redraw(ut),X(dt,"afterUpdate",{options:J,redraw:et,animation:ut})},ct.prototype.setSubtitle=function(J,et){this.applyDescription("subtitle",J),this.layOutTitles(et)},ct.prototype.setCaption=function(J,et){this.applyDescription("caption",J),this.layOutTitles(et)},ct.prototype.showResetZoom=function(){function J(){et.zoomOut()}var et=this,st=o.lang,ut=et.options.chart.resetZoomButton,dt=ut.theme,xt=dt.states,Et="chart"===ut.relativeTo||"spacingBox"===ut.relativeTo?null:"scrollablePlotBox";X(this,"beforeShowResetZoom",null,function(){et.resetZoomButton=et.renderer.button(st.resetZoom,null,null,J,dt,xt&&xt.hover).attr({align:ut.position.align,title:st.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ut.position,!1,Et)}),X(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){X(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(J){var xt,et=this,st=et.pointer,ut=et.inverted?st.mouseDownX:st.mouseDownY,dt=!1;!J||J.resetSelection?(et.axes.forEach(function(wt){xt=wt.zoom()}),st.initiated=!1):J.xAxis.concat(J.yAxis).forEach(function(wt){var kt=wt.axis,Dt=et.inverted?kt.left:kt.top,Lt=kt.isXAxis,Rt=!1;(!Lt&&ut>=Dt&&ut<=(et.inverted?Dt+kt.width:Dt+kt.height)||Lt||!A(ut))&&(Rt=!0),st[Lt?"zoomX":"zoomY"]&&Rt&&(xt=kt.zoom(wt.min,wt.max),kt.displayBtn&&(dt=!0))});var Et=et.resetZoomButton;dt&&!Et?et.showResetZoom():!dt&&N(Et)&&(et.resetZoomButton=Et.destroy()),xt&&et.redraw(it(et.options.chart.animation,J&&J.animation,100>et.pointCount))},ct.prototype.pan=function(J,et){var st=this,ut=st.hoverPoints;et="object"==typeof et?et:{enabled:et,type:"x"};var dt=st.options.chart,xt=st.options.mapNavigation&&st.options.mapNavigation.enabled;dt&&dt.panning&&(dt.panning=et);var wt,Et=et.type;X(this,"pan",{originalEvent:J},function(){ut&&ut.forEach(function(bt){bt.setState()});var kt=st.xAxis;"xy"===Et?kt=kt.concat(st.yAxis):"y"===Et&&(kt=st.yAxis);var Dt={};kt.forEach(function(bt){if(bt.options.panningEnabled&&!bt.options.isInternal){var Lt=bt.horiz,Rt=J[Lt?"chartX":"chartY"],Nt=st[Lt=Lt?"mouseDownX":"mouseDownY"],Ot=bt.minPointOffset||0,Wt=bt.reversed&&!st.inverted||!bt.reversed&&st.inverted?-1:1,Kt=bt.getExtremes(),Ft=bt.toValue(Nt-Rt,!0)+Ot*Wt,Jt=bt.toValue(Nt+bt.len-Rt,!0)-(Ot*Wt||bt.isXAxis&&bt.pointRangePadding||0),ae=Jt<Ft;Wt=bt.hasVerticalPanning(),Nt=ae?Jt:Ft,Ft=ae?Ft:Jt;var Xt=bt.panningState;!Wt||bt.isXAxis||Xt&&!Xt.isDirty||bt.series.forEach(function(ee){var be=ee.getProcessedData(!0);be=ee.getExtremes(be.yData,!0),Xt||(Xt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),U(be.dataMin)&&U(be.dataMax)&&(Xt.startMin=Math.min(it(ee.options.threshold,1/0),be.dataMin,Xt.startMin),Xt.startMax=Math.max(it(ee.options.threshold,-1/0),be.dataMax,Xt.startMax))}),Wt=Math.min(it(Xt&&Xt.startMin,Kt.dataMin),Ot?Kt.min:bt.toValue(bt.toPixels(Kt.min)-bt.minPixelPadding)),Jt=Math.max(it(Xt&&Xt.startMax,Kt.dataMax),Ot?Kt.max:bt.toValue(bt.toPixels(Kt.max)+bt.minPixelPadding)),bt.panningState=Xt,bt.isOrdinal||(0<(Ot=Wt-Nt)&&(Ft+=Ot,Nt=Wt),0<(Ot=Ft-Jt)&&(Ft=Jt,Nt-=Ot),bt.series.length&&Nt!==Kt.min&&Ft!==Kt.max&&Nt>=Wt&&Ft<=Jt&&(bt.setExtremes(Nt,Ft,!1,!1,{trigger:"pan"}),st.resetZoomButton||xt||Nt===Wt||Ft===Jt||!Et.match("y")||(st.showResetZoom(),bt.displayBtn=!1),wt=!0),Dt[Lt]=Rt)}}),nt(Dt,function(bt,Lt){st[Lt]=bt}),wt&&st.redraw(!1),_(st.container,{cursor:"move"})})},ct}(),R(H.prototype,{callbacks:[],collectionsWithInit:{xAxis:[H.prototype.addAxis,[!0]],yAxis:[H.prototype.addAxis,[!1]],series:[H.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),H}),lt(F,"Core/Legend/LegendSymbol.js",[F["Core/Utilities.js"]],function(H){var Q,W,K=H.merge,V=H.pick;return(W=Q||(Q={})).drawLineMarker=function(Y){var z=this.options,I=Y.symbolWidth,P=Y.symbolHeight,w=P/2,E=this.chart.renderer,s=this.legendGroup;Y=Y.baseline-Math.round(.3*Y.fontMetrics.b);var l={},g=z.marker;this.chart.styledMode||(l={"stroke-width":z.lineWidth||0},z.dashStyle&&(l.dashstyle=z.dashStyle)),this.legendLine=E.path([["M",0,Y],["L",I,Y]]).addClass("highcharts-graph").attr(l).add(s),g&&!1!==g.enabled&&I&&(z=Math.min(V(g.radius,w),w),0===this.symbol.indexOf("url")&&(g=K(g,{width:P,height:P}),z=0),this.legendSymbol=I=E.symbol(this.symbol,I/2-z,Y-z,2*z,2*z,g).addClass("highcharts-point").add(s),I.isMarker=!0)},W.drawRectangle=function(Y,z){var I=Y.symbolHeight,P=Y.options.squareSymbol;z.legendSymbol=this.chart.renderer.rect(P?(Y.symbolWidth-I)/2:0,Y.baseline-I+1,P?I:Y.symbolWidth,I,V(Y.options.symbolRadius,I/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.legendGroup)},Q}),lt(F,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),lt(F,"Core/Series/Series.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Point.js"],F["Core/Series/SeriesDefaults.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w){var E=H.animObject,s=H.setAnimation,l=K.defaultOptions,g=V.registerEventOptions,v=Q.hasTouch,S=Q.svg,f=Q.win,C=I.seriesTypes,x=w.addEvent,M=w.arrayMax,p=w.arrayMin,a=w.clamp,h=w.cleanRecursively,n=w.correctFloat,d=w.defined,o=w.erase,r=w.error,u=w.extend,c=w.find,b=w.fireEvent,O=w.getNestedProperty,k=w.isArray,_=w.isNumber,A=w.isString,B=w.merge,m=w.objectEach,T=w.pick,R=w.removeEvent,j=w.splat,X=w.syncTimeout;return H=function(){function $(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return $.prototype.init=function(D,U){b(this,"init",{options:U});var N=this,Z=D.series;this.eventsToUnbind=[],N.chart=D,N.options=N.setOptions(U),U=N.options,N.linkedSeries=[],N.bindAxes(),u(N,{name:U.name,state:"",visible:!1!==U.visible,selected:!0===U.selected}),g(this,U);var nt,q=U.events;(q&&q.click||U.point&&U.point.events&&U.point.events.click||U.allowPointSelect)&&(D.runTrackerClick=!0),N.getColor(),N.getSymbol(),N.parallelArrays.forEach(function(it){N[it+"Data"]||(N[it+"Data"]=[])}),N.isCartesian&&(D.hasCartesianSeries=!0),Z.length&&(nt=Z[Z.length-1]),N._i=T(nt&&nt._i,-1)+1,N.opacity=N.options.opacity,D.orderSeries(this.insert(Z)),U.dataSorting&&U.dataSorting.enabled?N.setDataSortingOptions():N.points||N.data||N.setData(U.data,!1),b(this,"afterInit")},$.prototype.is=function(D){return C[D]&&this instanceof C[D]},$.prototype.insert=function(D){var N,U=this.options.index;if(_(U)){for(N=D.length;N--;)if(U>=T(D[N].options.index,D[N]._i)){D.splice(N+1,0,this);break}-1===N&&D.unshift(this),N+=1}else D.push(this);return T(N,D.length-1)},$.prototype.bindAxes=function(){var Z,D=this,U=D.options,N=D.chart;b(this,"bindAxes",null,function(){(D.axisTypes||[]).forEach(function(q){var nt=0;N[q].forEach(function(it){Z=it.options,(U[q]===nt&&!Z.isInternal||void 0!==U[q]&&U[q]===Z.id||void 0===U[q]&&0===Z.index)&&(D.insert(it.series),D[q]=it,it.isDirty=!0),Z.isInternal||nt++}),D[q]||D.optionalAxis===q||r(18,!0,N)})}),b(this,"afterBindAxes")},$.prototype.updateParallelArrays=function(D,U){var N=D.series,Z=arguments,q=_(U)?function(nt){var it="y"===nt&&N.toYData?N.toYData(D):D[nt];N[nt+"Data"][U]=it}:function(nt){Array.prototype[U].apply(N[nt+"Data"],Array.prototype.slice.call(Z,2))};N.parallelArrays.forEach(q)},$.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},$.prototype.autoIncrement=function(D){var it,U=this.options,N=U.pointIntervalUnit,Z=U.relativeXValue,q=this.chart.time,nt=this.xIncrement;return nt=T(nt,U.pointStart,0),this.pointInterval=it=T(this.pointInterval,U.pointInterval,1),Z&&_(D)&&(it*=D),N&&(U=new q.Date(nt),"day"===N?q.set("Date",U,q.get("Date",U)+it):"month"===N?q.set("Month",U,q.get("Month",U)+it):"year"===N&&q.set("FullYear",U,q.get("FullYear",U)+it),it=U.getTime()-nt),Z&&_(D)?nt+it:(this.xIncrement=nt+it,nt)},$.prototype.setDataSortingOptions=function(){var D=this.options;u(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),d(D.pointRange)||(D.pointRange=1)},$.prototype.setOptions=function(D){var U=this.chart,N=U.options,Z=N.plotOptions,q=U.userOptions||{};D=B(D),U=U.styledMode;var nt={plotOptions:Z,userOptions:D};b(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=q.plotOptions||{};return this.userOptions=nt.userOptions,q=B(it,Z.series,q.plotOptions&&q.plotOptions[this.type],D),this.tooltipOptions=B(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,N.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,D.tooltip),this.stickyTracking=T(D.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||q.stickyTracking),null===it.marker&&delete q.marker,this.zoneAxis=q.zoneAxis,Z=this.zones=(q.zones||[]).slice(),!q.negativeColor&&!q.negativeFillColor||q.zones||(N={value:q[this.zoneAxis+"Threshold"]||q.threshold||0,className:"highcharts-negative"},U||(N.color=q.negativeColor,N.fillColor=q.negativeFillColor),Z.push(N)),Z.length&&d(Z[Z.length-1].value)&&Z.push(U?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:q}),q},$.prototype.getName=function(){return T(this.options.name,"Series "+(this.index+1))},$.prototype.getCyclic=function(D,U,N){var Z=this.chart,q=this.userOptions,nt=D+"Index",it=D+"Counter",ot=N?N.length:T(Z.options.chart[D+"Count"],Z[D+"Count"]);if(!U){var at=T(q[nt],q["_"+nt]);d(at)||(Z.series.length||(Z[it]=0),q["_"+nt]=at=Z[it]%ot,Z[it]+=1),N&&(U=N[at])}void 0!==at&&(this[nt]=at),this[D]=U},$.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)},$.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},$.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},$.prototype.findPointIndex=function(D,U){var it,ot,N=D.id,Z=D.x,q=this.points,nt=this.options.dataSorting;if(N)(nt=this.chart.get(N))instanceof Y&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===D.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===D.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===D.x}),!(it=c(q,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&_(Z)&&(at=this.xData.indexOf(Z,U)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&_(at)&&q[at]&&q[at].touched&&(at=void 0),at},$.prototype.updateData=function(D,U){var at,mt,yt,N=this.options,Z=N.dataSorting,q=this.points,nt=[],it=this.requireSorting,ot=D.length===q.length,vt=!0;if(this.xIncrement=null,D.forEach(function(pt,ct){var J=d(pt)&&this.pointClass.prototype.optionsToObject.call({series:this},pt)||{};J.id||_(J.x)?(-1===(J=this.findPointIndex(J,yt))||void 0===J?nt.push(pt):q[J]&&pt!==N.data[J]?(q[J].update(pt,!1,null,!1),q[J].touched=!0,it&&(yt=J+1)):q[J]&&(q[J].touched=!0),(!ot||ct!==J||Z&&Z.enabled||this.hasDerivedData)&&(at=!0)):nt.push(pt)},this),at)for(D=q.length;D--;)(mt=q[D])&&!mt.touched&&mt.remove&&mt.remove(!1,U);else!ot||Z&&Z.enabled?vt=!1:(D.forEach(function(pt,ct){pt!==q[ct].y&&q[ct].update&&q[ct].update(pt,!1,null,!1)}),nt.length=0);return q.forEach(function(pt){pt&&(pt.touched=!1)}),!!vt&&(nt.forEach(function(pt){this.addPoint(pt,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=M(this.xData),this.autoIncrement()),!0)},$.prototype.setData=function(D,U,N,Z){var q=this,nt=q.points,it=nt&&nt.length||0,ot=q.options,at=q.chart,mt=ot.dataSorting,yt=q.xAxis,vt=ot.turboThreshold,pt=this.xData,ct=this.yData,J=q.pointArrayMap;J=J&&J.length;var st,et=ot.keys,ut=0,dt=1,xt=null,Et=(D=D||[]).length;if(U=T(U,!0),mt&&mt.enabled&&(D=this.sortData(D)),!1!==Z&&Et&&it&&!q.cropped&&!q.hasGroupedData&&q.visible&&!q.isSeriesBoosting&&(st=this.updateData(D,N)),!st){if(q.xIncrement=null,q.colorCounter=0,this.parallelArrays.forEach(function(wt){q[wt+"Data"].length=0}),vt&&Et>vt)if(xt=q.getFirstValidPoint(D),_(xt))for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else if(k(xt))if(J)if(xt.length===J)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[0],ct[N]=Z.slice(1,J+1);else if(et&&(ut=0<=(ut=et.indexOf("x"))?ut:0,dt=0<=(dt=et.indexOf("y"))?dt:1),1===xt.length&&(dt=0),ut===dt)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N][dt];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[ut],ct[N]=Z[dt];else r(12,!1,at);else for(N=0;N<Et;N++)void 0!==D[N]&&(q.pointClass.prototype.applyOptions.apply(Z={series:q},[D[N]]),q.updateParallelArrays(Z,N));for(ct&&A(ct[0])&&r(14,!0,at),q.data=[],q.options.data=q.userOptions.data=D,N=it;N--;)nt[N]&&nt[N].destroy&&nt[N].destroy();yt&&(yt.minRange=yt.userMinRange),q.isDirty=at.isDirtyBox=!0,q.isDirtyData=!!nt,N=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),U&&at.redraw(N)},$.prototype.sortData=function(D){var U=this,N=U.options.dataSorting.sortKey||"y",Z=function(q,nt){return d(nt)&&q.pointClass.prototype.optionsToObject.call({series:q},nt)||{}};return D.forEach(function(q,nt){D[nt]=Z(U,q),D[nt].index=nt},this),D.concat().sort(function(q,nt){return q=O(N,q),(nt=O(N,nt))<q?-1:nt>q?1:0}).forEach(function(q,nt){q.x=nt},this),U.linkedSeries&&U.linkedSeries.forEach(function(q){var nt=q.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=Z(q,ot),D[at]&&(it[at].x=D[at].x,it[at].index=at)}),q.setData(it,!1))}),D},$.prototype.getProcessedData=function(D){var U=this.xAxis,N=this.options,Z=N.cropThreshold,q=D||this.getExtremesFromAll||N.getExtremesFromAll,nt=this.isCartesian;D=U&&U.val2lin,N=!(!U||!U.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,yt=!1,vt=ot.length;if(U){var pt=(yt=U.getExtremes()).min,ct=yt.max;yt=U.categories&&!U.names.length}if(nt&&this.sorted&&!q&&(!Z||vt>Z||this.forceCrop))if(ot[vt-1]<pt||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<pt||ot[vt-1]>ct)){var J=this.cropData(this.xData,this.yData,pt,ct);ot=J.xData,at=J.yData,it=J.start,J=!0}for(Z=ot.length||1;--Z;)if(0<(U=N?D(ot[Z])-D(ot[Z-1]):ot[Z]-ot[Z-1])&&(void 0===et||U<et))var et=U;else 0>U&&mt&&!yt&&(r(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:J,cropStart:it,closestPointRange:et}},$.prototype.processData=function(D){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!D)return!1;D=this.getProcessedData(),this.cropped=D.cropped,this.cropStart=D.cropStart,this.processedXData=D.xData,this.processedYData=D.yData,this.closestPointRange=this.basePointRange=D.closestPointRange,b(this,"afterProcessData")},$.prototype.cropData=function(D,U,N,Z,q){var it,nt=D.length,ot=0,at=nt;for(q=T(q,this.cropShoulder),it=0;it<nt;it++)if(D[it]>=N){ot=Math.max(0,it-q);break}for(N=it;N<nt;N++)if(D[N]>Z){at=N+q;break}return{xData:D.slice(ot,at),yData:U.slice(ot,at),start:ot,end:at}},$.prototype.generatePoints=function(){var D=this.options,U=D.data,N=this.processedXData,Z=this.processedYData,q=this.pointClass,nt=N.length,it=this.cropStart||0,ot=this.hasGroupedData,at=D.keys,mt=[];D=D.dataGrouping&&D.dataGrouping.groupAll?it:0;var yt,vt,pt=this.data;if(!pt&&!ot){var ct=[];ct.length=U.length,pt=this.data=ct}for(at&&ot&&(this.options.keys=!1),vt=0;vt<nt;vt++){if(ct=it+vt,ot){var J=(new q).init(this,[N[vt]].concat(j(Z[vt])));J.dataGroup=this.groupMap[D+vt],J.dataGroup.options&&(J.options=J.dataGroup.options,u(J,J.dataGroup.options),delete J.dataLabels)}else(J=pt[ct])||void 0===U[ct]||(pt[ct]=J=(new q).init(this,U[ct],N[vt]));J&&(J.index=ot?D+vt:ct,mt[vt]=J)}if(this.options.keys=at,pt&&(nt!==(yt=pt.length)||ot))for(vt=0;vt<yt;vt++)vt!==it||ot||(vt+=nt),pt[vt]&&(pt[vt].destroyElements(),pt[vt].plotX=void 0);this.data=pt,this.points=mt,b(this,"afterGeneratePoints")},$.prototype.getXExtremes=function(D){return{min:p(D),max:M(D)}},$.prototype.getExtremes=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;Z=!!Z&&Z.positiveValuesOnly;var ot,at=0,mt=0,yt=0,vt=(D=D||this.stackedYData||this.processedYData||[]).length;if(N){var pt=N.getExtremes();at=pt.min,mt=pt.max}for(ot=0;ot<vt;ot++){var ct=q[ot],J=(_(pt=D[ot])||k(pt))&&(pt.length||0<pt||!Z);if(ct=U||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!N||(q[ot+it]||ct)>=at&&(q[ot-it]||ct)<=mt,J&&ct)if(J=pt.length)for(;J--;)_(pt[J])&&(nt[yt++]=pt[J]);else nt[yt++]=pt}return D={activeYData:nt,dataMin:p(nt),dataMax:M(nt)},b(this,"afterGetExtremes",{dataExtremes:D}),D},$.prototype.applyExtremes=function(){var D=this.getExtremes();return this.dataMin=D.dataMin,this.dataMax=D.dataMax,D},$.prototype.getFirstValidPoint=function(D){for(var U=D.length,N=0,Z=null;null===Z&&N<U;)Z=D[N],N++;return Z},$.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,J,D=this.options,U=D.stacking,N=this.xAxis,Z=N.categories,q=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,yt=D.threshold,vt=D.startFromThreshold?yt:0,pt=this.zoneAxis||"y",et=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var st=it[ct],ut=st.x,dt=void 0,xt=void 0,Et=st.y,wt=st.low,kt=U&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Et<(vt?0:yt)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Et)||N.positiveValuesOnly&&!N.validatePositiveValue(ut))&&(st.isNull=!0),st.plotX=J=n(a(N.translate(ut,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),U&&this.visible&&kt&&kt[ut]){var Dt=this.getStackIndicator(Dt,ut,this.index);st.isNull||(xt=(dt=kt[ut]).points[Dt.key])}if(k(xt)&&(Et=xt[1],(wt=xt[0])===vt&&Dt.key===kt[ut].base&&(wt=T(_(yt)&&yt,nt.min)),nt.positiveValuesOnly&&0>=wt&&(wt=null),st.total=st.stackTotal=dt.total,st.percentage=dt.total&&st.y/dt.total*100,st.stackY=Et,this.irregularWidths||dt.setOffset(this.pointXOffset||0,this.barW||0)),st.yBottom=d(wt)?a(nt.translate(wt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Et=this.dataModify.modifyValue(Et,ct)),st.plotY=void 0,_(Et)&&void 0!==(dt=nt.translate(Et,!1,!0,!1,!0))&&(st.plotY=a(dt,-1e5,1e5)),st.isInside=this.isPointInside(st),st.clientX=mt?n(N.translate(ut,0,0,0,1,at)):J,st.negative=st[pt]<(D[pt+"Threshold"]||yt||0),st.category=Z&&void 0!==Z[st.x]?Z[st.x]:st.x,!st.isNull&&!1!==st.visible){void 0!==bt&&(et=Math.min(et,Math.abs(J-bt)));var bt=J}st.zone=this.zones.length?st.getZone():void 0,!st.graphic&&this.group&&q&&(st.isNew=!0)}this.closestPointRangePx=et,b(this,"afterTranslate")},$.prototype.getValidPoints=function(D,U,N){var Z=this.chart;return(D||this.points||[]).filter(function(q){return!(U&&!Z.isInsidePlot(q.plotX,q.plotY,{inverted:Z.inverted}))&&!1!==q.visible&&(N||!q.isNull)})},$.prototype.getClipBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis,Z=B(D.clipBox);return U&&U.len!==D.plotSizeX&&(Z.width=U.len),N&&N.len!==D.plotSizeY&&(Z.height=N.len),Z},$.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},$.prototype.setClip=function(){var D=this.chart,U=this.group,N=this.markerGroup,Z=D.sharedClips;D=D.renderer;var q=this.getClipBox(),nt=this.getSharedClipKey(),it=Z[nt];it?it.animate(q):Z[nt]=it=D.clipRect(q),U&&U.clip(!1===this.options.clip?void 0:it),N&&N.clip()},$.prototype.animate=function(D){var U=this.chart,N=this.group,Z=this.markerGroup,q=U.inverted,nt=E(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=U.sharedClips[it],at=U.sharedClips[it+"m"];if(D&&N)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,q&&(nt.x=U.plotHeight),ot=U.renderer.clipRect(nt),U.sharedClips[it]=ot,at=U.renderer.clipRect({x:q?(U.plotSizeX||0)+99:-99,y:q?-U.plotLeft:-U.plotTop,width:99,height:q?U.chartWidth:U.chartHeight}),U.sharedClips[it+"m"]=at),N.clip(ot),Z&&Z.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){U=this.getClipBox();var mt=nt.step;Z&&Z.element.childNodes.length&&(nt.step=function(yt,vt){mt&&mt.apply(vt,arguments),at&&at.element&&at.attr(vt.prop,"width"===vt.prop?yt+99:yt)}),ot.addClass("highcharts-animating").animate(U,nt)}},$.prototype.afterAnimate=function(){var D=this;this.setClip(),m(this.chart.sharedClips,function(U,N,Z){U&&!D.chart.container.querySelector('[clip-path="url(#'+U.id+')"]')&&(U.destroy(),delete Z[N])}),this.finishedAnimating=!0,b(this,"afterAnimate")},$.prototype.drawPoints=function(){var it,ot,D=this.points,U=this.chart,N=this.options.marker,Z=this[this.specialGroup]||this.markerGroup,q=this.xAxis,nt=T(N.enabled,!(q&&!q.isRadial)||null,this.closestPointRangePx>=N.enabledThreshold*N.radius);if(!1!==N.enabled||this._hasPointMarkers)for(it=0;it<D.length;it++){var at=D[it],mt=(ot=at.graphic)?"animate":"attr",yt=at.marker||{},vt=!!at.marker;if((nt&&void 0===yt.enabled||yt.enabled)&&!at.isNull&&!1!==at.visible){var pt=T(yt.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=q.reversed?-(ct.width||0):q.width);var J=!1!==at.isInside;ot?ot[J?"show":"hide"](J).animate(ct):J&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=U.renderer.symbol(pt,ct.x,ct.y,ct.width,ct.height,vt?yt:N).add(Z),this.enabledDataSorting&&U.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[J?"show":"hide"](J).animate(ct),ot&&!U.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},$.prototype.markerAttribs=function(D,U){var N=this.options,Z=N.marker,q=D.marker||{},nt=q.symbol||Z.symbol,it=T(q.radius,Z.radius);return U&&(Z=Z.states[U],it=T((U=q.states&&q.states[U])&&U.radius,Z&&Z.radius,it+(Z&&Z.radiusPlus||0))),D.hasImage=nt&&0===nt.indexOf("url"),D.hasImage&&(it=0),D={x:N.crisp?Math.floor(D.plotX-it):D.plotX-it,y:D.plotY-it},it&&(D.width=D.height=2*it),D},$.prototype.pointAttribs=function(D,U){var N=this.options.marker,Z=D&&D.options,q=Z&&Z.marker||{},nt=Z&&Z.color,it=D&&D.color,ot=D&&D.zone&&D.zone.color,at=this.color;return D=T(q.lineWidth,N.lineWidth),Z=1,at=nt||ot||it||at,nt=q.fillColor||N.fillColor||at,it=q.lineColor||N.lineColor||at,N=N.states[U=U||"normal"]||{},D=T((U=q.states&&q.states[U]||{}).lineWidth,N.lineWidth,D+T(U.lineWidthPlus,N.lineWidthPlus,0)),{stroke:it=U.lineColor||N.lineColor||it,"stroke-width":D,fill:nt=U.fillColor||N.fillColor||nt,opacity:Z=T(U.opacity,N.opacity,Z)}},$.prototype.destroy=function(D){var it,ot,at,U=this,N=U.chart,Z=/AppleWebKit\/533/.test(f.navigator.userAgent),q=U.data||[];for(b(U,"destroy"),this.removeEvents(D),(U.axisTypes||[]).forEach(function(mt){(at=U[mt])&&at.series&&(o(at.series,U),at.isDirty=at.forceRedraw=!0)}),U.legendItem&&U.chart.legend.destroyItem(U),it=q.length;it--;)(ot=q[it])&&ot.destroy&&ot.destroy();U.clips&&U.clips.forEach(function(mt){return mt.destroy()}),w.clearTimeout(U.animationTimeout),m(U,function(mt,yt){mt instanceof P&&!mt.survive&&mt[Z&&"group"===yt?"hide":"destroy"]()}),N.hoverSeries===U&&(N.hoverSeries=void 0),o(N.series,U),N.orderSeries(),m(U,function(mt,yt){D&&"hcEvents"===yt||delete U[yt]})},$.prototype.applyZones=function(){var yt,vt,pt,ct,J,et,st,ut,D=this,U=this.chart,N=U.renderer,Z=this.zones,q=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(U.chartWidth,U.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=U.inverted,dt=!1;if(Z.length&&(nt||it)&&at&&void 0!==at.min){var xt=at.reversed,Et=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var wt=at.getExtremes();Z.forEach(function(kt,Dt){yt=xt?Et?U.plotWidth:0:Et?0:at.toPixels(wt.min)||0,yt=a(T(vt,yt),0,ot),vt=a(Math.round(at.toPixels(T(kt.value,wt.max),!0)||0),0,ot),dt&&(yt=vt=at.toPixels(wt.max)),ct=Math.abs(yt-vt),J=Math.min(yt,vt),et=Math.max(yt,vt),at.isXAxis?(pt={x:mt?et:J,y:0,width:ct,height:ot},Et||(pt.x=U.plotHeight-pt.x)):(pt={x:0,y:mt?et:J,width:ot,height:ct},Et&&(pt.y=U.plotWidth-pt.y)),mt&&N.isVML&&(pt=at.isXAxis?{x:0,y:xt?J:et,height:pt.width,width:U.chartWidth}:{x:pt.y-U.plotLeft-U.spacingBox.x,y:0,width:pt.height,height:U.chartHeight}),q[Dt]?q[Dt].animate(pt):q[Dt]=N.clipRect(pt),st=D["zone-area-"+Dt],ut=D["zone-graph-"+Dt],nt&&ut&&ut.clip(q[Dt]),it&&st&&st.clip(q[Dt]),dt=kt.value>wt.max,D.resetZones&&0===vt&&(vt=void 0)}),this.clips=q}else D.visible&&(nt&&nt.show(!0),it&&it.show(!0))},$.prototype.invertGroups=function(D){function U(){["group","markerGroup"].forEach(function(q){N[q]&&(Z.renderer.isVML&&N[q].attr({width:N.yAxis.len,height:N.xAxis.len}),N[q].width=N.yAxis.len,N[q].height=N.xAxis.len,N[q].invert(!N.isRadialSeries&&D))})}var N=this,Z=N.chart;N.xAxis&&(N.eventsToUnbind.push(x(Z,"resize",U)),U(),N.invertGroups=U)},$.prototype.plotGroup=function(D,U,N,Z,q){var nt=this[D],it=!nt;return N={visibility:N,zIndex:Z||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(N.opacity=this.opacity),it&&(this[D]=nt=this.chart.renderer.g().add(q)),nt.addClass("highcharts-"+U+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(d(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(N)[it?"attr":"animate"](this.getPlotBox()),nt},$.prototype.getPlotBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis;return D.inverted&&(U=N,N=this.xAxis),{translateX:U?U.left:D.plotLeft,translateY:N?N.top:D.plotTop,scaleX:1,scaleY:1}},$.prototype.removeEvents=function(D){D||R(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(U){U()}),this.eventsToUnbind.length=0)},$.prototype.render=function(){var D=this,U=D.chart,N=D.options,Z=E(N.animation),q=D.visible?"inherit":"hidden",nt=N.zIndex,it=D.hasRendered,ot=U.seriesGroup,at=U.inverted;U=!D.finishedAnimating&&U.renderer.isSVG?Z.duration:0,b(this,"render");var mt=D.plotGroup("group","series",q,nt,ot);D.markerGroup=D.plotGroup("markerGroup","markers",q,nt,ot),!1!==N.clip&&D.setClip(),D.animate&&U&&D.animate(!0),mt.inverted=!!T(D.invertible,D.isCartesian)&&at,D.drawGraph&&(D.drawGraph(),D.applyZones()),D.visible&&D.drawPoints(),D.drawDataLabels&&D.drawDataLabels(),D.redrawPoints&&D.redrawPoints(),D.drawTracker&&!1!==D.options.enableMouseTracking&&D.drawTracker(),D.invertGroups(at),D.animate&&U&&D.animate(),it||(U&&Z.defer&&(U+=Z.defer),D.animationTimeout=X(function(){D.afterAnimate()},U||0)),D.isDirty=!1,D.hasRendered=!0,b(D,"afterRender")},$.prototype.redraw=function(){var D=this.chart,U=this.isDirty||this.isDirtyData,N=this.group,Z=this.xAxis,q=this.yAxis;N&&(D.inverted&&N.attr({width:D.plotWidth,height:D.plotHeight}),N.animate({translateX:T(Z&&Z.left,D.plotLeft),translateY:T(q&&q.top,D.plotTop)})),this.translate(),this.render(),U&&delete this.kdTree},$.prototype.searchPoint=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.chart.inverted;return this.searchKDTree({clientX:q?N.len-D.chartY+N.pos:D.chartX-N.pos,plotY:q?Z.len-D.chartX+Z.pos:D.chartY-Z.pos},U,D)},$.prototype.buildKDTree=function(D){function U(q,nt,it){var ot=q&&q.length;if(ot){var at=N.kdAxisArray[nt%it];return q.sort(function(mt,yt){return mt[at]-yt[at]}),{point:q[ot=Math.floor(ot/2)],left:U(q.slice(0,ot),nt+1,it),right:U(q.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var N=this,Z=-1<N.options.findNearestPointBy.indexOf("y")?2:1;delete N.kdTree,X(function(){N.kdTree=U(N.getValidPoints(null,!N.directTouch),Z,Z),N.buildingKdTree=!1},N.options.kdNow||D&&"touchstart"===D.type?0:1)},$.prototype.searchKDTree=function(D,U,N){var q=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=U?"distX":"dist";if(U=-1<q.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(N),this.kdTree)return function Z(at,mt,yt,vt){var pt=mt.point,ct=q.kdAxisArray[yt%vt],J=pt,et=d(at[nt])&&d(pt[nt])?Math.pow(at[nt]-pt[nt],2):null,st=d(at[it])&&d(pt[it])?Math.pow(at[it]-pt[it],2):null;return pt.dist=d(st=(et||0)+(st||0))?Math.sqrt(st):Number.MAX_VALUE,pt.distX=d(et)?Math.sqrt(et):Number.MAX_VALUE,et=0>(ct=at[ct]-pt[ct])?"right":"left",mt[st=0>ct?"left":"right"]&&(J=(st=Z(at,mt[st],yt+1,vt))[ot]<J[ot]?st:pt),mt[et]&&Math.sqrt(ct*ct)<J[ot]&&(J=(at=Z(at,mt[et],yt+1,vt))[ot]<J[ot]?at:J),J}(D,this.kdTree,U,U)},$.prototype.pointPlacementToXValue=function(){var D=this.options,U=D.pointRange,N=this.xAxis;return"between"===(D=D.pointPlacement)&&(D=N.reversed?-.5:.5),_(D)?D*(U||N.pointRange):0},$.prototype.isPointInside=function(D){var U=this.chart,N=this.xAxis,Z=this.yAxis;return void 0!==D.plotY&&void 0!==D.plotX&&0<=D.plotY&&D.plotY<=(Z?Z.len:U.plotHeight)&&0<=D.plotX&&D.plotX<=(N?N.len:U.plotWidth)},$.prototype.drawTracker=function(){var D=this,U=D.options,N=U.trackByArea,Z=[].concat(N?D.areaPath:D.graphPath),q=D.chart,nt=q.pointer,it=q.renderer,ot=q.options.tooltip.snap,at=D.tracker,mt=function(vt){q.hoverSeries!==D&&D.onMouseOver()},yt="rgba(192,192,192,"+(S?1e-4:.002)+")";at?at.attr({d:Z}):D.graph&&(D.tracker=it.path(Z).attr({visibility:D.visible?"visible":"hidden",zIndex:2}).addClass(N?"highcharts-tracker-area":"highcharts-tracker-line").add(D.group),q.styledMode||D.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:yt,fill:N?yt:"none","stroke-width":D.graph.strokeWidth()+(N?0:2*ot)}),[D.tracker,D.markerGroup,D.dataLabelsGroup].forEach(function(vt){vt&&(vt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(pt){nt.onTrackerMouseOut(pt)}),U.cursor&&!q.styledMode&&vt.css({cursor:U.cursor}),v)&&vt.on("touchstart",mt)})),b(this,"afterDrawTracker")},$.prototype.addPoint=function(D,U,N,Z,q){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var vt,mt=nt.data,yt=this.xData;U=T(U,!0);var pt={series:this};this.pointClass.prototype.applyOptions.apply(pt,[D]);var ct=pt.x,J=yt.length;if(this.requireSorting&&ct<yt[J-1])for(vt=!0;J&&yt[J-1]>ct;)J--;this.updateParallelArrays(pt,"splice",J,0,0),this.updateParallelArrays(pt,J),at&&pt.name&&(at[ct]=pt.name),mt.splice(J,0,D),vt&&(this.data.splice(J,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),N&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(pt,"shift"),mt.shift())),!1!==q&&b(this,"addPoint",{point:pt}),this.isDirtyData=this.isDirty=!0,U&&ot.redraw(Z)},$.prototype.removePoint=function(D,U,N){var Z=this,q=Z.data,nt=q[D],it=Z.points,ot=Z.chart,at=function(){it&&it.length===q.length&&it.splice(D,1),q.splice(D,1),Z.options.data.splice(D,1),Z.updateParallelArrays(nt||{series:Z},"splice",D,1),nt&&nt.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,U&&ot.redraw()};s(N,ot),U=T(U,!0),nt?nt.firePointEvent("remove",null,at):at()},$.prototype.remove=function(D,U,N,Z){function q(){nt.destroy(Z),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),T(D,!0)&&it.redraw(U)}var nt=this,it=nt.chart;!1!==N?b(nt,"remove",null,q):q()},$.prototype.update=function(D,U){D=h(D,this.userOptions),b(this,"update",{options:D});var yt,N=this,Z=N.chart,q=N.userOptions,nt=N.initialType||N.type,it=Z.options.plotOptions,ot=C[nt].prototype,at=N.finishedAnimating&&{animation:!1},mt={},vt=["eventOptions","navigatorSeries","baseSeries"],pt=D.type||q.type||Z.options.chart.type,ct=!(this.hasDerivedData||pt&&pt!==this.type||void 0!==D.pointStart||void 0!==D.pointInterval||void 0!==D.relativeXValue||N.hasOptionChanged("dataGrouping")||N.hasOptionChanged("pointStart")||N.hasOptionChanged("pointInterval")||N.hasOptionChanged("pointIntervalUnit")||N.hasOptionChanged("keys"));if(pt=pt||nt,ct&&(vt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==D.visible&&vt.push("area","graph"),N.parallelArrays.forEach(function(et){vt.push(et+"Data")}),D.data&&(D.dataSorting&&u(N.options.dataSorting,D.dataSorting),this.setData(D.data,!1))),D=B(q,at,{index:void 0===q.index?N.index:q.index,pointStart:T(it&&it.series&&it.series.pointStart,q.pointStart,N.xData[0])},!ct&&{data:N.options.data},D),ct&&D.data&&(D.data=N.options.data),(vt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(vt)).forEach(function(et){vt[et]=N[et],delete N[et]}),it=!1,C[pt]){if(it=pt!==N.type,N.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(N,C[pt].prototype);else{for(yt in at=Object.hasOwnProperty.call(N,"hcEvents")&&N.hcEvents,ot)N[yt]=void 0;u(N,C[pt].prototype),at?N.hcEvents=at:delete N.hcEvents}}else r(17,!0,Z,{missingModuleFor:pt});if(vt.forEach(function(et){N[et]=vt[et]}),N.init(Z,D),ct&&this.points){var J=N.options;!1===J.visible?(mt.graphic=1,mt.dataLabel=1):N._hasPointLabels||(ot=J.dataLabels,!(D=J.marker)||!1!==D.enabled&&(q.marker&&q.marker.symbol)===D.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(et){et&&et.series&&(et.resolveColor(),Object.keys(mt).length&&et.destroyElements(mt),!1===J.showInLegend&&et.legendItem&&Z.legend.destroyItem(et))},this)}N.initialType=nt,Z.linkSeries(),it&&N.linkedSeries.length&&(N.isDirtyData=!0),b(this,"afterUpdate"),T(U,!0)&&Z.redraw(!!ct&&void 0)},$.prototype.setName=function(D){this.name=this.options.name=this.userOptions.name=D,this.chart.isDirtyLegend=!0},$.prototype.hasOptionChanged=function(D){var U=this.options[D],N=this.chart.options.plotOptions,Z=this.userOptions[D];return Z?U!==Z:U!==T(N&&N[this.type]&&N[this.type][D],N&&N.series&&N.series[D],U)},$.prototype.onMouseOver=function(){var D=this.chart,U=D.hoverSeries;D.pointer.setHoverChartIndex(),U&&U!==this&&U.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),D.hoverSeries=this},$.prototype.onMouseOut=function(){var D=this.options,U=this.chart,N=U.tooltip,Z=U.hoverPoint;U.hoverSeries=null,Z&&Z.onMouseOut(),this&&D.events.mouseOut&&b(this,"mouseOut"),!N||this.stickyTracking||N.shared&&!this.noSharedTooltip||N.hide(),U.series.forEach(function(q){q.setState("",!0)})},$.prototype.setState=function(D,U){var N=this,Z=N.options,q=N.graph,nt=Z.inactiveOtherPoints,it=Z.states,ot=T(it[D||"normal"]&&it[D||"normal"].animation,N.chart.options.chart.animation),at=Z.lineWidth,mt=0,yt=Z.opacity;if(N.state!==(D=D||"")&&([N.group,N.markerGroup,N.dataLabelsGroup].forEach(function(vt){vt&&(N.state&&vt.removeClass("highcharts-series-"+N.state),D&&vt.addClass("highcharts-series-"+D))}),N.state=D,!N.chart.styledMode)){if(it[D]&&!1===it[D].enabled)return;if(D&&(at=it[D].lineWidth||at+(it[D].lineWidthPlus||0),yt=T(it[D].opacity,yt)),q&&!q.dashstyle)for(q.animate(Z={"stroke-width":at},ot);N["zone-graph-"+mt];)N["zone-graph-"+mt].animate(Z,ot),mt+=1;nt||[N.group,N.markerGroup,N.dataLabelsGroup,N.labelBySeries].forEach(function(vt){vt&&vt.animate({opacity:yt},ot)})}U&&nt&&N.points&&N.setAllPointsToState(D||void 0)},$.prototype.setAllPointsToState=function(D){this.points.forEach(function(U){U.setState&&U.setState(D)})},$.prototype.setVisible=function(D,U){var N=this,Z=N.chart,q=N.legendItem,nt=Z.options.chart.ignoreHiddenSeries,ot=(N.visible=D=N.options.visible=N.userOptions.visible=void 0===D?!N.visible:D)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){N[at]&&N[at][ot]()}),(Z.hoverSeries===N||(Z.hoverPoint&&Z.hoverPoint.series)===N)&&N.onMouseOut(),q&&Z.legend.colorizeItem(N,D),N.isDirty=!0,N.options.stacking&&Z.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),N.linkedSeries.forEach(function(at){at.setVisible(D,!1)}),nt&&(Z.isDirtyBox=!0),b(N,ot),!1!==U&&Z.redraw()},$.prototype.show=function(){this.setVisible(!0)},$.prototype.hide=function(){this.setVisible(!1)},$.prototype.select=function(D){this.selected=D=this.options.selected=void 0===D?!this.selected:D,this.checkbox&&(this.checkbox.checked=D),b(this,D?"select":"unselect")},$.prototype.shouldShowTooltip=function(D,U,N){return void 0===N&&(N={}),N.series=this,N.visiblePlotOnly=!0,this.chart.isInsidePlot(D,U,N)},$.defaultOptions=z,$}(),u(H.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:W.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Y,requireSorting:!0,sorted:!0}),I.series=H,H}),lt(F,"Extensions/ScrollablePlotArea.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.stop,I=Y.addEvent,P=Y.createElement,w=Y.merge,E=Y.pick;I(V,"afterSetChartSize",function(s){var l=this.options.chart.scrollablePlotArea,g=l&&l.minWidth;if(l=l&&l.minHeight,!this.renderer.forExport){if(g){if(this.scrollablePixelsX=g=Math.max(0,g-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.width=this.plotWidth+=g,this.inverted?this.clipBox.height+=g:this.clipBox.width+=g;var v={1:{name:"right",value:g}}}}else l&&(this.scrollablePixelsY=g=Math.max(0,l-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.height=this.plotHeight+=g,this.inverted?this.clipBox.width+=g:this.clipBox.height+=g,v={2:{name:"bottom",value:g}});v&&!s.skipAxes&&this.axes.forEach(function(S){v[S.side]?S.getPlotLinePath=function(){var f=v[S.side].name,C=this[f];this[f]=C-v[S.side].value;var x=K.prototype.getPlotLinePath.apply(this,arguments);return this[f]=C,x}:(S.setAxisSize(),S.setAxisTranslation())})}}),I(V,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),V.prototype.setUpScrolling=function(){var s=this,l={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(l.overflowX="auto"),this.scrollablePixelsY&&(l.overflowY="auto"),this.scrollingParent=P("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=P("div",{className:"highcharts-scrolling"},l,this.scrollingParent),I(this.scrollingContainer,"scroll",function(){s.pointer&&delete s.pointer.chartPosition}),this.innerContainer=P("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},V.prototype.moveFixedElements=function(){var v,s=this.container,l=this.fixedRenderer,g=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?v=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?v=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(v=".highcharts-yaxis"),v&&g.push(v+":not(.highcharts-radial-axis)",v+"-labels:not(.highcharts-radial-axis-labels)"),g.forEach(function(S){[].forEach.call(s.querySelectorAll(S),function(f){(f.namespaceURI===l.SVG_NS?l.box:l.box.parentNode).appendChild(f),f.style.pointerEvents="auto"})})},V.prototype.applyFixed=function(){var s=!this.fixedDiv,l=this.options.chart,g=l.scrollablePlotArea,v=W.getRendererType();s?(this.fixedDiv=P("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(l.style&&l.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=l=new v(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=l.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":E(g.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I(this,"afterShowResetZoom",this.moveFixedElements),I(this,"afterDrilldown",this.moveFixedElements),I(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||s)&&(this.scrollableDirty=!1,this.moveFixedElements()),l=this.chartWidth+(this.scrollablePixelsX||0),v=this.chartHeight+(this.scrollablePixelsY||0),z(this.container),this.container.style.width=l+"px",this.container.style.height=v+"px",this.renderer.boxWrapper.attr({width:l,height:v,viewBox:[0,0,l,v].join(" ")}),this.chartBackground.attr({width:l,height:v}),this.scrollingContainer.style.height=this.chartHeight+"px",s&&(g.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*g.scrollPositionX),g.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*g.scrollPositionY)),s=this.plotTop-(v=this.axisOffset)[0]-1,g=this.plotLeft-v[3]-1,l=this.plotTop+this.plotHeight+v[2]+1,v=this.plotLeft+this.plotWidth+v[1]+1;var S=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),f=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);s=this.scrollablePixelsX?[["M",0,s],["L",this.plotLeft-1,s],["L",this.plotLeft-1,l],["L",0,l],["Z"],["M",S,s],["L",this.chartWidth,s],["L",this.chartWidth,l],["L",S,l],["Z"]]:this.scrollablePixelsY?[["M",g,0],["L",g,this.plotTop-1],["L",v,this.plotTop-1],["L",v,0],["Z"],["M",g,f],["L",g,this.chartHeight],["L",v,this.chartHeight],["L",v,f],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:s})},I(K,"afterInit",function(){this.chart.scrollableDirty=!0}),I(Q,"show",function(){this.chart.scrollableDirty=!0})}),lt(F,"Core/Axis/StackingAxis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Utilities.js"]],function(H,K,V){var w,Q=H.getDeferredAnimation,W=V.addEvent,Y=V.destroyObjectProperties,z=V.fireEvent,I=V.isNumber,P=V.objectEach;return function(E){function s(){var S=this.stacking;if(S){var f=S.stacks;P(f,function(C,x){Y(C),f[x]=null}),S&&S.stackTotalGroup&&S.stackTotalGroup.destroy()}}function l(){this.stacking||(this.stacking=new v(this))}var g=[];E.compose=function(S){return-1===g.indexOf(S)&&(g.push(S),W(S,"init",l),W(S,"destroy",s)),S};var v=function(){function S(f){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=f}return S.prototype.buildStacks=function(){var p,f=this.axis,C=f.series,x=f.options.reversedStacks,M=C.length;if(!f.isXAxis){for(this.usePercentage=!1,p=M;p--;){var a=C[x?p:M-p-1];a.setStackedPoints(),a.setGroupedPoints()}for(p=0;p<M;p++)C[p].modifyStacks();z(f,"afterBuildStacks")}},S.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var f=this.stacks=this.oldStacks;P(f,function(C){P(C,function(x){x.cumulative=x.total})})}},S.prototype.resetStacks=function(){var f=this;f.axis.isXAxis||P(f.stacks,function(x){P(x,function(M,p){I(M.touched)&&M.touched<f.stacksTouched?(M.destroy(),delete x[p]):(M.total=null,M.cumulative=null)})})},S.prototype.renderStackTotals=function(){var f=this.axis,C=f.chart,x=C.renderer,M=this.stacks;f=Q(C,f.options.stackLabels&&f.options.stackLabels.animation||!1);var p=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();p.translate(C.plotLeft,C.plotTop),P(M,function(a){P(a,function(h){h.render(p)})}),p.animate({opacity:1},f)},S}();E.Additions=v}(w||(w={})),w}),lt(F,"Extensions/Stacking.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Axis/StackingAxis.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var I=V.format,P=z.correctFloat,w=z.defined,E=z.destroyObjectProperties,s=z.isArray,l=z.isNumber,g=z.objectEach,v=z.pick,S=function(){function f(C,x,M,p,a){var h=C.chart.inverted;this.axis=C,this.isNegative=M,this.options=x=x||{},this.x=p,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:x.align||(h?M?"left":"right":"center"),verticalAlign:x.verticalAlign||(h?"middle":M?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(h?M?"right":"left":"center")}return f.prototype.destroy=function(){E(this,this.axis)},f.prototype.render=function(C){var x=this.axis.chart,M=this.options,p=M.format;p=p?I(p,this,x):M.formatter.call(this),this.label?this.label.attr({text:p,visibility:"hidden"}):(this.label=x.renderer.label(p,null,null,M.shape,null,null,M.useHTML,!1,"stack-labels"),p={r:M.borderRadius||0,text:p,rotation:M.rotation,padding:v(M.padding,5),visibility:"hidden"},x.styledMode||(p.fill=M.backgroundColor,p.stroke=M.borderColor,p["stroke-width"]=M.borderWidth,this.label.css(M.style)),this.label.attr(p),this.label.added||this.label.add(C)),this.label.labelrank=x.plotSizeY},f.prototype.setOffset=function(C,x,M,p,a){var h=this.axis,n=h.chart;p=h.translate(h.stacking.usePercentage?100:p||this.total,0,0,0,1),M=h.translate(M||0),M=w(p)&&Math.abs(p-M),C=v(a,n.xAxis[0].translate(this.x))+C,h=w(p)&&this.getStackBox(n,this,C,p,x,M,h),x=this.label,M=this.isNegative,C="justify"===v(this.options.overflow,"justify");var d=this.textAlign;x&&h&&(a=x.getBBox(),p=x.padding,d="left"===d?n.inverted?-p:p:"right"===d?a.width:n.inverted&&"center"===d?a.width/2:n.inverted?M?a.width+p:-p:a.width/2,M=n.inverted?a.height/2:M?-p:a.height,this.alignOptions.x=v(this.options.x,0),this.alignOptions.y=v(this.options.y,0),h.x-=d,h.y-=M,x.align(this.alignOptions,null,h),n.isInsidePlot(x.alignAttr.x+d-this.alignOptions.x,x.alignAttr.y+M-this.alignOptions.y)?x.show():(x.alignAttr.y=-9999,C=!1),C&&W.prototype.justifyDataLabel.call(this.axis,x,this.alignOptions,x.alignAttr,a,h),x.attr({x:x.alignAttr.x,y:x.alignAttr.y}),v(!C&&this.options.crop,!0)&&((n=l(x.x)&&l(x.y)&&n.isInsidePlot(x.x-p+x.width,x.y)&&n.isInsidePlot(x.x+p,x.y))||x.hide()))},f.prototype.getStackBox=function(C,x,M,p,a,h,n){var d=x.axis.reversed,o=C.inverted,r=n.height+n.pos-(o?C.plotLeft:C.plotTop);return x=x.isNegative&&!d||!x.isNegative&&d,{x:o?x?p-n.right:p-h+n.pos-C.plotLeft:M+C.xAxis[0].transB-C.plotLeft,y:o?n.height-M-a:x?r-p-h:r-p,width:o?h:a,height:o?a:h}},f}();return K.prototype.getStacks=function(){var f=this,C=f.inverted;f.yAxis.forEach(function(x){x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),f.series.forEach(function(x){var M=x.xAxis&&x.xAxis.options||{};!x.options.stacking||!0!==x.visible&&!1!==f.options.chart.ignoreHiddenSeries||(x.stackKey=[x.type,v(x.options.stack,""),C?M.top:M.left,C?M.height:M.width].join())})},Y.compose(H),W.prototype.setGroupedPoints=function(){var f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?W.prototype.setStackedPoints.call(this,"group"):f&&g(f.stacks,function(C,x){"group"===x.slice(-5)&&(g(C,function(M){return M.destroy()}),delete f.stacks[x])})},W.prototype.setStackedPoints=function(f){var C=f||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x=this.processedXData,M=this.processedYData,p=[],a=M.length,h=this.options,n=h.threshold,d=v(h.startFromThreshold&&n,0);h=h.stack;var O,k,o="-"+(f=f?this.type+","+C:this.stackKey),r=this.negStacks,u=this.yAxis,c=u.stacking.stacks,b=u.stacking.oldStacks;for(u.stacking.stacksTouched+=1,k=0;k<a;k++){var _=x[k],A=M[k],B=this.getStackIndicator(B,_,this.index),m=B.key,T=(O=r&&A<(d?0:n))?o:f;c[T]||(c[T]={}),c[T][_]||(b[T]&&b[T][_]?(c[T][_]=b[T][_],c[T][_].total=null):c[T][_]=new S(u,u.options.stackLabels,O,_,h)),T=c[T][_],null!==A?(T.points[m]=T.points[this.index]=[v(T.cumulative,d)],w(T.cumulative)||(T.base=m),T.touched=u.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(T.points[m][0]=T.points[this.index+","+_+",0"][0])):T.points[m]=T.points[this.index]=null,"percent"===C?(O=O?f:o,T.total=r&&c[O]&&c[O][_]?(O=c[O][_]).total=Math.max(O.total,T.total)+Math.abs(A)||0:P(T.total+(Math.abs(A)||0))):"group"===C?(s(A)&&(A=A[0]),null!==A&&(T.total=(T.total||0)+1)):T.total=P(T.total+(A||0)),T.cumulative="group"===C?(T.total||1)-1:v(T.cumulative,d)+(A||0),null!==A&&(T.points[m].push(T.cumulative),p[k]=T.cumulative,T.hasValidPoints=!0)}"percent"===C&&(u.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=p),u.stacking.oldStacks={}}},W.prototype.modifyStacks=function(){var p,f=this,C=f.stackKey,x=f.yAxis.stacking.stacks,M=f.processedXData,a=f.options.stacking;f[a+"Stacker"]&&[C,"-"+C].forEach(function(h){for(var d,o,n=M.length;n--;)p=f.getStackIndicator(p,d=M[n],f.index,h),(o=(d=x[h]&&x[h][d])&&d.points[p.key])&&f[a+"Stacker"](o,d,n)})},W.prototype.percentStacker=function(f,C,x){f[0]=P(f[0]*(C=C.total?100/C.total:0)),f[1]=P(f[1]*C),this.stackedYData[x]=f[1]},W.prototype.getStackIndicator=function(f,C,x,M){return!w(f)||f.x!==C||M&&f.key!==M?f={x:C,index:0,key:M}:f.index++,f.key=[x,C,f.index].join(),f},Q.StackItem=S,Q.StackItem}),lt(F,"Series/Line/LineSeries.js",[F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.defined,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.prototype.drawGraph=function(){var P=this,w=this.options,E=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode,l=[["graph","highcharts-graph"]];s||l[0].push(w.lineColor||this.color||"#cccccc",w.dashStyle),(l=P.getZonesGraphs(l)).forEach(function(g,v){var S=g[0],f=P[S],C=f?"animate":"attr";f?(f.endX=P.preventGraphAnimation?null:E.xMap,f.animate({d:E})):E.length&&(P[S]=f=P.chart.renderer.path(E).addClass(g[1]).attr({zIndex:1}).add(P.group)),f&&!s&&(S={stroke:g[2],"stroke-width":w.lineWidth,fill:P.fillGraph&&P.color||"none"},g[3]?S.dashstyle=g[3]:"square"!==w.linecap&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),f[C](S).shadow(2>v&&w.shadow)),f&&(f.startX=E.xMap,f.isArea=E.isArea)})},I.prototype.getGraphPath=function(P,w,E){var S,s=this,l=s.options,g=[],v=[],f=l.step,C=(P=P||s.points).reversed;return C&&P.reverse(),(f={right:1,center:2}[f]||f&&3)&&C&&(f=4-f),(P=this.getValidPoints(P,!1,!(l.connectNulls&&!w&&!E))).forEach(function(x,M){var p=x.plotX,a=x.plotY,h=P[M-1];(x.leftCliff||h&&h.rightCliff)&&!E&&(S=!0),x.isNull&&!W(w)&&0<M?S=!l.connectNulls:x.isNull&&!w?S=!0:(0===M||S?M=[["M",x.plotX,x.plotY]]:s.getPointSpline?M=[s.getPointSpline(P,x,M)]:f?(M=1===f?[["L",h.plotX,a]]:2===f?[["L",(h.plotX+p)/2,h.plotY],["L",(h.plotX+p)/2,a]]:[["L",p,h.plotY]]).push(["L",p,a]):M=[["L",p,a]],v.push(x.x),f&&(v.push(x.x),2===f&&v.push(x.x)),g.push.apply(g,M),S=!1)}),g.xMap=v,s.graphPath=g},I.prototype.getZonesGraphs=function(P){return this.zones.forEach(function(w,E){E=["zone-graph-"+E,"highcharts-graph highcharts-zone-graph-"+E+" "+(w.className||"")],this.chart.styledMode||E.push(w.color||this.color,w.dashStyle||this.options.dashStyle),P.push(E)},this),P},I.defaultOptions=Y(H.defaultOptions,{}),I}(H),K.registerSeriesType("line",V),V}),lt(F,"Series/Area/AreaSeries.js",[F["Core/Color/Color.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var E,W=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),Y=H.parse,z=V.seriesTypes.line;H=Q.extend;var I=Q.merge,P=Q.objectEach,w=Q.pick;return Q=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return W(s,E),s.prototype.drawGraph=function(){this.areaPath=[],E.prototype.drawGraph.apply(this);var l=this,g=this.areaPath,v=this.options,S=[["area","highcharts-area",this.color,v.fillColor]];this.zones.forEach(function(f,C){S.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+f.className,f.color||l.color,f.fillColor||v.fillColor])}),S.forEach(function(f){var C=f[0],x=l[C],M=x?"animate":"attr",p={};x?(x.endX=l.preventGraphAnimation?null:g.xMap,x.animate({d:g})):(p.zIndex=0,(x=l[C]=l.chart.renderer.path(g).addClass(f[1]).add(l.group)).isArea=!0),l.chart.styledMode||(p.fill=w(f[3],Y(f[2]).setOpacity(w(v.fillOpacity,.75)).get())),x[M](p),x.startX=g.xMap,x.shiftUnit=v.step?2:1})},s.prototype.getGraphPath=function(l){var C,g=z.prototype.getGraphPath,v=this.options,S=v.stacking,f=this.yAxis,x=[],M=[],p=this.index,a=f.stacking.stacks[this.stackKey],h=v.threshold,n=Math.round(f.getThreshold(v.threshold));v=w(v.connectNulls,"percent"===S);var d=function(c,b,O){var k=l[c];c=S&&a[k.x].points[p];var _=k[O+"Null"]||0;if(O=k[O+"Cliff"]||0,k=!0,O||_){var A=(_?c[0]:c[1])+O,B=c[0]+O;k=!!_}else!S&&l[b]&&l[b].isNull&&(A=B=h);void 0!==A&&(M.push({plotX:r,plotY:null===A?n:f.getThreshold(A),isNull:k,isCliff:!0}),x.push({plotX:r,plotY:null===B?n:f.getThreshold(B),doCurve:!1}))};for(l=l||this.points,S&&(l=this.getStackPoints(l)),C=0;C<l.length;C++){S||(l[C].leftCliff=l[C].rightCliff=l[C].leftNull=l[C].rightNull=void 0);var o=l[C].isNull,r=w(l[C].rectPlotX,l[C].plotX),u=S?w(l[C].yBottom,n):n;(!o||v)&&(v||d(C,C-1,"left"),o&&!S&&v||(M.push(l[C]),x.push({x:C,plotX:r,plotY:u})),v||d(C,C+1,"right"))}return C=g.call(this,M,!0,!0),x.reversed=!0,(u=(o=g.call(this,x,!0,!0))[0])&&"M"===u[0]&&(o[0]=["L",u[1],u[2]]),(o=C.concat(o)).length&&o.push(["Z"]),g=g.call(this,M,!1,v),o.xMap=C.xMap,this.areaPath=o,g},s.prototype.getStackPoints=function(l){var g=this,v=[],S=[],f=this.xAxis,C=this.yAxis,x=C.stacking.stacks[this.stackKey],M={},p=C.series,a=p.length,h=C.options.reversedStacks?1:-1,n=p.indexOf(g);if(l=l||this.points,this.options.stacking){for(var d=0;d<l.length;d++)l[d].leftNull=l[d].rightNull=void 0,M[l[d].x]=l[d];P(x,function(r,u){null!==r.total&&S.push(u)}),S.sort(function(r,u){return r-u});var o=p.map(function(r){return r.visible});S.forEach(function(r,u){var b,O,c=0;if(M[r]&&!M[r].isNull)v.push(M[r]),[-1,1].forEach(function(_){var A=1===_?"rightNull":"leftNull",B=0,m=x[S[u+_]];if(m)for(var T=n;0<=T&&T<a;){var R=p[T].index;(b=m.points[R])||(R===g.index?M[r][A]=!0:o[T]&&(O=x[r].points[R])&&(B-=O[1]-O[0])),T+=h}M[r][1===_?"rightCliff":"leftCliff"]=B});else{for(var k=n;0<=k&&k<a;){if(b=x[r].points[p[k].index]){c=b[1];break}k+=h}c=w(c,0),c=C.translate(c,0,1,0,1),v.push({isNull:!0,plotX:f.translate(r,0,0,0,1),x:r,plotY:c,yBottom:c})}})}return v},s.defaultOptions=I(z.defaultOptions,{threshold:0}),s}(z),H(Q.prototype,{singleStacks:!1,drawLegendSymbol:K.drawRectangle}),V.registerSeriesType("area",Q),Q}),lt(F,"Series/Spline/SplineSeries.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var z,V=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),Q=H.seriesTypes.line,W=K.merge,Y=K.pick;return K=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return V(I,z),I.prototype.getPointSpline=function(P,w,E){var s=w.plotX||0,l=w.plotY||0,g=P[E-1];if(E=P[E+1],g&&!g.isNull&&!1!==g.doCurve&&!w.isCliff&&E&&!E.isNull&&!1!==E.doCurve&&!w.isCliff){var v=E.plotX||0,S=0,f=(1.5*s+(g.plotX||0))/2.5,C=(1.5*l+(P=g.plotY||0))/2.5,x=(1.5*l+(E=E.plotY||0))/2.5;(v=(1.5*s+v)/2.5)!==f&&(S=(x-C)*(v-s)/(v-f)+l-x),x+=S,(C+=S)>P&&C>l?x=2*l-(C=Math.max(P,l)):C<P&&C<l&&(x=2*l-(C=Math.min(P,l))),x>E&&x>l?C=2*l-(x=Math.max(E,l)):x<E&&x<l&&(C=2*l-(x=Math.min(E,l))),w.rightContX=v,w.rightContY=x}return w=["C",Y(g.rightContX,g.plotX,0),Y(g.rightContY,g.plotY,0),Y(f,s,0),Y(C,l,0),s,l],g.rightContX=g.rightContY=void 0,w},I.defaultOptions=W(Q.defaultOptions),I}(Q),H.registerSeriesType("spline",K),K}),lt(F,"Series/AreaSpline/AreaSplineSeries.js",[F["Series/Area/AreaSeries.js"],F["Series/Spline/SplineSeries.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var w,Y=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),z=H.prototype,I=W.extend,P=W.merge;return W=function(w){function E(){var s=null!==w&&w.apply(this,arguments)||this;return s.data=void 0,s.points=void 0,s.options=void 0,s}return Y(E,w),E.defaultOptions=P(K.defaultOptions,H.defaultOptions),E}(K),I(W.prototype,{getGraphPath:z.getGraphPath,getStackPoints:z.getStackPoints,drawGraph:z.drawGraph,drawLegendSymbol:V.drawRectangle}),Q.registerSeriesType("areaspline",W),W}),lt(F,"Series/Column/ColumnSeries.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var a,I=this&&this.__extends||(a=function(h,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])})(h,n)},function(h,n){function d(){this.constructor=h}a(h,n),h.prototype=null===n?Object.create(n):(d.prototype=n.prototype,new d)}),P=H.animObject,w=K.parse,E=V.hasTouch;H=V.noop;var s=z.clamp,l=z.css,g=z.defined,v=z.extend,S=z.fireEvent,f=z.isArray,C=z.isNumber,x=z.merge,M=z.pick,p=z.objectEach;return z=function(a){function h(){var n=null!==a&&a.apply(this,arguments)||this;return n.borderWidth=void 0,n.data=void 0,n.group=void 0,n.options=void 0,n.points=void 0,n}return I(h,a),h.prototype.animate=function(n){var d=this,o=this.yAxis,r=d.options,u=this.chart.inverted,c={},b=u?"translateX":"translateY";if(n)c.scaleY=.001,n=s(o.toPixels(r.threshold),o.pos,o.pos+o.len),u?c.translateX=n-o.len:c.translateY=n,d.clipBox&&d.setClip(),d.group.attr(c);else{var O=Number(d.group.attr(b));d.group.animate({scaleY:1},v(P(d.options.animation),{step:function(k,_){d.group&&(c[b]=O+_.pos*(o.pos-O),d.group.attr(c))}}))}},h.prototype.init=function(n,d){a.prototype.init.apply(this,arguments);var o=this;(n=o.chart).hasRendered&&n.series.forEach(function(r){r.type===o.type&&(r.isDirty=!0)})},h.prototype.getColumnMetrics=function(){var n=this,d=n.options,o=n.xAxis,r=n.yAxis,u=o.options.reversedStacks;u=o.reversed&&!u||!o.reversed&&u;var b,c={},O=0;!1===d.grouping?O=1:n.chart.series.forEach(function(B){var m=B.yAxis,T=B.options;if(B.type===n.type&&(B.visible||!n.chart.options.chart.ignoreHiddenSeries)&&r.len===m.len&&r.pos===m.pos){if(T.stacking&&"group"!==T.stacking){void 0===c[b=B.stackKey]&&(c[b]=O++);var R=c[b]}else!1!==T.grouping&&(R=O++);B.columnIndex=R}});var k=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||d.pointRange||o.closestPointRange||o.tickInterval||1),o.len),_=k*d.groupPadding,A=(k-2*_)/(O||1);return d=Math.min(d.maxPointWidth||o.len,M(d.pointWidth,A*(1-2*d.pointPadding))),n.columnMetrics={width:d,offset:(A-d)/2+(_+((n.columnIndex||0)+(u?1:0))*A-k/2)*(u?-1:1),paddedWidth:A,columnCount:O},n.columnMetrics},h.prototype.crispCol=function(n,d,o,r){var u=this.chart,c=this.borderWidth,b=-(c%2?.5:0);return c=c%2?.5:1,u.inverted&&u.renderer.isVML&&(c+=1),this.options.crisp&&(o=Math.round(n+o)+b,o-=n=Math.round(n)+b),r=Math.round(d+r)+c,b=.5>=Math.abs(d)&&.5<r,r-=d=Math.round(d)+c,b&&r&&(--d,r+=1),{x:n,y:d,width:o,height:r}},h.prototype.adjustForMissingColumns=function(n,d,o,r){var u=this,c=this.options.stacking;if(!o.isNull&&1<r.columnCount){var b=0,O=0;p(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(k){if("number"==typeof o.x&&(k=k[o.x.toString()])){var _=k.points[u.index],A=k.total;c?(_&&(b=O),k.hasValidPoints&&O++):f(_)&&(b=_[1],O=A||0)}}),n=(o.plotX||0)+((O-1)*r.paddedWidth+d)/2-d-b*r.paddedWidth}return n},h.prototype.translate=function(){var n=this,d=n.chart,o=n.options,r=n.dense=2>n.closestPointRange*n.xAxis.transA;r=n.borderWidth=M(o.borderWidth,r?0:1);var u=n.xAxis,c=n.yAxis,b=o.threshold,O=n.translatedThreshold=c.getThreshold(b),k=M(o.minPointLength,5),_=n.getColumnMetrics(),A=_.width,B=n.pointXOffset=_.offset,m=n.dataMin,T=n.dataMax,R=n.barW=Math.max(A,1+2*r);d.inverted&&(O-=.5),o.pointPadding&&(R=Math.ceil(R)),W.prototype.translate.apply(n),n.points.forEach(function(j){var X=M(j.yBottom,O),$=999+Math.abs(X),D=j.plotX||0;$=s(j.plotY,-$,c.len+$);var U=Math.min($,X),N=Math.max($,X)-U,Z=A,q=D+B,nt=R;k&&Math.abs(N)<k&&(N=k,D=!c.reversed&&!j.negative||c.reversed&&j.negative,C(b)&&C(T)&&j.y===b&&T<=b&&(c.min||0)<b&&(m!==T||(c.max||0)<=b)&&(D=!D),U=Math.abs(U-O)>k?X-k:O-(D?k:0)),g(j.options.pointWidth)&&(Z=nt=Math.ceil(j.options.pointWidth),q-=Math.round((Z-A)/2)),o.centerInCategory&&(q=n.adjustForMissingColumns(q,Z,j,_)),j.barX=q,j.pointWidth=Z,j.tooltipPos=d.inverted?[s(c.len+c.pos-d.plotLeft-$,c.pos-d.plotLeft,c.len+c.pos-d.plotLeft),u.len+u.pos-d.plotTop-q-nt/2,N]:[u.left-d.plotLeft+q+nt/2,s($+c.pos-d.plotTop,c.pos-d.plotTop,c.len+c.pos-d.plotTop),N],j.shapeType=n.pointClass.prototype.shapeType||"rect",j.shapeArgs=n.crispCol.apply(n,j.isNull?[q,O,nt,0]:[q,U,nt,N])})},h.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},h.prototype.pointAttribs=function(n,d){var o=this.options,r=this.pointAttrToOptions||{},u=r.stroke||"borderColor",c=r["stroke-width"]||"borderWidth",b=n&&n.color||this.color,O=n&&n[u]||o[u]||b;r=n&&n.options.dashStyle||o.dashStyle;var k=n&&n[c]||o[c]||this[c]||0,_=M(n&&n.opacity,o.opacity,1);if(n&&this.zones.length){var A=n.getZone();b=n.options.color||A&&(A.color||n.nonZonedColor)||this.color,A&&(O=A.borderColor||O,r=A.dashStyle||r,k=A.borderWidth||k)}return d&&n&&(d=(n=x(o.states[d],n.options.states&&n.options.states[d]||{})).brightness,b=n.color||void 0!==d&&w(b).brighten(n.brightness).get()||b,O=n[u]||O,k=n[c]||k,r=n.dashStyle||r,_=M(n.opacity,_)),u={fill:b,stroke:O,"stroke-width":k,opacity:_},r&&(u.dashstyle=r),u},h.prototype.drawPoints=function(){var c,n=this,d=this.chart,o=n.options,r=d.renderer,u=o.animationLimit||250;n.points.forEach(function(b){var O=b.graphic,k=!!O,_=O&&d.pointCount<u?"animate":"attr";C(b.plotY)&&null!==b.y?(c=b.shapeArgs,O&&b.hasNewShapeType()&&(O=O.destroy()),n.enabledDataSorting&&(b.startXPos=n.xAxis.reversed?-(c&&c.width||0):n.xAxis.width),O||(b.graphic=O=r[b.shapeType](c).add(b.group||n.group))&&n.enabledDataSorting&&d.hasRendered&&d.pointCount<u&&(O.attr({x:b.startXPos}),k=!0,_="animate"),O&&k&&O[_](x(c)),o.borderRadius&&O[_]({r:o.borderRadius}),d.styledMode||O[_](n.pointAttribs(b,b.selected&&"select")).shadow(!1!==b.allowShadow&&o.shadow,null,o.stacking&&!o.borderRadius),O&&(O.addClass(b.getClassName(),!0),O.attr({visibility:b.visible?"inherit":"hidden"}))):O&&(b.graphic=O.destroy())})},h.prototype.drawTracker=function(){var u,n=this,d=n.chart,o=d.pointer,r=function(c){var b=o.getPointFromEvent(c);void 0!==b&&(o.isDirectTouch=!0,b.onMouseOver(c))};n.points.forEach(function(c){u=f(c.dataLabels)?c.dataLabels:c.dataLabel?[c.dataLabel]:[],c.graphic&&(c.graphic.element.point=c),u.forEach(function(b){b.div?b.div.point=c:b.element.point=c})}),n._hasTracking||(n.trackerGroups.forEach(function(c){n[c]&&(n[c].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(b){o.onTrackerMouseOut(b)}),E&&n[c].on("touchstart",r),!d.styledMode&&n.options.cursor&&n[c].css(l).css({cursor:n.options.cursor}))}),n._hasTracking=!0),S(this,"afterDrawTracker")},h.prototype.remove=function(){var n=this,d=n.chart;d.hasRendered&&d.series.forEach(function(o){o.type===n.type&&(o.isDirty=!0)}),W.prototype.remove.apply(n,arguments)},h.defaultOptions=x(W.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),h}(W),v(z.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:Q.drawRectangle,getSymbol:H,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Y.registerSeriesType("column",z),z}),lt(F,"Core/Series/DataLabel.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=H.getDeferredAnimation,W=K.format,Y=V.defined,z=V.extend,I=V.fireEvent,P=V.isArray,w=V.merge,E=V.objectEach,s=V.pick,l=V.splat;return function(v){function S(h,n,d,o,r){var u=this,c=this.chart,b=this.isCartesian&&c.inverted,O=this.enabledDataSorting,k=s(h.dlBox&&h.dlBox.centerX,h.plotX,-9999),_=s(h.plotY,-9999),A=n.getBBox(),B=d.rotation,m=d.align,T=c.isInsidePlot(k,Math.round(_),{inverted:b,paneCoordinates:!0,series:u}),R=function(D){O&&u.xAxis&&!j&&u.setDataLabelStartPos(h,n,r,T,D)},j="justify"===s(d.overflow,O?"none":"justify"),X=this.visible&&!1!==h.visible&&(h.series.forceDL||O&&!j||T||s(d.inside,!!this.options.stacking)&&o&&c.isInsidePlot(k,b?o.x+1:o.y+o.height-1,{inverted:b,paneCoordinates:!0,series:u}));if(X){var $=c.renderer.fontMetrics(c.styledMode?void 0:d.style.fontSize,n).b;o=z({x:b?this.yAxis.len-_:k,y:Math.round(b?this.xAxis.len-k:_),width:0,height:0},o),z(d,{width:A.width,height:A.height}),B?(j=!1,k=c.renderer.rotCorr($,B),R(k={x:o.x+(d.x||0)+o.width/2+k.x,y:o.y+(d.y||0)+{top:0,middle:.5,bottom:1}[d.verticalAlign]*o.height}),n[r?"attr":"animate"](k).attr({align:m}),R=180<(R=(B+720)%360)&&360>R,"left"===m?k.y-=R?A.height:0:"center"===m?(k.x-=A.width/2,k.y-=A.height/2):"right"===m&&(k.x-=A.width,k.y-=R?0:A.height),n.placed=!0,n.alignAttr=k):(R(o),n.align(d,void 0,o),k=n.alignAttr),j&&0<=o.height?this.justifyDataLabel(n,d,k,A,o,r):s(d.crop,!0)&&(X=c.isInsidePlot(k.x,k.y,{paneCoordinates:!0,series:u})&&c.isInsidePlot(k.x+A.width,k.y+A.height,{paneCoordinates:!0,series:u})),d.shape&&!B&&n[r?"attr":"animate"]({anchorX:b?c.plotWidth-h.plotY:h.plotX,anchorY:b?c.plotHeight-h.plotX:h.plotY})}r&&O&&(n.placed=!1),X||O&&!j||(n.hide(!0),n.placed=!1)}function C(){var h=this,n=h.chart,d=h.options,o=h.points,r=h.hasRendered||0,u=n.renderer,c=d.dataLabels,O=c.animation;if(O=c.defer?Q(n,O,h):{defer:0,duration:0},c=M(M(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[h.type]&&n.options.plotOptions[h.type].dataLabels),c),I(this,"drawDataLabels"),P(c)||c.enabled||h._hasPointLabels){var k=h.plotGroup("dataLabelsGroup","data-labels",r?"inherit":"hidden",c.zIndex||6);k.attr({opacity:+r}),!r&&(r=h.dataLabelsGroup)&&(h.visible&&k.show(!0),r[d.animation?"animate":"attr"]({opacity:1},O)),o.forEach(function(_){l(M(c,_.dlOptions||_.options&&_.options.dataLabels)).forEach(function(A,B){var m=A.enabled&&(!_.isNull||_.dataLabelOnNull)&&function f(h,n){var d=n.filter;return!d||(n=d.operator,h=h[d.property],d=d.value,">"===n&&h>d||"<"===n&&h<d||">="===n&&h>=d||"<="===n&&h<=d||"=="===n&&h==d||"==="===n&&h===d)}(_,A),T=_.connectors?_.connectors[B]:_.connector,R=_.dataLabels?_.dataLabels[B]:_.dataLabel,j=s(A.distance,_.labelDistance),X=!R;if(m){var $=_.getLabelConfig(),D=s(A[_.formatPrefix+"Format"],A.format);$=Y(D)?W(D,$,n):(A[_.formatPrefix+"Formatter"]||A.formatter).call($,A),D=A.style;var U=A.rotation;n.styledMode||(D.color=s(A.color,D.color,h.color,"#000000"),"contrast"===D.color?(_.contrastColor=u.getContrast(_.color||h.color),D.color=!Y(j)&&A.inside||0>j||d.stacking?_.contrastColor:"#000000"):delete _.contrastColor,d.cursor&&(D.cursor=d.cursor));var N={r:A.borderRadius||0,rotation:U,padding:A.padding,zIndex:1};n.styledMode||(N.fill=A.backgroundColor,N.stroke=A.borderColor,N["stroke-width"]=A.borderWidth),E(N,function(Z,q){void 0===Z&&delete N[q]})}!R||m&&Y($)&&!!R.div==!!A.useHTML||(_.dataLabel=R=_.dataLabel&&_.dataLabel.destroy(),_.dataLabels&&(1===_.dataLabels.length?delete _.dataLabels:delete _.dataLabels[B]),B||delete _.dataLabel,T&&(_.connector=_.connector.destroy(),_.connectors&&(1===_.connectors.length?delete _.connectors:delete _.connectors[B]))),m&&Y($)&&(R?N.text=$:(_.dataLabels=_.dataLabels||[],R=_.dataLabels[B]=U?u.text($,0,-9999,A.useHTML).addClass("highcharts-data-label"):u.label($,0,-9999,A.shape,null,null,A.useHTML,null,"data-label"),B||(_.dataLabel=R),R.addClass(" highcharts-data-label-color-"+_.colorIndex+" "+(A.className||"")+(A.useHTML?" highcharts-tracker":""))),R.options=A,R.attr(N),n.styledMode||R.css(D).shadow(A.shadow),R.added||R.add(k),A.textPath&&!A.useHTML&&(R.setTextPath(_.getDataLabelPath&&_.getDataLabelPath(R)||_.graphic,A.textPath),_.dataLabelPath&&!A.textPath.enabled&&(_.dataLabelPath=_.dataLabelPath.destroy())),h.alignDataLabel(_,R,A,null,X))})})}I(this,"afterDrawDataLabels")}function x(h,n,d,o,r,u){var c=this.chart,b=n.align,O=n.verticalAlign,k=h.box?0:h.padding||0,_=n.x;_=void 0===_?0:_;var A=n.y;A=void 0===A?0:A;var B=(d.x||0)+k;if(0>B){"right"===b&&0<=_?(n.align="left",n.inside=!0):_-=B;var m=!0}return(B=(d.x||0)+o.width-k)>c.plotWidth&&("left"===b&&0>=_?(n.align="right",n.inside=!0):_+=c.plotWidth-B,m=!0),0>(B=d.y+k)&&("bottom"===O&&0<=A?(n.verticalAlign="top",n.inside=!0):A-=B,m=!0),(B=(d.y||0)+o.height-k)>c.plotHeight&&("top"===O&&0>=A?(n.verticalAlign="bottom",n.inside=!0):A+=c.plotHeight-B,m=!0),m&&(n.x=_,n.y=A,h.placed=!u,h.align(n,void 0,r)),m}function M(h,n){var o,d=[];if(P(h)&&!P(n))d=h.map(function(r){return w(r,n)});else if(P(n)&&!P(h))d=n.map(function(r){return w(h,r)});else if(P(h)||P(n))for(o=Math.max(h.length,n.length);o--;)d[o]=w(h[o],n[o]);else d=w(h,n);return d}function p(h,n,d,o,r){var u=this.chart,c=u.inverted,b=this.xAxis,O=b.reversed,k=c?n.height/2:n.width/2;h=(h=h.pointWidth)?h/2:0,n.startXPos=c?r.x:O?-k-h:b.width-k+h,n.startYPos=c?O?this.yAxis.height-k+h:-k-h:r.y,o?"hidden"===n.visibility&&(n.show(),n.attr({opacity:0}).animate({opacity:1})):n.attr({opacity:1}).animate({opacity:0},void 0,n.hide),u.hasRendered&&(d&&n.attr({x:n.startXPos,y:n.startYPos}),n.placed=!0)}var a=[];v.compose=function(h){if(-1===a.indexOf(h)){var n=h.prototype;a.push(h),n.alignDataLabel=S,n.drawDataLabels=C,n.justifyDataLabel=x,n.setDataLabelStartPos=p}}}(g||(g={})),g}),lt(F,"Series/Column/ColumnDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=K.series,W=V.merge,Y=V.pick;return function(I){function P(E,s,l,g,v){var S=this.chart.inverted,f=E.series,C=(f.xAxis?f.xAxis.len:this.chart.plotSizeX)||0,x=E.dlBox||E.shapeArgs,M=Y(E.below,E.plotY>Y(this.translatedThreshold,f=(f.yAxis?f.yAxis.len:this.chart.plotSizeY)||0)),p=Y(l.inside,!!this.options.stacking);x&&(0>(g=W(x)).y&&(g.height+=g.y,g.y=0),0<(x=g.y+g.height-f)&&x<g.height&&(g.height-=x),S&&(g={x:f-g.y-g.height,y:C-g.x-g.width,width:g.height,height:g.width}),p||(S?(g.x+=M?0:g.width,g.width=0):(g.y+=M?g.height:0,g.height=0))),l.align=Y(l.align,!S||p?"center":M?"right":"left"),l.verticalAlign=Y(l.verticalAlign,S||p?"middle":M?"top":"bottom"),Q.prototype.alignDataLabel.call(this,E,s,l,g,v),l.inside&&E.contrastColor&&s.css({color:E.contrastColor})}var w=[];I.compose=function(E){H.compose(Q),-1===w.indexOf(E)&&(w.push(E),E.prototype.alignDataLabel=P)}}(z||(z={})),z}),lt(F,"Series/Bar/BarSeries.js",[F["Series/Column/ColumnSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.extend,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.defaultOptions=Y(H.defaultOptions,{}),I}(H),W(V.prototype,{inverted:!0}),K.registerSeriesType("bar",V),V}),lt(F,"Series/Scatter/ScatterSeries.js",[F["Series/Column/ColumnSeries.js"],F["Series/Line/LineSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=this&&this.__extends||(P=function(w,E){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])})(w,E)},function(w,E){function s(){this.constructor=w}P(w,E),w.prototype=null===E?Object.create(E):(s.prototype=E.prototype,new s)}),Y=Q.addEvent,z=Q.extend,I=Q.merge;return Q=function(P){function w(){var E=null!==P&&P.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return W(w,P),w.prototype.applyJitter=function(){var E=this,s=this.options.jitter,l=this.points.length;s&&this.points.forEach(function(g,v){["x","y"].forEach(function(S,f){var C="plot"+S.toUpperCase();if(s[S]&&!g.isNull){var x=E[S+"Axis"],M=s[S]*x.transA;if(x&&!x.isLog){var p=Math.max(0,g[C]-M);x=Math.min(x.len,g[C]+M),f=1e4*Math.sin(v+f*l),g[C]=p+(x-p)*(f-Math.floor(f)),"x"===S&&(g.clientX=g.plotX)}}})})},w.prototype.drawGraph=function(){this.options.lineWidth?P.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},w.defaultOptions=I(K.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),w}(K),z(Q.prototype,{drawTracker:H.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),Y(Q,"afterTranslate",function(){this.applyJitter()}),V.registerSeriesType("scatter",Q),Q}),lt(F,"Series/CenteredUtilities.js",[F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V){var I,P,Q=H.deg2rad,W=V.isNumber,Y=V.pick,z=V.relativeLength;return(P=I||(I={})).getCenter=function(){var w=this.options,E=this.chart,s=2*(w.slicedOffset||0),l=E.plotWidth-2*s,g=E.plotHeight-2*s,v=w.center,S=Math.min(l,g),f=w.size,C=w.innerSize||0;for("string"==typeof f&&(f=parseFloat(f)),"string"==typeof C&&(C=parseFloat(C)),w=[Y(v[0],"50%"),Y(v[1],"50%"),Y(f&&0>f?void 0:w.size,"100%"),Y(C&&0>C?void 0:w.innerSize||0,"0%")],!E.angular||this instanceof K||(w[3]=0),v=0;4>v;++v)f=w[v],E=2>v||2===v&&/%$/.test(f),w[v]=z(f,[l,g,S,w[2]][v])+(E?s:0);return w[3]>w[2]&&(w[3]=w[2]),w},P.getStartAndEndRadians=function(w,E){return w=W(w)?w:0,E=W(E)&&E>w&&360>E-w?E:w+360,{start:Q*(w+-90),end:Q*(E+-90)}},I}),lt(F,"Series/Pie/PiePoint.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V){var E,Q=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),W=H.setAnimation,Y=V.addEvent,z=V.defined;H=V.extend;var I=V.isNumber,P=V.pick,w=V.relativeLength;return K=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.labelDistance=void 0,l.options=void 0,l.series=void 0,l}return Q(s,E),s.prototype.getConnectorPath=function(){var l=this.labelPosition,g=this.series.options.dataLabels,v=this.connectorShapes,S=g.connectorShape;return v[S]&&(S=v[S]),S.call(this,{x:l.final.x,y:l.final.y,alignment:l.alignment},l.connectorPosition,g)},s.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},s.prototype.haloPath=function(l){var g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+l,g.r+l,{innerR:g.r-1,start:g.start,end:g.end})},s.prototype.init=function(){var l=this;E.prototype.init.apply(this,arguments),this.name=P(this.name,"Slice");var g=function(v){l.slice("select"===v.type)};return Y(this,"select",g),Y(this,"unselect",g),this},s.prototype.isValid=function(){return I(this.y)&&0<=this.y},s.prototype.setVisible=function(l,g){var v=this,S=this.series,f=S.chart,C=S.options.ignoreHiddenPoint;g=P(g,C),l!==this.visible&&(this.visible=this.options.visible=l=void 0===l?!this.visible:l,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(x){v[x]&&v[x][l?"show":"hide"](l)}),this.legendItem&&f.legend.colorizeItem(this,l),l||"hover"!==this.state||this.setState(""),C&&(S.isDirty=!0),g&&f.redraw())},s.prototype.slice=function(l,g,v){var S=this.series;W(v,S.chart),P(g,!0),this.sliced=this.options.sliced=z(l)?l:!this.sliced,S.options.data[S.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},s}(K),H(K.prototype,{connectorShapes:{fixedOffset:function(E,s,l){var g=s.breakAt;return s=s.touchingSliceAt,[["M",E.x,E.y],l.softConnector?["C",E.x+("left"===E.alignment?-5:5),E.y,2*g.x-s.x,2*g.y-s.y,g.x,g.y]:["L",g.x,g.y],["L",s.x,s.y]]},straight:function(E,s){return[["M",E.x,E.y],["L",(s=s.touchingSliceAt).x,s.y]]},crookedLine:function(E,s,l){s=s.touchingSliceAt;var g=this.series,v=g.center[0],S=g.chart.plotWidth,f=g.chart.plotLeft;g=E.alignment;var C=this.shapeArgs.r;return l=w(l.crookDistance,1),l=["L",S="left"===g?v+C+(S+f-v-C)*(1-l):f+(v-C)*l,E.y],v=!0,("left"===g?S>E.x||S<s.x:S<E.x||S>s.x)&&(v=!1),E=[["M",E.x,E.y]],v&&E.push(l),E.push(["L",s.x,s.y]),E}}}),K}),lt(F,"Series/Pie/PieSeries.js",[F["Series/CenteredUtilities.js"],F["Series/Column/ColumnSeries.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Series/Pie/PiePoint.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var C,w=this&&this.__extends||(C=function(x,M){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var h in a)a.hasOwnProperty(h)&&(p[h]=a[h])})(x,M)},function(x,M){function p(){this.constructor=x}C(x,M),x.prototype=null===M?Object.create(M):(p.prototype=M.prototype,new p)}),E=H.getStartAndEndRadians;V=V.noop;var s=P.clamp,l=P.extend,g=P.fireEvent,v=P.merge,S=P.pick,f=P.relativeLength;return P=function(C){function x(){var M=null!==C&&C.apply(this,arguments)||this;return M.center=void 0,M.data=void 0,M.maxLabelDistance=void 0,M.options=void 0,M.points=void 0,M}return w(x,C),x.prototype.animate=function(M){var p=this,h=p.startAngleRad;M||p.points.forEach(function(n){var d=n.graphic,o=n.shapeArgs;d&&o&&(d.attr({r:S(n.startR,p.center&&p.center[3]/2),start:h,end:h}),d.animate({r:o.r,start:o.start,end:o.end},p.options.animation))})},x.prototype.drawEmpty=function(){var M=this.startAngleRad,p=this.endAngleRad,a=this.options;if(0===this.total&&this.center){var h=this.center[0],n=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(h,n,this.center[1]/2,0,M,p).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:I.arc(h,n,this.center[2]/2,0,{start:M,end:p,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":a.borderWidth,fill:a.fillColor||"none",stroke:a.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},x.prototype.drawPoints=function(){var M=this.chart.renderer;this.points.forEach(function(p){p.graphic&&p.hasNewShapeType()&&(p.graphic=p.graphic.destroy()),p.graphic||(p.graphic=M[p.shapeType](p.shapeArgs).add(p.series.group),p.delayedRendering=!0)})},x.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},x.prototype.getX=function(M,p,a){var h=this.center,n=this.radii?this.radii[a.index]||0:h[2]/2;return M=Math.asin(s((M-h[1])/(n+a.labelDistance),-1,1)),h[0]+(p?-1:1)*Math.cos(M)*(n+a.labelDistance)+(0<a.labelDistance?(p?-1:1)*this.options.dataLabels.padding:0)},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.redrawPoints=function(){var n,d,o,r,M=this,p=M.chart,a=p.renderer,h=M.options.shadow;this.drawEmpty(),!h||M.shadowGroup||p.styledMode||(M.shadowGroup=a.g("shadow").attr({zIndex:-1}).add(M.group)),M.points.forEach(function(u){var c={};if(d=u.graphic,!u.isNull&&d){var b=void 0;r=u.shapeArgs,n=u.getTranslate(),p.styledMode||(b=u.shadowGroup,h&&!b&&(b=u.shadowGroup=a.g("shadow").add(M.shadowGroup)),b&&b.attr(n),o=M.pointAttribs(u,u.selected&&"select")),u.delayedRendering?(d.setRadialReference(M.center).attr(r).attr(n),p.styledMode||d.attr(o).attr({"stroke-linejoin":"round"}).shadow(h,b),u.delayedRendering=!1):(d.setRadialReference(M.center),p.styledMode||v(!0,c,o),v(!0,c,r,n),d.animate(c)),d.attr({visibility:u.visible?"inherit":"hidden"}),d.addClass(u.getClassName(),!0)}else d&&(u.graphic=d.destroy())})},x.prototype.sortByAngle=function(M,p){M.sort(function(a,h){return void 0!==a.angle&&(h.angle-a.angle)*p})},x.prototype.translate=function(M){this.generatePoints();var p=this.options,a=p.slicedOffset,h=a+(p.borderWidth||0),n=E(p.startAngle,p.endAngle),d=this.startAngleRad=n.start;n=(this.endAngleRad=n.end)-d;var o=this.points,r=p.dataLabels.distance;p=p.ignoreHiddenPoint;var c,u=o.length,b=0;for(M||(this.center=M=this.getCenter()),c=0;c<u;c++){var O=o[c],k=d+b*n;!O.isValid()||p&&!O.visible||(b+=O.percentage/100);var _=d+b*n,A={x:M[0],y:M[1],r:M[2]/2,innerR:M[3]/2,start:Math.round(1e3*k)/1e3,end:Math.round(1e3*_)/1e3};O.shapeType="arc",O.shapeArgs=A,O.labelDistance=S(O.options.dataLabels&&O.options.dataLabels.distance,r),O.labelDistance=f(O.labelDistance,A.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,O.labelDistance),(_=(_+k)/2)>1.5*Math.PI?_-=2*Math.PI:_<-Math.PI/2&&(_+=2*Math.PI),O.slicedTranslation={translateX:Math.round(Math.cos(_)*a),translateY:Math.round(Math.sin(_)*a)},A=Math.cos(_)*M[2]/2;var B=Math.sin(_)*M[2]/2;O.tooltipPos=[M[0]+.7*A,M[1]+.7*B],O.half=_<-Math.PI/2||_>Math.PI/2?1:0,O.angle=_,k=Math.min(h,O.labelDistance/5),O.labelPosition={natural:{x:M[0]+A+Math.cos(_)*O.labelDistance,y:M[1]+B+Math.sin(_)*O.labelDistance},final:{},alignment:0>O.labelDistance?"center":O.half?"right":"left",connectorPosition:{breakAt:{x:M[0]+A+Math.cos(_)*k,y:M[1]+B+Math.sin(_)*k},touchingSliceAt:{x:M[0]+A,y:M[1]+B}}}}g(this,"afterTranslate")},x.prototype.updateTotals=function(){var h,M=this.points,p=M.length,a=this.options.ignoreHiddenPoint,n=0;for(h=0;h<p;h++){var d=M[h];!d.isValid()||a&&!d.visible||(n+=d.y)}for(this.total=n,h=0;h<p;h++)(d=M[h]).percentage=0<n&&(d.visible||!a)?d.y/n*100:0,d.total=n},x.defaultOptions=v(Y.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),x}(Y),l(P.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:Q.drawRectangle,drawTracker:K.prototype.drawTracker,getCenter:H.getCenter,getSymbol:V,isCartesian:!1,noSharedTooltip:!0,pointAttribs:K.prototype.pointAttribs,pointClass:W,requireSorting:!1,searchPoint:V,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("pie",P),P}),lt(F,"Series/Pie/PieDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var v,Y=K.noop,z=V.distribute,I=Q.series,P=W.arrayMax,w=W.clamp,E=W.defined,s=W.merge,l=W.pick,g=W.relativeLength;return function(S){function f(){var T,R,j,X,$,D,U,N,Z,q,nt,it,a=this,h=a.data,n=a.chart,d=a.options.dataLabels||{},o=d.connectorPadding,r=n.plotWidth,u=n.plotHeight,c=n.plotLeft,b=Math.round(n.chartWidth/3),O=a.center,k=O[2]/2,_=O[1],A=[[],[]],B=[0,0,0,0],m=a.dataLabelPositioners;a.visible&&(d.enabled||a._hasPointLabels)&&(h.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),I.prototype.drawDataLabels.apply(a),h.forEach(function(ot){ot.dataLabel&&(ot.visible?(A[ot.half].push(ot),ot.dataLabel._pos=null,!E(d.style.width)&&!E(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>b&&(ot.dataLabel.css({width:Math.round(.7*b)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),A.forEach(function(ot,at){var vt,mt=ot.length,yt=[];if(mt){if(a.sortByAngle(ot,at-.5),0<a.maxLabelDistance){var pt=Math.max(0,_-k-a.maxLabelDistance),ct=Math.min(_+k+a.maxLabelDistance,n.plotHeight);ot.forEach(function(J){0<J.labelDistance&&J.dataLabel&&(J.top=Math.max(0,_-k-J.labelDistance),J.bottom=Math.min(_+k+J.labelDistance,n.plotHeight),vt=J.dataLabel.getBBox().height||21,J.distributeBox={target:J.labelPosition.natural.y-J.top+vt/2,size:vt,rank:J.y},yt.push(J.distributeBox))}),z(yt,pt=ct+vt-pt,pt/5)}for(nt=0;nt<mt;nt++){if(X=(T=ot[nt]).dataLabel,q=!1===T.visible?"hidden":"inherit",Z=pt=(D=T.labelPosition).natural.y,yt&&E(T.distributeBox)&&(void 0===T.distributeBox.pos?q="hidden":(U=T.distributeBox.size,Z=m.radialDistributionY(T))),delete T.positionIndex,d.justify)N=m.justify(T,k,O);else switch(d.alignTo){case"connectors":N=m.alignToConnectors(ot,at,r,c);break;case"plotEdges":N=m.alignToPlotEdges(X,at,r,c);break;default:N=m.radialDistributionX(a,T,Z,pt)}X._attr={visibility:q,align:D.alignment},X._pos={x:N+l((it=T.options.dataLabels||{}).x,d.x)+({left:o,right:-o}[D.alignment]||0),y:Z+l(it.y,d.y)-10},D.final.x=N,D.final.y=Z,l(d.crop,!0)&&($=X.getBBox().width,pt=null,N-$<o&&1===at?(pt=Math.round($-N+o),B[3]=Math.max(pt,B[3])):N+$>r-o&&0===at&&(pt=Math.round(N+$-r+o),B[1]=Math.max(pt,B[1])),0>Z-U/2?B[0]=Math.max(Math.round(U/2-Z),B[0]):Z+U/2>u&&(B[2]=Math.max(Math.round(Z+U/2-u),B[2])),X.sideOverflow=pt)}}}),0===P(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=s(d,ot.options.dataLabels),(R=l(it.connectorWidth,1))&&(j=ot.connector,(X=ot.dataLabel)&&X._pos&&ot.visible&&0<ot.labelDistance?(q=X._attr.visibility,(at=!j)&&(ot.connector=j=n.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(a.dataLabelsGroup),n.styledMode||j.attr({"stroke-width":R,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",q)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(a){var n,h=a.dataLabel;h&&a.visible&&((n=h._pos)?(h.sideOverflow&&(h._attr.width=Math.max(h.getBBox().width-h.sideOverflow,0),h.css({width:h._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),h.shortened=!0),h.attr(h._attr),h[h.moved?"animate":"attr"](n),h.moved=!0):h&&h.attr({y:-9999})),delete a.distributeBox},this)}function x(a){var h=this.center,n=this.options,d=n.center,o=n.minSize||80,r=null!==n.size;if(!r){if(null!==d[0])var u=Math.max(h[2]-Math.max(a[1],a[3]),o);else u=Math.max(h[2]-a[1]-a[3],o),h[0]+=(a[3]-a[1])/2;null!==d[1]?u=w(u,o,h[2]-Math.max(a[0],a[2])):(u=w(u,o,h[2]-a[0]-a[2]),h[1]+=(a[0]-a[2])/2),u<h[2]?(h[2]=u,h[3]=Math.min(g(n.innerSize||0,u),u),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):r=!0}return r}var M=[],p={radialDistributionY:function(a){return a.top+a.distributeBox.pos},radialDistributionX:function(a,h,n,d){return a.getX(n<h.top+2||n>h.bottom-2?d:n,h.half,h)},justify:function(a,h,n){return n[0]+(a.half?-1:1)*(h+a.labelDistance)},alignToPlotEdges:function(a,h,n,d){return a=a.getBBox().width,h?a+d:n-a-d},alignToConnectors:function(a,h,n,d){var r,o=0;return a.forEach(function(u){(r=u.dataLabel.getBBox().width)>o&&(o=r)}),h?o+d:n-o-d}};S.compose=function(a){H.compose(I),-1===M.indexOf(a)&&(M.push(a),(a=a.prototype).dataLabelPositioners=p,a.alignDataLabel=Y,a.drawDataLabels=f,a.placeDataLabels=C,a.verifyDataLabelOverflow=x)}}(v||(v={})),v}),lt(F,"Extensions/OverlappingDataLabels.js",[F["Core/Chart/Chart.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E){var s=!1;if(w){var l=w.newOpacity;w.oldOpacity!==l&&(w.alignAttr&&w.placed?(w[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,w.alignAttr.opacity=l,w[w.isOld?"animate":"attr"](w.alignAttr,null,function(){E.styledMode||w.css({pointerEvents:l?"auto":"none"})}),W(E,"afterHideOverlappingLabel")):w.attr({opacity:l})),w.isOld=!0}return s}var W=K.fireEvent,Y=K.isArray,z=K.isNumber,I=K.objectEach,P=K.pick;(0,K.addEvent)(H,"render",function(){var w=this,E=[];(this.labelCollectors||[]).forEach(function(s){E=E.concat(s())}),(this.yAxis||[]).forEach(function(s){s.stacking&&s.options.stackLabels&&!s.options.stackLabels.allowOverlap&&I(s.stacking.stacks,function(l){I(l,function(g){g.label&&"hidden"!==g.label.visibility&&E.push(g.label)})})}),(this.series||[]).forEach(function(s){var l=s.options.dataLabels;s.visible&&(!1!==l.enabled||s._hasPointLabels)&&((l=function(g){return g.forEach(function(v){v.visible&&(Y(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[]).forEach(function(S){var f=S.options;S.labelrank=P(f.labelrank,v.labelrank,v.shapeArgs&&v.shapeArgs.height),f.allowOverlap?(S.oldOpacity=S.opacity,S.newOpacity=1,V(S,w)):E.push(S)})})})(s.nodes||[]),l(s.points))}),this.hideOverlappingLabels(E)}),H.prototype.hideOverlappingLabels=function(w){var g,v,S,E=this,s=w.length,l=E.renderer,f=!1,C=function(p){var a,d,h=p.box?0:p.padding||0,n=a=0;if(p&&(!p.alignAttr||p.placed)){var o=p.alignAttr||{x:p.attr("x"),y:p.attr("y")},r=p.parentGroup;return p.width||(a=p.getBBox(),p.width=a.width,p.height=a.height,a=l.fontMetrics(null,p.element).h),(d={left:"0",center:"0.5",right:"1"}[p.alignValue])?n=+d*(p.width-2*h):z(p.x)&&Math.round(p.x)!==p.translateX&&(n=p.x-p.translateX),{x:o.x+(r.translateX||0)+h-(n||0),y:o.y+(r.translateY||0)+h-a,width:p.width-2*h,height:p.height-2*h}}};for(v=0;v<s;v++)(g=w[v])&&(g.oldOpacity=g.opacity,g.newOpacity=1,g.absoluteBox=C(g));for(w.sort(function(p,a){return(a.labelrank||0)-(p.labelrank||0)}),v=0;v<s;v++){var x=(C=w[v])&&C.absoluteBox;for(g=v+1;g<s;++g){var M=(S=w[g])&&S.absoluteBox;!x||!M||C===S||0===C.newOpacity||0===S.newOpacity||M.x>=x.x+x.width||M.x+M.width<=x.x||M.y>=x.y+x.height||M.y+M.height<=x.y||((C.labelrank<S.labelrank?C:S).newOpacity=0)}}w.forEach(function(p){V(p,E)&&(f=!0)}),f&&W(E,"afterHideAllOverlappingLabels")}}),lt(F,"Core/Responsive.js",[F["Core/Utilities.js"]],function(H){var E,K=H.extend,V=H.find,Q=H.isArray,W=H.isObject,Y=H.merge,z=H.objectEach,I=H.pick,P=H.splat,w=H.uniqueKey;return function(s){var l=[];s.compose=function(v){return-1===l.indexOf(v)&&(l.push(v),K(v.prototype,g.prototype)),v};var g=function(){function v(){}return v.prototype.currentOptions=function(S){var C=this,x={};return function f(M,p,a,h){var n;z(M,function(d,o){if(!h&&-1<C.collectionsWithUpdate.indexOf(o)&&p[o])for(d=P(d),a[o]=[],n=0;n<Math.max(d.length,p[o].length);n++)p[o][n]&&(void 0===d[n]?a[o][n]=p[o][n]:(a[o][n]={},f(d[n],p[o][n],a[o][n],h+1)));else W(d)?(a[o]=Q(d)?[]:{},f(d,p[o]||{},a[o],h+1)):a[o]=void 0===p[o]?null:p[o]})}(S,this.options,x,0),x},v.prototype.matchResponsiveRule=function(S,f){var C=S.condition;(C.callback||function(){return this.chartWidth<=I(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=I(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=I(C.minWidth,0)&&this.chartHeight>=I(C.minHeight,0)}).call(this)&&f.push(S._id)},v.prototype.setResponsive=function(S,f){var C=this,x=this.options.responsive,M=this.currentResponsive,p=[];!f&&x&&x.rules&&x.rules.forEach(function(a){void 0===a._id&&(a._id=w()),C.matchResponsiveRule(a,p)},this),(f=Y.apply(void 0,p.map(function(a){return V((x||{}).rules||[],function(h){return h._id===a})}).map(function(a){return a&&a.chartOptions}))).isResponsiveOptions=!0,(p=p.toString()||void 0)!==(M&&M.ruleIds)&&(M&&this.update(M.undoOptions,S,!0),p?((M=this.currentOptions(f)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:p,mergedOptions:f,undoOptions:M},this.update(f,S,!0)):this.currentResponsive=void 0)},v}()}(E||(E={})),E}),lt(F,"masters/highcharts.src.js",[F["Core/Globals.js"],F["Core/Utilities.js"],F["Core/DefaultOptions.js"],F["Core/Animation/Fx.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/FormatUtilities.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Renderer/HTML/HTMLElement.js"],F["Core/Renderer/HTML/HTMLRenderer.js"],F["Core/Axis/Axis.js"],F["Core/Axis/DateTimeAxis.js"],F["Core/Axis/LogarithmicAxis.js"],F["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],F["Core/Axis/Tick.js"],F["Core/Tooltip.js"],F["Core/Series/Point.js"],F["Core/Pointer.js"],F["Core/MSPointer.js"],F["Core/Legend/Legend.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Series/Column/ColumnSeries.js"],F["Series/Column/ColumnDataLabel.js"],F["Series/Pie/PieSeries.js"],F["Series/Pie/PieDataLabel.js"],F["Core/Series/DataLabel.js"],F["Core/Responsive.js"],F["Core/Color/Color.js"],F["Core/Time.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v,S,f,C,x,M,p,a,h,n,d,o,r,u,c,b,O,k,_){return H.animate=W.animate,H.animObject=W.animObject,H.getDeferredAnimation=W.getDeferredAnimation,H.setAnimation=W.setAnimation,H.stop=W.stop,H.timers=Q.timers,H.AST=Y,H.Axis=l,H.Chart=h,H.chart=h.chart,H.Fx=Q,H.Legend=a,H.PlotLineOrBand=S,H.Point=x,H.Pointer=p.isRequired()?p:M,H.Series=n,H.SVGElement=P,H.SVGRenderer=w,H.Tick=f,H.Time=_,H.Tooltip=C,H.Color=k,H.color=k.parse,s.compose(w),E.compose(P),H.defaultOptions=V.defaultOptions,H.getOptions=V.getOptions,H.time=V.defaultTime,H.setOptions=V.setOptions,H.dateFormat=z.dateFormat,H.format=z.format,H.numberFormat=z.numberFormat,H.addEvent=K.addEvent,H.arrayMax=K.arrayMax,H.arrayMin=K.arrayMin,H.attr=K.attr,H.clearTimeout=K.clearTimeout,H.correctFloat=K.correctFloat,H.createElement=K.createElement,H.css=K.css,H.defined=K.defined,H.destroyObjectProperties=K.destroyObjectProperties,H.discardElement=K.discardElement,H.distribute=I.distribute,H.erase=K.erase,H.error=K.error,H.extend=K.extend,H.extendClass=K.extendClass,H.find=K.find,H.fireEvent=K.fireEvent,H.getMagnitude=K.getMagnitude,H.getStyle=K.getStyle,H.inArray=K.inArray,H.isArray=K.isArray,H.isClass=K.isClass,H.isDOMElement=K.isDOMElement,H.isFunction=K.isFunction,H.isNumber=K.isNumber,H.isObject=K.isObject,H.isString=K.isString,H.keys=K.keys,H.merge=K.merge,H.normalizeTickInterval=K.normalizeTickInterval,H.objectEach=K.objectEach,H.offset=K.offset,H.pad=K.pad,H.pick=K.pick,H.pInt=K.pInt,H.relativeLength=K.relativeLength,H.removeEvent=K.removeEvent,H.seriesType=d.seriesType,H.splat=K.splat,H.stableSort=K.stableSort,H.syncTimeout=K.syncTimeout,H.timeUnits=K.timeUnits,H.uniqueKey=K.uniqueKey,H.useSerialIds=K.useSerialIds,H.wrap=K.wrap,r.compose(o),b.compose(n),g.compose(l),v.compose(l),c.compose(u),S.compose(l),O.compose(h),H}),lt(F,"Core/Axis/Color/ColorAxisComposition.js",[F["Core/Color/Color.js"],F["Core/Utilities.js"]],function(H,K){var P,V=H.parse,Q=K.addEvent,W=K.extend,Y=K.merge,z=K.pick,I=K.splat;return function(w){function E(){var n=this,d=this.options;this.colorAxis=[],d.colorAxis&&(d.colorAxis=I(d.colorAxis),d.colorAxis.forEach(function(o,r){o.index=r,new h(n,o)}))}function s(n){var u,c,d=this,o=function(b){-1!==(b=n.allItems.indexOf(b))&&(d.destroyItem(n.allItems[b]),n.allItems.splice(b,1))},r=[];for((this.chart.colorAxis||[]).forEach(function(b){(u=b.options)&&u.showInLegend&&(u.dataClasses&&u.visible?r=r.concat(b.getDataClassLegendSymbols()):u.visible&&r.push(b),b.series.forEach(function(O){(!O.options.showInLegend||u.dataClasses)&&("point"===O.options.legendType?O.points.forEach(function(k){o(k)}):o(O))}))}),c=r.length;c--;)n.allItems.unshift(r[c])}function l(n){n.visible&&n.item.legendColor&&n.item.legendSymbol.attr({fill:n.item.legendColor})}function g(){var n=this.chart.colorAxis;n&&n.forEach(function(d,o,r){d.update({},r)})}function v(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function S(){var n=this.axisTypes;n?-1===n.indexOf("colorAxis")&&n.push("colorAxis"):this.axisTypes=["colorAxis"]}function f(n){var d=this,o=n?"show":"hide";d.visible=d.options.visible=!!n,["graphic","dataLabel"].forEach(function(r){d[r]&&d[r][o]()}),this.series.buildKDTree()}function C(){var n=this,d=this.options.nullColor,o=this.colorAxis,r=this.colorKey;(this.data.length?this.data:this.points).forEach(function(u){var c=u.getNestedProperty(r);(c=u.options.color||(u.isNull||null===u.value?d:o&&void 0!==c?o.toColor(c,u):u.color||n.color))&&u.color!==c&&(u.color=c,"point"===n.options.legendType&&u.legendItem&&n.chart.legend.colorizeItem(u,u.visible))})}function M(){this.elem.attr("fill",V(this.start).tweenTo(V(this.end),this.pos),void 0,!0)}function p(){this.elem.attr("stroke",V(this.start).tweenTo(V(this.end),this.pos),void 0,!0)}var h,a=[];w.compose=function(n,d,o,r,u){h||(h=n),-1===a.indexOf(d)&&(a.push(d),(n=d.prototype).collectionsWithUpdate.push("colorAxis"),n.collectionsWithInit.colorAxis=[n.addColorAxis],Q(d,"afterGetAxes",E),function x(n){var d=n.prototype.createAxis;n.prototype.createAxis=function(o,r){if("colorAxis"!==o)return d.apply(this,arguments);var u=new h(this,Y(r.axis,{index:this[o].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(c){c.series=[]}),this.series.forEach(function(c){c.bindAxes(),c.isDirtyData=!0}),z(r.redraw,!0)&&this.redraw(r.animation),u}}(d)),-1===a.indexOf(o)&&(a.push(o),(d=o.prototype).fillSetter=M,d.strokeSetter=p),-1===a.indexOf(r)&&(a.push(r),Q(r,"afterGetAllItems",s),Q(r,"afterColorizeItem",l),Q(r,"afterUpdate",g)),-1===a.indexOf(u)&&(a.push(u),W(u.prototype,{optionalAxis:"colorAxis",translateColors:C}),W(u.prototype.pointClass.prototype,{setVisible:f}),Q(u,"afterTranslate",v),Q(u,"bindAxes",S))},w.pointSetVisible=f}(P||(P={})),P}),lt(F,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}}),lt(F,"Core/Axis/Color/ColorAxis.js",[F["Core/Axis/Axis.js"],F["Core/Color/Color.js"],F["Core/Axis/Color/ColorAxisComposition.js"],F["Core/Axis/Color/ColorAxisDefaults.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){var f,P=this&&this.__extends||(f=function(C,x){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,p){M.__proto__=p}||function(M,p){for(var a in p)p.hasOwnProperty(a)&&(M[a]=p[a])})(C,x)},function(C,x){function M(){this.constructor=C}f(C,x),C.prototype=null===x?Object.create(x):(M.prototype=x.prototype,new M)}),w=K.parse,E=W.noop,s=z.series,l=I.extend,g=I.isNumber,v=I.merge,S=I.pick;return K=function(f){function C(x,M){var p=f.call(this,x,M)||this;return p.beforePadding=!1,p.chart=void 0,p.coll="colorAxis",p.dataClasses=void 0,p.legendItem=void 0,p.legendItems=void 0,p.name="",p.options=void 0,p.stops=void 0,p.visible=!0,p.init(x,M),p}return P(C,f),C.compose=function(x,M,p,a){V.compose(C,x,M,p,a)},C.prototype.init=function(x,M){var p=x.options.legend||{},a=M.layout?"vertical"!==M.layout:"vertical"!==p.layout,h=M.visible;p=v(C.defaultColorAxisOptions,M,{showEmpty:!1,title:null,visible:p.enabled&&!1!==h}),this.coll="colorAxis",this.side=M.side||a?2:1,this.reversed=M.reversed||!a,this.opposite=!a,f.prototype.init.call(this,x,p),this.userOptions.visible=h,M.dataClasses&&this.initDataClasses(M),this.initStops(),this.horiz=a,this.zoomEnabled=!1},C.prototype.initDataClasses=function(x){var h,M=this.chart,p=this.options,a=x.dataClasses.length,n=0,d=M.options.chart.colorCount;this.dataClasses=h=[],this.legendItems=[],(x.dataClasses||[]).forEach(function(o,r){o=v(o),h.push(o),(M.styledMode||!o.color)&&("category"===p.dataClassColor?(M.styledMode||(d=(r=M.options.colors).length,o.color=r[n]),o.colorIndex=n,++n===d&&(n=0)):o.color=w(p.minColor).tweenTo(w(p.maxColor),2>a?.5:r/(a-1)))})},C.prototype.hasData=function(){return!!(this.tickPositions||[]).length},C.prototype.setTickPositions=function(){if(!this.dataClasses)return f.prototype.setTickPositions.call(this)},C.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(x){x.color=w(x[1])})},C.prototype.setOptions=function(x){f.prototype.setOptions.call(this,x),this.options.crosshair=this.options.marker},C.prototype.setAxisSize=function(){var a,h,x=this.legendSymbol,M=this.chart,p=M.options.legend||{};x?(this.left=p=x.attr("x"),this.top=a=x.attr("y"),this.width=h=x.attr("width"),this.height=x=x.attr("height"),this.right=M.chartWidth-p-h,this.bottom=M.chartHeight-a-x,this.len=this.horiz?h:x,this.pos=this.horiz?p:a):this.len=(this.horiz?p.symbolWidth:p.symbolHeight)||C.defaultLegendLength},C.prototype.normalizedValue=function(x){return this.logarithmic&&(x=this.logarithmic.log2lin(x)),1-(this.max-x)/(this.max-this.min||1)},C.prototype.toColor=function(x,M){var h,p=this.dataClasses,a=this.stops;if(p)for(h=p.length;h--;){var n=p[h],d=n.from;if(a=n.to,(void 0===d||x>=d)&&(void 0===a||x<=a)){var o=n.color;M&&(M.dataClass=h,M.colorIndex=n.colorIndex);break}}else{for(x=this.normalizedValue(x),h=a.length;h--&&!(x>a[h][0]););o=(d=a[h]||a[h+1]).color.tweenTo((a=a[h+1]||d).color,x=1-(a[0]-x)/(a[0]-d[0]||1))}return o},C.prototype.getOffset=function(){var x=this.legendGroup,M=this.chart.axisOffset[this.side];x&&(this.axisParent=x,f.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=M)},C.prototype.setLegendColor=function(){var x=this.reversed,M=x?1:0;x=x?0:1,this.legendColor={linearGradient:{x1:(M=this.horiz?[M,0,x,0]:[0,x,0,M])[0],y1:M[1],x2:M[2],y2:M[3]},stops:this.stops}},C.prototype.drawLegendSymbol=function(x,M){var p=x.padding,a=x.options,h=this.horiz,n=S(a.symbolWidth,h?C.defaultLegendLength:12),d=S(a.symbolHeight,h?12:C.defaultLegendLength),o=S(a.labelPadding,h?16:30);a=S(a.itemDistance,10),this.setLegendColor(),M.legendSymbol=this.chart.renderer.rect(0,x.baseline-11,n,d).attr({zIndex:1}).add(M.legendGroup),this.legendItemWidth=n+p+(h?a:o),this.legendItemHeight=d+p+(h?o:0)},C.prototype.setState=function(x){this.series.forEach(function(M){M.setState(x)})},C.prototype.setVisible=function(){},C.prototype.getSeriesExtremes=function(){var p,x=this.series,M=x.length;for(this.dataMin=1/0,this.dataMax=-1/0;M--;){var a=x[M],h=a.colorKey=S(a.options.colorKey,a.colorKey,a.pointValKey,a.zoneAxis,"y"),n=a.pointArrayMap,d=a[h+"Min"]&&a[h+"Max"];if(a[h+"Data"])var o=a[h+"Data"];else if(n){o=[],n=n.indexOf(h);var r=a.yData;if(0<=n&&r)for(p=0;p<r.length;p++)o.push(S(r[p][n],r[p]))}else o=a.yData;d?(a.minColorValue=a[h+"Min"],a.maxColorValue=a[h+"Max"]):(o=s.prototype.getExtremes.call(a,o),a.minColorValue=o.dataMin,a.maxColorValue=o.dataMax),void 0!==a.minColorValue&&(this.dataMin=Math.min(this.dataMin,a.minColorValue),this.dataMax=Math.max(this.dataMax,a.maxColorValue)),d||s.prototype.applyExtremes.call(a)}},C.prototype.drawCrosshair=function(x,M){var p=M&&M.plotX,a=M&&M.plotY,h=this.pos,n=this.len;if(M){var d=this.toPixels(M.getNestedProperty(M.series.colorKey));d<h?d=h-2:d>h+n&&(d=h+n+2),M.plotX=d,M.plotY=this.len-d,f.prototype.drawCrosshair.call(this,x,M),M.plotX=p,M.plotY=a,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},C.prototype.getPlotLinePath=function(x){var M=this.left,p=x.translatedValue,a=this.top;return g(p)?this.horiz?[["M",p-4,a-6],["L",p+4,a-6],["L",p,a],["Z"]]:[["M",M,p],["L",M-6,p+6],["L",M-6,p-6],["Z"]]:f.prototype.getPlotLinePath.call(this,x)},C.prototype.update=function(x,M){var p=this.chart.legend;this.series.forEach(function(a){a.isDirtyData=!0}),(x.dataClasses&&p.allItems||this.dataClasses)&&this.destroyItems(),f.prototype.update.call(this,x,M),this.legendItem&&(this.setLegendColor(),p.colorizeItem(this,!0))},C.prototype.destroyItems=function(){var x=this.chart;this.legendItem?x.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(M){x.legend.destroyItem(M)}),x.isDirtyLegend=!0},C.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),f.prototype.destroy.apply(this,[].slice.call(arguments))},C.prototype.remove=function(x){this.destroyItems(),f.prototype.remove.call(this,x)},C.prototype.getDataClassLegendSymbols=function(){var d,x=this,M=x.chart,p=x.legendItems,a=M.options.legend,h=a.valueDecimals,n=a.valueSuffix||"";return p.length||x.dataClasses.forEach(function(o,r){var u=o.from,c=o.to,b=M.numberFormatter,O=!0;d="",void 0===u?d="< ":void 0===c&&(d="> "),void 0!==u&&(d+=b(u,h)+n),void 0!==u&&void 0!==c&&(d+=" - "),void 0!==c&&(d+=b(c,h)+n),p.push(l({chart:M,name:d,options:{},drawLegendSymbol:Y.drawRectangle,visible:!0,setState:E,isDataClass:!0,setVisible:function(){O=x.visible=!O,x.series.forEach(function(k){k.points.forEach(function(_){_.dataClass===r&&_.setVisible(O)})}),M.legend.colorizeItem(this,O)}},o))}),p},C.defaultColorAxisOptions=Q,C.defaultLegendLength=200,C.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],C}(H),Array.prototype.push.apply(H.keepProps,K.keepProps),K}),lt(F,"Maps/MapNavigationOptionsDefault.js",[F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K){return(K=K.extend)(H.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),H.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),lt(F,"Maps/MapNavigation.js",[F["Core/Chart/Chart.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){function Q(l){l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation(),l.cancelBubble=!0)}function W(l){this.init(l)}var Y=K.doc,z=V.addEvent,I=V.extend,P=V.isNumber,w=V.merge,E=V.objectEach,s=V.pick;W.prototype.init=function(l){this.chart=l,l.mapNavButtons=[]},W.prototype.update=function(l){var S,f,C,x,g=this.chart,v=g.options.mapNavigation,M=function(a){this.handler.call(g,a),Q(a)},p=g.mapNavButtons;for(l&&(v=g.options.mapNavigation=w(g.options.mapNavigation,l));p.length;)p.pop().destroy();s(v.enableButtons,v.enabled)&&!g.renderer.forExport&&E(v.buttons,function(a,h){a=w(v.buttonOptions,a),!g.styledMode&&a.theme&&((S=a.theme).style=w(a.theme.style,a.style),C=(f=S.states)&&f.hover,x=f&&f.select,delete S.states);var n=g.renderer.button(a.text||"",0,0,M,S,C,x,void 0,"zoomIn"===h?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[h]).attr({width:a.width,height:a.height,title:g.options.lang[h],padding:a.padding,zIndex:5}).add();if(n.handler=a.onclick,z(n.element,"dblclick",Q),p.push(n),I(a,{width:n.width,height:2*n.height}),g.hasLoaded)n.align(a,!1,a.alignTo);else var d=z(g,"load",function(){n.element&&n.align(a,!1,a.alignTo),d()})}),this.updateEvents(v)},W.prototype.updateEvents=function(l){var g=this.chart;s(l.enableDoubleClickZoom,l.enabled)||l.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||z(g.container,"dblclick",function(v){g.pointer.onContainerDblClick(v)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),s(l.enableMouseWheelZoom,l.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||z(g.container,void 0!==Y.onwheel?"wheel":void 0!==Y.onmousewheel?"mousewheel":"DOMMouseScroll",function(v){return g.pointer.inClass(v.target,"highcharts-no-mousewheel")||(g.pointer.onContainerMouseWheel(v),Q(v)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},I(H.prototype,{fitToBox:function(l,g){return[["x","width"],["y","height"]].forEach(function(v){var S=v[0];l[S]+l[v=v[1]]>g[S]+g[v]&&(l[v]>g[v]?(l[v]=g[v],l[S]=g[S]):l[S]=g[S]+g[v]-l[v]),l[v]>g[v]&&(l[v]=g[v]),l[S]<g[S]&&(l[S]=g[S])}),l},mapZoom:function(l,g,v,S,f){this.mapView&&(P(l)&&(l=Math.log(l)/Math.log(.5)),this.mapView.zoomBy(l,P(g)&&P(v)?this.mapView.projection.inverse([g,v]):void 0,P(S)&&P(f)?[S,f]:void 0))}}),z(H,"beforeRender",function(){this.mapNavigation=new W(this),this.mapNavigation.update()}),K.MapNavigation=W}),lt(F,"Maps/MapPointer.js",[F["Core/Pointer.js"],F["Core/Utilities.js"]],function(H,K){var V=K.defined,Q=K.extend,W=K.pick;K=K.wrap;var z,Y=0;Q(H.prototype,{onContainerDblClick:function(I){var P=this.chart;I=this.normalize(I),P.options.mapNavigation.enableDoubleClickZoomTo?P.pointer.inClass(I.target,"highcharts-tracker")&&P.hoverPoint&&P.hoverPoint.zoomTo():P.isInsidePlot(I.chartX-P.plotLeft,I.chartY-P.plotTop)&&P.mapZoom(.5,void 0,void 0,I.chartX,I.chartY)},onContainerMouseWheel:function(I){var P=this.chart;I=this.normalize(I);var w=V(I.wheelDelta)&&-I.wheelDelta/120||I.deltaY||I.detail;1<=Math.abs(w)&&(Y+=Math.abs(w),z&&clearTimeout(z),z=setTimeout(function(){Y=0},50)),10>Y&&P.isInsidePlot(I.chartX-P.plotLeft,I.chartY-P.plotTop)&&P.mapView&&P.mapView.zoomBy((P.options.mapNavigation.mouseWheelSensitivity-1)*-w,void 0,[I.chartX,I.chartY],!(1>Math.abs(w))&&void 0)}}),K(H.prototype,"zoomOption",function(I){var P=this.chart.options.mapNavigation;W(P.enableTouchZoom,P.enabled)&&(this.chart.options.chart.pinchType="xy"),I.apply(this,[].slice.call(arguments,1))}),K(H.prototype,"pinchTranslate",function(I,P,w,E,s,l,g){I.call(this,P,w,E,s,l,g),"map"===this.chart.options.chart.type&&this.hasZoom&&this.pinchTranslateDirection(!(I=E.scaleX>E.scaleY),P,w,E,s,l,g,I?E.scaleX:E.scaleY)})}),lt(F,"Series/ColorMapMixin.js",[F["Core/Globals.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=H.noop;H=H.seriesTypes;var W=V.defined;return(V=V.addEvent)(K,"afterSetState",function(Y){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:Y&&"hover"===Y.state?1:0})}),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:Q,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:H.column.prototype.pointAttribs,colorAttribs:function(Y){var z={};return!W(Y.color)||Y.state&&"normal"!==Y.state||(z[this.colorProp||"fill"]=Y.color),z}}}}),lt(F,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:void 0,zoom:void 0}}),lt(F,"Maps/Projections/LambertConformalConic.js",[],function(){var H=Math.sign||function(Y){return 0===Y?0:0<Y?1:-1},K=Math.PI/180,V=Math.PI/2,Q=0,W=0;return{init:function(Y){var z=(Y.parallels||[]).map(function(P){return P*K});Y=z[0]||0,z=z[1]||Y;var I=Math.cos(Y);Q=Y===z?Math.sin(Y):Math.log(I/Math.cos(z))/Math.log(Math.tan((V+z)/2)/Math.tan((V+Y)/2)),1e-10>Math.abs(Q)&&(Q=1e-10*(H(Q)||1)),W=I*Math.pow(Math.tan((V+Y)/2),Q)/Q},forward:function(Y){var z=Y[0]*K;return Y=Y[1]*K,0<W?Y<1e-6-V&&(Y=1e-6-V):Y>V-1e-6&&(Y=V-1e-6),[(Y=W/Math.pow(Math.tan((V+Y)/2),Q))*Math.sin(Q*z)*63.78137,63.78137*(W-Y*Math.cos(Q*z))]},inverse:function(Y){var z=Y[0]/63.78137;Y=W-Y[1]/63.78137;var I=H(Q)*Math.sqrt(z*z+Y*Y),P=Math.atan2(z,Math.abs(Y))*H(Y);return 0>Y*Q&&(P-=Math.PI*H(z)*H(Y)),[P/Q/K,(2*Math.atan(Math.pow(W/I,1/Q))-V)/K]}}}),lt(F,"Maps/Projections/EqualEarth.js",[],function(){var H=Math.sqrt(3)/2;return{forward:function(K){var V=Math.PI/180,Q=Math.asin(H*Math.sin(K[1]*V)),W=Q*Q,Y=W*W*W;return[K[0]*V*Math.cos(Q)*74.03120656864502/(H*(1.340264+3*-.081106*W+Y*(7*893e-6+.034164*W))),74.03120656864502*Q*(1.340264+-.081106*W+Y*(893e-6+.003796*W))]},inverse:function(K){var V=K[0]/74.03120656864502;K=K[1]/74.03120656864502;var Y,Q=180/Math.PI,W=K;for(Y=0;12>Y;++Y){var z=W*W,I=z*z*z,P=W*(1.340264+-.081106*z+I*(893e-6+.003796*z))-K;if(W-=P/=z=1.340264+3*-.081106*z+I*(7*893e-6+.034164*z),1e-9>Math.abs(P))break}return[Q*H*V*(1.340264+3*-.081106*(z=W*W)+z*z*z*(7*893e-6+.034164*z))/Math.cos(W),Q*Math.asin(Math.sin(W)/H)]}}}),lt(F,"Maps/Projections/Miller.js",[],function(){var H=Math.PI/4,K=Math.PI/180;return{forward:function(V){return[V[0]*K*63.78137,79.7267125*Math.log(Math.tan(H+.4*V[1]*K))]},inverse:function(V){return[V[0]/63.78137/K,2.5*(Math.atan(Math.exp(V[1]/63.78137*.8))-H)/K]}}}),lt(F,"Maps/Projections/Orthographic.js",[],function(){var H=Math.PI/180;return{forward:function(K){var V=K[0];return-90>V||90<V?[NaN,NaN]:(K=K[1]*H,[Math.cos(K)*Math.sin(V*H)*63.78460826781007,63.78460826781007*Math.sin(K)])},inverse:function(K){var V=K[0]/63.78460826781007;K=K[1]/63.78460826781007;var Q=Math.sqrt(V*V+K*K),W=Math.asin(Q),Y=Math.sin(W);return[Math.atan2(V*Y,Q*Math.cos(W))/H,Math.asin(Q&&K*Y/Q)/H]}}}),lt(F,"Maps/Projections/WebMercator.js",[],function(){var H=Math.PI/180;return{forward:function(K){if(85.0511287798<Math.abs(K[1]))return[NaN,NaN];var V=Math.sin(K[1]*H);return[63.78137*K[0]*H,63.78137*Math.log((1+V)/(1-V))/2]},inverse:function(K){return[K[0]/(63.78137*H),(2*Math.atan(Math.exp(K[1]/63.78137))-Math.PI/2)/H]},maxLatitude:85.0511287798}}),lt(F,"Maps/Projections/ProjectionRegistry.js",[F["Maps/Projections/LambertConformalConic.js"],F["Maps/Projections/EqualEarth.js"],F["Maps/Projections/Miller.js"],F["Maps/Projections/Orthographic.js"],F["Maps/Projections/WebMercator.js"]],function(H,K,V,Q,W){return{EqualEarth:K,LambertConformalConic:H,Miller:V,Orthographic:Q,WebMercator:W}}),lt(F,"Maps/Projection.js",[F["Maps/Projections/ProjectionRegistry.js"],F["Core/Utilities.js"]],function(H,K){var V=this&&this.__spreadArrays||function(){for(var z=0,I=0,P=arguments.length;I<P;I++)z+=arguments[I].length;z=Array(z);var w=0;for(I=0;I<P;I++)for(var E=arguments[I],s=0,l=E.length;s<l;s++,w++)z[w]=E[s];return z},Q=K.erase,W=2*Math.PI/360,Y=function(z){return-180>z&&(z+=360),180<z&&(z-=360),z};return function(){function z(I){void 0===I&&(I={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=I;var P=I.name,w=I.rotation;this.rotator=w?this.getRotator(w):void 0;var E=this.def=P?z.registry[P]:void 0,s=this.rotator;E&&(E.init&&E.init(I),this.maxLatitude=E.maxLatitude||90,this.hasGeoProjection=!0),s&&E?(this.forward=function(l){return l=s.forward(l),E.forward(l)},this.inverse=function(l){return l=E.inverse(l),s.inverse(l)}):E?(this.forward=E.forward,this.inverse=E.inverse):s&&(this.forward=s.forward,this.inverse=s.inverse)}return z.add=function(I,P){z.registry[I]=P},z.greatCircle=function(I,P,w){var E=Math.atan2,s=Math.cos,l=Math.sin,g=Math.sqrt,v=I[1]*W,S=I[0]*W,f=P[1]*W,C=P[0]*W,x=f-v,M=C-S;x=2*E(g(x=l(x/2)*l(x/2)+s(v)*s(f)*l(M/2)*l(M/2)),g(1-x));var p=Math.round(6371e3*x/5e5);if(M=[],w&&M.push(I),1<p)for(p=I=1/p;.999>p;p+=I){var a=l((1-p)*x)/l(x),h=l(p*x)/l(x),n=a*s(v)*s(S)+h*s(f)*s(C),d=a*s(v)*l(S)+h*s(f)*l(C);a=E(a=a*l(v)+h*l(f),g(n*n+d*d)),n=E(d,n),M.push([n/W,a/W])}return w&&M.push(P),M},z.insertGreatCircles=function(I){for(var P=I.length-1;P--;)if(10<Math.max(Math.abs(I[P][0]-I[P+1][0]),Math.abs(I[P][1]-I[P+1][1]))){var w=z.greatCircle(I[P],I[P+1]);w.length&&I.splice.apply(I,V([P+1,0],w))}},z.toString=function(I){var P=(I=I||{}).rotation;return[I.name,P&&P.join(",")].join(";")},z.prototype.getRotator=function(I){var P=I[0]*W,w=(I[1]||0)*W;I=(I[2]||0)*W;var E=Math.cos(w),s=Math.sin(w),l=Math.cos(I),g=Math.sin(I);if(0!==P||0!==w||0!==I)return{forward:function(v){var S=v[0]*W+P,f=v[1]*W,C=Math.cos(f);return v=Math.cos(S)*C,S=Math.sin(S)*C,C=(f=Math.sin(f))*E+v*s,[Math.atan2(S*l-C*g,v*E-f*s)/W,Math.asin(C*l+S*g)/W]},inverse:function(v){var S=v[0]*W,f=v[1]*W,C=Math.cos(f);return v=Math.cos(S)*C,S=Math.sin(S)*C,C=(f=Math.sin(f))*l-S*g,[(Math.atan2(S*l+f*g,v*E+C*s)-P)/W,Math.asin(C*E-v*s)/W]}}},z.prototype.forward=function(I){return I},z.prototype.inverse=function(I){return I},z.prototype.clipOnAntimeridian=function(I,P){var w=[],E=[I];if(I.forEach(function(C,x){var M=I[x-1];if(!x){if(!P)return;M=I[I.length-1]}var p=M[0],a=C[0];(-90>p||90<p)&&(-90>a||90<a)&&0<p!=0<a&&w.push({i:x,lat:M[1]+(180-M[0])/(C[0]-M[0])*(C[1]-M[1]),direction:0>p?1:-1,previousLonLat:M,lonLat:C})}),w.length)if(P){if(w.length%2==1){var s=w.slice().sort(function(C,x){return Math.abs(x.lat)-Math.abs(C.lat)})[0];Q(w,s)}for(var l=w.length-2;0<=l;){var g=w[l].i,v=Y(180+1e-6*w[l].direction),S=Y(180-1e-6*w[l].direction);(g=I.splice.apply(I,V([g,w[l+1].i-g],z.greatCircle([v,w[l].lat],[v,w[l+1].lat],!0)))).push.apply(g,z.greatCircle([S,w[l+1].lat],[S,w[l].lat],!0)),E.push(g),l-=2}if(s)for(g=0;g<E.length;g++)if(-1<(S=(l=E[g]).indexOf(s.lonLat))){g=(0>s.lat?-1:1)*this.maxLatitude,v=Y(180+1e-6*s.direction);var f=Y(180-1e-6*s.direction);s=z.greatCircle([v,s.lat],[v,g],!0).concat(z.greatCircle([f,g],[f,s.lat],!0)),l.splice.apply(l,V([S,0],s));break}}else for(l=w.length;l--;)(g=I.splice(g=w[l].i,I.length,[Y(180+1e-6*w[l].direction),w[l].lat])).unshift([Y(180-1e-6*w[l].direction),w[l].lat]),E.push(g);return E},z.prototype.path=function(I){var P=this,s=[],l="Polygon"===I.type||"MultiPolygon"===I.type,g=this.hasGeoProjection,v="Orthographic"!==this.options.name,S=v?this.rotator:void 0,f=v&&this.def||this,C=function(x){var M=[x=x.map(function(p){if(v){S&&(p=S.forward(p));var a=p[0];1e-6>Math.abs(a-180)&&(a=180>a?179.999999:180.000001),p=[a,p[1]]}return p})];g&&(z.insertGreatCircles(x),v&&(M=P.clipOnAntimeridian(x,l))),M.forEach(function(p){if(!(2>p.length))for(var h,n,a=!1,d=!1,o=function(b){a?s.push(["L",b[0],b[1]]):(s.push(["M",b[0],b[1]]),a=!0)},r=0;r<p.length;r++){var u=p[r],c=f.forward(u);isNaN(c[0])||isNaN(c[1])||g&&!(u[1]<=P.maxLatitude&&u[1]>=-P.maxLatitude)?d=!0:(l&&!h&&(h=u,p.push(u)),d&&n&&(l&&g?z.greatCircle(n,u).forEach(function(b){return o(f.forward(b))}):a=!1),o(c),n=u,d=!1)}})};return"LineString"===I.type?C(I.coordinates):"MultiLineString"===I.type?I.coordinates.forEach(function(x){return C(x)}):"Polygon"===I.type?(I.coordinates.forEach(function(x){return C(x)}),s.length&&s.push(["Z"])):"MultiPolygon"===I.type&&(I.coordinates.forEach(function(x){x.forEach(function(M){return C(M)})}),s.length&&s.push(["Z"])),s},z.registry=H,z}()}),lt(F,"Maps/MapView.js",[F["Maps/MapViewOptionsDefault.js"],F["Maps/Projection.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=V.addEvent,W=V.clamp,Y=V.fireEvent,z=V.isNumber,I=V.merge,P=V.pick,w=V.relativeLength;return function(){function E(s,l){var v,S,f,g=this;this.userOptions=l||{},l=I(H,l),this.chart=s,this.center=l.center,this.options=l,this.projection=new K(l.projection),this.zoom=l.zoom||0,Q(s,"afterSetChartSize",function(){(void 0===g.minZoom||g.minZoom===g.zoom)&&(g.fitToBounds(void 0,void 0,!1),z(g.userOptions.zoom)&&(g.zoom=g.userOptions.zoom),g.userOptions.center&&I(!0,g.center,g.userOptions.center))}),Q(s,"pan",l=function(C){var x=s.pointer.pinchDown,M=s.mouseDownX,p=s.mouseDownY;if(1===x.length&&(M=x[0].chartX,p=x[0].chartY),"number"==typeof M&&"number"==typeof p){var a=M+","+p,h=C.originalEvent;x=h.chartX,h=h.chartY,a!==S&&(S=a,v=g.projection.forward(g.center),f=(g.projection.options.rotation||[0,0]).slice()),"Orthographic"===g.projection.options.name&&3>(g.minZoom||1/0)?(a=440/(g.getScale()*Math.min(s.plotWidth,s.plotHeight)),f&&(M=(M-x)*a-f[0],p=W(-f[1]-(p-h)*a,-80,80),g.update({projection:{rotation:[-M,-p]},center:[M,p],zoom:g.zoom},!0,!1))):(a=g.getScale(),p=g.projection.inverse([v[0]+(M-x)/a,v[1]-(p-h)/a]),g.setView(p,void 0,!0,!1)),C.preventDefault()}}),Q(s,"touchpan",l),Q(s,"selection",function(C){if(C.resetSelection)g.zoomBy();else{var x=C.x-s.plotLeft,M=C.y-s.plotTop,p=g.pixelsToProjectedUnits({x,y:M}),a=p.y;p=p.x,x=g.pixelsToProjectedUnits({x:x+C.width,y:M+C.height}),g.fitToBounds({x1:p,y1:a,x2:x.x,y2:x.y},void 0,!0,!C.originalEvent.touches&&void 0),/^touch/.test(C.originalEvent.type)||s.showResetZoom(),C.preventDefault()}})}return E.prototype.fitToBounds=function(s,l,g,v){void 0===g&&(g=!0);var S=s||this.getProjectedBounds();if(S){var f=this.chart,C=f.plotWidth;f=f.plotHeight;var x=P(l,s?0:this.options.padding);l=w(x,C),x=w(x,f),C=Math.log(400.979322/Math.max((S.x2-S.x1)/((C-l)/256),(S.y2-S.y1)/((f-x)/256)))/Math.log(2),s||(this.minZoom=C),s=this.projection.inverse([(S.x2+S.x1)/2,(S.y2+S.y1)/2]),this.setView(s,C,g,v)}},E.prototype.getProjectedBounds=function(){var s=this.chart.series.reduce(function(l,g){return(g=g.getProjectedBounds&&g.getProjectedBounds())&&l.push(g),l},[]);return E.compositeBounds(s)},E.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},E.prototype.redraw=function(s){this.chart.series.forEach(function(l){l.useMapGeometry&&(l.isDirty=!0)}),this.chart.redraw(s)},E.prototype.setView=function(s,l,g,v){void 0===g&&(g=!0);var S=!1;s&&(this.center=s),"number"==typeof l&&("number"==typeof this.minZoom&&(l=Math.max(l,this.minZoom)),"number"==typeof this.options.maxZoom&&(l=Math.min(l,this.options.maxZoom)),S=l>this.zoom,this.zoom=l);var f=this.getProjectedBounds();if(f&&!S){S=this.projection.forward(this.center),s=(l=this.chart).plotWidth,l=l.plotHeight;var C=this.getScale(),x=this.projectedUnitsToPixels({x:f.x1,y:f.y1}),M=this.projectedUnitsToPixels({x:f.x2,y:f.y2});f=[(f.x1+f.x2)/2,(f.y1+f.y2)/2];var p=x.x,a=M.y;x=x.y,(M=M.x)-p<s?S[0]=f[0]:0>p&&M<s?S[0]+=Math.max(p,M-s)/C:M>s&&0<p&&(S[0]+=Math.min(M-s,p)/C),x-a<l?S[1]=f[1]:0>a&&x<l?S[1]-=Math.max(a,x-l)/C:x>l&&0<a&&(S[1]-=Math.min(x-l,a)/C),this.center=this.projection.inverse(S)}Y(this,"afterSetView"),g&&this.redraw(v)},E.prototype.projectedUnitsToPixels=function(s){var l=this.getScale(),g=this.projection.forward(this.center);return{x:this.chart.plotWidth/2-l*(g[0]-s.x),y:this.chart.plotHeight/2+l*(g[1]-s.y)}},E.prototype.pixelsToProjectedUnits=function(s){var l=s.x;s=s.y;var g=this.getScale(),v=this.projection.forward(this.center);return{x:v[0]+(l-this.chart.plotWidth/2)/g,y:v[1]-(s-this.chart.plotHeight/2)/g}},E.prototype.update=function(s,l,g){void 0===l&&(l=!0);var v=s.projection;v=v&&K.toString(v)!==K.toString(this.options.projection),I(!0,this.userOptions,s),I(!0,this.options,s),v&&(this.chart.series.forEach(function(S){S.clearBounds&&S.clearBounds(),S.isDirty=!0,S.isDirtyData=!0}),this.projection=new K(this.options.projection),s.center||z(s.zoom)||this.fitToBounds(void 0,void 0,!1)),(s.center||z(s.zoom))&&this.setView(this.options.center,s.zoom,!1),l&&this.chart.redraw(g)},E.prototype.zoomBy=function(s,l,g,v){var S=this.chart,f=this.projection.forward(this.center),C=(l=l?this.projection.forward(l):[])[0],x=l[1];"number"==typeof s?(s=this.zoom+s,l=void 0,g&&(C=g[0],x=g[1],g=this.getScale(),C=f[0]+(C=C-S.plotLeft-S.plotWidth/2)/g,x=f[1]+(S=x-S.plotTop-S.plotHeight/2)/g),"number"==typeof C&&"number"==typeof x&&(g=1-Math.pow(2,this.zoom)/Math.pow(2,s),S=f[1]-x,f[0]-=(C=f[0]-C)*g,f[1]+=S*g,l=this.projection.inverse(f)),this.setView(l,s,void 0,v)):this.fitToBounds(void 0,void 0,void 0,v)},E.compositeBounds=function(s){if(s.length)return s.slice(1).reduce(function(l,g){return l.x1=Math.min(l.x1,g.x1),l.y1=Math.min(l.y1,g.y1),l.x2=Math.max(l.x2,g.x2),l.y2=Math.max(l.y2,g.y2),l},I(s[0]))},E}()}),lt(F,"Maps/MapSymbols.js",[F["Core/Renderer/SVG/SVGRenderer.js"]],function(H){function K(V,Q,W,Y,z,I,P,w){return[["M",V+z,Q],["L",V+W-I,Q],["C",V+W-I/2,Q,V+W,Q+I/2,V+W,Q+I],["L",V+W,Q+Y-P],["C",V+W,Q+Y-P/2,V+W-P/2,Q+Y,V+W-P,Q+Y],["L",V+w,Q+Y],["C",V+w/2,Q+Y,V,Q+Y-w/2,V,Q+Y-w],["L",V,Q+z],["C",V,Q+z/2,V+z/2,Q,V+z,Q],["Z"]]}return(H=H.prototype.symbols).bottombutton=function(V,Q,W,Y,z){return K(V-1,Q-1,W,Y,0,0,z=z&&z.r||0,z)},H.topbutton=function(V,Q,W,Y,z){return K(V-1,Q-1,W,Y,z=z&&z.r||0,z,0,0)},H}),lt(F,"Core/Chart/MapChart.js",[F["Core/Chart/Chart.js"],F["Core/DefaultOptions.js"],F["Maps/MapView.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var E,Y=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),z=K.getOptions,I=W.addEvent,P=W.merge,w=W.pick;return H=function(E){function s(){return null!==E&&E.apply(this,arguments)||this}return Y(s,E),s.prototype.init=function(l,g){I(this,"afterInit",function(){this.mapView=new V(this,this.options.mapView)});var v=z().credits;l=P({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:w(v.mapText,' \xa9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:w(v.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},l),E.prototype.init.call(this,l,g)},s}(H),function(E){E.maps={},E.mapChart=function(s,l,g){return new E(s,l,g)},E.splitPath=function(s){return"string"==typeof s&&(s=(s=s.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(l){return/[A-za-z]/.test(l)?l:parseFloat(l)})),Q.prototype.pathToSegments(s)}}(H||(H={})),H}),lt(F,"Series/Map/MapPoint.js",[F["Series/ColorMapMixin.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var Y,Q=this&&this.__extends||(Y=function(z,I){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,w){P.__proto__=w}||function(P,w){for(var E in w)w.hasOwnProperty(E)&&(P[E]=w[E])})(z,I)},function(z,I){function P(){this.constructor=z}Y(z,I),z.prototype=null===I?Object.create(I):(P.prototype=I.prototype,new P)}),W=V.extend;return K=function(Y){function z(){var I=null!==Y&&Y.apply(this,arguments)||this;return I.options=void 0,I.path=void 0,I.series=void 0,I}return Q(z,Y),z.getProjectedPath=function(I,P){return I.projectedPath||(P&&I.geometry?(P.hasCoordinates=!0,I.projectedPath=P.path(I.geometry)):I.projectedPath=I.path),I.projectedPath||[]},z.prototype.applyOptions=function(I,P){var w=this.series;return I=Y.prototype.applyOptions.call(this,I,P),P=w.joinBy,w.mapData&&w.mapMap&&((w=void 0!==(P=Y.prototype.getNestedProperty.call(I,P[1]))&&w.mapMap[P])?W(I,w):I.value=I.value||null),I},z.prototype.onMouseOver=function(I){V.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?Y.prototype.onMouseOver.call(this,I):this.series.onMouseOut(I)},z.prototype.zoomTo=function(){var I=this.series.chart;I.mapView&&this.bounds&&(I.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,I.redraw())},z}(K.seriesTypes.scatter.prototype.pointClass),W(K.prototype,{dataLabelOnNull:H.PointMixin.dataLabelOnNull,isValid:H.PointMixin.isValid,moveToTopOnHover:H.PointMixin.moveToTopOnHover}),K}),lt(F,"Series/Map/MapSeries.js",[F["Core/Animation/AnimationUtilities.js"],F["Series/ColorMapMixin.js"],F["Series/CenteredUtilities.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Chart/MapChart.js"],F["Series/Map/MapPoint.js"],F["Maps/MapView.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s){var r,l=this&&this.__extends||(r=function(u,c){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var k in O)O.hasOwnProperty(k)&&(b[k]=O[k])})(u,c)},function(u,c){function b(){this.constructor=u}r(u,c),u.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}),g=H.animObject;H=Q.noop;var v=Y.maps,S=Y.splitPath,f=(Y=w.seriesTypes).column,C=Y.scatter;Y=s.extend;var x=s.fireEvent,M=s.getNestedProperty,p=s.isArray,a=s.isNumber,h=s.merge,n=s.objectEach,d=s.pick,o=s.splat;return s=function(r){function u(){var c=null!==r&&r.apply(this,arguments)||this;return c.chart=void 0,c.data=void 0,c.group=void 0,c.joinBy=void 0,c.options=void 0,c.points=void 0,c.transformGroup=void 0,c}return l(u,r),u.prototype.animate=function(c){var b=this.chart,O=this.group,k=g(this.options.animation);b.renderer.isSVG&&(c?O.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):O.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},k))},u.prototype.animateDrilldown=function(c){var b=this.chart,O=this.group;b.renderer.isSVG&&(c?O.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):O.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1}))},u.prototype.animateDrillupFrom=function(){var c=this.chart;c.renderer.isSVG&&this.group.animate({translateX:c.plotLeft+c.plotWidth/2,translateY:c.plotTop+c.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},u.prototype.animateDrillupTo=function(c){f.prototype.animateDrillupTo.call(this,c)},u.prototype.clearBounds=function(){this.points.forEach(function(c){delete c.bounds,delete c.projectedPath}),delete this.bounds},u.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},u.prototype.drawMapDataLabels=function(){P.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},u.prototype.drawPoints=function(){var c=this,b=this.chart,O=this.group,k=this.svgTransform,_=b.mapView,A=b.renderer;if(this.transformGroup||(this.transformGroup=A.g().add(O),this.transformGroup.survive=!0),this.doFullTranslate()&&(b.hasRendered&&!b.styledMode&&this.points.forEach(function(D){D.shapeArgs&&(D.shapeArgs.fill=c.pointAttribs(D,D.state).fill)}),this.group=this.transformGroup,f.prototype.drawPoints.apply(this),this.group=O,this.points.forEach(function(D){if(D.graphic){var U="";D.name&&(U+="highcharts-name-"+D.name.replace(/ /g,"-").toLowerCase()),D.properties&&D.properties["hc-key"]&&(U+=" highcharts-key-"+D.properties["hc-key"].toLowerCase()),U&&D.graphic.addClass(U),b.styledMode&&D.graphic.css(c.pointAttribs(D,D.selected?"select":void 0))}})),_&&k){var B=d(this.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],1),m=k.scaleX,T=0<k.scaleY?1:-1,R=this.transformGroup;if(A.globalAnimation&&b.hasRendered){var j=Number(R.attr("translateX")),X=Number(R.attr("translateY")),$=Number(R.attr("scaleX"));R.attr({animator:0}).animate({animator:1},{step:function(D,U){R.attr({translateX:j+(k.translateX-j)*U.pos,translateY:X+(k.translateY-X)*U.pos,scaleX:D=$+(m-$)*U.pos,scaleY:D*T}),O.element.setAttribute("stroke-width",B/D)}})}else R.attr(k),O.element.setAttribute("stroke-width",B/m)}this.drawMapDataLabels()},u.prototype.getProjectedBounds=function(){if(!this.bounds){var c=Number.MAX_VALUE,b=this.chart.mapView&&this.chart.mapView.projection,O=[];(this.points||[]).forEach(function(k){if(k.path||k.geometry){if("string"==typeof k.path?k.path=S(k.path):p(k.path)&&"M"===k.path[0]&&(k.path=E.prototype.pathToSegments(k.path)),!k.bounds){var j,_=z.getProjectedPath(k,b),A=k.properties,B=-c,m=c,T=-c,R=c;_.forEach(function(X){var $=X[X.length-2];X=X[X.length-1],"number"==typeof $&&"number"==typeof X&&(m=Math.min(m,$),B=Math.max(B,$),R=Math.min(R,X),T=Math.max(T,X),j=!0)}),j&&(_=m+(B-m)*d(k.middleX,a(_=A&&A["hc-middle-x"])?_:.5),A=d(k.middleY,a(A=A&&A["hc-middle-y"])?A:.5),k.geometry||(A=1-A),k.bounds={midX:_,midY:T-(T-R)*A,x1:m,y1:R,x2:B,y2:T},k.labelrank=d(k.labelrank,(B-m)*(T-R)))}k.bounds&&O.push(k.bounds)}}),this.bounds=I.compositeBounds(O)}return this.bounds},u.prototype.hasData=function(){return!!this.processedXData.length},u.prototype.pointAttribs=function(c,b){var O=c.series.chart,k=O.mapView;return b=O.styledMode?this.colorAttribs(c):f.prototype.pointAttribs.call(this,c,b),(c=c.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&k&&(c/=k.getScale()),b.dashstyle&&k&&this.options.borderWidth&&(c=this.options.borderWidth/k.getScale()),b["stroke-width"]=d(c,"inherit"),b},u.prototype.setData=function(c,b,O,k){var _=this.options,A=this.chart.options.chart,B=A&&A.map,m=_.mapData,T=this.joinBy,R=_.keys||this.pointArrayMap,j=[],X={},$=this.chart.mapTransforms;if(!m&&B&&(m="string"==typeof B?v[B]:B),c&&c.forEach(function(N,Z){var q=0;if(a(N))c[Z]={value:N};else if(p(N)){c[Z]={},!_.keys&&N.length>R.length&&"string"==typeof N[0]&&(c[Z]["hc-key"]=N[0],++q);for(var nt=0;nt<R.length;++nt,++q)R[nt]&&void 0!==N[q]&&(0<R[nt].indexOf(".")?z.prototype.setNestedProperty(c[Z],N[q],R[nt]):c[Z][R[nt]]=N[q])}T&&"_i"===T[0]&&(c[Z]._i=Z)}),(this.chart.mapTransforms=$=A.mapTransforms||m&&m["hc-transform"]||$)&&n($,function(N){N.rotation&&(N.cosAngle=Math.cos(N.rotation),N.sinAngle=Math.sin(N.rotation))}),m){for("FeatureCollection"===m.type&&(this.mapTitle=m.title,m=Q.geojson(m,this.type,this)),this.mapData=m,this.mapMap={},$=0;$<m.length;$++)B=(A=m[$]).properties,A._i=$,T[0]&&B&&B[T[0]]&&(A[T[0]]=B[T[0]]),X[A[T[0]]]=A;if(this.mapMap=X,c&&T[1]){var D=T[1];c.forEach(function(N){N=M(D,N),X[N]&&j.push(X[N])})}if(_.allAreas){if(c=c||[],T[1]){var U=T[1];c.forEach(function(N){j.push(M(U,N))})}j="|"+j.map(function(N){return N&&N[T[0]]}).join("|")+"|",m.forEach(function(N){T[0]&&-1!==j.indexOf("|"+N[T[0]]+"|")||(c.push(h(N,{value:null})),k=!1)})}}P.prototype.setData.call(this,c,b,O,k),this.processData(),this.generatePoints()},u.prototype.setOptions=function(c){var b=(c=P.prototype.setOptions.call(this,c)).joinBy;return null===b&&(b="_i"),(b=this.joinBy=o(b))[1]||(b[1]=b[0]),c},u.prototype.translate=function(){var k,c=this.doFullTranslate(),b=this.chart.mapView,O=b&&b.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds()),b){var _=b.getScale(),A=b.projection.forward(b.center);this.svgTransform=k={scaleX:_,scaleY:_*(b=b.projection.hasCoordinates?-1:1),translateX:this.chart.plotWidth/2-A[0]*_,translateY:this.chart.plotHeight/2-A[1]*_*b}}this.points.forEach(function(B){k&&B.bounds&&a(B.bounds.midX)&&a(B.bounds.midY)&&(B.plotX=B.bounds.midX*k.scaleX+k.translateX,B.plotY=B.bounds.midY*k.scaleY+k.translateY),c&&(B.shapeType="path",B.shapeArgs={d:z.getProjectedPath(B,O)})}),x(this,"afterTranslate")},u.defaultOptions=h(C.defaultOptions,{animation:!1,dataLabels:{crop:!1,formatter:function(){var c=this.series.chart.numberFormatter,b=this.point.value;return a(b)?c(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),u}(C),Y(s.prototype,{type:"map",axisTypes:K.SeriesMixin.axisTypes,colorAttribs:K.SeriesMixin.colorAttribs,colorKey:K.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:H,drawGraph:H,drawLegendSymbol:W.drawRectangle,forceDL:!0,getCenter:V.getCenter,getExtremesFromAll:!0,getSymbol:K.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:K.SeriesMixin.parallelArrays,pointArrayMap:K.SeriesMixin.pointArrayMap,pointClass:z,preserveAspectRatio:!0,searchPoint:H,trackerGroups:K.SeriesMixin.trackerGroups,useMapGeometry:!0}),w.registerSeriesType("map",s),s}),lt(F,"Series/MapLine/MapLineSeries.js",[F["Series/Map/MapSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var I,Q=this&&this.__extends||(I=function(P,w){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,s){E.__proto__=s}||function(E,s){for(var l in s)s.hasOwnProperty(l)&&(E[l]=s[l])})(P,w)},function(P,w){function E(){this.constructor=P}I(P,w),P.prototype=null===w?Object.create(w):(E.prototype=w.prototype,new E)}),W=K.series,Y=V.extend,z=V.merge;return V=function(I){function P(){var w=null!==I&&I.apply(this,arguments)||this;return w.data=void 0,w.options=void 0,w.points=void 0,w}return Q(P,I),P.prototype.pointAttribs=function(w,E){return(w=H.prototype.pointAttribs.call(this,w,E)).fill=this.options.fillColor,w},P.defaultOptions=z(H.defaultOptions,{lineWidth:1,fillColor:"none"}),P}(H),Y(V.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:W.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),K.registerSeriesType("mapline",V),V}),lt(F,"Series/MapPoint/MapPointPoint.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var Y,V=this&&this.__extends||(Y=function(z,I){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,w){P.__proto__=w}||function(P,w){for(var E in w)w.hasOwnProperty(E)&&(P[E]=w[E])})(z,I)},function(z,I){function P(){this.constructor=z}Y(z,I),z.prototype=null===I?Object.create(I):(P.prototype=I.prototype,new P)}),Q=K.isNumber,W=K.merge;return function(Y){function z(){var I=null!==Y&&Y.apply(this,arguments)||this;return I.options=void 0,I.series=void 0,I}return V(z,Y),z.prototype.applyOptions=function(I,P){return I=void 0!==I.lat&&void 0!==I.lon?W(I,this.series.chart.fromLatLonToPoint(I)):I,Y.prototype.applyOptions.call(this,I,P)},z.prototype.isValid=function(){return!!(this.options.geometry||Q(this.x)&&Q(this.y))},z}(H.seriesTypes.scatter.prototype.pointClass)}),lt(F,"Series/MapPoint/MapPointSeries.js",[F["Core/Globals.js"],F["Series/MapPoint/MapPointPoint.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var E,W=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)});H=H.noop;var Y=V.seriesTypes.scatter,z=Q.extend,I=Q.fireEvent,P=Q.isNumber,w=Q.merge;return Q=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return W(s,E),s.prototype.drawDataLabels=function(){E.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},s.prototype.translate=function(){var l=this,g=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),g){var v=g.projection,S=v.forward,f=v.hasCoordinates;this.points.forEach(function(C){var x=C.x;x=void 0===x?void 0:x;var M=C.y;M=void 0===M?void 0:M;var p=C.options.geometry;(p=p&&"Point"===p.type&&p.coordinates)?(x=(M=S(p))[0],M=M[1]):C.bounds&&(x=C.bounds.midX,M=C.bounds.midY),P(x)&&P(M)?(x=g.projectedUnitsToPixels({x,y:M}),C.plotX=x.x,C.plotY=f?x.y:l.chart.plotHeight-x.y):(C.plotX=void 0,C.plotY=void 0),C.isInside=l.isPointInside(C),C.zone=l.zones.length?C.getZone():void 0})}I(this,"afterTranslate")},s.defaultOptions=w(Y.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),s}(Y),z(Q.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:K,searchPoint:H,useMapGeometry:!0}),V.registerSeriesType("mappoint",Q),Q}),lt(F,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),lt(F,"Series/Bubble/BubbleLegendItem.js",[F["Core/Color/Color.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var W=H.parse,Y=V.noop,z=Q.arrayMax,I=Q.arrayMin,P=Q.isNumber,w=Q.merge,E=Q.pick,s=Q.stableSort;return function(){function l(g,v){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=Y,this.init(g,v)}return l.prototype.init=function(g,v){this.options=g,this.visible=!0,this.chart=v.chart,this.legend=v},l.prototype.addToLegend=function(g){g.splice(this.options.legendIndex,0,this)},l.prototype.drawLegendSymbol=function(g){var v=this.chart,S=this.options,f=E(g.options.itemDistance,20),C=S.ranges,x=S.connectorDistance;this.fontMetrics=v.renderer.fontMetrics(S.labels.style.fontSize),C&&C.length&&P(C[0].value)?(s(C,function(M,p){return p.value-M.value}),this.ranges=C,this.setOptions(),this.render(),g=this.getMaxLabelSize(),v=2*(C=this.ranges[0].radius),x=0<(x=x-C+g.width)?x:0,this.maxLabel=g,this.movementX="left"===S.labels.align?x:0,this.legendItemWidth=v+x+f,this.legendItemHeight=v+this.fontMetrics.h/2):g.options.bubbleLegend.autoRanges=!0},l.prototype.setOptions=function(){var g=this.ranges,v=this.options,S=this.chart.series[v.seriesIndex],f=this.legend.baseline,C={zIndex:v.zIndex,"stroke-width":v.borderWidth},x={zIndex:v.zIndex,"stroke-width":v.connectorWidth},M={align:this.legend.options.rtl||"left"===v.labels.align?"right":"left",zIndex:v.zIndex},p=S.options.marker.fillOpacity,a=this.chart.styledMode;g.forEach(function(h,n){a||(C.stroke=E(h.borderColor,v.borderColor,S.color),C.fill=E(h.color,v.color,1!==p?W(S.color).setOpacity(p).get("rgba"):S.color),x.stroke=E(h.connectorColor,v.connectorColor,S.color)),g[n].radius=this.getRangeRadius(h.value),g[n]=w(g[n],{center:g[0].radius-g[n].radius+f}),a||w(!0,g[n],{bubbleAttribs:w(C),connectorAttribs:w(x),labelAttribs:M})},this)},l.prototype.getRangeRadius=function(g){var v=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,v.ranges[v.ranges.length-1].value,v.ranges[0].value,v.minSize,v.maxSize,g)},l.prototype.render=function(){var g=this.chart.renderer,v=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=g.g("bubble-legend"),this.legendItem=g.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(S){S.value>=v&&this.renderRange(S)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},l.prototype.renderRange=function(g){var v=this.options,S=v.labels,f=this.chart,C=f.series[v.seriesIndex],x=f.renderer,M=this.symbols;f=M.labels;var p=g.center,a=Math.abs(g.radius),h=v.connectorDistance||0,n=S.align,d=v.connectorWidth,o=this.ranges[0].radius||0,r=p-a-v.borderWidth/2+d/2,u=this.fontMetrics;u=u.f/2-(u.h-u.f)/2;var c=x.styledMode;h=this.legend.options.rtl||"left"===n?-h:h,"center"===n&&(h=0,v.connectorDistance=0,g.labelAttribs.align="center"),n=r+v.labels.y;var b=o+h+v.labels.x;M.bubbleItems.push(x.circle(o,p+((r%1?1:.5)-(d%2?0:.5)),a).attr(c?{}:g.bubbleAttribs).addClass((c?"highcharts-color-"+C.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(v.className||"")).add(this.legendSymbol)),M.connectors.push(x.path(x.crispLine([["M",o,r],["L",o+h,r]],v.connectorWidth)).attr(c?{}:g.connectorAttribs).addClass((c?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(v.connectorClassName||"")).add(this.legendSymbol)),g=x.text(this.formatLabel(g),b,n+u).attr(c?{}:g.labelAttribs).css(c?{}:S.style).addClass("highcharts-bubble-legend-labels "+(v.labels.className||"")).add(this.legendSymbol),f.push(g),g.placed=!0,g.alignAttr={x:b,y:n+u}},l.prototype.getMaxLabelSize=function(){var g,v;return this.symbols.labels.forEach(function(S){v=S.getBBox(!0),g=g?v.width>g.width?v:g:v}),g||{}},l.prototype.formatLabel=function(g){var v=this.options,S=v.labels.formatter,f=this.chart.numberFormatter;return(v=v.labels.format)?K.format(v,g):S?S.call(g):f(g.value,1)},l.prototype.hideOverlappingLabels=function(){var v=this.symbols;!this.options.labels.allowOverlap&&v&&(this.chart.hideOverlappingLabels(v.labels),v.labels.forEach(function(S,f){S.newOpacity?S.newOpacity!==S.oldOpacity&&v.connectors[f].show():v.connectors[f].hide()}))},l.prototype.getRanges=function(){var S,g=this.legend.bubbleLegend,v=g.options.ranges,f=Number.MAX_VALUE,C=-Number.MAX_VALUE;g.chart.series.forEach(function(M){M.isBubble&&!M.ignoreSeries&&(S=M.zData.filter(P)).length&&(f=E(M.options.zMin,Math.min(f,Math.max(I(S),!1===M.options.displayNegative?M.options.zThreshold:-Number.MAX_VALUE))),C=E(M.options.zMax,Math.max(C,z(S))))});var x=f===C?[{value:C}]:[{value:f},{value:(f+C)/2},{value:C,autoRanges:!0}];return v.length&&v[0].radius&&x.reverse(),x.forEach(function(M,p){v&&v[p]&&(x[p]=w(v[p],M))}),x},l.prototype.predictBubbleSizes=function(){var g=this.chart,v=this.fontMetrics,S=g.legend.options,f=S.floating,C=(S="horizontal"===S.layout)?g.legend.lastLineHeight:0,x=g.plotSizeX,M=g.plotSizeY,p=g.series[this.options.seriesIndex],a=p.getPxExtremes();g=Math.ceil(a.minPxSize),a=Math.ceil(a.maxPxSize);var h=Math.min(M,x);return p=p.options.maxSize,f||!/%$/.test(p)?v=a:(p=parseFloat(p),v=(h+C-v.h/2)*p/100/(p/100+1),(S&&M-v>=x||!S&&x-v>=M)&&(v=a)),[g,Math.ceil(v)]},l.prototype.updateRanges=function(g,v){var S=this.legend.options.bubbleLegend;S.minSize=g,S.maxSize=v,S.ranges=this.getRanges()},l.prototype.correctSizes=function(){var g=this.legend,v=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(v.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,v.maxPxSize),g.render())},l}()}),lt(F,"Series/Bubble/BubbleLegendComposition.js",[F["Series/Bubble/BubbleLegendDefaults.js"],F["Series/Bubble/BubbleLegendItem.js"],F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=V.setOptions,Y=Q.addEvent,z=Q.objectEach,I=Q.wrap;return function(w){function E(C,x,M){var p=this.legend,a=0<=s(this);if(p&&p.options.enabled&&p.bubbleLegend&&p.options.bubbleLegend.autoRanges&&a){var h=p.bubbleLegend.options;a=p.bubbleLegend.predictBubbleSizes(),p.bubbleLegend.updateRanges(a[0],a[1]),h.placed||(p.group.placed=!1,p.allItems.forEach(function(n){n.legendGroup.translateY=null})),p.render(),this.getMargins(),this.axes.forEach(function(n){n.visible&&n.render(),h.placed||(n.setScale(),n.updateNames(),z(n.ticks,function(d){d.isNew=!0,d.isNewLabel=!0}))}),h.placed=!0,this.getMargins(),C.call(this,x,M),p.bubbleLegend.correctSizes(),S(p,l(p))}else C.call(this,x,M),p&&p.options.enabled&&p.bubbleLegend&&(p.render(),S(p,l(p)))}function s(C){C=C.series;for(var x=0;x<C.length;){if(C[x]&&C[x].isBubble&&C[x].visible&&C[x].zData.length)return x;x++}return-1}function l(C){var p,x=[],M=(C=C.allItems).length,a=0;for(p=0;p<M;p++)if(C[p].legendItemHeight&&(C[p].itemHeight=C[p].legendItemHeight),C[p]===C[M-1]||C[p+1]&&C[p]._legendItemPos[1]!==C[p+1]._legendItemPos[1]){x.push({height:0});for(var h=x[x.length-1];a<=p;a++)C[a].itemHeight>h.height&&(h.height=C[a].itemHeight);h.step=p}return x}function g(C){var x=this.bubbleLegend,M=this.options,p=M.bubbleLegend,a=s(this.chart);x&&x.ranges&&x.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),this.destroyItem(x)),0<=a&&M.enabled&&p.enabled&&(p.seriesIndex=a,this.bubbleLegend=new K(p,this),this.bubbleLegend.addToLegend(C.allItems))}function v(){var C=this.chart,x=this.visible,M=this.chart.legend;M&&M.bubbleLegend&&(this.visible=!x,this.ignoreSeries=x,C=0<=s(C),M.bubbleLegend.visible!==C&&(M.update({bubbleLegend:{enabled:C}}),M.bubbleLegend.visible=C),this.visible=x)}function S(C,x){var p,a,h,M=C.options.rtl,n=0;C.allItems.forEach(function(d,o){p=d.legendGroup.translateX,a=d._legendItemPos[1],((h=d.movementX)||M&&d.ranges)&&d.legendGroup.attr({translateX:h=M?p-d.options.maxSize/2:p+h}),o>x[n].step&&n++,d.legendGroup.attr({translateY:Math.round(a+x[n].height/2)}),d._legendItemPos[1]=a+x[n].height/2})}var f=[];w.compose=function(C,x,M){-1===f.indexOf(C)&&(f.push(C),W({legend:{bubbleLegend:H}}),I(C.prototype,"drawChartBox",E)),-1===f.indexOf(x)&&(f.push(x),Y(x,"afterGetAllItems",g)),-1===f.indexOf(M)&&(f.push(M),Y(M,"legendItemClick",v))}}(P||(P={})),P}),lt(F,"Series/Bubble/BubblePoint.js",[F["Core/Series/Point.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var W,Q=this&&this.__extends||(W=function(Y,z){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var w in P)P.hasOwnProperty(w)&&(I[w]=P[w])})(Y,z)},function(Y,z){function I(){this.constructor=Y}W(Y,z),Y.prototype=null===z?Object.create(z):(I.prototype=z.prototype,new I)});return V=V.extend,K=function(W){function Y(){var z=null!==W&&W.apply(this,arguments)||this;return z.options=void 0,z.series=void 0,z}return Q(Y,W),Y.prototype.haloPath=function(z){return H.prototype.haloPath.call(this,0===z?0:(this.marker&&this.marker.radius||0)+z)},Y}(K.seriesTypes.scatter.prototype.pointClass),V(K.prototype,{ttBelow:!1}),K}),lt(F,"Series/Bubble/BubbleSeries.js",[F["Core/Axis/Axis.js"],F["Series/Bubble/BubbleLegendComposition.js"],F["Series/Bubble/BubblePoint.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){var M,P=this&&this.__extends||(M=function(p,a){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,n){h.__proto__=n}||function(h,n){for(var d in n)n.hasOwnProperty(d)&&(h[d]=n[d])})(p,a)},function(p,a){function h(){this.constructor=p}M(p,a),p.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h)}),w=Q.parse;Q=W.noop;var E=z.seriesTypes;W=E.column;var s=E.scatter;E=I.addEvent;var l=I.arrayMax,g=I.arrayMin,v=I.clamp,S=I.extend,f=I.isNumber,C=I.merge,x=I.pick;return I=function(M){function p(){var a=null!==M&&M.apply(this,arguments)||this;return a.data=void 0,a.maxPxSize=void 0,a.minPxSize=void 0,a.options=void 0,a.points=void 0,a.radii=void 0,a.yData=void 0,a.zData=void 0,a}return P(p,M),p.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(h){var n=h.graphic;n&&n.width&&(this.hasRendered||n.attr({x:h.plotX,y:h.plotY,width:1,height:1}),n.animate(this.markerAttribs(h),this.options.animation))},this)},p.prototype.getRadii=function(){var a=this,h=this.zData,n=this.yData,d=[],o=this.chart.bubbleZExtremes,r=this.getPxExtremes(),u=r.minPxSize,c=r.maxPxSize;if(!o){var k,b=Number.MAX_VALUE,O=-Number.MAX_VALUE;this.chart.series.forEach(function(B){B.bubblePadding&&(B.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(B=B.getZExtremes())&&(b=Math.min(b||B.zMin,B.zMin),O=Math.max(O||B.zMax,B.zMax),k=!0)}),k?this.chart.bubbleZExtremes=o={zMin:b,zMax:O}:o={zMin:0,zMax:0}}var _=0;for(r=h.length;_<r;_++)d.push(this.getRadius(o.zMin,o.zMax,u,c,h[_],n[_]));this.radii=d},p.prototype.getRadius=function(a,h,n,d,o,r){var u=this.options,c="width"!==u.sizeBy,b=u.zThreshold,O=h-a,k=.5;if(null===r||null===o)return null;if(f(o)){if(u.sizeByAbsoluteValue&&(o=Math.abs(o-b),O=Math.max(h-b,Math.abs(a-b)),a=0),o<a)return n/2-1;0<O&&(k=(o-a)/O)}return c&&0<=k&&(k=Math.sqrt(k)),Math.ceil(n+k*(d-n))/2},p.prototype.hasData=function(){return!!this.processedXData.length},p.prototype.pointAttribs=function(a,h){var n=this.options.marker.fillOpacity;return a=Y.prototype.pointAttribs.call(this,a,h),1!==n&&(a.fill=w(a.fill).setOpacity(n).get("rgba")),a},p.prototype.translate=function(){M.prototype.translate.call(this),this.getRadii(),this.translateBubble()},p.prototype.translateBubble=function(){for(var a=this.data,h=this.radii,n=this.getPxExtremes().minPxSize,d=a.length;d--;){var o=a[d],r=h?h[d]:0;f(r)&&r>=n/2?(o.marker=S(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):o.shapeArgs=o.plotY=o.dlBox=void 0}},p.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),h=function(d){if("string"==typeof d){var o=/%$/.test(d);d=parseInt(d,10)}return o?a*d/100:d},n=h(x(this.options.minSize,8));return{minPxSize:n,maxPxSize:h=Math.max(h(x(this.options.maxSize,"20%")),n)}},p.prototype.getZExtremes=function(){var a=this.options,h=(this.zData||[]).filter(f);if(h.length){var n=x(a.zMin,v(g(h),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(a=x(a.zMax,l(h)),f(n)&&f(a))return{zMin:n,zMax:a}}},p.compose=K.compose,p.defaultOptions=C(s.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,h=this.point.z;return f(h)?a(h,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),p}(s),S(I.prototype,{alignDataLabel:W.prototype.alignDataLabel,applyZones:Q,bubblePadding:!0,buildKDTree:Q,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:V,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),E(I,"updatedData",function(M){delete M.target.chart.bubbleZExtremes}),H.prototype.beforePadding=function(){var b,M=this,p=this.len,a=this.chart,h=0,n=p,d=this.isXAxis,o=d?"xData":"yData",r=this.min,u=this.max-r,c=p/u;this.series.forEach(function(O){if(O.bubblePadding&&(O.visible||!a.options.chart.ignoreHiddenSeries)){b=M.allowZoomOutside=!0;var k=O[o];if(d&&O.getRadii(0,0,O),0<u)for(var _=k.length;_--;)if(f(k[_])&&M.dataMin<=k[_]&&k[_]<=M.max){var A=O.radii&&O.radii[_]||0;h=Math.min((k[_]-r)*c-A,h),n=Math.max((k[_]-r)*c+A,n)}}}),b&&0<u&&!this.logarithmic&&(n-=p,c*=(p+Math.max(0,h)-Math.min(n,p))/p,[["min","userMin",h],["max","userMax",n]].forEach(function(O){void 0===x(M.options[O[0]],M[O[1]])&&(M[O[0]]+=O[2]/c)}))},z.registerSeriesType("bubble",I),I}),lt(F,"Series/MapBubble/MapBubblePoint.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var Y,V=this&&this.__extends||(Y=function(z,I){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,w){P.__proto__=w}||function(P,w){for(var E in w)w.hasOwnProperty(E)&&(P[E]=w[E])})(z,I)},function(z,I){function P(){this.constructor=z}Y(z,I),z.prototype=null===I?Object.create(I):(P.prototype=I.prototype,new P)}),Q=(H=H.seriesTypes).map,W=K.merge;return function(Y){function z(){return null!==Y&&Y.apply(this,arguments)||this}return V(z,Y),z.prototype.applyOptions=function(I,P){return I&&void 0!==I.lat&&void 0!==I.lon?Y.prototype.applyOptions.call(this,W(I,this.series.chart.fromLatLonToPoint(I)),P):Q.prototype.pointClass.prototype.applyOptions.call(this,I,P)},z.prototype.isValid=function(){return"number"==typeof this.z},z}(H.bubble.prototype.pointClass)}),lt(F,"Series/MapBubble/MapBubbleSeries.js",[F["Series/Bubble/BubbleSeries.js"],F["Series/MapBubble/MapBubblePoint.js"],F["Series/Map/MapSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var w,Y=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),z=Q.seriesTypes.mappoint,I=W.extend,P=W.merge;return W=function(w){function E(){var s=null!==w&&w.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s}return Y(E,w),E.prototype.translate=function(){z.prototype.translate.call(this),this.getRadii(),this.translateBubble()},E.compose=H.compose,E.defaultOptions=P(H.defaultOptions,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),E}(H),I(W.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:V.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:K,setData:V.prototype.setData,setOptions:V.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0}),Q.registerSeriesType("mapbubble",W),W}),lt(F,"Series/Heatmap/HeatmapPoint.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var I,V=this&&this.__extends||(I=function(P,w){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,s){E.__proto__=s}||function(E,s){for(var l in s)s.hasOwnProperty(l)&&(E[l]=s[l])})(P,w)},function(P,w){function E(){this.constructor=P}I(P,w),P.prototype=null===w?Object.create(w):(E.prototype=w.prototype,new E)}),Q=K.clamp,W=K.defined,Y=K.extend,z=K.pick;return H=function(I){function P(){var w=null!==I&&I.apply(this,arguments)||this;return w.options=void 0,w.series=void 0,w.value=void 0,w.x=void 0,w.y=void 0,w}return V(P,I),P.prototype.applyOptions=function(w,E){return(w=I.prototype.applyOptions.call(this,w,E)).formatPrefix=w.isNull||null===w.value?"null":"point",w},P.prototype.getCellAttributes=function(){var w=this.series,E=w.options,s=(E.colsize||1)/2,l=(E.rowsize||1)/2,g=w.xAxis,v=w.yAxis,S=this.options.marker||w.options.marker;w=w.pointPlacementToXValue();var f=z(this.pointPadding,E.pointPadding,0),C={x1:Q(Math.round(g.len-(g.translate(this.x-s,!1,!0,!1,!0,-w)||0)),-g.len,2*g.len),x2:Q(Math.round(g.len-(g.translate(this.x+s,!1,!0,!1,!0,-w)||0)),-g.len,2*g.len),y1:Q(Math.round(v.translate(this.y-l,!1,!0,!1,!0)||0),-v.len,2*v.len),y2:Q(Math.round(v.translate(this.y+l,!1,!0,!1,!0)||0),-v.len,2*v.len)};return[["width","x"],["height","y"]].forEach(function(x){var M=x[0],p=(x=x[1])+"1",a=x+"2",h=Math.abs(C[p]-C[a]),n=S&&S.lineWidth||0,d=Math.abs(C[p]+C[a])/2;W(M=S&&S[M])&&M<h&&(C[p]=d-(M=M/2+n/2),C[a]=d+M),f&&("y"===x&&(p=a,a=x+"1"),C[p]+=f,C[a]-=f)}),C},P.prototype.haloPath=function(w){if(!w)return[];var E=this.shapeArgs;return["M",E.x-w,E.y-w,"L",E.x-w,E.y+E.height+w,E.x+E.width+w,E.y+E.height+w,E.x+E.width+w,E.y-w,"Z"]},P.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},P}(H.seriesTypes.scatter.prototype.pointClass),Y(H.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),H}),lt(F,"Series/Heatmap/HeatmapSeries.js",[F["Core/Color/Color.js"],F["Series/ColorMapMixin.js"],F["Series/Heatmap/HeatmapPoint.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var x,I=this&&this.__extends||(x=function(M,p){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var n in h)h.hasOwnProperty(n)&&(a[n]=h[n])})(M,p)},function(M,p){function a(){this.constructor=M}x(M,p),M.prototype=null===p?Object.create(p):(a.prototype=p.prototype,new a)}),P=W.series,w=W.seriesTypes,E=w.column,s=w.scatter,l=Y.prototype.symbols,g=z.extend,v=z.fireEvent,S=z.isNumber,f=z.merge,C=z.pick;return Y=function(x){function M(){var p=null!==x&&x.apply(this,arguments)||this;return p.colorAxis=void 0,p.data=void 0,p.options=void 0,p.points=void 0,p.valueMax=NaN,p.valueMin=NaN,p}return I(M,x),M.prototype.drawPoints=function(){var p=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(P.prototype.drawPoints.call(this),this.points.forEach(function(a){a.graphic&&(a.graphic[p.chart.styledMode?"css":"animate"](p.colorAttribs(a)),p.options.borderRadius&&a.graphic.attr({r:p.options.borderRadius}),(a.shapeArgs||{}).r=p.options.borderRadius,(a.shapeArgs||{}).d=a.graphic.pathArray,null===a.value&&a.graphic.addClass("highcharts-null-point"))}))},M.prototype.getExtremes=function(){var p=P.prototype.getExtremes.call(this,this.valueData),a=p.dataMin;return p=p.dataMax,S(a)&&(this.valueMin=a),S(p)&&(this.valueMax=p),P.prototype.getExtremes.call(this)},M.prototype.getValidPoints=function(p,a){return P.prototype.getValidPoints.call(this,p,a,!0)},M.prototype.hasData=function(){return!!this.processedXData.length},M.prototype.init=function(){P.prototype.init.apply(this,arguments);var p=this.options;p.pointRange=C(p.pointRange,p.colsize||1),this.yAxis.axisPointRange=p.rowsize||1,l.ellipse=l.circle},M.prototype.markerAttribs=function(p,a){var h=p.marker||{},d=p.shapeArgs||{},o={};if(p.hasImage)return{x:p.plotX,y:p.plotY};if(a){var r=(this.options.marker||{}).states[a]||{},u=h.states&&h.states[a]||{};[["width","x"],["height","y"]].forEach(function(c){o[c[0]]=(u[c[0]]||r[c[0]]||d[c[0]])+(u[c[0]+"Plus"]||r[c[0]+"Plus"]||0),o[c[1]]=d[c[1]]+(d[c[0]]-o[c[0]])/2})}return a?o:d},M.prototype.pointAttribs=function(p,a){var h=P.prototype.pointAttribs.call(this,p,a),n=this.options||{},d=this.chart.options.plotOptions||{},o=d.series||{},r=d.heatmap||{};return d=p&&p.options.borderColor||n.borderColor||r.borderColor||o.borderColor,o=p&&p.options.borderWidth||n.borderWidth||r.borderWidth||o.borderWidth||h["stroke-width"],h.stroke=p&&p.marker&&p.marker.lineColor||n.marker&&n.marker.lineColor||d||this.color,h["stroke-width"]=o,a&&(a=(p=f(n.states[a],n.marker&&n.marker.states[a],p&&p.options.states&&p.options.states[a]||{})).brightness,h.fill=p.color||H.parse(h.fill).brighten(a||0).get(),h.stroke=p.lineColor),h},M.prototype.setClip=function(p){var a=this.chart;P.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||p)&&this.markerGroup.clip((p||this.clipBox)&&this.sharedClipKey?a.sharedClips[this.sharedClipKey]:a.clipRect)},M.prototype.translate=function(){var p=this.options,a=p.marker&&p.marker.symbol||"rect",h=l[a]?a:"rect",n=-1!==["circle","square"].indexOf(h);this.generatePoints(),this.points.forEach(function(d){var o=d.getCellAttributes(),r={};r.x=Math.min(o.x1,o.x2),r.y=Math.min(o.y1,o.y2),r.width=Math.max(Math.abs(o.x2-o.x1),0),r.height=Math.max(Math.abs(o.y2-o.y1),0);var u=d.hasImage=0===(d.marker&&d.marker.symbol||a||"").indexOf("url");if(n){var c=Math.abs(r.width-r.height);r.x=Math.min(o.x1,o.x2)+(r.width<r.height?0:c/2),r.y=Math.min(o.y1,o.y2)+(r.width<r.height?c/2:0),r.width=r.height=Math.min(r.width,r.height)}c={plotX:(o.x1+o.x2)/2,plotY:(o.y1+o.y2)/2,clientX:(o.x1+o.x2)/2,shapeType:"path",shapeArgs:f(!0,r,{d:l[h](r.x,r.y,r.width,r.height)})},u&&(d.marker={width:r.width,height:r.height}),g(d,c)}),v(this,"afterTranslate")},M.defaultOptions=f(s.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var p=this.series.chart.numberFormatter,a=this.point.value;return S(a)?p(a,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),M}(s),g(Y.prototype,{alignDataLabel:E.prototype.alignDataLabel,axisTypes:K.SeriesMixin.axisTypes,colorAttribs:K.SeriesMixin.colorAttribs,colorKey:K.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:Q.drawRectangle,getExtremesFromAll:!0,getSymbol:P.prototype.getSymbol,parallelArrays:K.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:V,trackerGroups:K.SeriesMixin.trackerGroups}),W.registerSeriesType("heatmap",Y),Y}),lt(F,"Extensions/GeoJSON.js",[F["Core/Chart/Chart.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q){function W(E,s){var l,g=!1,v=E.x,S=E.y;for(E=0,l=s.length-1;E<s.length;l=E++)s[E][1]>S!=s[l][1]>S&&v<(s[l][0]-s[E][0])*(S-s[E][1])/(s[l][1]-s[E][1])+s[E][0]&&(g=!g);return g}var Y=K.format,z=V.win,I=Q.error,P=Q.extend,w=Q.merge;K=Q.wrap,H.prototype.transformFromLatLon=function(E,s){var l=this.options.chart.proj4||z.proj4;if(!l)return I(21,!1,this),{x:0,y:null};var g=s.jsonmarginX;g=void 0===g?0:g;var v=s.jsonmarginY;v=void 0===v?0:v;var S=s.jsonres;S=void 0===S?1:S;var f=s.scale;f=void 0===f?1:f;var C=s.xoffset;C=void 0===C?0:C;var x=s.xpan;x=void 0===x?0:x;var M=s.yoffset;M=void 0===M?0:M;var p=s.ypan;p=void 0===p?0:p,E=l(s.crs,[E.lon,E.lat]),l=s.cosAngle||s.rotation&&Math.cos(s.rotation);var a=s.sinAngle||s.rotation&&Math.sin(s.rotation);return{x:(((s=s.rotation?[E[0]*l+E[1]*a,-E[0]*a+E[1]*l]:E)[0]-C)*f+x)*S+g,y:-(((M-s[1])*f+p)*S-v)}},H.prototype.transformToLatLon=function(E,s){if(this.options.chart.proj4||z.proj4){if(null!==E.y){var l=s.jsonmarginX,g=s.jsonmarginY,v=s.jsonres,S=s.scale,f=s.xoffset,C=s.xpan,x=s.yoffset,M=s.ypan;return E={x:((E.x-(void 0===l?0:l))/(v=void 0===v?1:v)-(void 0===C?0:C))/(S=void 0===S?1:S)+(void 0===f?0:f),y:((E.y-(void 0===g?0:g))/v+(void 0===M?0:M))/S+(void 0===x?0:x)},l=s.cosAngle||s.rotation&&Math.cos(s.rotation),g=s.sinAngle||s.rotation&&Math.sin(s.rotation),{lat:(s=z.proj4(s.crs,"WGS84",s.rotation?{x:E.x*l+E.y*-g,y:E.x*g+E.y*l}:E)).y,lon:s.x}}}else I(21,!1,this)},H.prototype.fromPointToLatLon=function(E){var s=this.mapTransforms;if(s){for(var l in s)if(Object.hasOwnProperty.call(s,l)&&s[l].hitZone&&W(E,s[l].hitZone.coordinates[0]))return this.transformToLatLon(E,s[l]);return this.transformToLatLon(E,s.default)}I(22,!1,this)},H.prototype.fromLatLonToPoint=function(E){var l,s=this.mapTransforms;if(!s)return I(22,!1,this),{x:0,y:null};for(l in s)if(Object.hasOwnProperty.call(s,l)&&s[l].hitZone){var g=this.transformFromLatLon(E,s[l]);if(W(g,s[l].hitZone.coordinates[0]))return g}return this.transformFromLatLon(E,s.default)},V.geojson=function(E,s,l){void 0===s&&(s="map");var g=[];return E.features.forEach(function(v){var C,S=v.geometry||{},f=S.type;S=S.coordinates,v=v.properties,("map"!==s&&"mapbubble"!==s||"Polygon"!==f&&"MultiPolygon"!==f)&&("mapline"!==s||"LineString"!==f&&"MultiLineString"!==f)?"mappoint"===s&&"Point"===f&&S.length&&(C={geometry:{coordinates:S,type:f}}):S.length&&(C={geometry:{coordinates:S,type:f}}),C&&g.push(P(C,{name:v.name||v.NAME,properties:v}))}),l&&E.copyrightShort&&(l.chart.mapCredits=Y(l.chart.options.credits.mapText,{geojson:E}),l.chart.mapCreditsFull=Y(l.chart.options.credits.mapTextFull,{geojson:E})),g},K(H.prototype,"addCredits",function(E,s){s=w(!0,this.options.credits,s),this.mapCredits&&(s.href=null),E.call(this,s),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}),lt(F,"masters/modules/map.src.js",[F["Core/Globals.js"],F["Core/Axis/Color/ColorAxis.js"],F["Series/MapBubble/MapBubbleSeries.js"],F["Core/Chart/MapChart.js"]],function(H,K,V,Q){H.ColorAxis=K,H.MapChart=Q,H.mapChart=H.Map=Q.mapChart,H.maps=Q.maps,K.compose(H.Chart,H.Fx,H.Legend,H.Series),V.compose(H.Chart,H.Legend,H.Series)}),lt(F,"masters/highmaps.src.js",[F["masters/highcharts.src.js"]],function(H){return H.product="Highmaps",H}),F["masters/highmaps.src.js"]._modules=F,F["masters/highmaps.src.js"]},ke.exports?(lt.default=lt,ke.exports=St.document?lt(St):lt):void 0!==(ft=function(){return lt(St)}.call(zt,Mt,zt,ke))&&(ke.exports=ft)},150:function(ke,zt,Mt){"use strict";var ft,St,lt;St="undefined"!=typeof window?window:this,lt=function(St){function lt(H,K,V,Q){H.hasOwnProperty(K)||(H[K]=Q.apply(null,V))}var F={};return lt(F,"Core/Globals.js",[],function(){var K,V,H=void 0!==St?St:"undefined"!=typeof window?window:{};return(V=K||(K={})).SVG_NS="http://www.w3.org/2000/svg",V.product="Highcharts",V.version="9.3.3",V.win=H,V.doc=V.win.document,V.svg=V.doc&&V.doc.createElementNS&&!!V.doc.createElementNS(V.SVG_NS,"svg").createSVGRect,V.userAgent=V.win.navigator&&V.win.navigator.userAgent||"",V.isChrome=-1!==V.userAgent.indexOf("Chrome"),V.isFirefox=-1!==V.userAgent.indexOf("Firefox"),V.isMS=/(edge|msie|trident)/i.test(V.userAgent)&&!V.win.opera,V.isSafari=!V.isChrome&&-1!==V.userAgent.indexOf("Safari"),V.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(V.userAgent),V.isWebKit=-1!==V.userAgent.indexOf("AppleWebKit"),V.deg2rad=2*Math.PI/360,V.hasBidiBug=V.isFirefox&&4>parseInt(V.userAgent.split("Firefox/")[1],10),V.hasTouch=!!V.win.TouchEvent,V.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],V.noop=function(){},V.supportsPassiveEvents=function(){var Q=!1;if(!V.isMS){var W=Object.defineProperty({},"passive",{get:function(){Q=!0}});V.win.addEventListener&&V.win.removeEventListener&&(V.win.addEventListener("testPassive",V.noop,W),V.win.removeEventListener("testPassive",V.noop,W))}return Q}(),V.charts=[],V.dateFormats={},V.seriesTypes={},V.symbolSizes={},V.chartCount=0,K}),lt(F,"Core/Utilities.js",[F["Core/Globals.js"]],function(H){function K(r,u,c,b){var O=u?"Highcharts error":"Highcharts warning";32===r&&(r=O+": Deprecated member");var k=w(r),_=k?O+" #"+r+": www.highcharts.com/errors/"+r+"/":r.toString();if(void 0!==b){var A="";k&&(_+="?"),C(b,function(B,m){A+="\n - "+m+": "+B,k&&(_+=encodeURI(m)+"="+encodeURI(B))}),_+=A}M(H,"displayError",{chart:c,code:r,message:_,params:b},function(){if(u)throw Error(_);h.console&&-1===K.messages.indexOf(_)&&console.warn(_)}),K.messages.push(_)}function Q(r,u){return parseInt(r,u||10)}function W(r){return"string"==typeof r}function Y(r){return"[object Array]"===(r=Object.prototype.toString.call(r))||"[object Array Iterator]"===r}function z(r,u){return!(!r||"object"!=typeof r||u&&Y(r))}function I(r){return z(r)&&"number"==typeof r.nodeType}function P(r){var u=r&&r.constructor;return!(!z(r,!0)||I(r)||!u||!u.name||"Object"===u.name)}function w(r){return"number"==typeof r&&!isNaN(r)&&1/0>r&&-1/0<r}function E(r){return null!=r}function s(r,u,c){var b;return W(u)?E(c)?r.setAttribute(u,c):r&&r.getAttribute&&((b=r.getAttribute(u))||"class"!==u||(b=r.getAttribute(u+"Name"))):C(u,function(O,k){E(O)?r.setAttribute(k,O):r.removeAttribute(k)}),b}function l(r,u){var c;for(c in r||(r={}),u)r[c]=u[c];return r}function g(){for(var r=arguments,u=r.length,c=0;c<u;c++){var b=r[c];if(null!=b)return b}}function v(r,u){H.isMS&&!H.svg&&u&&void 0!==u.opacity&&(u.filter="alpha(opacity="+100*u.opacity+")"),l(r.style,u)}function S(r,u){return 1e14<r?r:parseFloat(r.toPrecision(u||14))}function C(r,u,c){for(var b in r)Object.hasOwnProperty.call(r,b)&&u.call(c||r[b],r[b],b,r)}function x(r,u,c){function b(A,B){var m=r.removeEventListener||H.removeEventListenerPolyfill;m&&m.call(r,A,B,!1)}function O(A){var B;if(r.nodeName){if(u){var m={};m[u]=!0}else m=A;C(m,function(T,R){if(A[R])for(B=A[R].length;B--;)b(R,A[R][B].fn)})}}var k="function"==typeof r&&r.prototype||r;if(Object.hasOwnProperty.call(k,"hcEvents")){var _=k.hcEvents;u?(k=_[u]||[],c?(_[u]=k.filter(function(A){return c!==A.fn}),b(u,c)):(O(_),_[u]=[])):(O(_),delete k.hcEvents)}}function M(r,u,c,b){if(c=c||{},a.createEvent&&(r.dispatchEvent||r.fireEvent&&r!==H)){var O=a.createEvent("Events");O.initEvent(u,!0,!0),c=l(O,c),r.dispatchEvent?r.dispatchEvent(c):r.fireEvent(u,c)}else if(r.hcEvents){c.target||l(c,{preventDefault:function(){c.defaultPrevented=!0},target:r,type:u}),O=[];for(var k=r,_=!1;k.hcEvents;)Object.hasOwnProperty.call(k,"hcEvents")&&k.hcEvents[u]&&(O.length&&(_=!0),O.unshift.apply(O,k.hcEvents[u])),k=Object.getPrototypeOf(k);_&&O.sort(function(A,B){return A.order-B.order}),O.forEach(function(A){!1===A.fn.call(r,c)&&c.preventDefault()})}b&&!c.defaultPrevented&&b.call(r,c)}var p=H.charts,a=H.doc,h=H.win;(K||(K={})).messages=[],Math.easeInOutSine=function(r){return-.5*(Math.cos(Math.PI*r)-1)};var n=Array.prototype.find?function(r,u){return r.find(u)}:function(r,u){var c,b=r.length;for(c=0;c<b;c++)if(u(r[c],c))return r[c]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(r,u){H[u]=function(c){var b;return K(32,!1,void 0,((b={})["Highcharts."+u]="use Array."+r,b)),Array.prototype[r].apply(c,[].slice.call(arguments,1))}});var d,r,u,o=(r=Math.random().toString(36).substring(2,9)+"-",u=0,function(){return"highcharts-"+(d?"":r)+u++});return h.jQuery&&(h.jQuery.fn.highcharts=function(){var r=[].slice.call(arguments);if(this[0])return r[0]?(new(H[W(r[0])?r.shift():"Chart"])(this[0],r[0],r[1]),this):p[s(this[0],"data-highcharts-chart")]}),n={addEvent:function(r,u,c,b){void 0===b&&(b={});var O="function"==typeof r&&r.prototype||r;Object.hasOwnProperty.call(O,"hcEvents")||(O.hcEvents={}),O=O.hcEvents,H.Point&&r instanceof H.Point&&r.series&&r.series.chart&&(r.series.chart.runTrackerClick=!0);var k=r.addEventListener||H.addEventListenerPolyfill;return k&&k.call(r,u,c,!!H.supportsPassiveEvents&&{passive:void 0===b.passive?-1!==u.indexOf("touch"):b.passive,capture:!1}),O[u]||(O[u]=[]),O[u].push({fn:c,order:"number"==typeof b.order?b.order:1/0}),O[u].sort(function(_,A){return _.order-A.order}),function(){x(r,u,c)}},arrayMax:function(r){for(var u=r.length,c=r[0];u--;)r[u]>c&&(c=r[u]);return c},arrayMin:function(r){for(var u=r.length,c=r[0];u--;)r[u]<c&&(c=r[u]);return c},attr:s,clamp:function(r,u,c){return r>u?r<c?r:c:u},cleanRecursively:function V(r,u){var c={};return C(r,function(b,O){z(r[O],!0)&&!r.nodeType&&u[O]?(b=V(r[O],u[O]),Object.keys(b).length&&(c[O]=b)):(z(r[O])||r[O]!==u[O])&&(c[O]=r[O])}),c},clearTimeout:function(r){E(r)&&clearTimeout(r)},correctFloat:S,createElement:function(r,u,c,b,O){return r=a.createElement(r),u&&l(r,u),O&&v(r,{padding:"0",border:"none",margin:"0"}),c&&v(r,c),b&&b.appendChild(r),r},css:v,defined:E,destroyObjectProperties:function(r,u){C(r,function(c,b){c&&c!==u&&c.destroy&&c.destroy(),delete r[b]})},discardElement:function(r){r&&r.parentElement&&r.parentElement.removeChild(r)},erase:function(r,u){for(var c=r.length;c--;)if(r[c]===u){r.splice(c,1);break}},error:K,extend:l,extendClass:function(r,u){var c=function(){};return l(c.prototype=new r,u),c},find:n,fireEvent:M,getMagnitude:function(r){return Math.pow(10,Math.floor(Math.log(r)/Math.LN10))},getNestedProperty:function(r,u){for(r=r.split(".");r.length&&E(u);){var c=r.shift();if(void 0===c||"__proto__"===c||!E(u=u[c])||"function"==typeof u||"number"==typeof u.nodeType||u===h)return}return u},getStyle:function f(r,u,c){var b=H.getStyle||f;if("width"===u)return u=Math.min(r.offsetWidth,r.scrollWidth),(c=r.getBoundingClientRect&&r.getBoundingClientRect().width)<u&&c>=u-1&&(u=Math.floor(c)),Math.max(0,u-(b(r,"padding-left",!0)||0)-(b(r,"padding-right",!0)||0));if("height"===u)return Math.max(0,Math.min(r.offsetHeight,r.scrollHeight)-(b(r,"padding-top",!0)||0)-(b(r,"padding-bottom",!0)||0));if(h.getComputedStyle||K(27,!0),r=h.getComputedStyle(r,void 0)){var O=r.getPropertyValue(u);g(c,"opacity"!==u)&&(O=Q(O))}return O},inArray:function(r,u,c){return K(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),u.indexOf(r,c)},isArray:Y,isClass:P,isDOMElement:I,isFunction:function(r){return"function"==typeof r},isNumber:w,isObject:z,isString:W,keys:function(r){return K(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(r)},merge:function(){var r,u=arguments,c={},b=function(k,_){return"object"!=typeof k&&(k={}),C(_,function(A,B){"__proto__"!==B&&"constructor"!==B&&(k[B]=!z(A,!0)||P(A)||I(A)?_[B]:b(k[B]||{},A))}),k};!0===u[0]&&(c=u[1],u=Array.prototype.slice.call(u,2));var O=u.length;for(r=0;r<O;r++)c=b(c,u[r]);return c},normalizeTickInterval:function(r,u,c,b,O){var k=r,_=r/(c=g(c,1));for(u||(u=O?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===b&&(1===c?u=u.filter(function(A){return A%1==0}):.1>=c&&(u=[1/c]))),b=0;b<u.length&&(k=u[b],!(O&&k*c>=r||!O&&_<=(u[b]+(u[b+1]||u[b]))/2));b++);return S(k*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(r){var u=a.documentElement;return{top:(r=r.parentElement||r.parentNode?r.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(h.pageYOffset||u.scrollTop)-(u.clientTop||0),left:r.left+(h.pageXOffset||u.scrollLeft)-(u.clientLeft||0),width:r.width,height:r.height}},pad:function(r,u,c){return Array((u||2)+1-String(r).replace("-","").length).join(c||"0")+r},pick:g,pInt:Q,relativeLength:function(r,u,c){return/%$/.test(r)?u*parseFloat(r)/100+(c||0):parseFloat(r)},removeEvent:x,splat:function(r){return Y(r)?r:[r]},stableSort:function(r,u){var b,O,c=r.length;for(O=0;O<c;O++)r[O].safeI=O;for(r.sort(function(k,_){return 0===(b=u(k,_))?k.safeI-_.safeI:b}),O=0;O<c;O++)delete r[O].safeI},syncTimeout:function(r,u,c){return 0<u?setTimeout(r,u,c):(r.call(0,c),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:o,useSerialIds:function(r){return d=g(r,d)},wrap:function(r,u,c){var b=r[u];r[u]=function(){var O=Array.prototype.slice.call(arguments),k=arguments,_=this;return _.proceed=function(){b.apply(_,arguments.length?arguments:k)},O.unshift(b),O=c.apply(this,O),_.proceed=null,O}}},n}),lt(F,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),lt(F,"Core/Color/Color.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=K.isNumber,Q=K.merge,W=K.pInt;return function(){function Y(z){this.rgba=[NaN,NaN,NaN,NaN],this.input=z;var I=H.Color;return I&&I!==Y?new I(z):this instanceof Y?void this.init(z):new Y(z)}return Y.parse=function(z){return z?new Y(z):Y.None},Y.prototype.init=function(z){var I;if("object"==typeof z&&void 0!==z.stops)this.stops=z.stops.map(function(s){return new Y(s[1])});else if("string"==typeof z){if(this.input=z=Y.names[z.toLowerCase()]||z,"#"===z.charAt(0)){var P=z.length,w=parseInt(z.substr(1),16);7===P?I=[(16711680&w)>>16,(65280&w)>>8,255&w,1]:4===P&&(I=[(3840&w)>>4|(3840&w)>>8,(240&w)>>4|240&w,(15&w)<<4|15&w,1])}if(!I)for(w=Y.parsers.length;w--&&!I;){var E=Y.parsers[w];(P=E.regex.exec(z))&&(I=E.parse(P))}}I&&(this.rgba=I)},Y.prototype.get=function(z){var I=this.input,P=this.rgba;if("object"==typeof I&&void 0!==this.stops){var w=Q(I);return w.stops=[].slice.call(w.stops),this.stops.forEach(function(E,s){w.stops[s]=[w.stops[s][0],E.get(z)]}),w}return P&&V(P[0])?"rgb"===z||!z&&1===P[3]?"rgb("+P[0]+","+P[1]+","+P[2]+")":"a"===z?""+P[3]:"rgba("+P.join(",")+")":I},Y.prototype.brighten=function(z){var I=this.rgba;if(this.stops)this.stops.forEach(function(w){w.brighten(z)});else if(V(z)&&0!==z)for(var P=0;3>P;P++)I[P]+=W(255*z),0>I[P]&&(I[P]=0),255<I[P]&&(I[P]=255);return this},Y.prototype.setOpacity=function(z){return this.rgba[3]=z,this},Y.prototype.tweenTo=function(z,I){var P=this.rgba,w=z.rgba;return V(P[0])&&V(w[0])?((z=1!==w[3]||1!==P[3])?"rgba(":"rgb(")+Math.round(w[0]+(P[0]-w[0])*(1-I))+","+Math.round(w[1]+(P[1]-w[1])*(1-I))+","+Math.round(w[2]+(P[2]-w[2])*(1-I))+(z?","+(w[3]+(P[3]-w[3])*(1-I)):"")+")":z.input||"none"},Y.names={white:"#ffffff",black:"#000000"},Y.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),parseFloat(z[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(z){return[W(z[1]),W(z[2]),W(z[3]),1]}}],Y.None=new Y(""),Y}()}),lt(F,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),lt(F,"Core/Time.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.win,Q=K.defined,W=K.error,Y=K.extend,z=K.isObject,I=K.merge,P=K.objectEach,w=K.pad,E=K.pick,s=K.splat,l=K.timeUnits,g=H.isSafari&&V.Intl&&V.Intl.DateTimeFormat.prototype.formatRange,v=H.isSafari&&V.Intl&&!V.Intl.DateTimeFormat.prototype.formatRange;return K=function(){function S(f){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=V.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(f)}return S.prototype.get=function(f,C){if(this.variableTimezone||this.timezoneOffset){var x=C.getTime(),M=x-this.getTimezoneOffset(C);return C.setTime(M),f=C["getUTC"+f](),C.setTime(x),f}return this.useUTC?C["getUTC"+f]():C["get"+f]()},S.prototype.set=function(f,C,x){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===f||"Seconds"===f||"Minutes"===f&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+f](x);var M=this.getTimezoneOffset(C);return M=C.getTime()-M,C.setTime(M),C["setUTC"+f](x),f=this.getTimezoneOffset(C),M=C.getTime()+f,C.setTime(M)}return this.useUTC||g&&"FullYear"===f?C["setUTC"+f](x):C["set"+f](x)},S.prototype.update=function(f){var C=E(f&&f.useUTC,!0);this.options=f=I(!0,this.options||{},f),this.Date=f.Date||V.Date||Date,this.timezoneOffset=(this.useUTC=C)&&f.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!f.getTimezoneOffset&&!f.timezone)},S.prototype.makeTime=function(f,C,x,M,p,a){if(this.useUTC){var h=this.Date.UTC.apply(0,arguments),n=this.getTimezoneOffset(h),d=this.getTimezoneOffset(h+=n);n!==d?h+=d-n:n-36e5!==this.getTimezoneOffset(h-36e5)||v||(h-=36e5)}else h=new this.Date(f,C,E(x,1),E(M,0),E(p,0),E(a,0)).getTime();return h},S.prototype.timezoneOffsetFunction=function(){var f=this,C=this.options,x=C.getTimezoneOffset,M=C.moment||V.moment;if(!this.useUTC)return function(p){return 6e4*new Date(p.toString()).getTimezoneOffset()};if(C.timezone){if(M)return function(p){return 6e4*-M.tz(p,C.timezone).utcOffset()};W(25)}return this.useUTC&&x?function(p){return 6e4*x(p.valueOf())}:function(){return 6e4*(f.timezoneOffset||0)}},S.prototype.dateFormat=function(f,C,x){if(!Q(C)||isNaN(C))return H.defaultOptions.lang&&H.defaultOptions.lang.invalidDate||"";f=E(f,"%Y-%m-%d %H:%M:%S");var M=this,p=new this.Date(C),a=this.get("Hours",p),h=this.get("Day",p),n=this.get("Date",p),d=this.get("Month",p),o=this.get("FullYear",p),r=H.defaultOptions.lang,u=r&&r.weekdays,c=r&&r.shortWeekdays;return p=Y({a:c?c[h]:u[h].substr(0,3),A:u[h],d:w(n),e:w(n,2," "),w:h,b:r.shortMonths[d],B:r.months[d],m:w(d+1),o:d+1,y:o.toString().substr(2,2),Y:o,H:w(a),k:a,I:w(a%12||12),l:a%12||12,M:w(this.get("Minutes",p)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:w(p.getSeconds()),L:w(Math.floor(C%1e3),3)},H.dateFormats),P(p,function(b,O){for(;-1!==f.indexOf("%"+O);)f=f.replace("%"+O,"function"==typeof b?b.call(M,C):b)}),x?f.substr(0,1).toUpperCase()+f.substr(1):f},S.prototype.resolveDTLFormat=function(f){return z(f,!0)?f:{main:(f=s(f))[0],from:f[1],to:f[2]}},S.prototype.getTimeTicks=function(f,C,x,M){var r,p=this,a=[],h={},n=new p.Date(C),d=f.unitRange,o=f.count||1;if(M=E(M,1),Q(C)){if(p.set("Milliseconds",n,d>=l.second?0:o*Math.floor(p.get("Milliseconds",n)/o)),d>=l.second&&p.set("Seconds",n,d>=l.minute?0:o*Math.floor(p.get("Seconds",n)/o)),d>=l.minute&&p.set("Minutes",n,d>=l.hour?0:o*Math.floor(p.get("Minutes",n)/o)),d>=l.hour&&p.set("Hours",n,d>=l.day?0:o*Math.floor(p.get("Hours",n)/o)),d>=l.day&&p.set("Date",n,d>=l.month?1:Math.max(1,o*Math.floor(p.get("Date",n)/o))),d>=l.month){p.set("Month",n,d>=l.year?0:o*Math.floor(p.get("Month",n)/o));var u=p.get("FullYear",n)}d>=l.year&&p.set("FullYear",n,u-u%o),d===l.week&&(u=p.get("Day",n),p.set("Date",n,p.get("Date",n)-u+M+(u<M?-7:0))),u=p.get("FullYear",n),M=p.get("Month",n);var c=p.get("Date",n),b=p.get("Hours",n);for(C=n.getTime(),!p.variableTimezone&&p.useUTC||!Q(x)||(r=x-C>4*l.month||p.getTimezoneOffset(C)!==p.getTimezoneOffset(x)),C=n.getTime(),n=1;C<x;)a.push(C),C=d===l.year?p.makeTime(u+n*o,0):d===l.month?p.makeTime(u,M+n*o):!r||d!==l.day&&d!==l.week?r&&d===l.hour&&1<o?p.makeTime(u,M,c,b+n*o):C+d*o:p.makeTime(u,M,c+n*o*(d===l.day?1:7)),n++;a.push(C),d<=l.hour&&1e4>a.length&&a.forEach(function(O){O%18e5==0&&"000000000"===p.dateFormat("%H%M%S%L",O)&&(h[O]="day")})}return a.info=Y(f,{higherRanks:h,totalRange:d*o}),a},S.prototype.getDateFormat=function(f,C,x,M){var p=this.dateFormat("%m-%d %H:%M:%S.%L",C),a={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";for(n in l){if(f===l.week&&+this.dateFormat("%w",C)===x&&"00:00:00.000"===p.substr(6)){var n="week";break}if(l[n]>f){n=h;break}if(a[n]&&p.substr(a[n])!=="01-01 00:00:00.000".substr(a[n]))break;"week"!==n&&(h=n)}if(n)var d=this.resolveDTLFormat(M[n]).main;return d},S}(),K}),lt(F,"Core/DefaultOptions.js",[F["Core/Chart/ChartDefaults.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Color/Palettes.js"],F["Core/Time.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){K=K.parse;var z=Y.merge,I={colors:Q.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:H,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:V.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:V.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:K("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};I.chart.styledMode=!1;var P=new W(z(I.global,I.time));return{defaultOptions:I,defaultTime:P,getOptions:function(){return I},setOptions:function(w){return z(!0,I,w),(w.time||w.global)&&(V.time?V.time.update(z(I.global,I.time,w.global,w.time)):V.time=P),I}}}),lt(F,"Core/Animation/Fx.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=H.parse,W=K.win,Y=V.isNumber,z=V.objectEach;return function(){function I(P,w,E){this.pos=NaN,this.options=w,this.elem=P,this.prop=E}return I.prototype.dSetter=function(){var P=this.paths,w=P&&P[0];P=P&&P[1];var E=this.now||0,s=[];if(1!==E&&w&&P)if(w.length===P.length&&1>E)for(var l=0;l<P.length;l++){for(var g=w[l],v=P[l],S=[],f=0;f<v.length;f++){var C=g[f],x=v[f];S[f]=Y(C)&&Y(x)&&("A"!==v[0]||4!==f&&5!==f)?C+E*(x-C):x}s.push(S)}else s=P;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)},I.prototype.update=function(){var P=this.elem,w=this.prop,E=this.now,s=this.options.step;this[w+"Setter"]?this[w+"Setter"]():P.attr?P.element&&P.attr(w,E,null,!0):P.style[w]=E+this.unit,s&&s.call(P,E,this)},I.prototype.run=function(P,w,E){var s=this,l=s.options,g=function(f){return!g.stopped&&s.step(f)},v=W.requestAnimationFrame||function(f){setTimeout(f,13)},S=function(){for(var f=0;f<I.timers.length;f++)I.timers[f]()||I.timers.splice(f--,1);I.timers.length&&v(S)};P!==w||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=P,this.end=w,this.unit=E,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===I.timers.push(g)&&v(S)):(delete l.curAnim[this.prop],l.complete&&0===Object.keys(l.curAnim).length&&l.complete.call(this.elem))},I.prototype.step=function(P){var w=+new Date,E=this.options,s=this.elem,l=E.complete,g=E.duration,v=E.curAnim;if(s.attr&&!s.element)P=!1;else if(P||w>=g+this.startTime){this.now=this.end,this.pos=1,this.update();var S=v[this.prop]=!0;z(v,function(f){!0!==f&&(S=!1)}),S&&l&&l.call(s),P=!1}else this.pos=E.easing((w-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),P=!0;return P},I.prototype.initPath=function(P,w,E){function s(p,a){for(;p.length<M;){var h=p[0],n=a[M-p.length];n&&"M"===h[0]&&(p[0]="C"===n[0]?["C",h[1],h[2],h[1],h[2],h[1],h[2]]:["L",h[1],h[2]]),p.unshift(h),S&&(h=p.pop(),p.push(p[p.length-1],h))}}function l(p,a){for(;p.length<M;)if("C"===(a=p[Math.floor(p.length/f)-1].slice())[0]&&(a[1]=a[5],a[2]=a[6]),S){var h=p[Math.floor(p.length/f)].slice();p.splice(p.length/2,0,a,h)}else p.push(a)}var g=P.startX,v=P.endX;E=E.slice();var S=P.isArea,f=S?2:1;if(!(w=w&&w.slice()))return[E,E];if(g&&v&&v.length){for(P=0;P<g.length;P++){if(g[P]===v[0]){var C=P;break}if(g[0]===v[v.length-g.length+P]){C=P;var x=!0;break}if(g[g.length-1]===v[v.length-g.length+P]){C=g.length-P;break}}void 0===C&&(w=[])}if(w.length&&Y(C)){var M=E.length+C*f;x?(s(w,E),l(E,w)):(s(E,w),l(w,E))}return[w,E]},I.prototype.fillSetter=function(){I.prototype.strokeSetter.apply(this,arguments)},I.prototype.strokeSetter=function(){this.elem.attr(this.prop,Q(this.start).tweenTo(Q(this.end),this.pos),void 0,!0)},I.timers=[],I}()}),lt(F,"Core/Animation/AnimationUtilities.js",[F["Core/Animation/Fx.js"],F["Core/Utilities.js"]],function(H,K){function V(l){return P(l)?w({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function Q(l,g){for(var v=H.timers.length;v--;)H.timers[v].elem!==l||g&&g!==H.timers[v].prop||(H.timers[v].stopped=!0)}var W=K.defined,Y=K.getStyle,z=K.isArray,I=K.isNumber,P=K.isObject,w=K.merge,E=K.objectEach,s=K.pick;return{animate:function(l,g,v){var S,C,x,f="";if(!P(v)){var M=arguments;v={duration:M[2],easing:M[3],complete:M[4]}}I(v.duration)||(v.duration=400),v.easing="function"==typeof v.easing?v.easing:Math[v.easing]||Math.easeInOutSine,v.curAnim=w(g),E(g,function(p,a){Q(l,a),x=new H(l,v,a),C=void 0,"d"===a&&z(g.d)?(x.paths=x.initPath(l,l.pathArray,g.d),x.toD=g.d,S=0,C=1):l.attr?S=l.attr(a):(S=parseFloat(Y(l,a))||0,"opacity"!==a&&(f="px")),C||(C=p),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),x.run(S,C,f)})},animObject:V,getDeferredAnimation:function(l,g,v){var S=V(g),f=0,C=0;return(v?[v]:l.series).forEach(function(x){x=V(x.options.animation),f=g&&W(g.defer)?S.defer:Math.max(f,x.duration+x.defer),C=Math.min(S.duration,x.duration)}),l.renderer.forExport&&(f=0),{defer:Math.max(0,f-C),duration:Math.min(f,C)}},setAnimation:function(l,g){g.renderer.globalAnimation=s(l,g.options.chart.animation,!0)},stop:Q}}),lt(F,"Core/Renderer/HTML/AST.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.SVG_NS,Q=K.attr,W=K.createElement,Y=K.error,z=K.isFunction,I=K.isString,P=K.objectEach,w=K.splat,E=(K=H.win.trustedTypes)&&z(K.createPolicy)&&K.createPolicy("highcharts",{createHTML:function(g){return g}}),s=E?E.createHTML(""):"";try{var l=!!(new DOMParser).parseFromString(s,"text/html")}catch(g){l=!1}return function(){function g(v){this.nodes="string"==typeof v?this.parseMarkup(v):v}return g.filterUserAttributes=function(v){return P(v,function(S,f){var C=!0;-1===g.allowedAttributes.indexOf(f)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(f)&&(C=I(S)&&g.allowedReferences.some(function(x){return 0===S.indexOf(x)})),C||(Y("Highcharts warning: Invalid attribute '"+f+"' in config"),delete v[f])}),v},g.setElementHTML=function(v,S){v.innerHTML=g.emptyHTML,S&&new g(S).addToDOM(v)},g.prototype.addToDOM=function(v){return function S(f,C){var x;return w(f).forEach(function(M){var p=M.tagName,a=M.textContent?H.doc.createTextNode(M.textContent):void 0;if(p)if("#text"===p)var h=a;else if(-1!==g.allowedTags.indexOf(p)){p=H.doc.createElementNS("svg"===p?V:C.namespaceURI||V,p);var n=M.attributes||{};P(M,function(d,o){"tagName"!==o&&"attributes"!==o&&"children"!==o&&"textContent"!==o&&(n[o]=d)}),Q(p,g.filterUserAttributes(n)),a&&p.appendChild(a),S(M.children||[],p),h=p}else Y("Highcharts warning: Invalid tagName "+p+" in config");h&&C.appendChild(h),x=h}),x}(this.nodes,v)},g.prototype.parseMarkup=function(v){var S=[];if(v=v.trim(),l)v=(new DOMParser).parseFromString(E?E.createHTML(v):v,"text/html");else{var f=W("div");f.innerHTML=v,v={body:f}}var C=function(x,M){var p=x.nodeName.toLowerCase(),a={tagName:p};if("#text"===p&&(a.textContent=x.textContent||""),p=x.attributes){var h={};[].forEach.call(p,function(d){h[d.name]=d.value}),a.attributes=h}if(x.childNodes.length){var n=[];[].forEach.call(x.childNodes,function(d){C(d,n)}),n.length&&(a.children=n)}M.push(a)};return[].forEach.call(v.body.childNodes,function(x){return C(x,S)}),S},g.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),g.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),g.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),g.emptyHTML=s,g}()}),lt(F,"Core/FormatUtilities.js",[F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E,s,l){E=+E;var g=Q.lang,v=((w=+w||0).toString().split(".")[1]||"").split("e")[0].length,S=w.toString().split("e"),f=E;if(-1===E)E=Math.min(v,20);else if(z(E)){if(E&&S[1]&&0>S[1]){var C=E+ +S[1];0<=C?(S[0]=(+S[0]).toExponential(C).split("e")[0],E=C):(S[0]=S[0].split(".")[0]||0,w=20>E?(S[0]*Math.pow(10,S[1])).toFixed(E):0,S[1]=0)}}else E=2;C=(Math.abs(S[1]?S[0]:w)+Math.pow(10,-Math.max(E,v)-1)).toFixed(E);var x=3<(v=String(P(C))).length?v.length%3:0;return s=I(s,g.decimalPoint),l=I(l,g.thousandsSep),w=(0>w?"-":"")+(x?v.substr(0,x)+l:""),w=0>+S[1]&&!f?"0":w+v.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+l),E&&(w+=s+C.slice(-E)),S[1]&&0!=+w&&(w+="e"+S[1]),w}var Q=H.defaultOptions,W=H.defaultTime,Y=K.getNestedProperty,z=K.isNumber,I=K.pick,P=K.pInt;return{dateFormat:function(w,E,s){return W.dateFormat(w,E,s)},format:function(w,E,s){var l="{",g=!1,v=/f$/,S=/\.([0-9])/,f=Q.lang,C=s&&s.time||W;s=s&&s.numberFormatter||V;for(var x=[];w;){var M=w.indexOf(l);if(-1===M)break;var p=w.slice(0,M);if(g){if(p=p.split(":"),l=Y(p.shift()||"",E),p.length&&"number"==typeof l)if(p=p.join(":"),v.test(p)){var a=parseInt((p.match(S)||["","-1"])[1],10);null!==l&&(l=s(l,a,f.decimalPoint,-1<p.indexOf(",")?f.thousandsSep:""))}else l=C.dateFormat(p,l);x.push(l)}else x.push(p);w=w.slice(M+1),l=(g=!g)?"}":"{"}return x.push(w),x.join("")},numberFormat:V}}),lt(F,"Core/Renderer/RendererUtilities.js",[F["Core/Utilities.js"]],function(H){var W,K=H.clamp,V=H.pick,Q=H.stableSort;return(W||(W={})).distribute=function z(I,P,w){var v,E=I,s=E.reducedLen||P,l=function(x,M){return(M.rank||0)-(x.rank||0)},g=function(x,M){return x.target-M.target},S=!0,f=[],C=0;for(v=I.length;v--;)C+=I[v].size;if(C>s){for(Q(I,l),C=v=0;C<=s;)C+=I[v].size,v++;f=I.splice(v-1,I.length)}for(Q(I,g),I=I.map(function(x){return{size:x.size,targets:[x.target],align:V(x.align,.5)}});S;){for(v=I.length;v--;)s=I[v],l=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=K(l-s.size*s.align,0,P-s.size);for(v=I.length,S=!1;v--;)0<v&&I[v-1].pos+I[v-1].size>I[v].pos&&(I[v-1].size+=I[v].size,I[v-1].targets=I[v-1].targets.concat(I[v].targets),I[v-1].align=.5,I[v-1].pos+I[v-1].size>P&&(I[v-1].pos=P-I[v-1].size),I.splice(v,1),S=!0)}return E.push.apply(E,f),v=0,I.some(function(x){var M=0;return(x.targets||[]).some(function(){return E[v].pos=x.pos+M,void 0!==w&&Math.abs(E[v].pos-E[v].target)>w?(E.slice(0,v+1).forEach(function(p){return delete p.pos}),E.reducedLen=(E.reducedLen||P)-.1*P,E.reducedLen>.1*P&&z(E,P,w),!0):(M+=E[v].size,v++,!1)})}),Q(E,g),E},W}),lt(F,"Core/Renderer/SVG/SVGElement.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.animate,z=H.animObject,I=H.stop,P=Q.deg2rad,w=Q.doc,E=Q.noop,s=Q.svg,l=Q.SVG_NS,g=Q.win,v=W.addEvent,S=W.attr,f=W.createElement,C=W.css,x=W.defined,M=W.erase,p=W.extend,a=W.fireEvent,h=W.isArray,n=W.isFunction,d=W.isNumber,o=W.isString,r=W.merge,u=W.objectEach,c=W.pick,b=W.pInt,O=W.syncTimeout,k=W.uniqueKey;return H=function(){function _(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=l,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return _.prototype._defaultGetter=function(A){return A=c(this[A+"Value"],this[A],this.element?this.element.getAttribute(A):null,0),/^[\-0-9\.]+$/.test(A)&&(A=parseFloat(A)),A},_.prototype._defaultSetter=function(A,B,m){m.setAttribute(B,A)},_.prototype.add=function(A){var B=this.renderer,m=this.element;if(A&&(this.parentGroup=A),this.parentInverted=A&&A.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!A||A.handleZ||this.zIndex)var T=this.zIndexSetter();return T||(A?A.element:B.box).appendChild(m),this.onAdd&&this.onAdd(),this},_.prototype.addClass=function(A,B){var m=B?"":this.attr("class")||"";return(A=(A||"").split(/ /g).reduce(function(T,R){return-1===m.indexOf(R)&&T.push(R),T},m?[m]:[]).join(" "))!==m&&this.attr("class",A),this},_.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},_.prototype.align=function(A,B,m){var X,$,D,T={},R=this.renderer,j=R.alignedObjects;A?(this.alignOptions=A,this.alignByTranslate=B,(!m||o(m))&&(this.alignTo=X=m||"renderer",M(j,this),j.push(this),m=void 0)):(A=this.alignOptions,B=this.alignByTranslate,X=this.alignTo),m=c(m,R[X],"scrollablePlotBox"===X?R.plotBox:void 0,R);var U=A.verticalAlign;return R=(m.x||0)+(A.x||0),j=(m.y||0)+(A.y||0),"right"===(X=A.align)?$=1:"center"===X&&($=2),$&&(R+=(m.width-(A.width||0))/$),T[B?"translateX":"x"]=Math.round(R),"bottom"===U?D=1:"middle"===U&&(D=2),D&&(j+=(m.height-(A.height||0))/D),T[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](T),this.placed=!0,this.alignAttr=T,this},_.prototype.alignSetter=function(A){var B={left:"start",center:"middle",right:"end"};B[A]&&(this.alignValue=A,this.element.setAttribute("text-anchor",B[A]))},_.prototype.animate=function(A,B,m){var T=this,R=z(c(B,this.renderer.globalAnimation,!0));return B=R.defer,c(w.hidden,w.msHidden,w.webkitHidden,!1)&&(R.duration=0),0!==R.duration?(m&&(R.complete=m),O(function(){T.element&&Y(T,A,R)},B)):(this.attr(A,void 0,m),u(A,function(j,X){R.step&&R.step.call(this,j,{prop:X,pos:1,elem:this})},this)),this},_.prototype.applyTextOutline=function(A){var B=this.element;-1!==A.indexOf("contrast")&&(A=A.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var m=A.split(" ");if(A=m[m.length-1],(m=m[0])&&"none"!==m&&Q.svg){this.fakeTS=!0,this.ySetter=this.xSetter,m=m.replace(/(^[\d\.]+)(.*?)$/g,function(j,X,$){return 2*Number(X)+$}),this.removeTextOutline();var T=w.createElementNS(l,"tspan");S(T,{class:"highcharts-text-outline",fill:A,stroke:A,"stroke-width":m,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var X=j.cloneNode(!0);X.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function($){return X.removeAttribute($)}),T.appendChild(X)});var R=w.createElementNS(l,"tspan");R.textContent="\u200b",["x","y"].forEach(function(j){var X=B.getAttribute(j);X&&R.setAttribute(j,X)}),T.appendChild(R),B.insertBefore(T,B.firstChild)}},_.prototype.attr=function(A,B,m,T){var X,D,U,R=this.element,j=this.symbolCustomAttribs,$=this;if("string"==typeof A&&void 0!==B){var N=A;(A={})[N]=B}return"string"==typeof A?$=(this[A+"Getter"]||this._defaultGetter).call(this,A,R):(u(A,function(Z,q){D=!1,T||I(this,q),this.symbolName&&-1!==j.indexOf(q)&&(X||(this.symbolAttr(A),X=!0),D=!0),!this.rotation||"x"!==q&&"y"!==q||(this.doTransform=!0),D||((U=this[q+"Setter"]||this._defaultSetter).call(this,Z,q,R),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(q)&&this.updateShadows(q,Z,U))},this),this.afterSetters()),m&&m.call(this),$},_.prototype.clip=function(A){return this.attr("clip-path",A?"url("+this.renderer.url+"#"+A.id+")":"none")},_.prototype.crisp=function(A,B){B=B||A.strokeWidth||0;var m=Math.round(B)%2/2;return A.x=Math.floor(A.x||this.x||0)+m,A.y=Math.floor(A.y||this.y||0)+m,A.width=Math.floor((A.width||this.width||0)-2*m),A.height=Math.floor((A.height||this.height||0)-2*m),x(A.strokeWidth)&&(A.strokeWidth=B),A},_.prototype.complexColor=function(A,B,m){var R,j,X,$,D,U,N,Z,q,nt,ot,T=this.renderer,it=[];a(this.renderer,"complexColor",{args:arguments},function(){if(A.radialGradient?j="radialGradient":A.linearGradient&&(j="linearGradient"),j){if(D=T.gradients,U=A.stops,q=m.radialReference,h(X=A[j])&&(A[j]=X={x1:X[0],y1:X[1],x2:X[2],y2:X[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&q&&!x(X.gradientUnits)&&(X=r(X,T.getRadialAttr(q,$=X),{gradientUnits:"userSpaceOnUse"})),u(X,function(mt,yt){"id"!==yt&&it.push(yt,mt)}),u(U,function(mt){it.push(mt)}),it=it.join(","),D[it])nt=D[it].attr("id");else{X.id=nt=k();var at=D[it]=T.createElement(j).attr(X).add(T.defs);at.radAttr=$,at.stops=[],U.forEach(function(mt){0===mt[1].indexOf("rgba")?(R=V.parse(mt[1]),N=R.get("rgb"),Z=R.get("a")):(N=mt[1],Z=1),mt=T.createElement("stop").attr({offset:mt[0],"stop-color":N,"stop-opacity":Z}).add(at),at.stops.push(mt)})}m.setAttribute(B,ot="url("+T.url+"#"+nt+")"),m.gradient=it,A.toString=function(){return ot}}})},_.prototype.css=function(A){var B=this.styles,m={},T=this.element,R=["textOutline","textOverflow","width"],j="",X=!B;if(A&&A.color&&(A.fill=A.color),B&&u(A,function(U,N){B&&B[N]!==U&&(m[N]=U,X=!0)}),X){if(B&&(A=p(B,m)),A)if(null===A.width||"auto"===A.width)delete this.textWidth;else if("text"===T.nodeName.toLowerCase()&&A.width)var $=this.textWidth=b(A.width);if(this.styles=A,$&&!s&&this.renderer.forExport&&delete A.width,T.namespaceURI===this.SVG_NS){var D=function(U,N){return"-"+N.toLowerCase()};u(A,function(U,N){-1===R.indexOf(N)&&(j+=N.replace(/([A-Z])/g,D)+":"+U+";")}),j&&S(T,"style",j)}else C(T,A);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),A&&A.textOutline&&this.applyTextOutline(A.textOutline))}return this},_.prototype.dashstyleSetter=function(A){var B=this["stroke-width"];if("inherit"===B&&(B=1),A=A&&A.toLowerCase()){var m=A.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=m.length;A--;)m[A]=""+b(m[A])*c(B,NaN);A=m.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",A)}},_.prototype.destroy=function(){var A=this,B=A.element||{},m=A.renderer,T=B.ownerSVGElement,R=m.isSVG&&"SPAN"===B.nodeName&&A.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,I(A),A.clipPath&&T){var j=A.clipPath;[].forEach.call(T.querySelectorAll("[clip-path],[CLIP-PATH]"),function(X){-1<X.getAttribute("clip-path").indexOf(j.element.id)&&X.removeAttribute("clip-path")}),A.clipPath=j.destroy()}if(A.stops){for(T=0;T<A.stops.length;T++)A.stops[T].destroy();A.stops.length=0,A.stops=void 0}for(A.safeRemoveChild(B),m.styledMode||A.destroyShadows();R&&R.div&&0===R.div.childNodes.length;)B=R.parentGroup,A.safeRemoveChild(R.div),delete R.div,R=B;A.alignTo&&M(m.alignedObjects,A),u(A,function(X,$){A[$]&&A[$].parentGroup===A&&A[$].destroy&&A[$].destroy(),delete A[$]})},_.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(A){this.safeRemoveChild(A)},this),this.shadows=void 0},_.prototype.destroyTextPath=function(A,B){var m=A.getElementsByTagName("text")[0];if(m){if(m.removeAttribute("dx"),m.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&m.getElementsByTagName("textPath").length){for(A=this.textPathWrapper.element.childNodes;A.length;)m.appendChild(A[0]);m.removeChild(this.textPathWrapper.element)}}else(A.getAttribute("dx")||A.getAttribute("dy"))&&(A.removeAttribute("dx"),A.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},_.prototype.dSetter=function(A,B,m){h(A)&&("string"==typeof A[0]&&(A=this.renderer.pathToSegments(A)),this.pathArray=A,A=A.reduce(function(T,R,j){return R&&R.join?(j?T+" ":"")+R.join(" "):(R||"").toString()},"")),/(NaN| {2}|^$)/.test(A)&&(A="M 0 0"),this[B]!==A&&(m.setAttribute(B,A),this[B]=A)},_.prototype.fadeOut=function(A){var B=this;B.animate({opacity:0},{duration:c(A,150),complete:function(){B.attr({y:-9999}).hide()}})},_.prototype.fillSetter=function(A,B,m){"string"==typeof A?m.setAttribute(B,A):A&&this.complexColor(A,B,m)},_.prototype.getBBox=function(A,B){var m=this.renderer,T=this.element,R=this.styles,j=this.textStr,X=m.cache,$=m.cacheKeys,D=T.namespaceURI===this.SVG_NS;B=c(B,this.rotation,0);var N,U=m.styledMode?T&&_.prototype.getStyle.call(T,"font-size"):R&&R.fontSize;if(x(j)){var Z=j.toString();-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",B,U,this.textWidth,R&&R.textOverflow,R&&R.fontWeight].join()}if(Z&&!A&&(N=X[Z]),!N){if(D||m.forExport){try{var q=this.fakeTS&&function(nt){var it=T.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};n(q)&&q("none"),N=T.getBBox?p({},T.getBBox()):{width:T.offsetWidth,height:T.offsetHeight},n(q)&&q("")}catch(nt){}(!N||0>N.width)&&(N={width:0,height:0})}else N=this.htmlGetBBox();if(m.isSVG&&(A=N.width,m=N.height,D&&(N.height=m={"11px,17":14,"13px,20":16}[(U||"")+","+Math.round(m)]||m),B&&(D=B*P,N.width=Math.abs(m*Math.sin(D))+Math.abs(A*Math.cos(D)),N.height=Math.abs(m*Math.cos(D))+Math.abs(A*Math.sin(D)))),Z&&(""===j||0<N.height)){for(;250<$.length;)delete X[$.shift()];X[Z]||$.push(Z),X[Z]=N}}return N},_.prototype.getStyle=function(A){return g.getComputedStyle(this.element||this,"").getPropertyValue(A)},_.prototype.hasClass=function(A){return-1!==(""+this.attr("class")).split(" ").indexOf(A)},_.prototype.hide=function(A){return this.attr(A?{y:-9999}:{visibility:"hidden"}),this},_.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},_.prototype.init=function(A,B){this.element="span"===B?f(B):w.createElementNS(this.SVG_NS,B),this.renderer=A,a(this,"afterInit")},_.prototype.invert=function(A){return this.inverted=A,this.updateTransform(),this},_.prototype.on=function(A,B){var m=this.onEvents;return m[A]&&m[A](),m[A]=v(this.element,A,B),this},_.prototype.opacitySetter=function(A,B,m){this.opacity=A=Number(Number(A).toFixed(3)),m.setAttribute(B,A)},_.prototype.removeClass=function(A){return this.attr("class",(""+this.attr("class")).replace(o(A)?new RegExp("(^| )"+A+"( |$)"):A," ").replace(/ +/g," ").trim())},_.prototype.removeTextOutline=function(){var A=this.element.querySelector("tspan.highcharts-text-outline");A&&this.safeRemoveChild(A)},_.prototype.safeRemoveChild=function(A){var B=A.parentNode;B&&B.removeChild(A)},_.prototype.setRadialReference=function(A){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=A,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(A,B.radAttr)),this},_.prototype.setTextPath=function(A,B){var m=this.element,T=this.text?this.text.element:m,R={textAnchor:"text-anchor"},j=!1,X=this.textPathWrapper,$=!X;B=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var D=K.filterUserAttributes(B.attributes);if(A&&B&&B.enabled){X&&null===X.element.parentNode?($=!0,X=X.destroy()):X&&this.removeTextOutline.call(X.parentGroup),this.options&&this.options.padding&&(D.dx=-this.options.padding),X||(this.textPathWrapper=X=this.renderer.createElement("textPath"),j=!0);var U=X.element;if((B=A.element.getAttribute("id"))||A.element.setAttribute("id",B=k()),$)for(T.setAttribute("y",0),d(D.dx)&&T.setAttribute("x",-D.dx),A=[].slice.call(T.childNodes),$=0;$<A.length;$++){var N=A[$];N.nodeType!==g.Node.TEXT_NODE&&"tspan"!==N.nodeName||U.appendChild(N)}j&&X&&X.add({element:T}),U.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),x(D.dy)&&(U.parentNode.setAttribute("dy",D.dy),delete D.dy),x(D.dx)&&(U.parentNode.setAttribute("dx",D.dx),delete D.dx),u(D,function(Z,q){U.setAttribute(R[q]||q,Z)}),m.removeAttribute("transform"),this.removeTextOutline.call(X),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=E}else X&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(m,A),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},_.prototype.shadow=function(A,B,m){var D,T=[],R=this.element,j=this.oldShadowOptions,X={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},$=!1;if(!0===A?D=X:"object"==typeof A&&(D=p(X,A)),D&&(D&&j&&u(D,function(nt,it){nt!==j[it]&&($=!0)}),$&&this.destroyShadows(),this.oldShadowOptions=D),D){if(!this.shadows){var U=D.opacity/D.width,N=this.parentInverted?"translate("+D.offsetY+", "+D.offsetX+")":"translate("+D.offsetX+", "+D.offsetY+")";for(X=1;X<=D.width;X++){var Z=R.cloneNode(!1),q=2*D.width+1-2*X;S(Z,{stroke:A.color||"#000000","stroke-opacity":U*X,"stroke-width":q,transform:N,fill:"none"}),Z.setAttribute("class",(Z.getAttribute("class")||"")+" highcharts-shadow"),m&&(S(Z,"height",Math.max(S(Z,"height")-q,0)),Z.cutHeight=q),B?B.element.appendChild(Z):R.parentNode&&R.parentNode.insertBefore(Z,R),T.push(Z)}this.shadows=T}}else this.destroyShadows();return this},_.prototype.show=function(A){return this.attr({visibility:A?"inherit":"visible"})},_.prototype.strokeSetter=function(A,B,m){this[B]=A,this.stroke&&this["stroke-width"]?(_.prototype.fillSetter.call(this,this.stroke,"stroke",m),m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===A&&this.hasStroke?(m.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(m.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},_.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var A=this.getStyle("stroke-width"),B=0;if(A.indexOf("px")===A.length-2)B=b(A);else if(""!==A){var m=w.createElementNS(l,"rect");S(m,{width:A,"stroke-width":0}),this.element.parentNode.appendChild(m),B=m.getBBox().width,m.parentNode.removeChild(m)}return B},_.prototype.symbolAttr=function(A){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(m){B[m]=c(A[m],B[m])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},_.prototype.textSetter=function(A){A!==this.textStr&&(delete this.textPxLength,this.textStr=A,this.added&&this.renderer.buildText(this))},_.prototype.titleSetter=function(A){var B=this.element,m=B.getElementsByTagName("title")[0]||w.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(m,B.firstChild):B.appendChild(m),m.textContent=String(c(A,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},_.prototype.toFront=function(){var A=this.element;return A.parentNode.appendChild(A),this},_.prototype.translate=function(A,B){return this.attr({translateX:A,translateY:B})},_.prototype.updateShadows=function(A,B,m){var T=this.shadows;if(T)for(var R=T.length;R--;)m.call(T[R],"height"===A?Math.max(B-(T[R].cutHeight||0),0):"d"===A?this.d:B,A,T[R])},_.prototype.updateTransform=function(){var A=this.scaleX,B=this.scaleY,m=this.inverted,T=this.rotation,R=this.matrix,j=this.element,X=this.translateX||0,$=this.translateY||0;m&&(X+=this.width,$+=this.height),X=["translate("+X+","+$+")"],x(R)&&X.push("matrix("+R.join(",")+")"),m?X.push("rotate(90) scale(-1,1)"):T&&X.push("rotate("+T+" "+c(this.rotationOriginX,j.getAttribute("x"),0)+" "+c(this.rotationOriginY,j.getAttribute("y")||0)+")"),(x(A)||x(B))&&X.push("scale("+c(A,1)+" "+c(B,1)+")"),X.length&&j.setAttribute("transform",X.join(" "))},_.prototype.visibilitySetter=function(A,B,m){"inherit"===A?m.removeAttribute(B):this[B]!==A&&m.setAttribute(B,A),this[B]=A},_.prototype.xGetter=function(A){return"circle"===this.element.nodeName&&("x"===A?A="cx":"y"===A&&(A="cy")),this._defaultGetter(A)},_.prototype.zIndexSetter=function(A,B){var m=this.renderer,T=this.parentGroup,R=(T||m).element||m.box,j=this.element;m=R===m.box;var D,X=!1,$=this.added;if(x(A)?(j.setAttribute("data-z-index",A),this[B]===(A=+A)&&($=!1)):x(this[B])&&j.removeAttribute("data-z-index"),this[B]=A,$){for((A=this.zIndex)&&T&&(T.handleZ=!0),D=(B=R.childNodes).length-1;0<=D&&!X;D--){$=(T=B[D]).getAttribute("data-z-index");var U=!x($);T!==j&&(0>A&&U&&!m&&!D?(R.insertBefore(j,B[D]),X=!0):(b($)<=A||U&&(!x(A)||0<=A))&&(R.insertBefore(j,B[D+1]||null),X=!0))}X||(R.insertBefore(j,B[m?3:0]||null),X=!0)}return X},_}(),H.prototype["stroke-widthSetter"]=H.prototype.strokeSetter,H.prototype.yGetter=H.prototype.xGetter,H.prototype.matrixSetter=H.prototype.rotationOriginXSetter=H.prototype.rotationOriginYSetter=H.prototype.rotationSetter=H.prototype.scaleXSetter=H.prototype.scaleYSetter=H.prototype.translateXSetter=H.prototype.translateYSetter=H.prototype.verticalAlignSetter=function(_,A){this[A]=_,this.doTransform=!0},H}),lt(F,"Core/Renderer/RendererRegistry.js",[F["Core/Globals.js"]],function(H){var K,V,Q;return(V=K||(K={})).rendererTypes={},V.getRendererType=function(W){return void 0===W&&(W=Q),V.rendererTypes[W]||V.rendererTypes[Q]},V.registerRendererType=function(W,Y,z){V.rendererTypes[W]=Y,(!Q||z)&&(Q=W,H.Renderer=Y)},K}),lt(F,"Core/Renderer/SVG/SVGLabel.js",[F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K){var w,V=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Q=K.defined,W=K.extend,Y=K.isNumber,z=K.merge,I=K.pick,P=K.removeEvent;return function(w){function E(s,l,g,v,S,f,C,x,M,p){var h,a=w.call(this)||this;return a.paddingLeftSetter=a.paddingSetter,a.paddingRightSetter=a.paddingSetter,a.init(s,"g"),a.textStr=l,a.x=g,a.y=v,a.anchorX=f,a.anchorY=C,a.baseline=M,a.className=p,a.addClass("button"===p?"highcharts-no-tooltip":"highcharts-label"),p&&a.addClass("highcharts-"+p),a.text=s.text(void 0,0,0,x).attr({zIndex:1}),"string"==typeof S&&((h=/^url\((.*?)\)$/.test(S))||a.renderer.symbols[S])&&(a.symbolKey=S),a.bBox=E.emptyBBox,a.padding=3,a.baselineOffset=0,a.needsBox=s.styledMode||h,a.deferredAttr={},a.alignFactor=0,a}return V(E,w),E.prototype.alignSetter=function(s){(s={left:0,center:.5,right:1}[s])!==this.alignFactor&&(this.alignFactor=s,this.bBox&&Y(this.xSetting)&&this.attr({x:this.xSetting}))},E.prototype.anchorXSetter=function(s,l){this.anchorX=s,this.boxAttr(l,Math.round(s)-this.getCrispAdjust()-this.xSetting)},E.prototype.anchorYSetter=function(s,l){this.anchorY=s,this.boxAttr(l,s-this.ySetting)},E.prototype.boxAttr=function(s,l){this.box?this.box.attr(s,l):this.deferredAttr[s]=l},E.prototype.css=function(s){if(s){var l={};s=z(s),E.textProps.forEach(function(v){void 0!==s[v]&&(l[v]=s[v],delete s[v])}),this.text.css(l);var g="width"in l;"fontSize"in l||"fontWeight"in l?this.updateTextPadding():g&&this.updateBoxSize()}return H.prototype.css.call(this,s)},E.prototype.destroy=function(){P(this.element,"mouseenter"),P(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),H.prototype.destroy.call(this)},E.prototype.fillSetter=function(s,l){s&&(this.needsBox=!0),this.fill=s,this.boxAttr(l,s)},E.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var s=this.padding,l=I(this.paddingLeft,s);return{width:this.width,height:this.height,x:this.bBox.x-l,y:this.bBox.y-s}},E.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},E.prototype.heightSetter=function(s){this.heightSetting=s},E.prototype.onAdd=function(){var s=this.textStr;this.text.add(this),this.attr({text:Q(s)?s:"",x:this.x,y:this.y}),this.box&&Q(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},E.prototype.paddingSetter=function(s,l){Y(s)?s!==this[l]&&(this[l]=s,this.updateTextPadding()):this[l]=void 0},E.prototype.rSetter=function(s,l){this.boxAttr(l,s)},E.prototype.shadow=function(s){return s&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(s)),this},E.prototype.strokeSetter=function(s,l){this.stroke=s,this.boxAttr(l,s)},E.prototype["stroke-widthSetter"]=function(s,l){s&&(this.needsBox=!0),this["stroke-width"]=s,this.boxAttr(l,s)},E.prototype["text-alignSetter"]=function(s){this.textAlign=s},E.prototype.textSetter=function(s){void 0!==s&&this.text.attr({text:s}),this.updateTextPadding()},E.prototype.updateBoxSize=function(){var s=this.text.element.style,l={},g=this.padding,v=this.bBox=Y(this.widthSetting)&&Y(this.heightSetting)&&!this.textAlign||!Q(this.text.textStr)?E.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||v.height||0)+2*g,s=this.renderer.fontMetrics(s&&s.fontSize,this.text),this.baselineOffset=g+Math.min((this.text.firstLineMetrics||s).b,v.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-s.h)/2),this.needsBox&&(this.box||((g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)),g=this.getCrispAdjust(),l.x=g,l.y=(this.baseline?-this.baselineOffset:0)+g,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(W(l,this.deferredAttr)),this.deferredAttr={})},E.prototype.updateTextPadding=function(){var s=this.text;this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,g=I(this.paddingLeft,this.padding);Q(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(g+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(g!==s.x||l!==s.y)&&(s.attr("x",g),s.hasBoxWidthChanged&&(this.bBox=s.getBBox(!0)),void 0!==l&&s.attr("y",l)),s.x=g,s.y=l},E.prototype.widthSetter=function(s){this.widthSetting=Y(s)?s:void 0},E.prototype.getPaddedWidth=function(){var s=this.padding,l=I(this.paddingLeft,s);return s=I(this.paddingRight,s),(this.widthSetting||this.bBox.width||0)+l+s},E.prototype.xSetter=function(s){this.x=s,this.alignFactor&&(s-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(s),this.attr("translateX",this.xSetting)},E.prototype.ySetter=function(s){this.ySetting=this.y=Math.round(s),this.attr("translateY",this.ySetting)},E.emptyBBox={width:0,height:0,x:0,y:0},E.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),E}(H)}),lt(F,"Core/Renderer/SVG/Symbols.js",[F["Core/Utilities.js"]],function(H){function K(I,P,w,E,s){var l=[];if(s){var g=s.start||0,v=z(s.r,w);w=z(s.r,E||w);var S=(s.end||0)-.001;E=s.innerR;var f=z(s.open,.001>Math.abs((s.end||0)-g-2*Math.PI)),C=Math.cos(g),x=Math.sin(g),M=Math.cos(S),p=Math.sin(S);g=z(s.longArc,.001>S-g-Math.PI?0:1),l.push(["M",I+v*C,P+w*x],["A",v,w,0,g,z(s.clockwise,1),I+v*M,P+w*p]),W(E)&&l.push(f?["M",I+E*M,P+E*p]:["L",I+E*M,P+E*p],["A",E,E,0,g,W(s.clockwise)?1-s.clockwise:0,I+E*C,P+E*x]),f||l.push(["Z"])}return l}function V(I,P,w,E,s){return s&&s.r?Q(I,P,w,E,s):[["M",I,P],["L",I+w,P],["L",I+w,P+E],["L",I,P+E],["Z"]]}function Q(I,P,w,E,s){return[["M",I+(s=s&&s.r||0),P],["L",I+w-s,P],["C",I+w,P,I+w,P,I+w,P+s],["L",I+w,P+E-s],["C",I+w,P+E,I+w,P+E,I+w-s,P+E],["L",I+s,P+E],["C",I,P+E,I,P+E,I,P+E-s],["L",I,P+s],["C",I,P,I,P,I+s,P]]}var W=H.defined,Y=H.isNumber,z=H.pick;return{arc:K,callout:function(I,P,w,E,s){var l=Math.min(s&&s.r||0,w,E),g=l+6,v=s&&s.anchorX;s=s&&s.anchorY||0;var S=Q(I,P,w,E,{r:l});return Y(v)&&(I+v>=w?s>P+g&&s<P+E-g?S.splice(3,1,["L",I+w,s-6],["L",I+w+6,s],["L",I+w,s+6],["L",I+w,P+E-l]):S.splice(3,1,["L",I+w,E/2],["L",v,s],["L",I+w,E/2],["L",I+w,P+E-l]):0>=I+v?s>P+g&&s<P+E-g?S.splice(7,1,["L",I,s+6],["L",I-6,s],["L",I,s-6],["L",I,P+l]):S.splice(7,1,["L",I,E/2],["L",v,s],["L",I,E/2],["L",I,P+l]):s&&s>E&&v>I+g&&v<I+w-g?S.splice(5,1,["L",v+6,P+E],["L",v,P+E+6],["L",v-6,P+E],["L",I+l,P+E]):s&&0>s&&v>I+g&&v<I+w-g&&S.splice(1,1,["L",v-6,P],["L",v,P-6],["L",v+6,P],["L",w-l,P])),S},circle:function(I,P,w,E){return K(I+w/2,P+E/2,w/2,E/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E/2],["L",I+w/2,P+E],["L",I,P+E/2],["Z"]]},rect:V,roundedRect:Q,square:V,triangle:function(I,P,w,E){return[["M",I+w/2,P],["L",I+w,P+E],["L",I,P+E],["Z"]]},"triangle-down":function(I,P,w,E){return[["M",I,P],["L",I+w,P],["L",I+w/2,P+E],["Z"]]}}}),lt(F,"Core/Renderer/SVG/TextBuilder.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.doc,W=K.SVG_NS,Y=K.win,z=V.attr,I=V.isString,P=V.objectEach,w=V.pick;return function(){function E(s){var l=s.styles;this.renderer=s.renderer,this.svgElement=s,this.width=s.textWidth,this.textLineHeight=l&&l.lineHeight,this.textOutline=l&&l.textOutline,this.ellipsis=!(!l||"ellipsis"!==l.textOverflow),this.noWrap=!(!l||"nowrap"!==l.whiteSpace),this.fontSize=l&&l.fontSize}return E.prototype.buildSVG=function(){var s=this.svgElement,l=s.element,g=s.renderer,v=w(s.textStr,"").toString(),S=-1!==v.indexOf("<"),f=l.childNodes;g=this.width&&!s.added&&g.box;var x=[v,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(x!==s.textCache){for(s.textCache=x,delete s.actualWidth,x=f.length;x--;)l.removeChild(f[x]);S||this.ellipsis||this.width||-1!==v.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(v))?""!==v&&(g&&g.appendChild(l),v=new H(v),this.modifyTree(v.nodes),v.addToDOM(s.element),this.modifyDOM(),this.ellipsis&&-1!==(l.textContent||"").indexOf("\u2026")&&s.attr("title",this.unescapeEntities(s.textStr||"",["&lt;","&gt;"])),g&&g.removeChild(l)):l.appendChild(Q.createTextNode(this.unescapeEntities(v))),I(this.textOutline)&&s.applyTextOutline&&s.applyTextOutline(this.textOutline)}},E.prototype.modifyDOM=function(){var v,s=this,l=this.svgElement,g=z(l.element,"x");for(l.firstLineMetrics=void 0;(v=l.element.firstChild)&&/^[\s\u200B]*$/.test(v.textContent||" ");)l.element.removeChild(v);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),function(x,M){x.nextSibling&&x.previousSibling&&(0===M&&1===x.previousSibling.nodeType&&(l.firstLineMetrics=l.renderer.fontMetrics(void 0,x.previousSibling)),z(x,{dy:s.getLineHeight(x.nextSibling),x:g}))});var S=this.width||0;if(S){var C=function(x){[].slice.call(x.childNodes).forEach(function(M){M.nodeType===Y.Node.TEXT_NODE?function(x,M){var p=x.textContent||"",a=p.replace(/([^\^])-/g,"$1- ").split(" "),h=!s.noWrap&&(1<a.length||1<l.element.childNodes.length),n=s.getLineHeight(M),d=0,o=l.actualWidth;if(s.ellipsis)p&&s.truncate(x,p,void 0,0,Math.max(0,S-parseInt(s.fontSize||12,10)),function(r,u){return r.substring(0,u)+"\u2026"});else if(h){for(p=[],h=[];M.firstChild&&M.firstChild!==x;)h.push(M.firstChild),M.removeChild(M.firstChild);for(;a.length;)a.length&&!s.noWrap&&0<d&&(p.push(x.textContent||""),x.textContent=a.join(" ").replace(/- /g,"-")),s.truncate(x,void 0,a,0===d&&o||0,S,function(r,u){return a.slice(0,u).join(" ").replace(/- /g,"-")}),o=l.actualWidth,d++;h.forEach(function(r){M.insertBefore(r,x)}),p.forEach(function(r){M.insertBefore(Q.createTextNode(r),x),(r=Q.createElementNS(W,"tspan")).textContent="\u200b",z(r,{dy:n,x:g}),M.insertBefore(r,x)})}}(M,x):(-1!==M.className.baseVal.indexOf("highcharts-br")&&(l.actualWidth=0),C(M))})};C(l.element)}},E.prototype.getLineHeight=function(s){var l;return s=s.nodeType===Y.Node.TEXT_NODE?s.parentElement:s,this.renderer.styledMode||(l=s&&/(px|em)$/.test(s.style.fontSize)?s.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l,s||this.svgElement.element).h},E.prototype.modifyTree=function(s){var l=this,g=function(v,S){var f=v.attributes;f=void 0===f?{}:f;var C=v.children,x=v.tagName,M=l.renderer.styledMode;"b"===x||"strong"===x?M?f.class="highcharts-strong":f.style="font-weight:bold;"+(f.style||""):("i"===x||"em"===x)&&(M?f.class="highcharts-emphasized":f.style="font-style:italic;"+(f.style||"")),I(f.style)&&(f.style=f.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===x?(f.class="highcharts-br",v.textContent="\u200b",(S=s[S+1])&&S.textContent&&(S.textContent=S.textContent.replace(/^ +/gm,""))):"a"===x&&C&&C.some(function(p){return"#text"===p.tagName})&&(v.children=[{children:C,tagName:"tspan"}]),"#text"!==x&&"a"!==x&&(v.tagName="tspan"),v.attributes=f,C&&C.filter(function(p){return"#text"!==p.tagName}).forEach(g)};s.forEach(g)},E.prototype.truncate=function(s,l,g,v,S,f){var d,C=this.svgElement,x=C.renderer,M=C.rotation,p=[],a=g?1:0,h=(l||g||"").length,n=h,o=function(u,c){c=c||u;var b=s.parentNode;if(b&&void 0===p[c])if(b.getSubStringLength)try{p[c]=v+b.getSubStringLength(0,g?c+1:c)}catch(O){}else x.getSpanWidth&&(s.textContent=f(l||g,u),p[c]=v+x.getSpanWidth(C,s));return p[c]};C.rotation=0;var r=o(s.textContent.length);if(v+r>S){for(;a<=h;)n=Math.ceil((a+h)/2),g&&(d=f(g,n)),r=o(n,d&&d.length-1),a===h?a=h+1:r>S?h=n-1:a=n;0===h?s.textContent="":l&&h===l.length-1||(s.textContent=d||f(l||g,n))}g&&g.splice(0,n),C.actualWidth=r,C.rotation=M},E.prototype.unescapeEntities=function(s,l){return P(this.renderer.escapes,function(g,v){l&&-1!==l.indexOf(g)||(s=s.toString().replace(new RegExp(g,"g"),v))}),s},E}()}),lt(F,"Core/Renderer/SVG/SVGRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGLabel.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Renderer/SVG/TextBuilder.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var B,w=V.charts,E=V.deg2rad,s=V.doc,l=V.isFirefox,g=V.isMS,v=V.isWebKit,S=V.noop,f=V.SVG_NS,C=V.symbolSizes,x=V.win,M=P.addEvent,p=P.attr,a=P.createElement,h=P.css,n=P.defined,d=P.destroyObjectProperties,o=P.extend,r=P.isArray,u=P.isNumber,c=P.isObject,b=P.isString,O=P.merge,k=P.pick,_=P.pInt,A=P.uniqueKey;return V=function(){function m(T,R,j,X,$,D,U){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(T,R,j,X,$,D,U)}return m.prototype.init=function(T,R,j,X,$,D,U){var q,N=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=N.element;U||N.css(this.getStyle(X)),T.appendChild(Z),p(T,"dir","ltr"),-1===T.innerHTML.indexOf("xmlns")&&p(Z,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Z,this.boxWrapper=N,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(s.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=D,this.forExport=$,this.styledMode=U,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(R,j,!1),l&&T.getBoundingClientRect&&((R=function(){h(T,{left:0,top:0}),q=T.getBoundingClientRect(),h(T,{left:Math.ceil(q.left)-q.left+"px",top:Math.ceil(q.top)-q.top+"px"})})(),this.unSubPixelFix=M(x,"resize",R))},m.prototype.definition=function(T){return new H([T]).addToDOM(this.defs.element)},m.prototype.getReferenceURL=function(){if((l||v)&&s.getElementsByTagName("base").length){if(!n(B)){var T=A();T=new H([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:T},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+T+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(s.body),h(T,{position:"fixed",top:0,left:0,zIndex:9e5});var R=s.elementFromPoint(6,6);B="hitme"===(R&&R.id),s.body.removeChild(T)}if(B)return x.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},m.prototype.getStyle=function(T){return this.style=o({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},T)},m.prototype.setStyle=function(T){this.boxWrapper.css(this.getStyle(T))},m.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},m.prototype.destroy=function(){var T=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,T&&(this.defs=T.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},m.prototype.createElement=function(T){var R=new this.Element;return R.init(this,T),R},m.prototype.getRadialAttr=function(T,R){return{cx:T[0]-T[2]/2+(R.cx||0)*T[2],cy:T[1]-T[2]/2+(R.cy||0)*T[2],r:(R.r||0)*T[2]}},m.prototype.buildText=function(T){new I(T).buildSVG()},m.prototype.getContrast=function(T){return(T=K.parse(T).rgba)[0]*=1,T[1]*=1.2,T[2]*=.5,459<T[0]+T[1]+T[2]?"#000000":"#FFFFFF"},m.prototype.button=function(T,R,j,X,$,D,U,N,Z,q){var nt=this.label(T,R,j,Z,void 0,void 0,q,void 0,"button"),it=this.styledMode,ot=0,at=$?O($):{};if(T=at&&at.style||{},at=H.filterUserAttributes(at),nt.attr(O({padding:8,r:2},at)),!it){var mt=(at=O({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:T},at)).style;delete at.style;var yt=(D=O(at,{fill:"#e6e6e6"},H.filterUserAttributes(D||{}))).style;delete D.style;var vt=(U=O(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},H.filterUserAttributes(U||{}))).style;delete U.style;var pt=(N=O(at,{style:{color:"#cccccc"}},H.filterUserAttributes(N||{}))).style;delete N.style}return M(nt.element,g?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),M(nt.element,g?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,D,U,N][ct||0]).css([mt,yt,vt,pt][ct||0])},it||nt.attr(at).css(o({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&X.call(nt,ct)})},m.prototype.crispLine=function(T,R,j){void 0===j&&(j="round");var X=T[0],$=T[1];return n(X[1])&&X[1]===$[1]&&(X[1]=$[1]=Math[j](X[1])-R%2/2),n(X[2])&&X[2]===$[2]&&(X[2]=$[2]=Math[j](X[2])+R%2/2),T},m.prototype.path=function(T){var R=this.styledMode?{}:{fill:"none"};return r(T)?R.d=T:c(T)&&o(R,T),this.createElement("path").attr(R)},m.prototype.circle=function(T,R,j){return T=c(T)?T:void 0===T?{}:{x:T,y:R,r:j},(R=this.createElement("circle")).xSetter=R.ySetter=function(X,$,D){D.setAttribute("c"+$,X)},R.attr(T)},m.prototype.arc=function(T,R,j,X,$,D){return c(T)?(R=(X=T).y,j=X.r,T=X.x):X={innerR:X,start:$,end:D},(T=this.symbol("arc",T,R,j,j,X)).r=j,T},m.prototype.rect=function(T,R,j,X,$,D){$=c(T)?T.r:$;var U=this.createElement("rect");return T=c(T)?T:void 0===T?{}:{x:T,y:R,width:Math.max(j,0),height:Math.max(X,0)},this.styledMode||(void 0!==D&&(T["stroke-width"]=D,T=U.crisp(T)),T.fill="none"),$&&(T.r=$),U.rSetter=function(N,Z,q){U.r=N,p(q,{rx:N,ry:N})},U.rGetter=function(){return U.r||0},U.attr(T)},m.prototype.setSize=function(T,R,j){this.width=T,this.height=R,this.boxWrapper.animate({width:T,height:R},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:k(j,!0)?void 0:0}),this.alignElements()},m.prototype.g=function(T){var R=this.createElement("g");return T?R.attr({class:"highcharts-"+T}):R},m.prototype.image=function(T,R,j,X,$,D){var U={preserveAspectRatio:"none"},N=function(q,nt){q.setAttributeNS?q.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):q.setAttribute("hc-svg-href",nt)};u(R)&&(U.x=R),u(j)&&(U.y=j),u(X)&&(U.width=X),u($)&&(U.height=$);var Z=this.createElement("image").attr(U);return R=function(q){N(Z.element,T),D.call(Z,q)},D?(N(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new x.Image,M(j,"load",R),j.src=T,j.complete&&R({})):N(Z.element,T),Z},m.prototype.symbol=function(T,R,j,X,$,D){var it,U=this,N=/^url\((.*?)\)$/,Z=N.test(T),q=!Z&&(this.symbols[T]?T:"circle"),nt=q&&this.symbols[q];if(nt){"number"==typeof R&&(it=nt.call(this.symbols,Math.round(R||0),Math.round(j||0),X||0,$||0,D));var ot=this.path(it);U.styledMode||ot.attr("fill","none"),o(ot,{symbolName:q||void 0,x:R,y:j,width:X,height:$}),D&&o(ot,D)}else if(Z){var at=T.match(N)[1],mt=ot=this.image(at);mt.imgwidth=k(C[at]&&C[at].width,D&&D.width),mt.imgheight=k(C[at]&&C[at].height,D&&D.height);var yt=function(vt){return vt.attr({width:vt.width,height:vt.height})};["width","height"].forEach(function(vt){mt[vt+"Setter"]=function(pt,ct){var J=this["img"+ct];this[ct]=pt,n(J)&&(D&&"within"===D.backgroundSize&&this.width&&this.height&&(J=Math.round(J*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,J),this.alignByTranslate||(pt=((this[ct]||0)-J)/2,this.attr("width"===ct?{translateX:pt}:{translateY:pt})))}}),n(R)&&mt.attr({x:R,y:j}),mt.isImg=!0,n(mt.imgwidth)&&n(mt.imgheight)?yt(mt):(mt.attr({width:0,height:0}),a("img",{onload:function(){var vt=w[U.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),s.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&yt(mt),this.parentNode&&this.parentNode.removeChild(this),U.imgCount--,!U.imgCount&&vt&&!vt.hasLoaded&&vt.onload()},src:at}),this.imgCount++)}return ot},m.prototype.clipRect=function(T,R,j,X){var $=A()+"-",D=this.createElement("clipPath").attr({id:$}).add(this.defs);return(T=this.rect(T,R,j,X,0).add(D)).id=$,T.clipPath=D,T.count=0,T},m.prototype.text=function(T,R,j,X){var $={};return!X||!this.allowHTML&&this.forExport?($.x=Math.round(R||0),j&&($.y=Math.round(j)),n(T)&&($.text=T),T=this.createElement("text").attr($),(!X||this.forExport&&!this.allowHTML)&&(T.xSetter=function(D,U,N){for(var it,Z=N.getElementsByTagName("tspan"),q=N.getAttribute(U),nt=0;nt<Z.length;nt++)(it=Z[nt]).getAttribute(U)===q&&it.setAttribute(U,D);N.setAttribute(U,D)}),T):this.html(T,R,j)},m.prototype.fontMetrics=function(T,R){return T=!this.styledMode&&/px/.test(T)||!x.getComputedStyle?T||R&&R.style&&R.style.fontSize||this.style&&this.style.fontSize:R&&W.prototype.getStyle.call(R,"font-size"),{h:R=24>(T=/px/.test(T)?_(T):12)?T+3:Math.round(1.2*T),b:Math.round(.8*R),f:T}},m.prototype.rotCorr=function(T,R,j){var X=T;return R&&j&&(X=Math.max(X*Math.cos(R*E),4)),{x:-T/3*Math.sin(R*E),y:X}},m.prototype.pathToSegments=function(T){for(var R=[],j=[],X={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},$=0;$<T.length;$++)b(j[0])&&u(T[$])&&j.length===X[j[0].toUpperCase()]&&T.splice($,0,j[0].replace("M","L").replace("m","l")),"string"==typeof T[$]&&(j.length&&R.push(j.slice(0)),j.length=0),j.push(T[$]);return R.push(j.slice(0)),R},m.prototype.label=function(T,R,j,X,$,D,U,N,Z){return new Y(this,T,R,j,X,$,D,U,N,Z)},m.prototype.alignElements=function(){this.alignedObjects.forEach(function(T){return T.align()})},m}(),o(V.prototype,{Element:W,SVG_NS:f,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:z,draw:S}),Q.registerRendererType("svg",V,!0),V}),lt(F,"Core/Renderer/HTML/HTMLElement.js",[F["Core/Globals.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=this&&this.__extends||(g=function(v,S){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var x in C)C.hasOwnProperty(x)&&(f[x]=C[x])})(v,S)},function(v,S){function f(){this.constructor=v}g(v,S),v.prototype=null===S?Object.create(S):(f.prototype=S.prototype,new f)}),W=H.isFirefox,Y=H.isMS,z=H.isWebKit,I=H.win,P=V.css,w=V.defined,E=V.extend,s=V.pick,l=V.pInt;return function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return Q(v,g),v.compose=function(S){if(-1===v.composedClasses.indexOf(S)){v.composedClasses.push(S);var f=v.prototype,C=S.prototype;C.getSpanCorrection=f.getSpanCorrection,C.htmlCss=f.htmlCss,C.htmlGetBBox=f.htmlGetBBox,C.htmlUpdateTransform=f.htmlUpdateTransform,C.setSpanRotation=f.setSpanRotation}return S},v.prototype.getSpanCorrection=function(S,f,C){this.xCorr=-S*C,this.yCorr=-f},v.prototype.htmlCss=function(S){var f="SPAN"===this.element.tagName&&S&&"width"in S,C=s(f&&S.width,void 0);if(f){delete S.width,this.textWidth=C;var x=!0}return S&&"ellipsis"===S.textOverflow&&(S.whiteSpace="nowrap",S.overflow="hidden"),this.styles=E(this.styles,S),P(this.element,S),x&&this.htmlUpdateTransform(),this},v.prototype.htmlGetBBox=function(){var S=this.element;return{x:S.offsetLeft,y:S.offsetTop,width:S.offsetWidth,height:S.offsetHeight}},v.prototype.htmlUpdateTransform=function(){if(this.added){var S=this.renderer,f=this.element,C=this.translateX||0,x=this.translateY||0,M=this.x||0,p=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],n=this.styles;if(n=n&&n.whiteSpace,P(f,{marginLeft:C,marginTop:x}),!S.styledMode&&this.shadows&&this.shadows.forEach(function(b){P(b,{marginLeft:C+1,marginTop:x+1})}),this.inverted&&[].forEach.call(f.childNodes,function(b){S.invertChild(b,f)}),"SPAN"===f.tagName){var d=this.rotation,o=this.textWidth&&l(this.textWidth),r=[d,a,f.innerHTML,this.textWidth,this.textAlign].join(),u=void 0;if(u=!1,o!==this.oldTextWidth){if(this.textPxLength)var c=this.textPxLength;else P(f,{width:"",whiteSpace:n||"nowrap"}),c=f.offsetWidth;(o>this.oldTextWidth||c>o)&&(/[ \-]/.test(f.textContent||f.innerText)||"ellipsis"===f.style.textOverflow)&&(P(f,{width:c>o||d?o+"px":"auto",display:"block",whiteSpace:n||"normal"}),this.oldTextWidth=o,u=!0)}this.hasBoxWidthChanged=u,r!==this.cTT&&(u=S.fontMetrics(f.style.fontSize,f).b,!w(d)||d===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(d,h,u),this.getSpanCorrection(!w(d)&&this.textPxLength||f.offsetWidth,u,h,d,a)),P(f,{left:M+(this.xCorr||0)+"px",top:p+(this.yCorr||0)+"px"}),this.cTT=r,this.oldRotation=d,this.oldAlign=a}}else this.alignOnAdd=!0},v.prototype.setSpanRotation=function(S,f,C){var x={},M=Y&&!/Edge/.test(I.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":W?"MozTransform":I.opera?"-o-transform":void 0;M&&(x[M]=x.transform="rotate("+S+"deg)",x[M+(W?"Origin":"-origin")]=x.transformOrigin=100*f+"% "+C+"px",P(this.element,x))},v.composedClasses=[],v}(K)}),lt(F,"Core/Renderer/HTML/HTMLRenderer.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var w,W=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),Y=Q.attr,z=Q.createElement,I=Q.extend,P=Q.pick;return function(w){function E(){return null!==w&&w.apply(this,arguments)||this}return W(E,w),E.compose=function(s){return-1===E.composedClasses.indexOf(s)&&(E.composedClasses.push(s),s.prototype.html=E.prototype.html),s},E.prototype.html=function(s,l,g){var v=this.createElement("span"),S=v.element,f=v.renderer,C=f.isSVG,x=function(M,p){["opacity","visibility"].forEach(function(a){M[a+"Setter"]=function(h,n,d){var o=M.div?M.div.style:p;K.prototype[a+"Setter"].call(this,h,n,d),o&&(o[n]=h)}}),M.addedSetters=!0};return v.textSetter=function(M){M!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,H.setElementHTML(this.element,P(M,"")),this.textStr=M,v.doTransform=!0)},C&&x(v,v.element.style),v.xSetter=v.ySetter=v.alignSetter=v.rotationSetter=function(M,p){"align"===p?v.alignValue=v.textAlign=M:v[p]=M,v.doTransform=!0},v.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},v.attr({text:s,x:Math.round(l),y:Math.round(g)}).css({position:"absolute"}),f.styledMode||v.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),S.style.whiteSpace="nowrap",v.css=v.htmlCss,C&&(v.add=function(M){var p=f.box.parentNode,a=[];if(this.parentGroup=M){var h=M.div;if(!h){for(;M;)a.push(M),M=M.parentGroup;a.reverse().forEach(function(n){function d(c,b){n[b]=c,"translateX"===b?u.left=c+"px":u.top=c+"px",n.doTransform=!0}var c,o=Y(n.element,"class"),r=n.styles||{},u=(h=n.div=n.div||z("div",o?{className:o}:void 0,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,cursor:r.cursor,pointerEvents:r.pointerEvents,visibility:n.visibility},h||p)).style;I(n,{classSetter:(c=h,function(b){this.element.setAttribute("class",b),c.className=b}),on:function(){return a[0].div&&v.on.apply({element:a[0].div,onEvents:n.onEvents},arguments),n},translateXSetter:d,translateYSetter:d}),n.addedSetters||x(n)})}}else h=p;return h.appendChild(S),v.added=!0,v.alignOnAdd&&v.htmlUpdateTransform(),v}),v},E.composedClasses=[],E}(V)}),lt(F,"Core/Axis/AxisDefaults.js",[],function(){var H=(()=>{return(K=H||(H={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},K.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},K.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},K.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},K.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},K.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},H;var K})();return H}),lt(F,"Core/Foundation.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.isFunction,Q=H.objectEach,W=H.removeEvent;return(Y||(Y={})).registerEventOptions=function(I,P){I.eventOptions=I.eventOptions||{},Q(P.events,function(w,E){I.eventOptions[E]!==w&&(I.eventOptions[E]&&(W(I,E,I.eventOptions[E]),delete I.eventOptions[E]),V(w)&&(I.eventOptions[E]=w,K(I,E,w)))})},Y}),lt(F,"Core/Axis/Tick.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K,V){var Q=K.deg2rad,W=V.clamp,Y=V.correctFloat,z=V.defined,I=V.destroyObjectProperties,P=V.extend,w=V.fireEvent,E=V.isNumber,s=V.merge,l=V.objectEach,g=V.pick;return function(){function v(S,f,C,x,M){this.isNewLabel=this.isNew=!0,this.axis=S,this.pos=f,this.type=C||"",this.parameters=M||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,w(this,"init"),C||x||this.addLabel()}return v.prototype.addLabel=function(){var S=this,f=S.axis,C=f.options,x=f.chart,M=f.categories,p=f.logarithmic,a=f.names,h=S.pos,n=g(S.options&&S.options.labels,C.labels),d=f.tickPositions,o=h===d[0],r=h===d[d.length-1],u=(!n.step||1===n.step)&&1===f.tickInterval;d=d.info;var b,c=S.label;if(M=this.parameters.category||(M?g(M[h],a[h],h):h),p&&E(M)&&(M=Y(p.lin2log(M))),f.dateTime)if(d)var O=x.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&d.higherRanks[h]||d.unitName]),k=O.main;else E(M)&&(k=f.dateTime.getXDateFormat(M,C.dateTimeLabelFormats||{}));S.isFirst=o,S.isLast=r;var _={axis:f,chart:x,dateTimeLabelFormat:k,isFirst:o,isLast:r,pos:h,tick:S,tickPositionInfo:d,value:M};w(this,"labelFormat",_);var A=function(m){return n.formatter?n.formatter.call(m,m):n.format?(m.text=f.defaultLabelFormatter.call(m),H.format(n.format,m,x)):f.defaultLabelFormatter.call(m,m)};C=A.call(_,_);var B=O&&O.list;S.shortenLabel=B?function(){for(b=0;b<B.length;b++)if(P(_,{dateTimeLabelFormat:B[b]}),c.attr({text:A.call(_,_)}),c.getBBox().width<f.getSlotWidth(S)-2*n.padding)return;c.attr({text:""})}:void 0,u&&f._addedPlotLB&&S.moveLabel(C,n),z(c)||S.movedLabel?c&&c.textStr!==C&&!u&&(!c.textWidth||n.style.width||c.styles.width||c.css({width:null}),c.attr({text:C}),c.textPxLength=c.getBBox().width):(S.label=c=S.createLabel({x:0,y:0},C,n),S.rotation=0)},v.prototype.createLabel=function(S,f,C){var x=this.axis,M=x.chart;return(S=z(f)&&C.enabled?M.renderer.text(f,S.x,S.y,C.useHTML).add(x.labelGroup):null)&&(M.styledMode||S.css(s(C.style)),S.textPxLength=S.getBBox().width),S},v.prototype.destroy=function(){I(this,this.axis)},v.prototype.getPosition=function(S,f,C,x){var M=this.axis,p=M.chart,a=x&&p.oldChartHeight||p.chartHeight;return(S={x:S?Y(M.translate(f+C,null,null,x)+M.transB):M.left+M.offset+(M.opposite?(x&&p.oldChartWidth||p.chartWidth)-M.right-M.left:0),y:S?a-M.bottom+M.offset-(M.opposite?M.height:0):Y(a-M.translate(f+C,null,null,x)-M.transB)}).y=W(S.y,-1e5,1e5),w(this,"afterGetPosition",{pos:S}),S},v.prototype.getLabelPosition=function(S,f,C,x,M,p,a,h){var n=this.axis,d=n.transA,o=n.isLinked&&n.linkedParent?n.linkedParent.reversed:n.reversed,r=n.staggerLines,u=n.tickRotCorr||{x:0,y:0},c=x||n.reserveSpaceDefault?0:-n.labelOffset*("center"===n.labelAlign?.5:1),b={},O=M.y;return z(O)||(O=0===n.side?C.rotation?-8:-C.getBBox().height:2===n.side?u.y+8:Math.cos(C.rotation*Q)*(u.y-C.getBBox(!1,0).height/2)),f=f+O-(p&&!x?p*d*(o?1:-1):0),r&&(C=a/(h||1)%r,n.opposite&&(C=r-C-1),f+=n.labelOffset/r*C),b.x=S=S+M.x+c+u.x-(p&&x?p*d*(o?-1:1):0),b.y=Math.round(f),w(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:p,index:a}),b},v.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},v.prototype.getMarkPath=function(S,f,C,x,M,p){return p.crispLine([["M",S,f],["L",S+(M?0:-C),f+(M?C:0)]],x)},v.prototype.handleOverflow=function(S){var f=this.axis,C=f.options.labels,x=S.x,M=f.chart.chartWidth,p=f.chart.spacing,a=g(f.labelLeft,Math.min(f.pos,p[3]));p=g(f.labelRight,Math.max(f.isRadial?0:f.pos+f.len,M-p[1]));var O,h=this.label,n=this.rotation,d={left:0,center:.5,right:1}[f.labelAlign||h.attr("align")],o=h.getBBox().width,r=f.getSlotWidth(this),u={},c=r,b=1;n||"justify"!==C.overflow?0>n&&x-d*o<a?O=Math.round(x/Math.cos(n*Q)-a):0<n&&x+d*o>p&&(O=Math.round((M-x)/Math.cos(n*Q))):(M=x+(1-d)*o,x-d*o<a?c=S.x+c*(1-d)-a:M>p&&(c=p-S.x+c*d,b=-1),(c=Math.min(r,c))<r&&"center"===f.labelAlign&&(S.x+=b*(r-c-d*(r-Math.min(o,c)))),(o>c||f.autoRotation&&(h.styles||{}).width)&&(O=c)),O&&(this.shortenLabel?this.shortenLabel():(u.width=Math.floor(O)+"px",(C.style||{}).textOverflow||(u.textOverflow="ellipsis"),h.css(u)))},v.prototype.moveLabel=function(S,f){var C=this,x=C.label,M=C.axis,p=M.reversed,a=!1;if(x&&x.textStr===S?(C.movedLabel=x,a=!0,delete C.label):l(M.ticks,function(n){a||n.isNew||n===C||!n.label||n.label.textStr!==S||(C.movedLabel=n.label,a=!0,n.labelPos=C.movedLabel.xy,delete n.label)}),!a&&(C.labelPos||x)){var h=C.labelPos||x.xy;C.movedLabel=C.createLabel({x:x=M.horiz?p?0:M.width+M.left:h.x,y:M=M.horiz?h.y:p?M.width+M.left:0},S,f),C.movedLabel&&C.movedLabel.attr({opacity:0})}},v.prototype.render=function(S,f,C){var x=this.axis,M=x.horiz,p=this.pos,a=g(this.tickmarkOffset,x.tickmarkOffset);a=(p=this.getPosition(M,p,a,f)).x,x=M&&a===x.pos+x.len||!M&&p.y===x.pos?-1:1,M=g(C,this.label&&this.label.newOpacity,1),C=g(C,1),this.isActive=!0,this.renderGridLine(f,C,x),this.renderMark(p,C,x),this.renderLabel(p,f,M,S),this.isNew=!1,w(this,"afterRender")},v.prototype.renderGridLine=function(S,f,C){var x=this.axis,M=x.options,p={},a=this.pos,h=this.type,n=g(this.tickmarkOffset,x.tickmarkOffset),d=x.chart.renderer,o=this.gridLine,r=M.gridLineWidth,u=M.gridLineColor,c=M.gridLineDashStyle;"minor"===this.type&&(r=M.minorGridLineWidth,u=M.minorGridLineColor,c=M.minorGridLineDashStyle),o||(x.chart.styledMode||(p.stroke=u,p["stroke-width"]=r||0,p.dashstyle=c),h||(p.zIndex=1),S&&(f=0),this.gridLine=o=d.path().attr(p).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(x.gridGroup)),o&&(C=x.getPlotLinePath({value:a+n,lineWidth:o.strokeWidth()*C,force:"pass",old:S}))&&o[S||this.isNew?"attr":"animate"]({d:C,opacity:f})},v.prototype.renderMark=function(S,f,C){var x=this.axis,M=x.options,p=x.chart.renderer,a=this.type,h=x.tickSize(a?a+"Tick":"tick"),n=S.x;S=S.y;var d=g(M["minor"!==a?"tickWidth":"minorTickWidth"],!a&&x.isXAxis?1:0);M=M["minor"!==a?"tickColor":"minorTickColor"];var o=this.mark,r=!o;h&&(x.opposite&&(h[0]=-h[0]),o||(this.mark=o=p.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(x.axisGroup),x.chart.styledMode||o.attr({stroke:M,"stroke-width":d})),o[r?"attr":"animate"]({d:this.getMarkPath(n,S,h[0],o.strokeWidth()*C,x.horiz,p),opacity:f}))},v.prototype.renderLabel=function(S,f,C,x){var M=this.axis,p=M.horiz,a=M.options,h=this.label,n=a.labels,d=n.step;M=g(this.tickmarkOffset,M.tickmarkOffset);var o=S.x;S=S.y;var r=!0;h&&E(o)&&(h.xy=S=this.getLabelPosition(o,S,h,p,n,M,x,d),this.isFirst&&!this.isLast&&!a.showFirstLabel||this.isLast&&!this.isFirst&&!a.showLastLabel?r=!1:!p||n.step||n.rotation||f||0===C||this.handleOverflow(S),d&&x%d&&(r=!1),r&&E(S.y)?(S.opacity=C,h[this.isNewLabel?"attr":"animate"](S),this.isNewLabel=!1):(h.attr("y",-9999),this.isNewLabel=!0))},v.prototype.replaceMovedLabel=function(){var S=this.label,f=this.axis,C=f.reversed;S&&!this.isNew&&(S.animate({x:f.horiz?C?f.left:f.width+f.left:S.xy.x,y:C=f.horiz?S.xy.y:C?f.width+f.top:f.top,opacity:0},void 0,S.destroy),delete this.label),f.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},v}()}),lt(F,"Core/Axis/Axis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/AxisDefaults.js"],F["Core/Color/Color.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Axis/Tick.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){var P=H.animObject,w=Q.defaultOptions,E=W.registerEventOptions,s=Y.deg2rad,l=I.arrayMax,g=I.arrayMin,v=I.clamp,S=I.correctFloat,f=I.defined,C=I.destroyObjectProperties,x=I.erase,M=I.error,p=I.extend,a=I.fireEvent,h=I.getMagnitude,n=I.isArray,d=I.isNumber,o=I.isString,r=I.merge,u=I.normalizeTickInterval,c=I.objectEach,b=I.pick,O=I.relativeLength,k=I.removeEvent,_=I.splat,A=I.syncTimeout;return function(){function B(m,T){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(m,T)}return B.prototype.init=function(m,T){var R=T.isX;this.chart=m,this.horiz=m.inverted&&!this.isZAxis?!R:R,this.isXAxis=R,this.coll=this.coll||(R?"xAxis":"yAxis"),a(this,"init",{userOptions:T}),this.opposite=b(T.opposite,this.opposite),this.side=b(T.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(T);var j=this.options,X=j.labels,$=j.type;this.userOptions=T,this.minPixelPadding=0,this.reversed=b(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===$||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=f(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,T=b(j.crosshair,_(m.options.tooltip.crosshairs)[R?0:1]),this.crosshair=!0===T?{}:T,-1===m.axes.indexOf(this)&&(R?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),m[this.coll].push(this)),this.series=this.series||[],m.inverted&&!this.isZAxis&&R&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=d(X.rotation)?X.rotation:void 0,E(this,j),a(this,"afterInit")},B.prototype.setOptions=function(m){this.options=r(K.defaultXAxisOptions,"yAxis"===this.coll&&K.defaultYAxisOptions,[K.defaultTopAxisOptions,K.defaultRightAxisOptions,K.defaultBottomAxisOptions,K.defaultLeftAxisOptions][this.side],r(w[this.coll],m)),a(this,"afterSetOptions",{userOptions:m})},B.prototype.defaultLabelFormatter=function(m){var T=this.axis;m=this.chart.numberFormatter;var R=d(this.value)?this.value:NaN,j=T.chart.time,X=this.dateTimeLabelFormat,$=w.lang,D=$.numericSymbols;$=$.numericSymbolMagnitude||1e3;var U=T.logarithmic?Math.abs(R):T.tickInterval,N=D&&D.length;if(T.categories)var Z=""+this.value;else if(X)Z=j.dateFormat(X,R);else if(N&&1e3<=U)for(;N--&&void 0===Z;)U>=(T=Math.pow($,N+1))&&10*R%T==0&&null!==D[N]&&0!==R&&(Z=m(R/T,-1)+D[N]);return void 0===Z&&(Z=1e4<=Math.abs(R)?m(R,-1):m(R,-1,void 0,"")),Z},B.prototype.getSeriesExtremes=function(){var R,m=this,T=m.chart;a(this,"getSeriesExtremes",null,function(){m.hasVisibleSeries=!1,m.dataMin=m.dataMax=m.threshold=null,m.softThreshold=!m.isXAxis,m.stacking&&m.stacking.buildStacks(),m.series.forEach(function(j){if(j.visible||!T.options.chart.ignoreHiddenSeries){var X=j.options,$=X.threshold;if(m.hasVisibleSeries=!0,m.positiveValuesOnly&&0>=$&&($=null),m.isXAxis){if((X=j.xData).length){X=m.logarithmic?X.filter(m.validatePositiveValue):X;var D=(R=j.getXExtremes(X)).min,U=R.max;d(D)||D instanceof Date||(X=X.filter(d),D=(R=j.getXExtremes(X)).min,U=R.max),X.length&&(m.dataMin=Math.min(b(m.dataMin,D),D),m.dataMax=Math.max(b(m.dataMax,U),U))}}else j=j.applyExtremes(),d(j.dataMin)&&(D=j.dataMin,m.dataMin=Math.min(b(m.dataMin,D),D)),d(j.dataMax)&&(U=j.dataMax,m.dataMax=Math.max(b(m.dataMax,U),U)),f($)&&(m.threshold=$),(!X.softThreshold||m.positiveValuesOnly)&&(m.softThreshold=!1)}})}),a(this,"afterGetSeriesExtremes")},B.prototype.translate=function(m,T,R,j,X,$){var D=this.linkedParent||this,U=j&&D.old?D.old.min:D.min,N=D.minPixelPadding;X=(D.isOrdinal||D.brokenAxis&&D.brokenAxis.hasBreaks||D.logarithmic&&X)&&D.lin2val;var Z=1,q=0;return(j=j&&D.old?D.old.transA:D.transA)||(j=D.transA),R&&(Z*=-1,q=D.len),D.reversed&&(q-=(Z*=-1)*(D.sector||D.len)),T?(m=(m*Z+q-N)/j+U,X&&(m=D.lin2val(m))):(X&&(m=D.val2lin(m)),m=d(U)?Z*(m-U)*j+q+Z*N+(d($)?j*$:0):void 0),m},B.prototype.toPixels=function(m,T){return this.translate(m,!1,!this.horiz,null,!0)+(T?0:this.pos)},B.prototype.toValue=function(m,T){return this.translate(m-(T?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(m){function T(ct,J,et){return("pass"!==ot&&ct<J||ct>et)&&(ot?ct=v(ct,J,et):pt=!0),ct}var at,mt,yt,vt,pt,R=this,j=R.chart,X=R.left,$=R.top,D=m.old,U=m.value,N=m.lineWidth,Z=D&&j.oldChartHeight||j.chartHeight,q=D&&j.oldChartWidth||j.chartWidth,nt=R.transB,it=m.translatedValue,ot=m.force;return a(this,"getPlotLinePath",m={value:U,lineWidth:N,old:D,force:ot,acrossPanes:m.acrossPanes,translatedValue:it},function(ct){it=b(it,R.translate(U,null,null,D)),it=v(it,-1e5,1e5),at=yt=Math.round(it+nt),mt=vt=Math.round(Z-it-nt),d(it)?R.horiz?(mt=$,vt=Z-R.bottom,at=yt=T(at,X,X+R.width)):(at=X,yt=q-R.right,mt=vt=T(mt,$,$+R.height)):(pt=!0,ot=!1),ct.path=pt&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",yt,vt]],N||1)}),m.path},B.prototype.getLinearTickPositions=function(m,T,R){var j=S(Math.floor(T/m)*m);R=S(Math.ceil(R/m)*m);var $,X=[];if(S(j+m)===j&&($=20),this.single)return[T];for(T=j;T<=R&&(X.push(T),(T=S(T+m,$))!==D);)var D=T;return X},B.prototype.getMinorTickInterval=function(){var m=this.options;return!0===m.minorTicks?b(m.minorTickInterval,"auto"):!1===m.minorTicks?null:m.minorTickInterval},B.prototype.getMinorTickPositions=function(){var m=this.options,T=this.tickPositions,R=this.minorTickInterval,j=this.pointRangePadding||0,X=this.min-j,$=(j=this.max+j)-X,D=[];if($&&$/R<this.len/3){var U=this.logarithmic;if(U)this.paddedTicks.forEach(function(N,Z,q){Z&&D.push.apply(D,U.getLogTickPositions(R,q[Z-1],q[Z],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())D=D.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(R),X,j,m.startOfWeek));else for(m=X+(T[0]-X)%R;m<=j&&m!==D[0];m+=R)D.push(m)}return 0!==D.length&&this.trimTicks(D),D},B.prototype.adjustForMinRange=function(){var $,D,U,N,m=this.options,T=this.logarithmic,R=this.min,j=this.max,X=0;if(this.isXAxis&&void 0===this.minRange&&!T&&(f(m.min)||f(m.max)||f(m.floor)||f(m.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(U=it.xData,N=it.xIncrement?1:U.length-1,1<U.length)for($=N;0<$;$--)D=U[$]-U[$-1],(!X||D<X)&&(X=D)}),this.minRange=Math.min(5*X,this.dataMax-this.dataMin))),j-R<this.minRange){var Z=this.dataMax-this.dataMin>=this.minRange,q=this.minRange,nt=(q-j+R)/2;nt=[R-nt,b(m.min,R-nt)],Z&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(R=l(nt))+q,b(m.max,R+q)],Z&&(j[2]=T?T.log2lin(this.dataMax):this.dataMax),(j=g(j))-R<q&&(nt[0]=j-q,nt[1]=b(m.min,j-q),R=l(nt))}this.min=R,this.max=j},B.prototype.getClosest=function(){var m;return this.categories?m=1:this.series.forEach(function(T){var R=T.closestPointRange,j=T.visible||!T.chart.options.chart.ignoreHiddenSeries;!T.noSharedTooltip&&f(R)&&j&&(m=f(m)?Math.min(m,R):R)}),m},B.prototype.nameToX=function(m){var T=n(this.categories),R=T?this.categories:this.names,j=m.options.x;if(m.series.requireSorting=!1,f(j)||(j=this.options.uniqueNames?T?R.indexOf(m.name):b(R.keys[m.name],-1):m.series.autoIncrement()),-1===j){if(!T)var X=R.length}else X=j;return void 0!==X&&(this.names[X]=m.name,this.names.keys[m.name]=X),X},B.prototype.updateNames=function(){var m=this,T=this.names;0<T.length&&(Object.keys(T.keys).forEach(function(R){delete T.keys[R]}),T.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(R){R.xIncrement=null,(!R.points||R.isDirtyData)&&(m.max=Math.max(m.max,R.xData.length-1),R.processData(),R.generatePoints()),R.data.forEach(function(j,X){if(j&&j.options&&void 0!==j.name){var $=m.nameToX(j);void 0!==$&&$!==j.x&&(j.x=$,R.xData[X]=$)}})}))},B.prototype.setAxisTranslation=function(){var N,m=this,T=m.max-m.min,R=m.linkedParent,j=!!m.categories,X=m.isXAxis,$=m.axisPointRange||0,D=0,U=0;if(X||j||$){var Z=m.getClosest();R?(D=R.minPointOffset,U=R.pointRangePadding):m.series.forEach(function(q){var nt=j?1:X?b(q.options.pointRange,Z,0):m.axisPointRange||0,it=q.options.pointPlacement;$=Math.max($,nt),(!m.single||j)&&(q=q.is("xrange")?!X:X,D=Math.max(D,q&&o(it)?0:nt/2),U=Math.max(U,q&&"on"===it?0:nt))}),m.minPointOffset=D*=R=m.ordinal&&m.ordinal.slope&&Z?m.ordinal.slope/Z:1,m.pointRangePadding=U*=R,m.pointRange=Math.min($,m.single&&j?1:T),X&&(m.closestPointRange=Z)}m.translationSlope=m.transA=N=m.staticScale||m.len/(T+U||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=N*D,a(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(m){var T=this.chart,R=this.logarithmic,j=this.options,X=this.isXAxis,$=this.isLinked,D=j.tickPixelInterval,U=this.categories,N=this.softThreshold,Z=j.maxPadding,q=j.minPadding,nt=d(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=d(this.threshold)?this.threshold:null;this.dateTime||U||$||this.getTickAmount();var ot=b(this.userMin,j.min),at=b(this.userMax,j.max);if($){this.linkedParent=T[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=b(mt.min,mt.dataMin),this.max=b(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&M(11,1,T)}else{if(N&&f(it))if(this.dataMin>=it)mt=it,q=0;else if(this.dataMax<=it){var yt=it;Z=0}this.min=b(ot,mt,this.dataMin),this.max=b(at,yt,this.dataMax)}if(R&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,b(this.dataMin,this.min))&&M(10,1,T),this.min=S(R.log2lin(this.min),16),this.max=S(R.log2lin(this.max),16)),this.range&&f(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),a(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(U||this.axisPointRange||this.stacking&&this.stacking.usePercentage||$)&&f(this.min)&&f(this.max)&&(T=this.max-this.min)&&(!f(ot)&&q&&(this.min-=T*q),!f(at)&&Z&&(this.max+=T*Z)),d(this.userMin)||(d(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),d(j.floor)&&(this.min=Math.max(this.min,j.floor))),d(this.userMax)||(d(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),d(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),N&&f(this.dataMin)&&(it=it||0,!f(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!f(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),d(this.min)&&d(this.max)&&!this.chart.polar&&this.min>this.max&&(f(this.options.min)?this.max=this.min:f(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:$&&this.linkedParent&&!nt&&D===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:b(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,U?1:(this.max-this.min)*D/Math.max(this.len,D)),X&&!m){var vt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(pt){pt.forceCrop=pt.forceCropping&&pt.forceCropping(),pt.processData(vt)}),a(this,"postProcessData",{hasExtemesChanged:vt})}this.setAxisTranslation(),a(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),m=b(j.minTickInterval,this.dateTime&&!this.series.some(function(pt){return pt.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<m&&(this.tickInterval=m),this.dateTime||this.logarithmic||nt||(this.tickInterval=u(this.tickInterval,void 0,h(this.tickInterval),b(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var m=this.options,T=m.tickPositions,R=this.getMinorTickInterval(),j=this.hasVerticalPanning(),X="colorAxis"===this.coll,$=(X||!j)&&m.startOnTick;j=(X||!j)&&m.endOnTick,X=m.tickPositioner,this.tickmarkOffset=this.categories&&"between"===m.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===R&&this.tickInterval?this.tickInterval/5:R,this.single=this.min===this.max&&f(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==m.allowDecimals),this.tickPositions=R=T&&T.slice(),!R&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?R=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(R=[this.min,this.max],M(19,!1,this.chart)),R.length>this.len&&(R=[R[0],R.pop()])[0]===R[1]&&(R.length=1),this.tickPositions=R,X&&(X=X.apply(this,[this.min,this.max])))&&(this.tickPositions=R=X),this.paddedTicks=R.slice(0),this.trimTicks(R,$,j),this.isLinked||(this.single&&2>R.length&&!this.categories&&!this.series.some(function(D){return D.is("heatmap")&&"between"===D.options.pointPlacement})&&(this.min-=.5,this.max+=.5),T||X||this.adjustTickAmount()),a(this,"afterSetTickPositions")},B.prototype.trimTicks=function(m,T,R){var j=m[0],X=m[m.length-1],$=!this.isOrdinal&&this.minPointOffset||0;if(a(this,"trimTicks"),!this.isLinked){if(T&&j!==-1/0)this.min=j;else for(;this.min-$>m[0];)m.shift();if(R)this.max=X;else for(;this.max+$<m[m.length-1];)m.pop();0===m.length&&f(j)&&!this.options.tickPositions&&m.push((X+j)/2)}},B.prototype.alignToOthers=function(){var R,m={},T=this.options;return!1!==this.chart.options.chart.alignTicks&&T.alignTicks&&!1!==T.startOnTick&&!1!==T.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var X=j.options;X=[j.horiz?X.left:X.top,X.width,X.height,X.pane].join(),j.series.length&&(m[X]?R=!0:m[X]=1)}),R},B.prototype.getTickAmount=function(){var m=this.options,T=m.tickPixelInterval,R=m.tickAmount;!f(m.tickInterval)&&!R&&this.len<T&&!this.isRadial&&!this.logarithmic&&m.startOnTick&&m.endOnTick&&(R=2),!R&&this.alignToOthers()&&(R=Math.ceil(this.len/T)+1),4>R&&(this.finalTickAmt=R,R=5),this.tickAmount=R},B.prototype.adjustTickAmount=function(){var m=this.options,T=this.tickInterval,R=this.tickPositions,j=this.tickAmount,X=this.finalTickAmt,$=R&&R.length,D=b(this.threshold,this.softThreshold?0:null);if(this.hasData()&&d(this.min)&&d(this.max)){if($<j){for(;R.length<j;)R.length%2||this.min===D?R.push(S(R[R.length-1]+T)):R.unshift(S(R[0]-T));this.transA*=($-1)/(j-1),this.min=m.startOnTick?R[0]:Math.min(this.min,R[0]),this.max=m.endOnTick?R[R.length-1]:Math.max(this.max,R[R.length-1])}else $>j&&(this.tickInterval*=2,this.setTickPositions());if(f(X)){for(T=m=R.length;T--;)(3===X&&T%2==1||2>=X&&0<T&&T<m-1)&&R.splice(T,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var m=!1,T=!1;this.series.forEach(function(j){m=m||j.isDirtyData||j.isDirty,T=T||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var R=this.len!==(this.old&&this.old.len);R||m||T||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=R||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),m&&this.panningState&&(this.panningState.isDirty=!0),a(this,"afterSetScale")},B.prototype.setExtremes=function(m,T,R,j,X){var $=this,D=$.chart;R=b(R,!0),$.series.forEach(function(U){delete U.kdTree}),X=p(X,{min:m,max:T}),a($,"setExtremes",X,function(){$.userMin=m,$.userMax=T,$.eventArgs=X,R&&D.redraw(j)})},B.prototype.zoom=function(m,T){var R=this,j=this.dataMin,X=this.dataMax,$=this.options,D=Math.min(j,b($.min,j)),U=Math.max(X,b($.max,X));return a(this,"zoom",m={newMin:m,newMax:T},function(N){var Z=N.newMin,q=N.newMax;(Z!==R.min||q!==R.max)&&(R.allowZoomOutside||(f(j)&&(Z<D&&(Z=D),Z>U&&(Z=U)),f(X)&&(q<D&&(q=D),q>U&&(q=U))),R.displayBtn=void 0!==Z||void 0!==q,R.setExtremes(Z,q,!1,void 0,{trigger:"zoom"})),N.zoomed=!0}),m.zoomed},B.prototype.setAxisSize=function(){var m=this.chart,T=this.options,R=T.offsets||[0,0,0,0],j=this.horiz,X=this.width=Math.round(O(b(T.width,m.plotWidth-R[3]+R[1]),m.plotWidth)),$=this.height=Math.round(O(b(T.height,m.plotHeight-R[0]+R[2]),m.plotHeight)),D=this.top=Math.round(O(b(T.top,m.plotTop+R[0]),m.plotHeight,m.plotTop));T=this.left=Math.round(O(b(T.left,m.plotLeft+R[3]),m.plotWidth,m.plotLeft)),this.bottom=m.chartHeight-$-D,this.right=m.chartWidth-X-T,this.len=Math.max(j?X:$,0),this.pos=j?T:D},B.prototype.getExtremes=function(){var m=this.logarithmic;return{min:m?S(m.lin2log(this.min)):this.min,max:m?S(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(m){var T=this.logarithmic,R=T?T.lin2log(this.min):this.min;return T=T?T.lin2log(this.max):this.max,null===m||m===-1/0?m=R:m===1/0?m=T:R>m?m=R:T<m&&(m=T),this.translate(m,0,1,0,1)},B.prototype.autoLabelAlign=function(m){var T=(b(m,0)-90*this.side+720)%360;return a(this,"autoLabelAlign",m={align:"center"},function(R){15<T&&165>T?R.align="right":195<T&&345>T&&(R.align="left")}),m.align},B.prototype.tickSize=function(m){var T=this.options,R=b(T["tick"===m?"tickWidth":"minorTickWidth"],"tick"===m&&this.isXAxis&&!this.categories?1:0),j=T["tick"===m?"tickLength":"minorTickLength"];if(R&&j){"inside"===T[m+"Position"]&&(j=-j);var X=[j,R]}return a(this,"afterTickSize",m={tickSize:X}),m.tickSize},B.prototype.labelMetrics=function(){var m=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[m]&&this.ticks[m].label)},B.prototype.unsquish=function(){var Z,q,m=this.options.labels,T=this.horiz,R=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/R),X=m.rotation,$=this.labelMetrics(),D=Math.max(this.max-this.min,0),U=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*R>D&&ot!==1/0&&j!==1/0&&D&&(at=Math.ceil(D/R)),S(at*R)},N=R,nt=Number.MAX_VALUE;if(T){if(!m.staggerLines&&!m.step)if(d(X))var it=[X];else j<m.autoRotationLimit&&(it=m.autoRotation);it&&it.forEach(function(ot){if(ot===X||ot&&-90<=ot&&90>=ot){var at=(q=U(Math.abs($.h/Math.sin(s*ot))))+Math.abs(ot/360);at<nt&&(nt=at,Z=ot,N=q)}})}else m.step||(N=U($.h));return this.autoRotation=it,this.labelRotation=b(Z,d(X)?X:0),N},B.prototype.getSlotWidth=function(m){var T=this.chart,R=this.horiz,j=this.options.labels,X=Math.max(this.tickPositions.length-(this.categories?0:1),1),$=T.margin[3];if(m&&d(m.slotWidth))return m.slotWidth;if(R&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/X;if(!R){if(void 0!==(m=j.style.width))return parseInt(String(m),10);if($)return $-T.spacing[3]}return.33*T.chartWidth},B.prototype.renderUnsquish=function(){var m=this.chart,T=m.renderer,R=this.tickPositions,j=this.ticks,X=this.options.labels,$=X.style,D=this.horiz,U=this.getSlotWidth(),N=Math.max(1,Math.round(U-2*X.padding)),Z={},q=this.labelMetrics(),nt=$.textOverflow,it=0;if(o(X.rotation)||(Z.rotation=X.rotation||0),R.forEach(function(yt){(yt=j[yt]).movedLabel&&yt.replaceMovedLabel(),yt&&yt.label&&yt.label.textPxLength>it&&(it=yt.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>N&&it>q.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(U){var ot=N;if(!nt){var at="clip";for(N=R.length;!D&&N--;){var mt=R[N];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>U&&mt.css({width:U+"px"}),mt.getBBox().height>this.len/R.length-(q.h-q.f)&&(mt.specificTextOverflow="ellipsis"))}}}Z.rotation&&(ot=it>.5*m.chartHeight?.33*m.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=X.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),R.forEach(function(yt){var vt=(yt=j[yt])&&yt.label,pt=$.width,ct={};vt&&(vt.attr(Z),yt.shortenLabel?yt.shortenLabel():ot&&!pt&&"nowrap"!==$.whiteSpace&&(ot<vt.textPxLength||"SPAN"===vt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=vt.specificTextOverflow||at),vt.css(ct)):vt.styles&&vt.styles.width&&!ct.width&&!pt&&vt.css({width:null}),delete vt.specificTextOverflow,yt.rotation=Z.rotation)},this),this.tickRotCorr=T.rotCorr(q.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&f(this.min)&&f(this.max)},B.prototype.addTitle=function(m){var D,j=this.opposite,X=this.options.title,$=this.chart.styledMode;this.axisTitle||((D=X.textAlign)||(D=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[X.align]),this.axisTitle=this.chart.renderer.text(X.text||"",0,0,X.useHTML).attr({zIndex:7,rotation:X.rotation,align:D}).addClass("highcharts-axis-title"),$||this.axisTitle.css(r(X.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),$||X.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)},B.prototype.generateTick=function(m){var T=this.ticks;T[m]?T[m].addLabel():T[m]=new z(this,m)},B.prototype.getOffset=function(){var m=this,T=this,R=T.chart,j=T.horiz,X=T.options,$=T.side,D=T.ticks,U=T.tickPositions,N=T.coll,Z=T.axisParent,q=R.renderer,nt=R.inverted&&!T.isZAxis?[1,0,3,2][$]:$,it=T.hasData(),ot=X.title,at=X.labels,mt=R.axisOffset;R=R.clipOffset;var pt,yt=[-1,1,1,-1][$],vt=X.className,ct=0,J=0,et=0;if(T.showAxis=pt=it||X.showEmpty,T.staggerLines=T.horiz&&at.staggerLines||void 0,!T.axisGroup){var st=function(dt,xt,Et){return q.g(dt).attr({zIndex:Et}).addClass("highcharts-"+N.toLowerCase()+xt+" "+(m.isRadial?"highcharts-radial-axis"+xt+" ":"")+(vt||"")).add(Z)};T.gridGroup=st("grid","-grid",X.gridZIndex),T.axisGroup=st("axis","",X.zIndex),T.labelGroup=st("axis-labels","-labels",at.zIndex)}if(it||T.isLinked?(U.forEach(function(dt){T.generateTick(dt)}),T.renderUnsquish(),T.reserveSpaceDefault=0===$||2===$||{1:"left",3:"right"}[$]===T.labelAlign,b(at.reserveSpace,"center"===T.labelAlign||null,T.reserveSpaceDefault)&&U.forEach(function(dt){et=Math.max(D[dt].getLabelSize(),et)}),T.staggerLines&&(et*=T.staggerLines),T.labelOffset=et*(T.opposite?-1:1)):c(D,function(dt,xt){dt.destroy(),delete D[xt]}),ot&&ot.text&&!1!==ot.enabled&&(T.addTitle(pt),pt&&!1!==ot.reserveSpace)){T.titleOffset=ct=T.axisTitle.getBBox()[j?"height":"width"];var ut=ot.offset;J=f(ut)?0:b(ot.margin,j?5:10)}T.renderLine(),T.offset=yt*b(X.offset,mt[$]?mt[$]+(X.margin||0):0),T.tickRotCorr=T.tickRotCorr||{x:0,y:0},ot=0===$?-T.labelMetrics().h:2===$?T.tickRotCorr.y:0,it=Math.abs(et)+J,et&&(it=it-ot+yt*(j?b(at.y,T.tickRotCorr.y+8*yt):at.x)),T.axisTitleMargin=b(ut,it),T.getMaxLabelDimensions&&(T.maxLabelDimensions=T.getMaxLabelDimensions(D,U)),"colorAxis"!==N&&(j=this.tickSize("tick"),mt[$]=Math.max(mt[$],(T.axisTitleMargin||0)+ct+yt*T.offset,it,U&&U.length&&j?j[0]+yt*T.offset:0),X=!T.axisLine||X.offset?0:2*Math.floor(T.axisLine.strokeWidth()/2),R[nt]=Math.max(R[nt],X)),a(this,"afterGetOffset")},B.prototype.getLinePath=function(m){var T=this.chart,R=this.opposite,j=this.offset,X=this.horiz,$=this.left+(R?this.width:0)+j;return j=T.chartHeight-this.bottom-(R?this.height:0)+j,R&&(m*=-1),T.renderer.crispLine([["M",X?this.left:$,X?j:this.top],["L",X?T.chartWidth-this.right:$,X?j:T.chartHeight-this.bottom]],m)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var m=this.horiz,T=this.left,R=this.top,j=this.len,X=this.options.title,$=m?T:R,D=this.opposite,U=this.offset,N=X.x,Z=X.y,q=this.axisTitle,nt=this.chart.renderer.fontMetrics(X.style.fontSize,q);return q=Math.max(q.getBBox(null,0).height-nt.h-1,0),j={low:$+(m?0:j),middle:$+j/2,high:$+(m?j:0)}[X.align],T=(m?R+this.height:T)+(m?1:-1)*(D?-1:1)*this.axisTitleMargin+[-q,q,nt.f,-q][this.side],a(this,"afterGetTitlePosition",{titlePosition:m={x:m?j+N:T+(D?this.width:0)+U+N,y:m?T+Z-(D?this.height:0)+U:j+Z}}),m},B.prototype.renderMinorTick=function(m,T){var R=this.minorTicks;R[m]||(R[m]=new z(this,m,"minor")),T&&R[m].isNew&&R[m].render(null,!0),R[m].render(null,!1,1)},B.prototype.renderTick=function(m,T,R){var j=this.ticks;(!this.isLinked||m>=this.min&&m<=this.max||this.grid&&this.grid.isColumn)&&(j[m]||(j[m]=new z(this,m)),R&&j[m].isNew&&j[m].render(T,!0,-1),j[m].render(T))},B.prototype.render=function(){var yt,vt,m=this,T=m.chart,R=m.logarithmic,j=m.options,X=m.isLinked,$=m.tickPositions,D=m.axisTitle,U=m.ticks,N=m.minorTicks,Z=m.alternateBands,q=j.stackLabels,nt=j.alternateGridColor,it=m.tickmarkOffset,ot=m.axisLine,at=m.showAxis,mt=P(T.renderer.globalAnimation);if(m.labelEdge.length=0,m.overlap=!1,[U,N,Z].forEach(function(ct){c(ct,function(J){J.isActive=!1})}),m.hasData()||X){var pt=m.chart.hasRendered&&m.old&&d(m.old.min);m.minorTickInterval&&!m.categories&&m.getMinorTickPositions().forEach(function(ct){m.renderMinorTick(ct,pt)}),$.length&&($.forEach(function(ct,J){m.renderTick(ct,J,pt)}),it&&(0===m.min||m.single)&&(U[-1]||(U[-1]=new z(m,-1,null,!0)),U[-1].render(-1))),nt&&$.forEach(function(ct,J){vt=void 0!==$[J+1]?$[J+1]+it:m.max-it,J%2==0&&ct<m.max&&vt<=m.max+(T.polar?-it:it)&&(Z[ct]||(Z[ct]=new Y.PlotLineOrBand(m)),yt=ct+it,Z[ct].options={from:R?R.lin2log(yt):yt,to:R?R.lin2log(vt):vt,color:nt,className:"highcharts-alternate-grid"},Z[ct].render(),Z[ct].isActive=!0)}),m._addedPlotLB||(m._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){m.addPlotBandOrLine(ct)}))}[U,N,Z].forEach(function(ct){var J=[],et=mt.duration;c(ct,function(st,ut){st.isActive||(st.render(ut,!1,0),st.isActive=!1,J.push(ut))}),A(function(){for(var st=J.length;st--;)ct[J[st]]&&!ct[J[st]].isActive&&(ct[J[st]].destroy(),delete ct[J[st]])},ct!==Z&&T.hasRendered&&et?et:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),D&&at&&(j=m.getTitlePosition(),d(j.y)?(D[D.isNew?"attr":"animate"](j),D.isNew=!1):(D.attr("y",-9999),D.isNew=!0)),q&&q.enabled&&m.stacking&&m.stacking.renderStackTotals(),m.old={len:m.len,max:m.max,min:m.min,transA:m.transA,userMax:m.userMax,userMin:m.userMin},m.isDirty=!1,a(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(m){var T=this,R=T.plotLinesAndBands,j=this.eventOptions;if(a(this,"destroy",{keepEvents:m}),m||k(T),[T.ticks,T.minorTicks,T.alternateBands].forEach(function($){C($)}),R)for(m=R.length;m--;)R[m].destroy();for(var X in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function($){T[$]&&(T[$]=T[$].destroy())}),T.plotLinesAndBandsGroups)T.plotLinesAndBandsGroups[X]=T.plotLinesAndBandsGroups[X].destroy();c(T,function($,D){-1===T.getKeepProps().indexOf(D)&&delete T[D]}),this.eventOptions=j},B.prototype.drawCrosshair=function(m,T){var $,R=this.crosshair,j=b(R&&R.snap,!0),X=this.chart,D=this.cross;if(a(this,"drawCrosshair",{e:m,point:T}),m||(m=this.cross&&this.cross.e),R&&!1!==(f(T)||!j)){if(j?f(T)&&($=b("colorAxis"!==this.coll?T.crosshairPos:null,this.isXAxis?T.plotX:this.len-T.plotY)):$=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),f($)){var U={value:T&&(this.isXAxis?T.x:b(T.stackY,T.y)),translatedValue:$};X.polar&&p(U,{isCrosshair:!0,chartX:m&&m.chartX,chartY:m&&m.chartY,point:T}),U=this.getPlotLinePath(U)||null}if(!f(U))return void this.hideCrosshair();j=this.categories&&!this.isRadial,D||(this.cross=D=X.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(R.className||"")).attr({zIndex:b(R.zIndex,2)}).add(),X.styledMode||(D.attr({stroke:R.color||(j?V.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":b(R.width,1)}).css({"pointer-events":"none"}),R.dashStyle&&D.attr({dashstyle:R.dashStyle}))),D.show().attr({d:U}),j&&!R.width&&D.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();a(this,"afterDrawCrosshair",{e:m,point:T})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),a(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var m=this.chart.options.chart.panning;return!!(m&&m.enabled&&/y/.test(m.type))},B.prototype.validatePositiveValue=function(m){return d(m)&&0<m},B.prototype.update=function(m,T){var R=this.chart;m=r(this.userOptions,m),this.destroy(!0),this.init(R,m),R.isDirtyBox=!0,b(T,!0)&&R.redraw()},B.prototype.remove=function(m){for(var T=this.chart,R=this.coll,j=this.series,X=j.length;X--;)j[X]&&j[X].remove(!1);x(T.axes,this),x(T[R],this),T[R].forEach(function($,D){$.options.index=$.userOptions.index=D}),this.destroy(),T.isDirtyBox=!0,b(m,!0)&&T.redraw()},B.prototype.setTitle=function(m,T){this.update({title:m},T)},B.prototype.setCategories=function(m,T){this.update({categories:m},T)},B.defaultOptions=K.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),lt(F,"Core/Axis/DateTimeAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.timeUnits;return function(z){function I(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function P(s){"datetime"!==s.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new E(this))}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("dateTime"),s.prototype.getTimeTicks=I,K(s,"init",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.normalizeTimeTickInterval=function(l,g){var C,v=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],S=W[(g=v[v.length-1])[0]],f=g[1];for(C=0;C<v.length&&(S=W[(g=v[C])[0]],f=g[1],!(v[C+1]&&l<=(S*f[f.length-1]+W[v[C+1][0]])/2));C++);return S===W.year&&l<5*S&&(f=[1,2,5]),{unitRange:S,count:l=Q(l/S,f,"year"===g[0]?Math.max(V(l/S),1):1),unitName:g[0]}},s.prototype.getXDateFormat=function(l,g){var v=this.axis;return v.closestPointRange?v.chart.time.getDateFormat(v.closestPointRange,l,v.options.startOfWeek,g)||g.year:g.day},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/LogarithmicAxis.js",[F["Core/Utilities.js"]],function(H){var Y,K=H.addEvent,V=H.getMagnitude,Q=H.normalizeTickInterval,W=H.pick;return function(z){function I(s){var l=this.logarithmic;"logarithmic"!==s.userOptions.type?this.logarithmic=void 0:l||(this.logarithmic=new E(this))}function P(){var s=this.logarithmic;s&&(this.lin2val=function(l){return s.lin2log(l)},this.val2lin=function(l){return s.log2lin(l)})}var w=[];z.compose=function(s){return-1===w.indexOf(s)&&(w.push(s),s.keepProps.push("logarithmic"),K(s,"init",I),K(s,"afterInit",P)),s};var E=function(){function s(l){this.axis=l}return s.prototype.getLogTickPositions=function(l,g,v,S){var f=this.axis,C=f.len,x=f.options,M=[];if(S||(this.minorAutoInterval=void 0),.5<=l)l=Math.round(l),M=f.getLinearTickPositions(l,g,v);else if(.08<=l){var a,p=Math.floor(g),h=x=void 0;for(C=.3<l?[1,2,4]:.15<l?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];p<v+1&&!h;p++){var n=C.length;for(a=0;a<n&&!h;a++){var d=this.log2lin(this.lin2log(p)*C[a]);d>g&&(!S||x<=v)&&void 0!==x&&M.push(x),x>v&&(h=!0),x=d}}}else g=this.lin2log(g),v=this.lin2log(v),l=S?f.getMinorTickInterval():x.tickInterval,l=W("auto"===l?null:l,this.minorAutoInterval,x.tickPixelInterval/(S?5:1)*(v-g)/((S?C/f.tickPositions.length:C)||1)),l=Q(l,void 0,V(l)),M=f.getLinearTickPositions(l,g,v).map(this.log2lin),S||(this.minorAutoInterval=l/5);return S||(f.tickInterval=l),M},s.prototype.lin2log=function(l){return Math.pow(10,l)},s.prototype.log2lin=function(l){return Math.log(l)/Math.LN10},s}();z.Additions=E}(Y||(Y={})),Y}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[F["Core/Utilities.js"]],function(H){var W,K=H.erase,V=H.extend,Q=H.isNumber;return function(Y){var I,z=[];Y.compose=function(w,E){return I||(I=w),-1===z.indexOf(E)&&(z.push(E),V(E.prototype,P.prototype)),E};var P=function(){function w(){}return w.prototype.getPlotBandPath=function(E,s,l){void 0===l&&(l=this.options);var g=this.getPlotLinePath({value:s,force:!0,acrossPanes:l.acrossPanes}),v=[],S=this.horiz;if(s=!Q(this.min)||!Q(this.max)||E<this.min&&s<this.min||E>this.max&&s>this.max,E=this.getPlotLinePath({value:E,force:!0,acrossPanes:l.acrossPanes}),l=1,E&&g){if(s){var f=E.toString()===g.toString();l=0}for(s=0;s<E.length;s+=2){var C=E[s],x=E[s+1],M=g[s],p=g[s+1];"M"!==C[0]&&"L"!==C[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==p[0]&&"L"!==p[0]||(S&&M[1]===C[1]?(M[1]+=l,p[1]+=l):S||M[2]!==C[2]||(M[2]+=l,p[2]+=l),v.push(["M",C[1],C[2]],["L",x[1],x[2]],["L",p[1],p[2]],["L",M[1],M[2]],["Z"])),v.isFlat=f}}return v},w.prototype.addPlotBand=function(E){return this.addPlotBandOrLine(E,"plotBands")},w.prototype.addPlotLine=function(E){return this.addPlotBandOrLine(E,"plotLines")},w.prototype.addPlotBandOrLine=function(E,s){var l=this,g=this.userOptions,v=new I(this,E);if(this.visible&&(v=v.render()),v){if(this._addedPlotLB||(this._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(f){l.addPlotBandOrLine(f)})),s){var S=g[s]||[];S.push(E),g[s]=S}this.plotLinesAndBands.push(v)}return v},w.prototype.removePlotBandOrLine=function(E){var s=this.plotLinesAndBands,l=this.options,g=this.userOptions;if(s){for(var v=s.length;v--;)s[v].id===E&&s[v].destroy();[l.plotLines||[],g.plotLines||[],l.plotBands||[],g.plotBands||[]].forEach(function(S){for(v=S.length;v--;)(S[v]||{}).id===E&&K(S,S[v])})}},w.prototype.removePlotBand=function(E){this.removePlotBandOrLine(E)},w.prototype.removePlotLine=function(E){this.removePlotBandOrLine(E)},w}()}(W||(W={})),W}),lt(F,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[F["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],F["Core/Utilities.js"]],function(H,K){var V=K.arrayMax,Q=K.arrayMin,W=K.defined,Y=K.destroyObjectProperties,z=K.erase,I=K.fireEvent,P=K.merge,w=K.objectEach,E=K.pick;return function(){function s(l,g){this.axis=l,g&&(this.options=g,this.id=g.id)}return s.compose=function(l){return H.compose(s,l)},s.prototype.render=function(){I(this,"render");var l=this,g=l.axis,v=g.horiz,S=g.logarithmic,f=l.options,C=f.color,x=E(f.zIndex,0),M=f.events,p={},a=g.chart.renderer,h=f.label,n=l.label,d=f.to,o=f.from,r=f.value,u=l.svgElem,c=[],b=W(o)&&W(d);c=W(r);var O=!u,k={class:"highcharts-plot-"+(b?"band ":"line ")+(f.className||"")},_=b?"bands":"lines";if(S&&(o=S.log2lin(o),d=S.log2lin(d),r=S.log2lin(r)),g.chart.styledMode||(c?(k.stroke=C||"#999999",k["stroke-width"]=E(f.width,1),f.dashStyle&&(k.dashstyle=f.dashStyle)):b&&(k.fill=C||"#e6ebf5",f.borderWidth&&(k.stroke=f.borderColor,k["stroke-width"]=f.borderWidth))),p.zIndex=x,(S=g.plotLinesAndBandsGroups[_+="-"+x])||(g.plotLinesAndBandsGroups[_]=S=a.g("plot-"+_).attr(p).add()),O&&(l.svgElem=u=a.path().attr(k).add(S)),c)c=g.getPlotLinePath({value:r,lineWidth:u.strokeWidth(),acrossPanes:f.acrossPanes});else{if(!b)return;c=g.getPlotBandPath(o,d,f)}return!l.eventsAdded&&M&&(w(M,function(A,B){u.on(B,function(m){M[B].apply(l,[m])})}),l.eventsAdded=!0),(O||!u.d)&&c&&c.length?u.attr({d:c}):u&&(c?(u.show(!0),u.animate({d:c})):u.d&&(u.hide(),n&&(l.label=n=n.destroy()))),h&&(W(h.text)||W(h.formatter))&&c&&c.length&&0<g.width&&0<g.height&&!c.isFlat?(h=P({align:v&&b&&"center",x:v?!b&&4:10,verticalAlign:!v&&b&&"middle",y:v?b?16:10:b?6:-4,rotation:v&&!b&&90},h),this.renderLabel(h,c,b,x)):n&&n.hide(),l},s.prototype.renderLabel=function(l,g,v,S){var f=this.axis,C=f.chart.renderer,x=this.label;x||(this.label=x=C.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(v?"band":"line")+"-label "+(l.className||""),zIndex:S}).add(),f.chart.styledMode||x.css(P({textOverflow:"ellipsis"},l.style))),S=g.xBounds||[g[0][1],g[1][1],v?g[2][1]:g[0][1]],g=g.yBounds||[g[0][2],g[1][2],v?g[2][2]:g[0][2]],v=Q(S),C=Q(g),x.align(l,!1,{x:v,y:C,width:V(S)-v,height:V(g)-C}),x.alignValue&&"left"!==x.alignValue||x.css({width:(90===x.rotation?f.height-(x.alignAttr.y-f.top):f.width-(x.alignAttr.x-f.left))+"px"}),x.show(!0)},s.prototype.getLabelText=function(l){return W(l.formatter)?l.formatter.call(this):l.text},s.prototype.destroy=function(){z(this.axis.plotLinesAndBands,this),delete this.axis,Y(this)},s}()}),lt(F,"Core/Tooltip.js",[F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.format,z=K.doc,I=V.distribute,P=W.addEvent,w=W.clamp,E=W.css,s=W.defined,l=W.discardElement,g=W.extend,v=W.fireEvent,S=W.isArray,f=W.isNumber,C=W.isString,x=W.merge,M=W.pick,p=W.splat,a=W.syncTimeout;return function(){function h(n,d){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=n,this.init(n,d)}return h.prototype.applyFilter=function(){var n=this.chart;n.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+n.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},h.prototype.bodyFormatter=function(n){return n.map(function(d){var o=d.series.tooltipOptions;return(o[(d.point.formatPrefix||"point")+"Formatter"]||d.point.tooltipFormatter).call(d.point,o[(d.point.formatPrefix||"point")+"Format"]||"")})},h.prototype.cleanSplit=function(n){this.chart.series.forEach(function(d){var o=d&&d.tt;o&&(!o.isActive||n?d.tt=o.destroy():o.isActive=!1)})},h.prototype.defaultFormatter=function(n){var d=this.points||p(this),o=[n.tooltipFooterHeaderFormatter(d[0])];return(o=o.concat(n.bodyFormatter(d))).push(n.tooltipFooterHeaderFormatter(d[0],!0)),o},h.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),l(this.container)),W.clearTimeout(this.hideTimer),W.clearTimeout(this.tooltipTimeout)},h.prototype.getAnchor=function(n,d){var O,k,o=this.chart,r=o.pointer,u=o.inverted,c=o.plotTop,b=o.plotLeft,_=0,A=0;return n=p(n),this.followPointer&&d?(void 0===d.chartX&&(d=r.normalize(d)),r=[d.chartX-b,d.chartY-c]):n[0].tooltipPos?r=n[0].tooltipPos:(n.forEach(function(B){O=B.series.yAxis,_+=B.plotX||0,A+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(k=B.series.xAxis)&&O&&(u?(_+=c+o.plotHeight-k.len-k.pos,A+=b+o.plotWidth-O.len-O.pos):(_+=k.pos-b,A+=O.pos-c))}),_/=n.length,A/=n.length,r=[u?o.plotWidth-A:_,u?o.plotHeight-_:A],this.shared&&1<n.length&&d&&(u?r[0]=d.chartX-b:r[1]=d.chartY-c)),r.map(Math.round)},h.prototype.getLabel=function(){var k,n=this,d=this.chart.styledMode,o=this.options,r=this.split&&this.allowShared,u="tooltip"+(s(o.className)?" "+o.className:""),c=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),b=function(){n.inContact=!0},O=function(j){var X=n.chart.hoverSeries;n.inContact=n.shouldStickOnContact()&&n.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!n.inContact&&X&&X.onMouseOut&&X.onMouseOut()},_=this.chart.renderer;if(n.label){var A=!n.label.hasClass("highcharts-label");(r&&!A||!r&&A)&&n.destroy()}if(!this.label){if(this.outside){A=this.chart.options.chart.style;var B=Q.getRendererType();this.container=k=K.doc.createElement("div"),k.className="highcharts-tooltip-container",E(k,{position:"absolute",top:"1px",pointerEvents:c,zIndex:Math.max(this.options.style.zIndex||0,(A&&A.zIndex||0)+3)}),P(k,"mouseenter",b),P(k,"mouseleave",O),K.doc.body.appendChild(k),this.renderer=_=new B(k,0,0,A,void 0,void 0,_.styledMode)}if(r?this.label=_.g(u):(this.label=_.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,u).attr({padding:o.padding,r:o.borderRadius}),d||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:c}).shadow(o.shadow)),d&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),n.outside&&!n.split){var m=this.label,T=m.xSetter,R=m.ySetter;m.xSetter=function(j){T.call(m,n.distance),k.style.left=j+"px"},m.ySetter=function(j){R.call(m,n.distance),k.style.top=j+"px"}}this.label.on("mouseenter",b).on("mouseleave",O).attr({zIndex:8}).add()}return this.label},h.prototype.getPosition=function(n,d,o){var R,r=this.chart,u=this.distance,c={},b=r.inverted&&o.h||0,O=this.outside,k=O?z.documentElement.clientWidth-2*u:r.chartWidth,_=O?Math.max(z.body.scrollHeight,z.documentElement.scrollHeight,z.body.offsetHeight,z.documentElement.offsetHeight,z.documentElement.clientHeight):r.chartHeight,A=r.pointer.getChartPosition(),B=function(N){var Z="x"===N;return[N,Z?k:_,Z?n:d].concat(O?[Z?n*A.scaleX:d*A.scaleY,Z?A.left-u+(o.plotX+r.plotLeft)*A.scaleX:A.top-u+(o.plotY+r.plotTop)*A.scaleY,0,Z?k:_]:[Z?n:d,Z?o.plotX+r.plotLeft:o.plotY+r.plotTop,Z?r.plotLeft:r.plotTop,Z?r.plotLeft+r.plotWidth:r.plotTop+r.plotHeight])},m=B("y"),T=B("x");B=!!o.negative,!r.polar&&r.hoverSeries&&r.hoverSeries.yAxis&&r.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&M(o.ttBelow,!r.inverted===B),X=function(N,Z,q,nt,it,ot,at){var mt=O?"y"===N?u*A.scaleY:u*A.scaleX:u,yt=(q-nt)/2,vt=nt<it-u,pt=it+u+nt<Z,ct=it-mt-q+yt;if(it=it+mt-yt,j&&pt)c[N]=it;else if(!j&&vt)c[N]=ct;else if(vt)c[N]=Math.min(at-nt,0>ct-b?ct:ct-b);else{if(!pt)return!1;c[N]=Math.max(ot,it+b+q>Z?it:it+b)}},$=function(N,Z,q,nt,it){var ot;return it<u||it>Z-u?ot=!1:c[N]=it<q/2?1:it>Z-nt/2?Z-nt-2:it-q/2,ot},D=function(N){var Z=m;m=T,T=Z,R=N},U=function(){!1!==X.apply(0,m)?!1!==$.apply(0,T)||R||(D(!0),U()):R?c.x=c.y=0:(D(!0),U())};return(r.inverted||1<this.len)&&D(),U(),c},h.prototype.hide=function(n){var d=this;W.clearTimeout(this.hideTimer),n=M(n,this.options.hideDelay),this.isHidden||(this.hideTimer=a(function(){d.getLabel().fadeOut(n&&void 0),d.isHidden=!0},n))},h.prototype.init=function(n,d){this.chart=n,this.options=d,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=d.split&&!n.inverted&&!n.polar,this.shared=d.shared||this.split,this.outside=M(d.outside,!(!n.scrollablePixelsX&&!n.scrollablePixelsY))},h.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},h.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},h.prototype.move=function(n,d,o,r){var u=this,c=u.now,b=!1!==u.options.animation&&!u.isHidden&&(1<Math.abs(n-c.x)||1<Math.abs(d-c.y)),O=u.followPointer||1<u.len;g(c,{x:b?(2*c.x+n)/3:n,y:b?(c.y+d)/2:d,anchorX:O?void 0:b?(2*c.anchorX+o)/3:o,anchorY:O?void 0:b?(c.anchorY+r)/2:r}),u.getLabel().attr(c),u.drawTracker(),b&&(W.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,d,o,r)},32))},h.prototype.refresh=function(n,d){var o=this.chart,r=this.options,u=p(n),c=u[0],b=[],O=r.formatter||this.defaultFormatter,k=this.shared,_=o.styledMode,A={};if(r.enabled){W.clearTimeout(this.hideTimer),this.allowShared=!(!S(n)&&n.series&&n.series.noSharedTooltip),this.followPointer=!this.split&&c.series.tooltipOptions.followPointer;var B=(n=this.getAnchor(n,d))[0],m=n[1];if(k&&this.allowShared?(o.pointer.applyInactiveState(u),u.forEach(function(j){j.setState("hover"),b.push(j.getLabelConfig())}),(A={x:c.category,y:c.y}).points=b):A=c.getLabelConfig(),this.len=b.length,O=O.call(A,this),this.distance=M((k=c.series).tooltipOptions.distance,16),!1===O)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(O,u);else{var T=B,R=m;if(d&&o.pointer.isDirectTouch&&(T=d.chartX-o.plotLeft,R=d.chartY-o.plotTop),!o.polar&&!1!==k.options.clip&&!u.some(function(j){return j.series.shouldShowTooltip(T,R)}))return void this.hide();d=this.getLabel(),r.style.width&&!_||d.css({width:this.chart.spacingBox.width+"px"}),d.attr({text:O&&O.join?O.join(""):O}),d.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+M(c.colorIndex,k.colorIndex)),_||d.attr({stroke:r.borderColor||c.color||k.color||"#666666"}),this.updatePosition({plotX:B,plotY:m,negative:c.negative,ttBelow:c.ttBelow,h:n[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}v(this,"refresh")}},h.prototype.renderSplit=function(n,d){function o(pt,ct,J,et,st){return void 0===st&&(st=!0),J?(ct=nt?0:mt,pt=w(pt-et/2,N.left,N.right-et-(r.outside?it:0))):(ct-=ot,pt=w(pt=st?pt-et-$:pt+$,st?pt:N.left,N.right)),{x:pt,y:ct}}var r=this,u=r.chart,c=r.chart,b=c.chartWidth,O=c.chartHeight,k=c.plotHeight,_=c.plotLeft,A=c.plotTop,B=c.pointer,m=c.scrollablePixelsY;m=void 0===m?0:m;var R=c.scrollingContainer,j=(R=void 0===R?{scrollLeft:0,scrollTop:0}:R).scrollLeft;R=R.scrollTop;var X=c.styledMode,$=r.distance,D=r.options,U=r.options.positioner,N=r.outside&&"number"!=typeof c.scrollablePixelsX?z.documentElement.getBoundingClientRect():{left:j,right:j+b,top:R,bottom:R+O},Z=r.getLabel(),q=this.renderer||u.renderer,nt=!(!u.xAxis[0]||!u.xAxis[0].opposite),it=(u=B.getChartPosition()).left;u=u.top;var ot=A+R,at=0,mt=k-m;C(n)&&(n=[!1,n]),n=n.slice(0,d.length+1).reduce(function(pt,ct,J){if(!1!==ct&&""!==ct){var et=(J=d[J-1]||{isHeader:!0,plotX:d[0].plotX,plotY:k,series:{}}).isHeader,st=et?r:J.series;ct=ct.toString();var ut=st.tt,dt=J.isHeader,xt=J.series,Et="highcharts-color-"+M(J.colorIndex,xt.colorIndex,"none");if(ut||(ut={padding:D.padding,r:D.borderRadius},X||(ut.fill=D.backgroundColor,ut["stroke-width"]=D.borderWidth),ut=q.label("",0,0,D[dt?"headerShape":"shape"],void 0,void 0,D.useHTML).addClass((dt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Et).attr(ut).add(Z)),ut.isActive=!0,ut.attr({text:ct}),X||ut.css(D.style).shadow(D.shadow).attr({stroke:D.borderColor||J.color||xt.color||"#333333"}),ct=(dt=(st=st.tt=ut).getBBox()).width+st.strokeWidth(),et&&(mt+=at=dt.height,nt&&(ot-=at)),xt=void 0===(xt=J.plotX)?0:xt,Et=void 0===(Et=J.plotY)?0:Et,ut=J.series,J.isHeader){xt=_+xt;var wt=A+k/2}else{var kt=ut.xAxis,Dt=ut.yAxis;xt=kt.pos+w(xt,-$,kt.len+$),ut.shouldShowTooltip(0,Dt.pos-A+Et,{ignoreX:!0})&&(wt=Dt.pos+Et)}xt=w(xt,N.left-$,N.right+$),"number"==typeof wt?(dt=dt.height+1,Et=U?U.call(r,ct,dt,J):o(xt,wt,et,ct),pt.push({align:U?0:void 0,anchorX:xt,anchorY:wt,boxWidth:ct,point:J,rank:M(Et.rank,et?1:0),size:dt,target:Et.y,tt:st,x:Et.x})):st.isActive=!1}return pt},[]),!U&&n.some(function(pt){var ct=(r.outside?it:0)+pt.anchorX;return ct<N.left&&ct+pt.boxWidth<N.right||ct<it-N.left+pt.boxWidth&&N.right-ct>ct})&&(n=n.map(function(pt){var ct=o(pt.anchorX,pt.anchorY,pt.point.isHeader,pt.boxWidth,!1);return g(pt,{target:ct.y,x:ct.x})})),r.cleanSplit(),I(n,mt);var yt=it,vt=it;n.forEach(function(pt){var ct=pt.x,J=pt.boxWidth;(pt=pt.isHeader)||(r.outside&&it+ct<yt&&(yt=it+ct),!pt&&r.outside&&yt+J>vt&&(vt=it+ct))}),n.forEach(function(pt){var ct=pt.x,J=pt.anchorX,et=pt.pos,st=pt.point.isHeader;if(et={visibility:void 0===et?"hidden":"inherit",x:ct,y:et+ot,anchorX:J,anchorY:pt.anchorY},r.outside&&ct<J){var ut=it-yt;0<ut&&(st||(et.x=ct+ut,et.anchorX=J+ut),st&&(et.x=(vt-yt)/2,et.anchorX=J+ut))}pt.tt.attr(et)}),n=r.container,m=r.renderer,r.outside&&n&&m&&(c=Z.getBBox(),m.setSize(c.width+c.x,c.height+c.y,!1),n.style.left=yt+"px",n.style.top=u+"px")},h.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var n=this.chart,d=this.label,o=this.shared?n.hoverPoints:n.hoverPoint;if(d&&o){var r={x:0,y:0,width:0,height:0};o=this.getAnchor(o);var u=d.getBBox();o[0]+=n.plotLeft-d.translateX,o[1]+=n.plotTop-d.translateY,r.x=Math.min(0,o[0]),r.y=Math.min(0,o[1]),r.width=0>o[0]?Math.max(Math.abs(o[0]),u.width-o[0]):Math.max(Math.abs(o[0]),u.width),r.height=0>o[1]?Math.max(Math.abs(o[1]),u.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),u.height),this.tracker?this.tracker.attr(r):(this.tracker=d.renderer.rect(r).addClass("highcharts-tracker").add(d),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},h.prototype.styledModeFormat=function(n){return n.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},h.prototype.tooltipFooterHeaderFormatter=function(n,d){var o=n.series,r=o.tooltipOptions,u=o.xAxis,c=u&&u.dateTime,b=r.xDateFormat,O=r[d?"footerFormat":"headerFormat"];return v(this,"headerFormatter",u={isFooter:d,labelConfig:n},function(k){c&&!b&&f(n.key)&&(b=c.getXDateFormat(n.key,r.dateTimeLabelFormats)),c&&b&&(n.point&&n.point.tooltipDateKeys||["key"]).forEach(function(_){O=O.replace("{point."+_+"}","{point."+_+":"+b+"}")}),o.chart.styledMode&&(O=this.styledModeFormat(O)),k.text=Y(O,{point:n,series:o},this.chart)}),u.text},h.prototype.update=function(n){this.destroy(),x(!0,this.chart.options.tooltip.userOptions,n),this.init(this.chart,x(!0,this.options,n))},h.prototype.updatePosition=function(n){var d=this.chart,o=this.options,r=d.pointer,u=this.getLabel();r=r.getChartPosition();var c=(o.positioner||this.getPosition).call(this,u.width,u.height,n),b=n.plotX+d.plotLeft;n=n.plotY+d.plotTop,this.outside&&(this.renderer.setSize(u.width+(o=o.borderWidth+2*this.distance),u.height+o,!1),(1!==r.scaleX||1!==r.scaleY)&&(E(this.container,{transform:"scale("+r.scaleX+", "+r.scaleY+")"}),b*=r.scaleX,n*=r.scaleY),b+=r.left-c.x,n+=r.top-c.y),this.move(Math.round(c.x),Math.round(c.y||0),b,n)},h}()}),lt(F,"Core/Series/Point.js",[F["Core/Renderer/HTML/AST.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=K.animObject,z=V.defaultOptions,I=Q.format,P=W.addEvent,w=W.defined,E=W.erase,s=W.extend,l=W.fireEvent,g=W.getNestedProperty,v=W.isArray,S=W.isFunction,f=W.isNumber,C=W.isObject,x=W.merge,M=W.objectEach,p=W.pick,a=W.syncTimeout,h=W.removeEvent,n=W.uniqueKey;return function(){function d(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return d.prototype.animateBeforeDestroy=function(){var o=this,r={x:o.startXPos,opacity:0},u=o.getGraphicalProps();u.singular.forEach(function(c){o[c]=o[c].animate("dataLabel"===c?{x:o[c].startXPos,y:o[c].startYPos,opacity:0}:r)}),u.plural.forEach(function(c){o[c].forEach(function(b){b.element&&b.animate(s({x:o.startXPos},b.startYPos?{x:b.startXPos,y:b.startYPos}:{}))})})},d.prototype.applyOptions=function(o,r){var u=this.series,c=u.options.pointValKey||u.pointValKey;return o=d.prototype.optionsToObject.call(this,o),s(this,o),this.options=this.options?s(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,c&&(this.y=d.prototype.getNestedProperty.call(this,c)),this.formatPrefix=(this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!f(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===r&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),void 0===this.x&&u?this.x=void 0===r?u.autoIncrement():r:f(o.x)&&u.options.relativeXValue&&(this.x=u.autoIncrement(o.x)),this},d.prototype.destroy=function(){function o(){for(k in(r.graphic||r.dataLabel||r.dataLabels)&&(h(r),r.destroyElements()),r)r[k]=null}var r=this,u=r.series,c=u.chart;u=u.options.dataSorting;var k,b=c.hoverPoints,O=Y(r.series.chart.renderer.globalAnimation);r.legendItem&&c.legend.destroyItem(r),b&&(r.setState(),E(b,r),b.length||(c.hoverPoints=null)),r===c.hoverPoint&&r.onMouseOut(),u&&u.enabled?(this.animateBeforeDestroy(),a(o,O.duration)):o(),c.pointCount--},d.prototype.destroyElements=function(o){var r=this;(o=r.getGraphicalProps(o)).singular.forEach(function(u){r[u]=r[u].destroy()}),o.plural.forEach(function(u){r[u].forEach(function(c){c.element&&c.destroy()}),delete r[u]})},d.prototype.firePointEvent=function(o,r,u){var c=this,b=this.series.options;(b.point.events[o]||c.options&&c.options.events&&c.options.events[o])&&c.importEvents(),"click"===o&&b.allowPointSelect&&(u=function(O){c.select&&c.select(null,O.ctrlKey||O.metaKey||O.shiftKey)}),l(c,o,r,u)},d.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},d.prototype.getGraphicalProps=function(o){var b,r=this,u=[],c={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","upperGraphic","shadowGroup"),o.dataLabel&&u.push("dataLabel","dataLabelUpper","connector"),b=u.length;b--;){var O=u[b];r[O]&&c.singular.push(O)}return["dataLabel","connector"].forEach(function(k){var _=k+"s";o[k]&&r[_]&&c.plural.push(_)}),c},d.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},d.prototype.getNestedProperty=function(o){if(o)return 0===o.indexOf("custom.")?g(o,this.options):this[o]},d.prototype.getZone=function(){var o=this.series,r=o.zones;o=o.zoneAxis||"y";var u,c=0;for(u=r[c];this[o]>=u.value;)u=r[++c];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=u&&u.color&&!this.options.color?u.color:this.nonZonedColor,u},d.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},d.prototype.init=function(o,r,u){return this.series=o,this.applyOptions(r,u),this.id=w(this.id)?this.id:n(),this.resolveColor(),o.chart.pointCount++,l(this,"afterInit"),this},d.prototype.optionsToObject=function(o){var r=this.series,u=r.options.keys,c=u||r.pointArrayMap||["y"],b=c.length,O={},k=0,_=0;if(f(o)||null===o)O[c[0]]=o;else if(v(o))for(!u&&o.length>b&&("string"==(r=typeof o[0])?O.name=o[0]:"number"===r&&(O.x=o[0]),k++);_<b;)u&&void 0===o[k]||(0<c[_].indexOf(".")?d.prototype.setNestedProperty(O,o[k],c[_]):O[c[_]]=o[k]),k++,_++;else"object"==typeof o&&(O=o,o.dataLabels&&(r._hasPointLabels=!0),o.marker&&(r._hasPointMarkers=!0));return O},d.prototype.resolveColor=function(){var o=this.series,r=o.chart.styledMode,u=o.chart.options.chart.colorCount;if(delete this.nonZonedColor,o.options.colorByPoint){if(!r){var c=(u=o.options.colors||o.chart.options.colors)[o.colorCounter];u=u.length}r=o.colorCounter,o.colorCounter++,o.colorCounter===u&&(o.colorCounter=0)}else r||(c=o.color),r=o.colorIndex;this.colorIndex=p(this.options.colorIndex,r),this.color=p(this.options.color,c)},d.prototype.setNestedProperty=function(o,r,u){return u.split(".").reduce(function(c,b,O,k){return c[b]=k.length-1===O?r:C(c[b],!0)?c[b]:{},c[b]},o),o},d.prototype.tooltipFormatter=function(o){var r=this.series,u=r.tooltipOptions,c=p(u.valueDecimals,""),b=u.valuePrefix||"",O=u.valueSuffix||"";return r.chart.styledMode&&(o=r.chart.tooltip.styledModeFormat(o)),(r.pointArrayMap||["y"]).forEach(function(k){k="{point."+k,(b||O)&&(o=o.replace(RegExp(k+"}","g"),b+k+"}"+O)),o=o.replace(RegExp(k+"}","g"),k+":,."+c+"f}")}),I(o,{point:this,series:this.series},r.chart)},d.prototype.update=function(o,r,u,c){function b(){O.applyOptions(o);var T=_&&O.hasDummyGraphic;T=null===O.y?!T:T,_&&T&&(O.graphic=_.destroy(),delete O.hasDummyGraphic),C(o,!0)&&(_&&_.element&&o&&o.marker&&void 0!==o.marker.symbol&&(O.graphic=_.destroy()),o&&o.dataLabels&&O.dataLabel&&(O.dataLabel=O.dataLabel.destroy()),O.connector&&(O.connector=O.connector.destroy())),k.updateParallelArrays(O,m=O.index),B.data[m]=C(B.data[m],!0)||C(o,!0)?O.options:p(o,B.data[m]),k.isDirty=k.isDirtyData=!0,!k.fixedBox&&k.hasCartesianSeries&&(A.isDirtyBox=!0),"point"===B.legendType&&(A.isDirtyLegend=!0),r&&A.redraw(u)}var m,O=this,k=O.series,_=O.graphic,A=k.chart,B=k.options;r=p(r,!0),!1===c?b():O.firePointEvent("update",{options:o},b)},d.prototype.remove=function(o,r){this.series.removePoint(this.series.data.indexOf(this),o,r)},d.prototype.select=function(o,r){var u=this,c=u.series,b=c.chart;this.selectedStaging=o=p(o,!u.selected),u.firePointEvent(o?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=o,c.options.data[c.data.indexOf(u)]=u.options,u.setState(o&&"select"),r||b.getSelectedPoints().forEach(function(O){var k=O.series;O.selected&&O!==u&&(O.selected=O.options.selected=!1,k.options.data[k.data.indexOf(O)]=O.options,O.setState(b.hoverPoints&&k.options.inactiveOtherPoints?"inactive":""),O.firePointEvent("unselect"))})}),delete this.selectedStaging},d.prototype.onMouseOver=function(o){var r=this.series.chart,u=r.pointer;o=o?u.normalize(o):u.getChartCoordinatesFromPoint(this,r.inverted),u.runPointActions(o,this)},d.prototype.onMouseOut=function(){var o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(r){r.setState()}),o.hoverPoints=o.hoverPoint=null},d.prototype.importEvents=function(){if(!this.hasImportedEvents){var o=this,r=x(o.series.options.point,o.options).events;o.events=r,M(r,function(u,c){S(u)&&P(o,c,u)}),this.hasImportedEvents=!0}},d.prototype.setState=function(o,r){var j,u=this.series,c=this.state,b=u.options.states[o||"normal"]||{},O=z.plotOptions[u.type].marker&&u.options.marker,_=O&&O.states&&O.states[o||"normal"]||{},B=this.marker||{},m=u.chart,T=O&&u.markerAttribs,R=u.halo,X=u.stateMarkerGraphic;if(!((o=o||"")===this.state&&!r||this.selected&&"select"!==o||!1===b.enabled||o&&(!1===_.enabled||O&&!1===O.enabled&&!1===_.enabled)||o&&B.states&&B.states[o]&&!1===B.states[o].enabled)){if(this.state=o,T&&(j=u.markerAttribs(this,o)),this.graphic&&!this.hasDummyGraphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),o&&this.graphic.addClass("highcharts-point-"+o),!m.styledMode){var $=u.pointAttribs(this,o),D=p(m.options.chart.animation,b.animation);u.options.inactiveOtherPoints&&f($.opacity)&&((this.dataLabels||[]).forEach(function(U){U&&U.animate({opacity:$.opacity},D)}),this.connector&&this.connector.animate({opacity:$.opacity},D)),this.graphic.animate($,D)}j&&this.graphic.animate(j,p(m.options.chart.animation,_.animation,O.animation)),X&&X.hide()}else o&&_&&(c=B.symbol||u.symbol,X&&X.currentSymbol!==c&&(X=X.destroy()),j&&(X?X[r?"animate":"attr"]({x:j.x,y:j.y}):c&&(u.stateMarkerGraphic=X=m.renderer.symbol(c,j.x,j.y,j.width,j.height).add(u.markerGroup),X.currentSymbol=c)),!m.styledMode&&X&&"inactive"!==this.state&&X.attr(u.pointAttribs(this,o))),X&&(X[o&&this.isInside?"show":"hide"](),X.element.point=this,X.addClass(this.getClassName(),!0));j=(X=this.graphic||X)&&X.visibility||"inherit",(b=b.halo)&&b.size&&X&&"hidden"!==j&&!this.isCluster?(R||(u.halo=R=m.renderer.path().add(X.parentGroup)),R.show()[r?"animate":"attr"]({d:this.haloPath(b.size)}),R.attr({class:"highcharts-halo highcharts-color-"+p(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),R.point=this,m.styledMode||R.attr(s({fill:this.color||u.color,"fill-opacity":b.opacity},H.filterUserAttributes(b.attributes||{})))):R&&R.point&&R.point.haloPath&&R.animate({d:R.point.haloPath(0)},null,R.hide),l(this,"afterSetState",{state:o})}},d.prototype.haloPath=function(o){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-o,this.plotY-o,2*o,2*o)},d}()}),lt(F,"Core/Pointer.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Tooltip.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var W=H.parse,Y=K.charts,z=K.noop,I=Q.addEvent,P=Q.attr,w=Q.css,E=Q.defined,s=Q.extend,l=Q.find,g=Q.fireEvent,v=Q.isNumber,S=Q.isObject,f=Q.objectEach,C=Q.offset,x=Q.pick,M=Q.splat;return function(){function p(a,h){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=a,this.hasDragged=!1,this.options=h,this.init(a,h)}return p.prototype.applyInactiveState=function(a){var n,h=[];(a||[]).forEach(function(d){h.push(n=d.series),n.linkedParent&&h.push(n.linkedParent),n.linkedSeries&&(h=h.concat(n.linkedSeries)),n.navigatorSeries&&h.push(n.navigatorSeries)}),this.chart.series.forEach(function(d){-1===h.indexOf(d)?d.setState("inactive",!0):d.options.inactiveOtherPoints&&d.setAllPointsToState("inactive")})},p.prototype.destroy=function(){var a=this;this.eventsToUnbind.forEach(function(h){return h()}),this.eventsToUnbind=[],K.chartCount||(p.unbindDocumentMouseUp&&(p.unbindDocumentMouseUp=p.unbindDocumentMouseUp()),p.unbindDocumentTouchEnd&&(p.unbindDocumentTouchEnd=p.unbindDocumentTouchEnd())),clearInterval(a.tooltipTimeout),f(a,function(h,n){a[n]=void 0})},p.prototype.drag=function(a){var h=this.chart,n=h.options.chart,d=this.zoomHor,o=this.zoomVert,r=h.plotLeft,u=h.plotTop,c=h.plotWidth,b=h.plotHeight,O=this.mouseDownX||0,k=this.mouseDownY||0,_=S(n.panning)?n.panning&&n.panning.enabled:n.panning,A=n.panKey&&a[n.panKey+"Key"],B=a.chartX,m=a.chartY,T=this.selectionMarker;if((!T||!T.touch)&&(B<r?B=r:B>r+c&&(B=r+c),m<u?m=u:m>u+b&&(m=u+b),this.hasDragged=Math.sqrt(Math.pow(O-B,2)+Math.pow(k-m,2)),10<this.hasDragged)){var R=h.isInsidePlot(O-r,k-u,{visiblePlotOnly:!0});!h.hasCartesianSeries&&!h.mapView||!this.zoomX&&!this.zoomY||!R||A||T||(this.selectionMarker=T=h.renderer.rect(r,u,d?1:c,o?1:b,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),h.styledMode||T.attr({fill:n.selectionMarkerFill||W("#335cad").setOpacity(.25).get()})),T&&d&&(d=B-O,T.attr({width:Math.abs(d),x:(0<d?0:d)+O})),T&&o&&(d=m-k,T.attr({height:Math.abs(d),y:(0<d?0:d)+k})),R&&!T&&_&&h.pan(a,n.panning)}},p.prototype.dragStart=function(a){var h=this.chart;h.mouseIsDown=a.type,h.cancelClick=!1,h.mouseDownX=this.mouseDownX=a.chartX,h.mouseDownY=this.mouseDownY=a.chartY},p.prototype.drop=function(a){var h=this,n=this.chart,d=this.hasPinched;if(this.selectionMarker){var o=this.selectionMarker,r=o.attr?o.attr("x"):o.x,u=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,b=o.attr?o.attr("height"):o.height,O={originalEvent:a,xAxis:[],yAxis:[],x:r,y:u,width:c,height:b},k=!!n.mapView;(this.hasDragged||d)&&(n.axes.forEach(function(_){if(_.zoomEnabled&&E(_.min)&&(d||h[{xAxis:"zoomX",yAxis:"zoomY"}[_.coll]])&&v(r)&&v(u)){var A=_.horiz,B="touchend"===a.type?_.minPixelPadding:0,m=_.toValue((A?r:u)+B);A=_.toValue((A?r+c:u+b)-B),O[_.coll].push({axis:_,min:Math.min(m,A),max:Math.max(m,A)}),k=!0}}),k&&g(n,"selection",O,function(_){n.zoom(s(_,d?{animation:!1}:null))})),v(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),d&&this.scaleGroups()}n&&v(n.index)&&(w(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},p.prototype.findNearestKDPoint=function(a,h,n){var r,d=this.chart,o=d.hoverPoint;return d=d.tooltip,o&&d&&d.isStickyOnContact()?o:(a.forEach(function(u){var c=!(u.noSharedTooltip&&h)&&0>u.options.findNearestPointBy.indexOf("y");if(u=u.searchPoint(n,c),(c=S(u,!0)&&u.series)&&!(c=!S(r,!0))){var b=r.dist-u.dist,O=(u.series.group&&u.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);c=0<(0!=(c=r.distX-u.distX)&&h?c:0!==b?b:0!==O?O:r.series.index>u.series.index?-1:1)}c&&(r=u)}),r)},p.prototype.getChartCoordinatesFromPoint=function(a,h){var n=a.series,d=n.xAxis;n=n.yAxis;var o=a.shapeArgs;if(d&&n){var r=x(a.clientX,a.plotX),u=a.plotY||0;return a.isNode&&o&&v(o.x)&&v(o.y)&&(r=o.x,u=o.y),h?{chartX:n.len+n.pos-u,chartY:d.len+d.pos-r}:{chartX:r+d.pos,chartY:u+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}},p.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var a=this.chart.container,h=C(a);this.chartPosition={left:h.left,top:h.top,scaleX:1,scaleY:1};var n=a.offsetWidth;return a=a.offsetHeight,2<n&&2<a&&(this.chartPosition.scaleX=h.width/n,this.chartPosition.scaleY=h.height/a),this.chartPosition},p.prototype.getCoordinates=function(a){var h={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(n){h[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(a[n.horiz?"chartX":"chartY"])})}),h},p.prototype.getHoverData=function(a,h,n,d,o,r){var u=[];d=!(!d||!a);var c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};g(this,"beforeGetHoverData",c);var b=h&&!h.stickyTracking?[h]:n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&k.stickyTracking}),O=d||!r?a:this.findNearestKDPoint(b,o,r);return h=O&&O.series,O&&(o&&!h.noSharedTooltip?(b=n.filter(function(k){return c.filter?c.filter(k):k.visible&&!(!o&&k.directTouch)&&x(k.options.enableMouseTracking,!0)&&!k.noSharedTooltip})).forEach(function(k){var _=l(k.points,function(A){return A.x===O.x&&!A.isNull});S(_)&&(k.chart.isBoosting&&(_=k.getPoint(_)),u.push(_))}):u.push(O)),g(this,"afterGetHoverData",c={hoverPoint:O}),{hoverPoint:c.hoverPoint,hoverSeries:h,hoverPoints:u}},p.prototype.getPointFromEvent=function(a){a=a.target;for(var h;a&&!h;)h=a.point,a=a.parentNode;return h},p.prototype.onTrackerMouseOut=function(a){a=a.relatedTarget||a.toElement;var h=this.chart.hoverSeries;this.isDirectTouch=!1,!h||!a||h.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+h.index)&&this.inClass(a,"highcharts-tracker")||h.onMouseOut()},p.prototype.inClass=function(a,h){for(var n;a;){if(n=P(a,"class")){if(-1!==n.indexOf(h))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}a=a.parentNode}},p.prototype.init=function(a,h){this.options=h,this.chart=a,this.runChartClick=!(!h.chart.events||!h.chart.events.click),this.pinchDown=[],this.lastValidTouch={},V&&(a.tooltip=new V(a,h.tooltip),this.followTouchMove=x(h.tooltip.followTouchMove,!0)),this.setDOMEvents()},p.prototype.normalize=function(a,h){var n=a.touches,d=n?n.length?n.item(0):x(n.changedTouches,a.changedTouches)[0]:a;return h||(h=this.getChartPosition()),n=d.pageX-h.left,d=d.pageY-h.top,n/=h.scaleX,d/=h.scaleY,s(a,{chartX:Math.round(n),chartY:Math.round(d)})},p.prototype.onContainerClick=function(a){var h=this.chart,n=h.hoverPoint;a=this.normalize(a);var d=h.plotLeft,o=h.plotTop;h.cancelClick||(n&&this.inClass(a.target,"highcharts-tracker")?(g(n.series,"click",s(a,{point:n})),h.hoverPoint&&n.firePointEvent("click",a)):(s(a,this.getCoordinates(a)),h.isInsidePlot(a.chartX-d,a.chartY-o,{visiblePlotOnly:!0})&&g(h,"click",a)))},p.prototype.onContainerMouseDown=function(a){var h=1==(1&(a.buttons||a.button));a=this.normalize(a),K.isFirefox&&0!==a.button&&this.onContainerMouseMove(a),(void 0===a.button||h)&&(this.zoomOption(a),h&&a.preventDefault&&a.preventDefault(),this.dragStart(a))},p.prototype.onContainerMouseLeave=function(a){var h=Y[x(p.hoverChartIndex,-1)],n=this.chart.tooltip;n&&n.shouldStickOnContact()&&this.inClass(a.relatedTarget,"highcharts-tooltip-container")||(a=this.normalize(a),h&&(a.relatedTarget||a.toElement)&&(h.pointer.reset(),h.pointer.chartPosition=void 0),n&&!n.isHidden&&this.reset())},p.prototype.onContainerMouseEnter=function(a){delete this.chartPosition},p.prototype.onContainerMouseMove=function(a){var h=this.chart;a=this.normalize(a),this.setHoverChartIndex(),a.preventDefault||(a.returnValue=!1),("mousedown"===h.mouseIsDown||this.touchSelect(a))&&this.drag(a),h.openMenu||!this.inClass(a.target,"highcharts-tracker")&&!h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||(this.inClass(a.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(a))},p.prototype.onDocumentTouchEnd=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.onContainerTouchMove=function(a){this.touchSelect(a)?this.onContainerMouseMove(a):this.touch(a)},p.prototype.onContainerTouchStart=function(a){this.touchSelect(a)?this.onContainerMouseDown(a):(this.zoomOption(a),this.touch(a,!0))},p.prototype.onDocumentMouseMove=function(a){var h=this.chart,n=this.chartPosition;a=this.normalize(a,n);var d=h.tooltip;!n||d&&d.isStickyOnContact()||h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop,{visiblePlotOnly:!0})||this.inClass(a.target,"highcharts-tracker")||this.reset()},p.prototype.onDocumentMouseUp=function(a){var h=Y[x(p.hoverChartIndex,-1)];h&&h.pointer.drop(a)},p.prototype.pinch=function(a){var h=this,n=h.chart,d=h.pinchDown,o=a.touches||[],r=o.length,u=h.lastValidTouch,c=h.hasZoom,b={},O=1===r&&(h.inClass(a.target,"highcharts-tracker")&&n.runTrackerClick||h.runChartClick),k={},_=h.selectionMarker;1<r?h.initiated=!0:1===r&&this.followTouchMove&&(h.initiated=!1),c&&h.initiated&&!O&&!1!==a.cancelable&&a.preventDefault(),[].map.call(o,function(A){return h.normalize(A)}),"touchstart"===a.type?([].forEach.call(o,function(A,B){d[B]={chartX:A.chartX,chartY:A.chartY}}),u.x=[d[0].chartX,d[1]&&d[1].chartX],u.y=[d[0].chartY,d[1]&&d[1].chartY],n.axes.forEach(function(A){if(A.zoomEnabled){var B=n.bounds[A.horiz?"h":"v"],m=A.minPixelPadding,T=A.toPixels(Math.min(x(A.options.min,A.dataMin),A.dataMin)),R=A.toPixels(Math.max(x(A.options.max,A.dataMax),A.dataMax)),j=Math.max(T,R);B.min=Math.min(A.pos,Math.min(T,R)-m),B.max=Math.max(A.pos+A.len,j+m)}}),h.res=!0):h.followTouchMove&&1===r?this.runPointActions(h.normalize(a)):d.length&&(g(n,"touchpan",{originalEvent:a},function(){_||(h.selectionMarker=_=s({destroy:z,touch:!0},n.plotBox)),h.pinchTranslate(d,o,b,_,k,u),h.hasPinched=c,h.scaleGroups(b,k)}),h.res&&(h.res=!1,this.reset(!1,0)))},p.prototype.pinchTranslate=function(a,h,n,d,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,a,h,n,d,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,a,h,n,d,o,r)},p.prototype.pinchTranslateDirection=function(a,h,n,d,o,r,u,c){var b=this.chart,O=a?"x":"y",k=a?"X":"Y",_="chart"+k,A=a?"width":"height",B=b["plot"+(a?"Left":"Top")],m=b.inverted,T=b.bounds[a?"h":"v"],R=1===h.length,j=h[0][_],X=!R&&h[1][_];h=function(){"number"==typeof Z&&20<Math.abs(j-X)&&(U=c||Math.abs(N-Z)/Math.abs(j-X)),D=(B-N)/U+j,$=b["plot"+(a?"Width":"Height")]/U};var $,D,U=c||1,N=n[0][_],Z=!R&&n[1][_];if(h(),(n=D)<T.min){n=T.min;var q=!0}else n+$>T.max&&(n=T.max-$,q=!0);q?(N-=.8*(N-u[O][0]),"number"==typeof Z&&(Z-=.8*(Z-u[O][1])),h()):u[O]=[N,Z],m||(r[O]=D-B,r[A]=$),r=m?1/U:U,o[A]=$,o[O]=n,d[m?a?"scaleY":"scaleX":"scale"+k]=U,d["translate"+k]=r*B+(N-r*j)},p.prototype.reset=function(a,h){var n=this.chart,d=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,u=n.tooltip,c=u&&u.shared?r:o;a&&c&&M(c).forEach(function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?u&&c&&M(c).length&&(u.refresh(c),u.shared&&r?r.forEach(function(b){b.setState(b.state,!0),b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):o&&(o.setState(o.state,!0),n.axes.forEach(function(b){b.crosshair&&o.series[b.coll]===b&&b.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),r&&r.forEach(function(b){b.setState()}),d&&d.onMouseOut(),u&&u.hide(h),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(b){b.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},p.prototype.runPointActions=function(a,h){var n=this.chart,d=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,o=!!d&&d.shared,r=h||n.hoverPoint,u=r&&r.series||n.hoverSeries;r=(h=this.getHoverData(r,u,n.series,(!a||"touchmove"!==a.type)&&(!!h||u&&u.directTouch&&this.isDirectTouch),o,a)).hoverPoint;var c=h.hoverPoints;if(h=(u=h.hoverSeries)&&u.tooltipOptions.followPointer&&!u.tooltipOptions.split,o=o&&u&&!u.noSharedTooltip,r&&(r!==n.hoverPoint||d&&d.isHidden)){if((n.hoverPoints||[]).forEach(function(b){-1===c.indexOf(b)&&b.setState()}),n.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(c),(c||[]).forEach(function(b){b.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!r.series)return;n.hoverPoints=c,n.hoverPoint=r,r.firePointEvent("mouseOver"),d&&d.refresh(o?c:r,a)}else h&&d&&!d.isHidden&&(r=d.getAnchor([{}],a),n.isInsidePlot(r[0],r[1],{visiblePlotOnly:!0})&&d.updatePosition({plotX:r[0],plotY:r[1]}));this.unDocMouseMove||(this.unDocMouseMove=I(n.container.ownerDocument,"mousemove",function(b){var O=Y[p.hoverChartIndex];O&&O.pointer.onDocumentMouseMove(b)}),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(b){var k,O=x((b.crosshair||{}).snap,!0);O&&((k=n.hoverPoint)&&k.series[b.coll]===b||(k=l(c,function(_){return _.series[b.coll]===b}))),k||!O?b.drawCrosshair(a,k):b.hideCrosshair()})},p.prototype.scaleGroups=function(a,h){var n=this.chart;n.series.forEach(function(d){var o=a||d.getPlotBox();d.group&&(d.xAxis&&d.xAxis.zoomEnabled||n.mapView)&&(d.group.attr(o),d.markerGroup&&(d.markerGroup.attr(o),d.markerGroup.clip(h?n.clipRect:null)),d.dataLabelsGroup&&d.dataLabelsGroup.attr(o))}),n.clipRect.attr(h||n.clipBox)},p.prototype.setDOMEvents=function(){var a=this,h=this.chart.container,n=h.ownerDocument;h.onmousedown=this.onContainerMouseDown.bind(this),h.onmousemove=this.onContainerMouseMove.bind(this),h.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(I(h,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(I(h,"mouseleave",this.onContainerMouseLeave.bind(this))),p.unbindDocumentMouseUp||(p.unbindDocumentMouseUp=I(n,"mouseup",this.onDocumentMouseUp.bind(this)));for(var d=this.chart.renderTo.parentElement;d&&"BODY"!==d.tagName;)this.eventsToUnbind.push(I(d,"scroll",function(){delete a.chartPosition})),d=d.parentElement;K.hasTouch&&(this.eventsToUnbind.push(I(h,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(I(h,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),p.unbindDocumentTouchEnd||(p.unbindDocumentTouchEnd=I(n,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},p.prototype.setHoverChartIndex=function(){var a=this.chart,h=K.charts[x(p.hoverChartIndex,-1)];h&&h!==a&&h.pointer.onContainerMouseLeave({relatedTarget:!0}),h&&h.mouseIsDown||(p.hoverChartIndex=a.index)},p.prototype.touch=function(a,h){var n=this.chart;if(this.setHoverChartIndex(),1===a.touches.length)if(a=this.normalize(a),n.isInsidePlot(a.chartX-n.plotLeft,a.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu){if(h&&this.runPointActions(a),"touchmove"===a.type)var o=!!(h=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(h[0].chartX-a.chartX,2)+Math.pow(h[0].chartY-a.chartY,2));x(o,!0)&&this.pinch(a)}else h&&this.reset();else 2===a.touches.length&&this.pinch(a)},p.prototype.touchSelect=function(a){return!(!this.chart.options.chart.zoomBySingleTouch||!a.touches||1!==a.touches.length)},p.prototype.zoomOption=function(a){var h=this.chart,n=h.options.chart;h=h.inverted;var d=n.zoomType||"";/touch/.test(a.type)&&(d=x(n.pinchType,d)),this.zoomX=a=/x/.test(d),this.zoomY=n=/y/.test(d),this.zoomHor=a&&!h||n&&h,this.zoomVert=n&&!h||a&&h,this.hasZoom=a||n},p}()}),lt(F,"Core/MSPointer.js",[F["Core/Globals.js"],F["Core/Pointer.js"],F["Core/Utilities.js"]],function(H,K,V){function Q(){var f=[];return f.item=function(C){return this[C]},l(v,function(C){f.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),f}function W(f,C,x,M){var p=z[K.hoverChartIndex||NaN];"touch"!==f.pointerType&&f.pointerType!==f.MSPOINTER_TYPE_TOUCH||!p||(p=p.pointer,M(f),p[C]({type:x,target:f.currentTarget,preventDefault:P,touches:Q()}))}var f,Y=this&&this.__extends||(f=function(C,x){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,p){M.__proto__=p}||function(M,p){for(var a in p)p.hasOwnProperty(a)&&(M[a]=p[a])})(C,x)},function(C,x){function M(){this.constructor=C}f(C,x),C.prototype=null===x?Object.create(x):(M.prototype=x.prototype,new M)}),z=H.charts,I=H.doc,P=H.noop,w=H.win,E=V.addEvent,s=V.css,l=V.objectEach,g=V.removeEvent,v={},S=!!w.PointerEvent;return function(f){function C(){return null!==f&&f.apply(this,arguments)||this}return Y(C,f),C.isRequired=function(){return!(H.hasTouch||!w.PointerEvent&&!w.MSPointerEvent)},C.prototype.batchMSEvents=function(x){x(this.chart.container,S?"pointerdown":"MSPointerDown",this.onContainerPointerDown),x(this.chart.container,S?"pointermove":"MSPointerMove",this.onContainerPointerMove),x(I,S?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(g),f.prototype.destroy.call(this)},C.prototype.init=function(x,M){f.prototype.init.call(this,x,M),this.hasZoom&&s(x.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(x){W(x,"onContainerTouchStart","touchstart",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY,target:M.currentTarget}})},C.prototype.onContainerPointerMove=function(x){W(x,"onContainerTouchMove","touchmove",function(M){v[M.pointerId]={pageX:M.pageX,pageY:M.pageY},v[M.pointerId].target||(v[M.pointerId].target=M.currentTarget)})},C.prototype.onDocumentPointerUp=function(x){W(x,"onDocumentTouchEnd","touchend",function(M){delete v[M.pointerId]})},C.prototype.setDOMEvents=function(){f.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(E)},C}(K)}),lt(F,"Core/Legend/Legend.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Point.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.animObject,I=H.setAnimation,P=K.format;H=V.isFirefox;var w=V.marginNames;V=V.win;var E=W.distribute,s=Y.addEvent,l=Y.createElement,g=Y.css,v=Y.defined,S=Y.discardElement,f=Y.find,C=Y.fireEvent,x=Y.isNumber,M=Y.merge,p=Y.pick,a=Y.relativeLength,h=Y.stableSort,n=Y.syncTimeout;return W=Y.wrap,Y=function(){function d(o,r){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=o,this.init(o,r)}return d.prototype.init=function(o,r){this.chart=o,this.setOptions(r),r.enabled&&(this.render(),s(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=s(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},d.prototype.setOptions=function(o){var r=p(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=M(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop||0,this.itemMarginBottom=o.itemMarginBottom||0,this.padding=r,this.initialItemY=r-5,this.symbolWidth=p(o.symbolWidth,16),this.pages=[],this.proximate="proximate"===o.layout&&!this.chart.inverted,this.baseline=void 0},d.prototype.update=function(o,r){var u=this.chart;this.setOptions(M(!0,this.options,o)),this.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,p(r,!0)&&u.redraw(),C(this,"afterUpdate")},d.prototype.colorizeItem=function(o,r){if(o.legendGroup[r?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var u=this.options,c=o.legendItem,b=o.legendLine,O=o.legendSymbol,k=this.itemHiddenStyle.color;u=r?u.itemStyle.color:k;var _=r&&o.color||k,A=o.options&&o.options.marker,B={fill:_};c&&c.css({fill:u,color:u}),b&&b.attr({stroke:_}),O&&(A&&O.isMarker&&(B=o.pointAttribs(),r||(B.stroke=B.fill=k)),O.attr(B))}C(this,"afterColorizeItem",{item:o,visible:r})},d.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},d.prototype.positionItem=function(o){var r=this,u=this.options,c=u.symbolPadding,b=!u.rtl,O=o._legendItemPos;u=O[0],O=O[1];var k=o.checkbox,_=o.legendGroup;_&&_.element&&(c={translateX:b?u:this.legendWidth-u-2*c-4,translateY:O},b=function(){C(r,"afterPositionItem",{item:o})},v(_.translateY)?_.animate(c,void 0,b):(_.attr(c),b())),k&&(k.x=u,k.y=O)},d.prototype.destroyItem=function(o){var r=o.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(u){o[u]&&(o[u]=o[u].destroy())}),r&&S(o.checkbox)},d.prototype.destroy=function(){function o(r){this[r]&&(this[r]=this[r].destroy())}this.getAllItems().forEach(function(r){["legendItem","legendGroup"].forEach(o,r)}),"clipRect up down pager nav box title group".split(" ").forEach(o,this),this.display=null},d.prototype.positionCheckboxes=function(){var o=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,u=this.titleHeight;if(o){var c=o.translateY;this.allItems.forEach(function(b){var O=b.checkbox;if(O){var k=c+u+O.y+(this.scrollOffset||0)+3;g(O,{left:o.translateX+b.checkboxOffset+O.x-20+"px",top:k+"px",display:this.proximate||k>c-6&&k<c+r-6?"":"none"})}},this)}},d.prototype.renderTitle=function(){var o=this.options,r=this.padding,u=o.title,c=0;u.text&&(this.title||(this.title=this.chart.renderer.label(u.text,r-3,r-4,null,null,null,o.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(u.style),this.title.add(this.group)),u.width||this.title.css({width:this.maxLegendWidth+"px"}),c=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},d.prototype.setText=function(o){var r=this.options;o.legendItem.attr({text:r.labelFormat?P(r.labelFormat,o,this.chart):r.labelFormatter.call(o)})},d.prototype.renderItem=function(o){var r=this.chart,u=r.renderer,c=this.options,b=this.symbolWidth,O=c.symbolPadding||0,k=this.itemStyle,_=this.itemHiddenStyle,A="horizontal"===c.layout?p(c.itemDistance,20):0,B=!c.rtl,m=!o.series,T=!m&&o.series.drawLegendSymbol?o.series:o,R=T.options,j=this.createCheckboxForItem&&R&&R.showCheckbox,X=c.useHTML,$=o.options.className,D=o.legendItem;R=b+O+A+(j?20:0),D||(o.legendGroup=u.g("legend-item").addClass("highcharts-"+T.type+"-series highcharts-color-"+o.colorIndex+($?" "+$:"")+(m?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.legendItem=D=u.text("",B?b+O:-O,this.baseline||0,X),r.styledMode||D.css(M(o.visible?k:_)),D.attr({align:B?"left":"right",zIndex:2}).add(o.legendGroup),this.baseline||(this.fontMetrics=u.fontMetrics(r.styledMode?12:k.fontSize,D),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,D.attr("y",this.baseline),this.symbolHeight=c.symbolHeight||this.fontMetrics.f,c.squareSymbol&&(this.symbolWidth=p(c.symbolWidth,Math.max(this.symbolHeight,16)),R=this.symbolWidth+O+A+(j?20:0),B&&D.attr("x",this.symbolWidth+O))),T.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,D,X)),j&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),!r.styledMode&&k.width||D.css({width:(c.itemWidth||this.widthOption||r.spacingBox.width)-R+"px"}),this.setText(o),r=D.getBBox(),u=this.fontMetrics&&this.fontMetrics.h||0,o.itemWidth=o.checkboxOffset=c.itemWidth||o.legendItemWidth||r.width+R,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(o.legendItemHeight||(r.height>1.5*u?r.height:u))},d.prototype.layoutItem=function(o){var r=this.options,u=this.padding,c="horizontal"===r.layout,b=o.itemHeight,O=this.itemMarginBottom,k=this.itemMarginTop,_=c?p(r.itemDistance,20):0,A=this.maxLegendWidth;r=r.alignColumns&&this.totalItemWidth>A?this.maxItemWidth:o.itemWidth,c&&this.itemX-u+r>A&&(this.itemX=u,this.lastLineHeight&&(this.itemY+=k+this.lastLineHeight+O),this.lastLineHeight=0),this.lastItemY=k+this.itemY+O,this.lastLineHeight=Math.max(b,this.lastLineHeight),o._legendItemPos=[this.itemX,this.itemY],c?this.itemX+=r:(this.itemY+=k+b+O,this.lastLineHeight=b),this.offsetWidth=this.widthOption||Math.max((c?this.itemX-u-(o.checkbox?0:_):r)+u,this.offsetWidth)},d.prototype.getAllItems=function(){var o=[];return this.chart.series.forEach(function(r){var u=r&&r.options;r&&p(u.showInLegend,!v(u.linkedTo)&&void 0,!0)&&(o=o.concat(r.legendItems||("point"===u.legendType?r.data:r)))}),C(this,"afterGetAllItems",{allItems:o}),o},d.prototype.getAlignment=function(){var o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)},d.prototype.adjustMargins=function(o,r){var u=this.chart,c=this.options,b=this.getAlignment();b&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(O,k){O.test(b)&&!v(o[k])&&(u[w[k]]=Math.max(u[w[k]],u.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*c[k%2?"x":"y"]+p(c.margin,12)+r[k]+(u.titleOffset[k]||0)))})},d.prototype.proximatePositions=function(){var o=this.chart,r=[],u="left"===this.options.align;this.allItems.forEach(function(c){var b,O=u;if(c.yAxis){c.xAxis.options.reversed&&(O=!O),c.points&&(b=f(O?c.points:c.points.slice(0).reverse(),function(_){return x(_.plotY)})),O=this.itemMarginTop+c.legendItem.getBBox().height+this.itemMarginBottom;var k=c.yAxis.top-o.plotTop;c.visible?(b=b?b.plotY:c.yAxis.height,b+=k-.3*O):b=k+c.yAxis.height,r.push({target:b,size:O,item:c})}},this),E(r,o.plotHeight).forEach(function(c){c.item._legendItemPos&&(c.item._legendItemPos[1]=o.plotTop-o.spacing[0]+c.pos)})},d.prototype.render=function(){var o=this.chart,r=o.renderer,u=this.options,c=this.padding,b=this.getAllItems(),O=this.group,k=this.box;this.itemX=c,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=a(u.width,o.spacingBox.width-c);var _=o.spacingBox.width-2*c-u.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(_/=2),this.maxLegendWidth=this.widthOption||_,O||(this.group=O=r.g("legend").addClass(u.className||"").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(O),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),h(b,function(B,m){return(B.options&&B.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)}),u.reversed&&b.reverse(),this.allItems=b,this.display=_=!!b.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,b.forEach(this.renderItem,this),b.forEach(this.layoutItem,this),b=(this.widthOption||this.offsetWidth)+c;var A=this.lastItemY+this.lastLineHeight+this.titleHeight;A=this.handleOverflow(A),A+=c,k||(this.box=k=r.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(O),k.isNew=!0),o.styledMode||k.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<b&&0<A&&(k[k.isNew?"attr":"animate"](k.crisp.call({},{x:0,y:0,width:b,height:A},k.strokeWidth())),k.isNew=!1),k[_?"show":"hide"](),o.styledMode&&"none"===O.getStyle("display")&&(b=A=0),this.legendWidth=b,this.legendHeight=A,_&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},d.prototype.align=function(o){void 0===o&&(o=this.chart.spacingBox);var r=this.chart,u=this.options,c=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<r.titleOffset[0]?c+=r.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<r.titleOffset[2]&&(c-=r.titleOffset[2]),c!==o.y&&(o=M(o,{y:c})),this.group.align(M(u,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,o)},d.prototype.handleOverflow=function(o){var D,U,r=this,u=this.chart,c=u.renderer,b=this.options,O=b.y,k="top"===b.verticalAlign,_=this.padding,A=b.maxHeight,B=b.navigation,m=p(B.animation,!0),T=B.arrowSize||12,R=this.pages,j=this.allItems,X=function(q){"number"==typeof q?Z.attr({height:q}):Z&&(r.clipRect=Z.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=q?"rect("+_+"px,9999px,"+(_+q)+"px,0)":"auto")},$=function(q){return r[q]=c.circle(0,0,1.3*T).translate(T/2,T/2).add(N),u.styledMode||r[q].attr("fill","rgba(0,0,0,0.0001)"),r[q]};O=u.spacingBox.height+(k?-O:O)-_;var N=this.nav,Z=this.clipRect;return"horizontal"!==b.layout||"middle"===b.verticalAlign||b.floating||(O/=2),A&&(O=Math.min(O,A)),R.length=0,o&&0<O&&o>O&&!1!==B.enabled?(this.clipHeight=D=Math.max(O-20-this.titleHeight-_,0),this.currentPage=p(this.currentPage,1),this.fullHeight=o,j.forEach(function(q,nt){var it=q._legendItemPos[1],ot=Math.round(q.legendItem.getBBox().height),at=R.length;(!at||it-R[at-1]>D&&(U||it)!==R[at-1])&&(R.push(U||it),at++),q.pageIx=at-1,U&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-R[at-1]>D&&ot<=D&&(R.push(it),q.pageIx=at),it!==U&&(U=it)}),Z||(Z=r.clipRect=c.clipRect(0,_,9999,0),r.contentGroup.clip(Z)),X(D),N||(this.nav=N=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,T,T).add(N),$("upTracker").on("click",function(){r.scroll(-1,m)}),this.pager=c.text("",15,10).addClass("highcharts-legend-navigation"),u.styledMode||this.pager.css(B.style),this.pager.add(N),this.down=c.symbol("triangle-down",0,0,T,T).add(N),$("downTracker").on("click",function(){r.scroll(1,m)})),r.scroll(0),o=O):N&&(X(),this.nav=N.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o},d.prototype.scroll=function(o,r){var u=this,c=this.chart,b=this.pages,O=b.length,k=this.clipHeight,_=this.options.navigation,A=this.pager,B=this.padding,m=this.currentPage+o;m>O&&(m=O),0<m&&(void 0!==r&&I(r,c),this.nav.attr({translateX:B,translateY:k+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(T){T.attr({class:1===m?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),A.attr({text:m+"/"+O}),[this.down,this.downTracker].forEach(function(T){T.attr({x:18+this.pager.getBBox().width,class:m===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:1===m?_.inactiveColor:_.activeColor}),this.upTracker.css({cursor:1===m?"default":"pointer"}),this.down.attr({fill:m===O?_.inactiveColor:_.activeColor}),this.downTracker.css({cursor:m===O?"default":"pointer"})),this.scrollOffset=-b[m-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=m,this.positionCheckboxes(),o=z(p(r,c.renderer.globalAnimation,!0)),n(function(){C(u,"afterScroll",{currentPage:m})},o.duration))},d.prototype.setItemEvents=function(o,r,u){var c=this,b=c.chart.renderer.boxWrapper,O=o instanceof Q,k="highcharts-legend-"+(O?"point":"series")+"-active",_=c.chart.styledMode,A=function(B){c.allItems.forEach(function(m){o!==m&&[m].concat(m.linkedSeries||[]).forEach(function(T){T.setState(B,!O)})})};(u?[r,o.legendSymbol]:[o.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){o.visible&&A("inactive"),o.setState("hover"),o.visible&&b.addClass(k),_||r.css(c.options.itemHoverStyle)}).on("mouseout",function(){c.chart.styledMode||r.css(M(o.visible?c.itemStyle:c.itemHiddenStyle)),A(""),b.removeClass(k),o.setState()}).on("click",function(m){var T=function(){o.setVisible&&o.setVisible(),A(o.visible?"inactive":"")};b.removeClass(k),m={browserEvent:m},o.firePointEvent?o.firePointEvent("legendItemClick",m,T):C(o,"legendItemClick",m,T)})})},d.prototype.createCheckboxForItem=function(o){o.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),s(o.checkbox,"click",function(r){C(o.series||o,"checkboxClick",{checked:r.target.checked,item:o},function(){o.select()})})},d}(),(/Trident\/7\.0/.test(V.navigator&&V.navigator.userAgent)||H)&&W(Y.prototype,"positionItem",function(d,o){var r=this,u=function(){o._legendItemPos&&d.call(r,o)};u(),r.bubbleLegend||setTimeout(u)}),Y}),lt(F,"Core/Series/SeriesRegistry.js",[F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=K.defaultOptions,Y=Q.error,z=Q.extendClass,I=Q.merge;return function(w){function E(s,l){var g=W.plotOptions||{},v=l.defaultOptions;l.prototype.pointClass||(l.prototype.pointClass=V),l.prototype.type=s,v&&(g[s]=v),w.seriesTypes[s]=l}w.seriesTypes=H.seriesTypes,w.getSeries=function(s,l){void 0===l&&(l={});var g=s.options.chart,v=w.seriesTypes[g=l.type||g.type||g.defaultSeriesType||""];return w||Y(17,!0,s,{missingModuleFor:g}),"function"==typeof(g=new v).init&&g.init(s,l),g},w.registerSeriesType=E,w.seriesType=function(s,l,g,v,S){var f=W.plotOptions||{};return f[s]=I(f[l=l||""],g),E(s,z(w.seriesTypes[l]||function(){},v)),w.seriesTypes[s].prototype.type=s,S&&(w.seriesTypes[s].prototype.pointClass=z(V,S)),w.seriesTypes[s]}}(P||(P={})),P}),lt(F,"Core/Chart/Chart.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/FormatUtilities.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/Legend.js"],F["Core/MSPointer.js"],F["Core/DefaultOptions.js"],F["Core/Pointer.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Time.js"],F["Core/Utilities.js"],F["Core/Renderer/HTML/AST.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v){var S=H.animate,f=H.animObject,C=H.setAnimation,x=V.numberFormat,M=Q.registerEventOptions,p=W.charts,a=W.doc,h=W.marginNames,n=W.svg,d=W.win,o=I.defaultOptions,r=I.defaultTime,u=E.seriesTypes,c=g.addEvent,b=g.attr,O=g.cleanRecursively,k=g.createElement,_=g.css,A=g.defined,B=g.discardElement,m=g.erase,T=g.error,R=g.extend,j=g.find,X=g.fireEvent,$=g.getStyle,D=g.isArray,U=g.isNumber,N=g.isObject,Z=g.isString,q=g.merge,nt=g.objectEach,it=g.pick,ot=g.pInt,at=g.relativeLength,mt=g.removeEvent,yt=g.splat,vt=g.syncTimeout,pt=g.uniqueKey;return H=function(){function ct(J,et,st){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(J,et,st)}return ct.chart=function(J,et,st){return new ct(J,et,st)},ct.prototype.getArgs=function(J,et,st){Z(J)||J.nodeName?(this.renderTo=J,this.init(et,st)):this.init(J,et)},ct.prototype.init=function(J,et){var st=J.plotOptions||{};X(this,"init",{args:arguments},function(){var ut=q(o,J),dt=ut.chart;nt(ut.plotOptions,function(xt,Et){N(xt)&&(xt.tooltip=st[Et]&&q(st[Et].tooltip)||void 0)}),ut.tooltip.userOptions=J.chart&&J.chart.forExport&&J.tooltip.userOptions||J.tooltip,this.userOptions=J,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=et,this.isResizing=0,this.options=ut,this.axes=[],this.series=[],this.time=J.time&&Object.keys(J.time).length?new l(J.time):W.time,this.numberFormatter=dt.numberFormatter||x,this.styledMode=dt.styledMode,this.hasCartesianSeries=dt.showAxes,this.index=p.length,p.push(this),W.chartCount++,M(this,dt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,X(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(J){var et=this.options.chart,st=u[et=J.type||et.type||et.defaultSeriesType];return st||T(17,!0,this,{missingModuleFor:et}),"function"==typeof(et=new st).init&&et.init(this,J),et},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(J){J.points||J.data||!J.enabledDataSorting||J.setData(J.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(J,et){return J.linkedSeries.length||et.linkedSeries.length?et.linkedSeries.length-J.linkedSeries.length:0})},ct.prototype.orderSeries=function(J){var et=this.series;J=J||0;for(var st=et.length;J<st;++J)et[J]&&(et[J].index=J,et[J].name=et[J].getName())},ct.prototype.isInsidePlot=function(J,et,st){void 0===st&&(st={});var ut=this.inverted,dt=this.plotBox,xt=this.plotLeft,Et=this.plotTop,wt=this.scrollablePlotBox,kt=0,Dt=0;st.visiblePlotOnly&&this.scrollingContainer&&(kt=(Dt=this.scrollingContainer).scrollLeft,Dt=Dt.scrollTop);var bt=st.series;if(dt=st.visiblePlotOnly&&wt||dt,J={x:wt=st.inverted?et:J,y:et=st.inverted?J:et,isInsidePlot:!0},!st.ignoreX){var Lt=bt&&(ut?bt.yAxis:bt.xAxis)||{pos:xt,len:1/0};(wt=st.paneCoordinates?Lt.pos+wt:xt+wt)>=Math.max(kt+xt,Lt.pos)&&wt<=Math.min(kt+xt+dt.width,Lt.pos+Lt.len)||(J.isInsidePlot=!1)}return!st.ignoreY&&J.isInsidePlot&&(ut=bt&&(ut?bt.xAxis:bt.yAxis)||{pos:Et,len:1/0},(st=st.paneCoordinates?ut.pos+et:Et+et)>=Math.max(Dt+Et,ut.pos)&&st<=Math.min(Dt+Et+dt.height,ut.pos+ut.len)||(J.isInsidePlot=!1)),X(this,"afterIsInsidePlot",J),J.isInsidePlot},ct.prototype.redraw=function(J){X(this,"beforeRedraw");var et=this.hasCartesianSeries?this.axes:this.colorAxis||[],st=this.series,ut=this.pointer,dt=this.legend,xt=this.userOptions.legend,Et=this.renderer,wt=Et.isHidden(),kt=[],Dt=this.isDirtyBox,bt=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&J,this),wt&&this.temporaryDisplay(),this.layOutTitles(),J=st.length;J--;){var Lt=st[J];if(Lt.options.stacking||Lt.options.centerInCategory){var Rt=!0;if(Lt.isDirty){var Nt=!0;break}}}if(Nt)for(J=st.length;J--;)(Lt=st[J]).options.stacking&&(Lt.isDirty=!0);st.forEach(function(Ot){Ot.isDirty&&("point"===Ot.options.legendType?("function"==typeof Ot.updateTotals&&Ot.updateTotals(),bt=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(bt=!0)),Ot.isDirtyData&&X(Ot,"updatedData")}),bt&&dt&&dt.options.enabled&&(dt.render(),this.isDirtyLegend=!1),Rt&&this.getStacks(),et.forEach(function(Ot){Ot.updateNames(),Ot.setScale()}),this.getMargins(),et.forEach(function(Ot){Ot.isDirty&&(Dt=!0)}),et.forEach(function(Ot){var Wt=Ot.min+","+Ot.max;Ot.extKey!==Wt&&(Ot.extKey=Wt,kt.push(function(){X(Ot,"afterSetExtremes",R(Ot.eventArgs,Ot.getExtremes())),delete Ot.eventArgs})),(Dt||Rt)&&Ot.redraw()}),Dt&&this.drawChartBox(),X(this,"predraw"),st.forEach(function(Ot){(Dt||Ot.isDirty)&&Ot.visible&&Ot.redraw(),Ot.isDirtyData=!1}),ut&&ut.reset(!0),Et.draw(),X(this,"redraw"),X(this,"render"),wt&&this.temporaryDisplay(!0),kt.forEach(function(Ot){Ot.call()})},ct.prototype.get=function(J){function et(xt){return xt.id===J||xt.options&&xt.options.id===J}for(var st=this.series,ut=j(this.axes,et)||j(this.series,et),dt=0;!ut&&dt<st.length;dt++)ut=j(st[dt].points||[],et);return ut},ct.prototype.getAxes=function(){var J=this,et=this.options,st=et.xAxis=yt(et.xAxis||{});et=et.yAxis=yt(et.yAxis||{}),X(this,"getAxes"),st.forEach(function(ut,dt){ut.index=dt,ut.isX=!0}),et.forEach(function(ut,dt){ut.index=dt}),st.concat(et).forEach(function(ut){new K(J,ut)}),X(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(J,et){return et.getPointsCollection().forEach(function(st){it(st.selectedStaging,st.selected)&&J.push(st)}),J},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(J){return J.selected})},ct.prototype.setTitle=function(J,et,st){this.applyDescription("title",J),this.applyDescription("subtitle",et),this.applyDescription("caption",void 0),this.layOutTitles(st)},ct.prototype.applyDescription=function(J,et){var st=this,ut="title"===J?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ut=this.options[J]=q(!this.styledMode&&{style:ut},this.options[J],et);var dt=this[J];dt&&et&&(this[J]=dt=dt.destroy()),ut&&!dt&&((dt=this.renderer.text(ut.text,0,0,ut.useHTML).attr({align:ut.align,class:"highcharts-"+J,zIndex:ut.zIndex||4}).add()).update=function(xt){st[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[J]](xt)},this.styledMode||dt.css(ut.style),this[J]=dt)},ct.prototype.layOutTitles=function(J){var et=[0,0,0],st=this.renderer,ut=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){var Dt,Et=this[xt],wt=this.options[xt],kt=wt.verticalAlign||"top";if(xt="title"===xt?"top"===kt?-3:0:"top"===kt?et[0]+2:0,Et){this.styledMode||(Dt=wt.style&&wt.style.fontSize),Dt=st.fontMetrics(Dt,Et).b,Et.css({width:(wt.width||ut.width+(wt.widthAdjust||0))+"px"});var bt=Math.round(Et.getBBox(wt.useHTML).height);Et.align(R({y:"bottom"===kt?Dt:xt+Dt,height:bt},wt),!1,"spacingBox"),wt.floating||("top"===kt?et[0]=Math.ceil(et[0]+bt):"bottom"===kt&&(et[2]=Math.ceil(et[2]+bt)))}},this),et[0]&&"top"===(this.options.title.verticalAlign||"top")&&(et[0]+=this.options.title.margin),et[2]&&"bottom"===this.options.caption.verticalAlign&&(et[2]+=this.options.caption.margin);var dt=!this.titleOffset||this.titleOffset.join(",")!==et.join(",");this.titleOffset=et,X(this,"afterLayOutTitles"),!this.isDirtyBox&&dt&&(this.isDirtyBox=this.isDirtyLegend=dt,this.hasRendered&&it(J,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var J=this.options.chart,et=J.width;J=J.height;var st=this.renderTo;A(et)||(this.containerWidth=$(st,"width")),A(J)||(this.containerHeight=$(st,"height")),this.chartWidth=Math.max(0,et||this.containerWidth||600),this.chartHeight=Math.max(0,at(J,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(J){var et=this.renderTo;if(J)for(;et&&et.style;)et.hcOrigStyle&&(_(et,et.hcOrigStyle),delete et.hcOrigStyle),et.hcOrigDetached&&(a.body.removeChild(et),et.hcOrigDetached=!1),et=et.parentNode;else for(;et&&et.style&&(a.body.contains(et)||et.parentNode||(et.hcOrigDetached=!0,a.body.appendChild(et)),("none"===$(et,"display",!1)||et.hcOricDetached)&&(et.hcOrigStyle={display:et.style.display,height:et.style.height,overflow:et.style.overflow},J={display:"block",overflow:"hidden"},et!==this.renderTo&&(J.height=0),_(et,J),et.offsetWidth||et.style.setProperty("display","block","important")),(et=et.parentNode)!==a.body););},ct.prototype.setClassName=function(J){this.container.className="highcharts-container "+(J||"")},ct.prototype.getContainer=function(){var ut,J=this.options,et=J.chart,st=pt(),dt=this.renderTo;dt||(this.renderTo=dt=et.renderTo),Z(dt)&&(this.renderTo=dt=a.getElementById(dt)),dt||T(13,!0,this);var xt=ot(b(dt,"data-highcharts-chart"));U(xt)&&p[xt]&&p[xt].hasRendered&&p[xt].destroy(),b(dt,"data-highcharts-chart",this.index),dt.innerHTML=v.emptyHTML,et.skipClone||dt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;var Et=this.chartHeight;if(_(dt,{overflow:"hidden"}),this.styledMode||(ut=R({position:"relative",overflow:"hidden",width:xt+"px",height:Et+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},et.style||{})),this.container=st=k("div",{id:st},ut,dt),this._cursor=st.style.cursor,this.renderer=new(et.renderer||!n?w.getRendererType(et.renderer):s)(st,xt,Et,void 0,et.forExport,J.exporting&&J.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(et.className),this.styledMode)for(var wt in J.defs)this.renderer.definition(J.defs[wt]);else this.renderer.setStyle(et.style);this.renderer.chartIndex=this.index,X(this,"afterGetContainer")},ct.prototype.getMargins=function(J){var et=this.spacing,st=this.margin,ut=this.titleOffset;this.resetMargins(),ut[0]&&!A(st[0])&&(this.plotTop=Math.max(this.plotTop,ut[0]+et[0])),ut[2]&&!A(st[2])&&(this.marginBottom=Math.max(this.marginBottom,ut[2]+et[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(st,et),X(this,"getMargins"),J||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var J=this,et=J.axisOffset=[0,0,0,0],st=J.colorAxis,ut=J.margin,dt=function(xt){xt.forEach(function(Et){Et.visible&&Et.getOffset()})};J.hasCartesianSeries?dt(J.axes):st&&st.length&&dt(st),h.forEach(function(xt,Et){A(ut[Et])||(J[xt]+=et[Et])}),J.setChartSize()},ct.prototype.reflow=function(J){var et=this,st=et.options.chart,ut=et.renderTo,dt=A(st.width)&&A(st.height),xt=st.width||$(ut,"width");st=st.height||$(ut,"height"),ut=J?J.target:d,delete et.pointer.chartPosition,!dt&&!et.isPrinting&&xt&&st&&(ut===d||ut===a)&&((xt!==et.containerWidth||st!==et.containerHeight)&&(g.clearTimeout(et.reflowTimeout),et.reflowTimeout=vt(function(){et.container&&et.setSize(void 0,void 0,!1)},J?100:0)),et.containerWidth=xt,et.containerHeight=st)},ct.prototype.setReflow=function(J){var et=this;!1===J||this.unbindReflow?!1===J&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=c(d,"resize",function(st){et.options&&et.reflow(st)}),c(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(J,et,st){var ut=this,dt=ut.renderer;ut.isResizing+=1,C(st,ut),st=dt.globalAnimation,ut.oldChartHeight=ut.chartHeight,ut.oldChartWidth=ut.chartWidth,void 0!==J&&(ut.options.chart.width=J),void 0!==et&&(ut.options.chart.height=et),ut.getChartSize(),ut.styledMode||(st?S:_)(ut.container,{width:ut.chartWidth+"px",height:ut.chartHeight+"px"},st),ut.setChartSize(!0),dt.setSize(ut.chartWidth,ut.chartHeight,st),ut.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),ut.isDirtyLegend=!0,ut.isDirtyBox=!0,ut.layOutTitles(),ut.getMargins(),ut.redraw(st),ut.oldChartHeight=null,X(ut,"resize"),vt(function(){ut&&X(ut,"endResize",null,function(){--ut.isResizing})},f(st).duration)},ct.prototype.setChartSize=function(J){var kt,Dt,bt,Lt,et=this.inverted,st=this.renderer,ut=this.chartWidth,dt=this.chartHeight,xt=this.options.chart,Et=this.spacing,wt=this.clipOffset;this.plotLeft=kt=Math.round(this.plotLeft),this.plotTop=Dt=Math.round(this.plotTop),this.plotWidth=bt=Math.max(0,Math.round(ut-kt-this.marginRight)),this.plotHeight=Lt=Math.max(0,Math.round(dt-Dt-this.marginBottom)),this.plotSizeX=et?Lt:bt,this.plotSizeY=et?bt:Lt,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=st.spacingBox={x:Et[3],y:Et[0],width:ut-Et[3]-Et[1],height:dt-Et[0]-Et[2]},this.plotBox=st.plotBox={x:kt,y:Dt,width:bt,height:Lt},et=2*Math.floor(this.plotBorderWidth/2),ut=Math.ceil(Math.max(et,wt[3])/2),dt=Math.ceil(Math.max(et,wt[0])/2),this.clipBox={x:ut,y:dt,width:Math.floor(this.plotSizeX-Math.max(et,wt[1])/2-ut),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(et,wt[2])/2-dt))},J||(this.axes.forEach(function(Rt){Rt.setAxisSize(),Rt.setAxisTranslation()}),st.alignElements()),X(this,"afterSetChartSize",{skipAxes:J})},ct.prototype.resetMargins=function(){X(this,"resetMargins");var J=this,et=J.options.chart;["margin","spacing"].forEach(function(st){var ut=et[st],dt=N(ut)?ut:[ut,ut,ut,ut];["Top","Right","Bottom","Left"].forEach(function(xt,Et){J[st][Et]=it(et[st+xt],dt[Et])})}),h.forEach(function(st,ut){J[st]=it(J.margin[ut],J.spacing[ut])}),J.axisOffset=[0,0,0,0],J.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var ae,J=this.options.chart,et=this.renderer,st=this.chartWidth,ut=this.chartHeight,dt=this.styledMode,xt=this.plotBGImage,Et=J.backgroundColor,wt=J.plotBackgroundColor,kt=J.plotBackgroundImage,Dt=this.plotLeft,bt=this.plotTop,Lt=this.plotWidth,Rt=this.plotHeight,Nt=this.plotBox,Ot=this.clipRect,Wt=this.clipBox,Kt=this.chartBackground,Ft=this.plotBackground,Jt=this.plotBorder,Xt="animate";if(Kt||(this.chartBackground=Kt=et.rect().addClass("highcharts-background").add(),Xt="attr"),dt)var ee=ae=Kt.strokeWidth();else ae=(ee=J.borderWidth||0)+(J.shadow?8:0),Et={fill:Et||"none"},(ee||Kt["stroke-width"])&&(Et.stroke=J.borderColor,Et["stroke-width"]=ee),Kt.attr(Et).shadow(J.shadow);Kt[Xt]({x:ae/2,y:ae/2,width:st-ae-ee%2,height:ut-ae-ee%2,r:J.borderRadius}),Xt="animate",Ft||(Xt="attr",this.plotBackground=Ft=et.rect().addClass("highcharts-plot-background").add()),Ft[Xt](Nt),dt||(Ft.attr({fill:wt||"none"}).shadow(J.plotShadow),kt&&(xt?(kt!==xt.attr("href")&&xt.attr("href",kt),xt.animate(Nt)):this.plotBGImage=et.image(kt,Dt,bt,Lt,Rt).add())),Ot?Ot.animate({width:Wt.width,height:Wt.height}):this.clipRect=et.clipRect(Wt),Xt="animate",Jt||(Xt="attr",this.plotBorder=Jt=et.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),dt||Jt.attr({stroke:J.plotBorderColor,"stroke-width":J.plotBorderWidth||0,fill:"none"}),Jt[Xt](Jt.crisp({x:Dt,y:bt,width:Lt,height:Rt},-Jt.strokeWidth())),this.isDirtyBox=!1,X(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var ut,dt,xt,J=this,et=J.options.chart,st=J.options.series;["inverted","angular","polar"].forEach(function(Et){for(dt=u[et.type||et.defaultSeriesType],xt=et[Et]||dt&&dt.prototype[Et],ut=st&&st.length;!xt&&ut--;)(dt=u[st[ut].type])&&dt.prototype[Et]&&(xt=!0);J[Et]=xt})},ct.prototype.linkSeries=function(){var J=this,et=J.series;et.forEach(function(st){st.linkedSeries.length=0}),et.forEach(function(st){var ut=st.options.linkedTo;Z(ut)&&(ut=":previous"===ut?J.series[st.index-1]:J.get(ut))&&ut.linkedParent!==st&&(ut.linkedSeries.push(st),st.linkedParent=ut,ut.enabledDataSorting&&st.setDataSortingOptions(),st.visible=it(st.options.visible,ut.options.visible,st.visible))}),X(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(J){J.translate(),J.render()})},ct.prototype.renderLabels=function(){var J=this,et=J.options.labels;et.items&&et.items.forEach(function(st){var ut=R(et.style,st.style),dt=ot(ut.left)+J.plotLeft,xt=ot(ut.top)+J.plotTop+12;delete ut.left,delete ut.top,J.renderer.text(st.html,dt,xt).attr({zIndex:2}).css(ut).add()})},ct.prototype.render=function(){var J=this.axes,et=this.colorAxis,st=this.renderer,ut=this.options,dt=function(Dt){Dt.forEach(function(bt){bt.visible&&bt.render()})},xt=0;this.setTitle(),this.legend=new Y(this,ut.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ut=this.plotWidth,J.some(function(Dt){if(Dt.horiz&&Dt.visible&&Dt.options.labels.enabled&&Dt.series.length)return xt=21,!0});var Et=this.plotHeight=Math.max(this.plotHeight-xt,0);J.forEach(function(Dt){Dt.setScale()}),this.getAxisMargins();var wt=1.1<ut/this.plotWidth,kt=1.05<Et/this.plotHeight;(wt||kt)&&(J.forEach(function(Dt){(Dt.horiz&&wt||!Dt.horiz&&kt)&&Dt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?dt(J):et&&et.length&&dt(et),this.seriesGroup||(this.seriesGroup=st.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(J){var et=this,st=q(!0,this.options.credits,J);st.enabled&&!this.credits&&(this.credits=this.renderer.text(st.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){st.href&&(d.location.href=st.href)}).attr({align:st.position.align,zIndex:8}),et.styledMode||this.credits.css(st.style),this.credits.add().align(st.position),this.credits.update=function(ut){et.credits=et.credits.destroy(),et.addCredits(ut)})},ct.prototype.destroy=function(){var xt,J=this,et=J.axes,st=J.series,ut=J.container,dt=ut&&ut.parentNode;for(X(J,"destroy"),J.renderer.forExport?m(p,J):p[J.index]=void 0,W.chartCount--,J.renderTo.removeAttribute("data-highcharts-chart"),mt(J),xt=et.length;xt--;)et[xt]=et[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=st.length;xt--;)st[xt]=st[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Et){var wt=J[Et];wt&&wt.destroy&&(J[Et]=wt.destroy())}),ut&&(ut.innerHTML=v.emptyHTML,mt(ut),dt&&B(ut)),nt(J,function(Et,wt){delete J[wt]})},ct.prototype.firstRender=function(){var J=this,et=J.options;(!J.isReadyToRender||J.isReadyToRender())&&(J.getContainer(),J.resetMargins(),J.setChartSize(),J.propFromSeries(),J.getAxes(),(D(et.series)?et.series:[]).forEach(function(st){J.initSeries(st)}),J.linkSeries(),J.setSeriesData(),X(J,"beforeRender"),P&&(J.pointer=z.isRequired()?new z(J,et):new P(J,et)),J.render(),J.pointer.getChartPosition(),!J.renderer.imgCount&&!J.hasLoaded&&J.onload(),J.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(J){J&&void 0!==this.index&&J.apply(this,[this])},this),X(this,"load"),X(this,"render"),A(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(J,et,st){var dt,ut=this;return J&&(et=it(et,!0),X(ut,"addSeries",{options:J},function(){dt=ut.initSeries(J),ut.isDirtyLegend=!0,ut.linkSeries(),dt.enabledDataSorting&&dt.setData(J.data,!1),X(ut,"afterAddSeries",{series:dt}),et&&ut.redraw(st)})),dt},ct.prototype.addAxis=function(J,et,st,ut){return this.createAxis(et?"xAxis":"yAxis",{axis:J,redraw:st,animation:ut})},ct.prototype.addColorAxis=function(J,et,st){return this.createAxis("colorAxis",{axis:J,redraw:et,animation:st})},ct.prototype.createAxis=function(J,et){return J=new K(this,q(et.axis,{index:this[J].length,isX:"xAxis"===J})),it(et.redraw,!0)&&this.redraw(et.animation),J},ct.prototype.showLoading=function(J){var et=this,st=et.options,ut=st.loading,dt=function(){xt&&_(xt,{left:et.plotLeft+"px",top:et.plotTop+"px",width:et.plotWidth+"px",height:et.plotHeight+"px"})},xt=et.loadingDiv,Et=et.loadingSpan;xt||(et.loadingDiv=xt=k("div",{className:"highcharts-loading highcharts-loading-hidden"},null,et.container)),Et||(et.loadingSpan=Et=k("span",{className:"highcharts-loading-inner"},null,xt),c(et,"redraw",dt)),xt.className="highcharts-loading",v.setElementHTML(Et,it(J,st.lang.loading,"")),et.styledMode||(_(xt,R(ut.style,{zIndex:10})),_(Et,ut.labelStyle),et.loadingShown||(_(xt,{opacity:0,display:""}),S(xt,{opacity:ut.style.opacity||.5},{duration:ut.showDuration||0}))),et.loadingShown=!0,dt()},ct.prototype.hideLoading=function(){var J=this.options,et=this.loadingDiv;et&&(et.className="highcharts-loading highcharts-loading-hidden",this.styledMode||S(et,{opacity:0},{duration:J.loading.hideDuration||100,complete:function(){_(et,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(J,et,st,ut){var kt,Dt,dt=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Et=J.isResponsiveOptions,wt=[];X(dt,"update",{options:J}),Et||dt.setResponsive(!1,!0),J=O(J,dt.options),dt.userOptions=q(dt.userOptions,J);var bt=J.chart;if(bt){if(q(!0,dt.options.chart,bt),"className"in bt&&dt.setClassName(bt.className),"reflow"in bt&&dt.setReflow(bt.reflow),"inverted"in bt||"polar"in bt||"type"in bt){dt.propFromSeries();var Lt=!0}"alignTicks"in bt&&(Lt=!0),"events"in bt&&M(this,bt),nt(bt,function(Rt,Nt){-1!==dt.propsRequireUpdateSeries.indexOf("chart."+Nt)&&(kt=!0),-1!==dt.propsRequireDirtyBox.indexOf(Nt)&&(dt.isDirtyBox=!0),-1!==dt.propsRequireReflow.indexOf(Nt)&&(Et?dt.isDirtyBox=!0:Dt=!0)}),!dt.styledMode&&bt.style&&dt.renderer.setStyle(dt.options.chart.style||{})}!dt.styledMode&&J.colors&&(this.options.colors=J.colors),J.time&&(this.time===r&&(this.time=new l(J.time)),q(!0,dt.options.time,J.time)),nt(J,function(Rt,Nt){dt[Nt]&&"function"==typeof dt[Nt].update?dt[Nt].update(Rt,!1):"function"==typeof dt[xt[Nt]]?dt[xt[Nt]](Rt):"colors"!==Nt&&-1===dt.collectionsWithUpdate.indexOf(Nt)&&q(!0,dt.options[Nt],J[Nt]),"chart"!==Nt&&-1!==dt.propsRequireUpdateSeries.indexOf(Nt)&&(kt=!0)}),this.collectionsWithUpdate.forEach(function(Rt){if(J[Rt]){var Nt=[];dt[Rt].forEach(function(Ot,Wt){Ot.options.isInternal||Nt.push(it(Ot.options.index,Wt))}),yt(J[Rt]).forEach(function(Ot,Wt){var Ft,Kt=A(Ot.id);Kt&&(Ft=dt.get(Ot.id)),!Ft&&dt[Rt]&&(Ft=dt[Rt][Nt?Nt[Wt]:Wt])&&Kt&&A(Ft.options.id)&&(Ft=void 0),Ft&&Ft.coll===Rt&&(Ft.update(Ot,!1),st&&(Ft.touched=!0)),!Ft&&st&&dt.collectionsWithInit[Rt]&&(dt.collectionsWithInit[Rt][0].apply(dt,[Ot].concat(dt.collectionsWithInit[Rt][1]||[]).concat([!1])).touched=!0)}),st&&dt[Rt].forEach(function(Ot){Ot.touched||Ot.options.isInternal?delete Ot.touched:wt.push(Ot)})}}),wt.forEach(function(Rt){Rt.chart&&Rt.remove&&Rt.remove(!1)}),Lt&&dt.axes.forEach(function(Rt){Rt.update({},!1)}),kt&&dt.getSeriesOrderByLinks().forEach(function(Rt){Rt.chart&&Rt.update({},!1)},this),Lt=bt&&bt.width,bt=bt&&(Z(bt.height)?at(bt.height,Lt||dt.chartWidth):bt.height),Dt||U(Lt)&&Lt!==dt.chartWidth||U(bt)&&bt!==dt.chartHeight?dt.setSize(Lt,bt,ut):it(et,!0)&&dt.redraw(ut),X(dt,"afterUpdate",{options:J,redraw:et,animation:ut})},ct.prototype.setSubtitle=function(J,et){this.applyDescription("subtitle",J),this.layOutTitles(et)},ct.prototype.setCaption=function(J,et){this.applyDescription("caption",J),this.layOutTitles(et)},ct.prototype.showResetZoom=function(){function J(){et.zoomOut()}var et=this,st=o.lang,ut=et.options.chart.resetZoomButton,dt=ut.theme,xt=dt.states,Et="chart"===ut.relativeTo||"spacingBox"===ut.relativeTo?null:"scrollablePlotBox";X(this,"beforeShowResetZoom",null,function(){et.resetZoomButton=et.renderer.button(st.resetZoom,null,null,J,dt,xt&&xt.hover).attr({align:ut.position.align,title:st.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ut.position,!1,Et)}),X(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){X(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(J){var xt,et=this,st=et.pointer,ut=et.inverted?st.mouseDownX:st.mouseDownY,dt=!1;!J||J.resetSelection?(et.axes.forEach(function(wt){xt=wt.zoom()}),st.initiated=!1):J.xAxis.concat(J.yAxis).forEach(function(wt){var kt=wt.axis,Dt=et.inverted?kt.left:kt.top,Lt=kt.isXAxis,Rt=!1;(!Lt&&ut>=Dt&&ut<=(et.inverted?Dt+kt.width:Dt+kt.height)||Lt||!A(ut))&&(Rt=!0),st[Lt?"zoomX":"zoomY"]&&Rt&&(xt=kt.zoom(wt.min,wt.max),kt.displayBtn&&(dt=!0))});var Et=et.resetZoomButton;dt&&!Et?et.showResetZoom():!dt&&N(Et)&&(et.resetZoomButton=Et.destroy()),xt&&et.redraw(it(et.options.chart.animation,J&&J.animation,100>et.pointCount))},ct.prototype.pan=function(J,et){var st=this,ut=st.hoverPoints;et="object"==typeof et?et:{enabled:et,type:"x"};var dt=st.options.chart,xt=st.options.mapNavigation&&st.options.mapNavigation.enabled;dt&&dt.panning&&(dt.panning=et);var wt,Et=et.type;X(this,"pan",{originalEvent:J},function(){ut&&ut.forEach(function(bt){bt.setState()});var kt=st.xAxis;"xy"===Et?kt=kt.concat(st.yAxis):"y"===Et&&(kt=st.yAxis);var Dt={};kt.forEach(function(bt){if(bt.options.panningEnabled&&!bt.options.isInternal){var Lt=bt.horiz,Rt=J[Lt?"chartX":"chartY"],Nt=st[Lt=Lt?"mouseDownX":"mouseDownY"],Ot=bt.minPointOffset||0,Wt=bt.reversed&&!st.inverted||!bt.reversed&&st.inverted?-1:1,Kt=bt.getExtremes(),Ft=bt.toValue(Nt-Rt,!0)+Ot*Wt,Jt=bt.toValue(Nt+bt.len-Rt,!0)-(Ot*Wt||bt.isXAxis&&bt.pointRangePadding||0),ae=Jt<Ft;Wt=bt.hasVerticalPanning(),Nt=ae?Jt:Ft,Ft=ae?Ft:Jt;var Xt=bt.panningState;!Wt||bt.isXAxis||Xt&&!Xt.isDirty||bt.series.forEach(function(ee){var be=ee.getProcessedData(!0);be=ee.getExtremes(be.yData,!0),Xt||(Xt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),U(be.dataMin)&&U(be.dataMax)&&(Xt.startMin=Math.min(it(ee.options.threshold,1/0),be.dataMin,Xt.startMin),Xt.startMax=Math.max(it(ee.options.threshold,-1/0),be.dataMax,Xt.startMax))}),Wt=Math.min(it(Xt&&Xt.startMin,Kt.dataMin),Ot?Kt.min:bt.toValue(bt.toPixels(Kt.min)-bt.minPixelPadding)),Jt=Math.max(it(Xt&&Xt.startMax,Kt.dataMax),Ot?Kt.max:bt.toValue(bt.toPixels(Kt.max)+bt.minPixelPadding)),bt.panningState=Xt,bt.isOrdinal||(0<(Ot=Wt-Nt)&&(Ft+=Ot,Nt=Wt),0<(Ot=Ft-Jt)&&(Ft=Jt,Nt-=Ot),bt.series.length&&Nt!==Kt.min&&Ft!==Kt.max&&Nt>=Wt&&Ft<=Jt&&(bt.setExtremes(Nt,Ft,!1,!1,{trigger:"pan"}),st.resetZoomButton||xt||Nt===Wt||Ft===Jt||!Et.match("y")||(st.showResetZoom(),bt.displayBtn=!1),wt=!0),Dt[Lt]=Rt)}}),nt(Dt,function(bt,Lt){st[Lt]=bt}),wt&&st.redraw(!1),_(st.container,{cursor:"move"})})},ct}(),R(H.prototype,{callbacks:[],collectionsWithInit:{xAxis:[H.prototype.addAxis,[!0]],yAxis:[H.prototype.addAxis,[!1]],series:[H.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),H}),lt(F,"Core/Legend/LegendSymbol.js",[F["Core/Utilities.js"]],function(H){var Q,W,K=H.merge,V=H.pick;return(W=Q||(Q={})).drawLineMarker=function(Y){var z=this.options,I=Y.symbolWidth,P=Y.symbolHeight,w=P/2,E=this.chart.renderer,s=this.legendGroup;Y=Y.baseline-Math.round(.3*Y.fontMetrics.b);var l={},g=z.marker;this.chart.styledMode||(l={"stroke-width":z.lineWidth||0},z.dashStyle&&(l.dashstyle=z.dashStyle)),this.legendLine=E.path([["M",0,Y],["L",I,Y]]).addClass("highcharts-graph").attr(l).add(s),g&&!1!==g.enabled&&I&&(z=Math.min(V(g.radius,w),w),0===this.symbol.indexOf("url")&&(g=K(g,{width:P,height:P}),z=0),this.legendSymbol=I=E.symbol(this.symbol,I/2-z,Y-z,2*z,2*z,g).addClass("highcharts-point").add(s),I.isMarker=!0)},W.drawRectangle=function(Y,z){var I=Y.symbolHeight,P=Y.options.squareSymbol;z.legendSymbol=this.chart.renderer.rect(P?(Y.symbolWidth-I)/2:0,Y.baseline-I+1,P?I:Y.symbolWidth,I,V(Y.options.symbolRadius,I/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.legendGroup)},Q}),lt(F,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),lt(F,"Core/Series/Series.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/DefaultOptions.js"],F["Core/Foundation.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Point.js"],F["Core/Series/SeriesDefaults.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w){var E=H.animObject,s=H.setAnimation,l=K.defaultOptions,g=V.registerEventOptions,v=Q.hasTouch,S=Q.svg,f=Q.win,C=I.seriesTypes,x=w.addEvent,M=w.arrayMax,p=w.arrayMin,a=w.clamp,h=w.cleanRecursively,n=w.correctFloat,d=w.defined,o=w.erase,r=w.error,u=w.extend,c=w.find,b=w.fireEvent,O=w.getNestedProperty,k=w.isArray,_=w.isNumber,A=w.isString,B=w.merge,m=w.objectEach,T=w.pick,R=w.removeEvent,j=w.splat,X=w.syncTimeout;return H=function(){function $(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return $.prototype.init=function(D,U){b(this,"init",{options:U});var N=this,Z=D.series;this.eventsToUnbind=[],N.chart=D,N.options=N.setOptions(U),U=N.options,N.linkedSeries=[],N.bindAxes(),u(N,{name:U.name,state:"",visible:!1!==U.visible,selected:!0===U.selected}),g(this,U);var nt,q=U.events;(q&&q.click||U.point&&U.point.events&&U.point.events.click||U.allowPointSelect)&&(D.runTrackerClick=!0),N.getColor(),N.getSymbol(),N.parallelArrays.forEach(function(it){N[it+"Data"]||(N[it+"Data"]=[])}),N.isCartesian&&(D.hasCartesianSeries=!0),Z.length&&(nt=Z[Z.length-1]),N._i=T(nt&&nt._i,-1)+1,N.opacity=N.options.opacity,D.orderSeries(this.insert(Z)),U.dataSorting&&U.dataSorting.enabled?N.setDataSortingOptions():N.points||N.data||N.setData(U.data,!1),b(this,"afterInit")},$.prototype.is=function(D){return C[D]&&this instanceof C[D]},$.prototype.insert=function(D){var N,U=this.options.index;if(_(U)){for(N=D.length;N--;)if(U>=T(D[N].options.index,D[N]._i)){D.splice(N+1,0,this);break}-1===N&&D.unshift(this),N+=1}else D.push(this);return T(N,D.length-1)},$.prototype.bindAxes=function(){var Z,D=this,U=D.options,N=D.chart;b(this,"bindAxes",null,function(){(D.axisTypes||[]).forEach(function(q){var nt=0;N[q].forEach(function(it){Z=it.options,(U[q]===nt&&!Z.isInternal||void 0!==U[q]&&U[q]===Z.id||void 0===U[q]&&0===Z.index)&&(D.insert(it.series),D[q]=it,it.isDirty=!0),Z.isInternal||nt++}),D[q]||D.optionalAxis===q||r(18,!0,N)})}),b(this,"afterBindAxes")},$.prototype.updateParallelArrays=function(D,U){var N=D.series,Z=arguments,q=_(U)?function(nt){var it="y"===nt&&N.toYData?N.toYData(D):D[nt];N[nt+"Data"][U]=it}:function(nt){Array.prototype[U].apply(N[nt+"Data"],Array.prototype.slice.call(Z,2))};N.parallelArrays.forEach(q)},$.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},$.prototype.autoIncrement=function(D){var it,U=this.options,N=U.pointIntervalUnit,Z=U.relativeXValue,q=this.chart.time,nt=this.xIncrement;return nt=T(nt,U.pointStart,0),this.pointInterval=it=T(this.pointInterval,U.pointInterval,1),Z&&_(D)&&(it*=D),N&&(U=new q.Date(nt),"day"===N?q.set("Date",U,q.get("Date",U)+it):"month"===N?q.set("Month",U,q.get("Month",U)+it):"year"===N&&q.set("FullYear",U,q.get("FullYear",U)+it),it=U.getTime()-nt),Z&&_(D)?nt+it:(this.xIncrement=nt+it,nt)},$.prototype.setDataSortingOptions=function(){var D=this.options;u(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),d(D.pointRange)||(D.pointRange=1)},$.prototype.setOptions=function(D){var U=this.chart,N=U.options,Z=N.plotOptions,q=U.userOptions||{};D=B(D),U=U.styledMode;var nt={plotOptions:Z,userOptions:D};b(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=q.plotOptions||{};return this.userOptions=nt.userOptions,q=B(it,Z.series,q.plotOptions&&q.plotOptions[this.type],D),this.tooltipOptions=B(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,N.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,D.tooltip),this.stickyTracking=T(D.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||q.stickyTracking),null===it.marker&&delete q.marker,this.zoneAxis=q.zoneAxis,Z=this.zones=(q.zones||[]).slice(),!q.negativeColor&&!q.negativeFillColor||q.zones||(N={value:q[this.zoneAxis+"Threshold"]||q.threshold||0,className:"highcharts-negative"},U||(N.color=q.negativeColor,N.fillColor=q.negativeFillColor),Z.push(N)),Z.length&&d(Z[Z.length-1].value)&&Z.push(U?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:q}),q},$.prototype.getName=function(){return T(this.options.name,"Series "+(this.index+1))},$.prototype.getCyclic=function(D,U,N){var Z=this.chart,q=this.userOptions,nt=D+"Index",it=D+"Counter",ot=N?N.length:T(Z.options.chart[D+"Count"],Z[D+"Count"]);if(!U){var at=T(q[nt],q["_"+nt]);d(at)||(Z.series.length||(Z[it]=0),q["_"+nt]=at=Z[it]%ot,Z[it]+=1),N&&(U=N[at])}void 0!==at&&(this[nt]=at),this[D]=U},$.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)},$.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},$.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},$.prototype.findPointIndex=function(D,U){var it,ot,N=D.id,Z=D.x,q=this.points,nt=this.options.dataSorting;if(N)(nt=this.chart.get(N))instanceof Y&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===D.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===D.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===D.x}),!(it=c(q,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&_(Z)&&(at=this.xData.indexOf(Z,U)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&_(at)&&q[at]&&q[at].touched&&(at=void 0),at},$.prototype.updateData=function(D,U){var at,mt,yt,N=this.options,Z=N.dataSorting,q=this.points,nt=[],it=this.requireSorting,ot=D.length===q.length,vt=!0;if(this.xIncrement=null,D.forEach(function(pt,ct){var J=d(pt)&&this.pointClass.prototype.optionsToObject.call({series:this},pt)||{};J.id||_(J.x)?(-1===(J=this.findPointIndex(J,yt))||void 0===J?nt.push(pt):q[J]&&pt!==N.data[J]?(q[J].update(pt,!1,null,!1),q[J].touched=!0,it&&(yt=J+1)):q[J]&&(q[J].touched=!0),(!ot||ct!==J||Z&&Z.enabled||this.hasDerivedData)&&(at=!0)):nt.push(pt)},this),at)for(D=q.length;D--;)(mt=q[D])&&!mt.touched&&mt.remove&&mt.remove(!1,U);else!ot||Z&&Z.enabled?vt=!1:(D.forEach(function(pt,ct){pt!==q[ct].y&&q[ct].update&&q[ct].update(pt,!1,null,!1)}),nt.length=0);return q.forEach(function(pt){pt&&(pt.touched=!1)}),!!vt&&(nt.forEach(function(pt){this.addPoint(pt,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=M(this.xData),this.autoIncrement()),!0)},$.prototype.setData=function(D,U,N,Z){var q=this,nt=q.points,it=nt&&nt.length||0,ot=q.options,at=q.chart,mt=ot.dataSorting,yt=q.xAxis,vt=ot.turboThreshold,pt=this.xData,ct=this.yData,J=q.pointArrayMap;J=J&&J.length;var st,et=ot.keys,ut=0,dt=1,xt=null,Et=(D=D||[]).length;if(U=T(U,!0),mt&&mt.enabled&&(D=this.sortData(D)),!1!==Z&&Et&&it&&!q.cropped&&!q.hasGroupedData&&q.visible&&!q.isSeriesBoosting&&(st=this.updateData(D,N)),!st){if(q.xIncrement=null,q.colorCounter=0,this.parallelArrays.forEach(function(wt){q[wt+"Data"].length=0}),vt&&Et>vt)if(xt=q.getFirstValidPoint(D),_(xt))for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else if(k(xt))if(J)if(xt.length===J)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[0],ct[N]=Z.slice(1,J+1);else if(et&&(ut=0<=(ut=et.indexOf("x"))?ut:0,dt=0<=(dt=et.indexOf("y"))?dt:1),1===xt.length&&(dt=0),ut===dt)for(N=0;N<Et;N++)pt[N]=this.autoIncrement(),ct[N]=D[N][dt];else for(N=0;N<Et;N++)pt[N]=(Z=D[N])[ut],ct[N]=Z[dt];else r(12,!1,at);else for(N=0;N<Et;N++)void 0!==D[N]&&(q.pointClass.prototype.applyOptions.apply(Z={series:q},[D[N]]),q.updateParallelArrays(Z,N));for(ct&&A(ct[0])&&r(14,!0,at),q.data=[],q.options.data=q.userOptions.data=D,N=it;N--;)nt[N]&&nt[N].destroy&&nt[N].destroy();yt&&(yt.minRange=yt.userMinRange),q.isDirty=at.isDirtyBox=!0,q.isDirtyData=!!nt,N=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),U&&at.redraw(N)},$.prototype.sortData=function(D){var U=this,N=U.options.dataSorting.sortKey||"y",Z=function(q,nt){return d(nt)&&q.pointClass.prototype.optionsToObject.call({series:q},nt)||{}};return D.forEach(function(q,nt){D[nt]=Z(U,q),D[nt].index=nt},this),D.concat().sort(function(q,nt){return q=O(N,q),(nt=O(N,nt))<q?-1:nt>q?1:0}).forEach(function(q,nt){q.x=nt},this),U.linkedSeries&&U.linkedSeries.forEach(function(q){var nt=q.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=Z(q,ot),D[at]&&(it[at].x=D[at].x,it[at].index=at)}),q.setData(it,!1))}),D},$.prototype.getProcessedData=function(D){var U=this.xAxis,N=this.options,Z=N.cropThreshold,q=D||this.getExtremesFromAll||N.getExtremesFromAll,nt=this.isCartesian;D=U&&U.val2lin,N=!(!U||!U.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,yt=!1,vt=ot.length;if(U){var pt=(yt=U.getExtremes()).min,ct=yt.max;yt=U.categories&&!U.names.length}if(nt&&this.sorted&&!q&&(!Z||vt>Z||this.forceCrop))if(ot[vt-1]<pt||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<pt||ot[vt-1]>ct)){var J=this.cropData(this.xData,this.yData,pt,ct);ot=J.xData,at=J.yData,it=J.start,J=!0}for(Z=ot.length||1;--Z;)if(0<(U=N?D(ot[Z])-D(ot[Z-1]):ot[Z]-ot[Z-1])&&(void 0===et||U<et))var et=U;else 0>U&&mt&&!yt&&(r(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:J,cropStart:it,closestPointRange:et}},$.prototype.processData=function(D){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!D)return!1;D=this.getProcessedData(),this.cropped=D.cropped,this.cropStart=D.cropStart,this.processedXData=D.xData,this.processedYData=D.yData,this.closestPointRange=this.basePointRange=D.closestPointRange,b(this,"afterProcessData")},$.prototype.cropData=function(D,U,N,Z,q){var it,nt=D.length,ot=0,at=nt;for(q=T(q,this.cropShoulder),it=0;it<nt;it++)if(D[it]>=N){ot=Math.max(0,it-q);break}for(N=it;N<nt;N++)if(D[N]>Z){at=N+q;break}return{xData:D.slice(ot,at),yData:U.slice(ot,at),start:ot,end:at}},$.prototype.generatePoints=function(){var D=this.options,U=D.data,N=this.processedXData,Z=this.processedYData,q=this.pointClass,nt=N.length,it=this.cropStart||0,ot=this.hasGroupedData,at=D.keys,mt=[];D=D.dataGrouping&&D.dataGrouping.groupAll?it:0;var yt,vt,pt=this.data;if(!pt&&!ot){var ct=[];ct.length=U.length,pt=this.data=ct}for(at&&ot&&(this.options.keys=!1),vt=0;vt<nt;vt++){if(ct=it+vt,ot){var J=(new q).init(this,[N[vt]].concat(j(Z[vt])));J.dataGroup=this.groupMap[D+vt],J.dataGroup.options&&(J.options=J.dataGroup.options,u(J,J.dataGroup.options),delete J.dataLabels)}else(J=pt[ct])||void 0===U[ct]||(pt[ct]=J=(new q).init(this,U[ct],N[vt]));J&&(J.index=ot?D+vt:ct,mt[vt]=J)}if(this.options.keys=at,pt&&(nt!==(yt=pt.length)||ot))for(vt=0;vt<yt;vt++)vt!==it||ot||(vt+=nt),pt[vt]&&(pt[vt].destroyElements(),pt[vt].plotX=void 0);this.data=pt,this.points=mt,b(this,"afterGeneratePoints")},$.prototype.getXExtremes=function(D){return{min:p(D),max:M(D)}},$.prototype.getExtremes=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;Z=!!Z&&Z.positiveValuesOnly;var ot,at=0,mt=0,yt=0,vt=(D=D||this.stackedYData||this.processedYData||[]).length;if(N){var pt=N.getExtremes();at=pt.min,mt=pt.max}for(ot=0;ot<vt;ot++){var ct=q[ot],J=(_(pt=D[ot])||k(pt))&&(pt.length||0<pt||!Z);if(ct=U||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!N||(q[ot+it]||ct)>=at&&(q[ot-it]||ct)<=mt,J&&ct)if(J=pt.length)for(;J--;)_(pt[J])&&(nt[yt++]=pt[J]);else nt[yt++]=pt}return D={activeYData:nt,dataMin:p(nt),dataMax:M(nt)},b(this,"afterGetExtremes",{dataExtremes:D}),D},$.prototype.applyExtremes=function(){var D=this.getExtremes();return this.dataMin=D.dataMin,this.dataMax=D.dataMax,D},$.prototype.getFirstValidPoint=function(D){for(var U=D.length,N=0,Z=null;null===Z&&N<U;)Z=D[N],N++;return Z},$.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,J,D=this.options,U=D.stacking,N=this.xAxis,Z=N.categories,q=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,yt=D.threshold,vt=D.startFromThreshold?yt:0,pt=this.zoneAxis||"y",et=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var st=it[ct],ut=st.x,dt=void 0,xt=void 0,Et=st.y,wt=st.low,kt=U&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Et<(vt?0:yt)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Et)||N.positiveValuesOnly&&!N.validatePositiveValue(ut))&&(st.isNull=!0),st.plotX=J=n(a(N.translate(ut,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),U&&this.visible&&kt&&kt[ut]){var Dt=this.getStackIndicator(Dt,ut,this.index);st.isNull||(xt=(dt=kt[ut]).points[Dt.key])}if(k(xt)&&(Et=xt[1],(wt=xt[0])===vt&&Dt.key===kt[ut].base&&(wt=T(_(yt)&&yt,nt.min)),nt.positiveValuesOnly&&0>=wt&&(wt=null),st.total=st.stackTotal=dt.total,st.percentage=dt.total&&st.y/dt.total*100,st.stackY=Et,this.irregularWidths||dt.setOffset(this.pointXOffset||0,this.barW||0)),st.yBottom=d(wt)?a(nt.translate(wt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Et=this.dataModify.modifyValue(Et,ct)),st.plotY=void 0,_(Et)&&void 0!==(dt=nt.translate(Et,!1,!0,!1,!0))&&(st.plotY=a(dt,-1e5,1e5)),st.isInside=this.isPointInside(st),st.clientX=mt?n(N.translate(ut,0,0,0,1,at)):J,st.negative=st[pt]<(D[pt+"Threshold"]||yt||0),st.category=Z&&void 0!==Z[st.x]?Z[st.x]:st.x,!st.isNull&&!1!==st.visible){void 0!==bt&&(et=Math.min(et,Math.abs(J-bt)));var bt=J}st.zone=this.zones.length?st.getZone():void 0,!st.graphic&&this.group&&q&&(st.isNew=!0)}this.closestPointRangePx=et,b(this,"afterTranslate")},$.prototype.getValidPoints=function(D,U,N){var Z=this.chart;return(D||this.points||[]).filter(function(q){return!(U&&!Z.isInsidePlot(q.plotX,q.plotY,{inverted:Z.inverted}))&&!1!==q.visible&&(N||!q.isNull)})},$.prototype.getClipBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis,Z=B(D.clipBox);return U&&U.len!==D.plotSizeX&&(Z.width=U.len),N&&N.len!==D.plotSizeY&&(Z.height=N.len),Z},$.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},$.prototype.setClip=function(){var D=this.chart,U=this.group,N=this.markerGroup,Z=D.sharedClips;D=D.renderer;var q=this.getClipBox(),nt=this.getSharedClipKey(),it=Z[nt];it?it.animate(q):Z[nt]=it=D.clipRect(q),U&&U.clip(!1===this.options.clip?void 0:it),N&&N.clip()},$.prototype.animate=function(D){var U=this.chart,N=this.group,Z=this.markerGroup,q=U.inverted,nt=E(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=U.sharedClips[it],at=U.sharedClips[it+"m"];if(D&&N)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,q&&(nt.x=U.plotHeight),ot=U.renderer.clipRect(nt),U.sharedClips[it]=ot,at=U.renderer.clipRect({x:q?(U.plotSizeX||0)+99:-99,y:q?-U.plotLeft:-U.plotTop,width:99,height:q?U.chartWidth:U.chartHeight}),U.sharedClips[it+"m"]=at),N.clip(ot),Z&&Z.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){U=this.getClipBox();var mt=nt.step;Z&&Z.element.childNodes.length&&(nt.step=function(yt,vt){mt&&mt.apply(vt,arguments),at&&at.element&&at.attr(vt.prop,"width"===vt.prop?yt+99:yt)}),ot.addClass("highcharts-animating").animate(U,nt)}},$.prototype.afterAnimate=function(){var D=this;this.setClip(),m(this.chart.sharedClips,function(U,N,Z){U&&!D.chart.container.querySelector('[clip-path="url(#'+U.id+')"]')&&(U.destroy(),delete Z[N])}),this.finishedAnimating=!0,b(this,"afterAnimate")},$.prototype.drawPoints=function(){var it,ot,D=this.points,U=this.chart,N=this.options.marker,Z=this[this.specialGroup]||this.markerGroup,q=this.xAxis,nt=T(N.enabled,!(q&&!q.isRadial)||null,this.closestPointRangePx>=N.enabledThreshold*N.radius);if(!1!==N.enabled||this._hasPointMarkers)for(it=0;it<D.length;it++){var at=D[it],mt=(ot=at.graphic)?"animate":"attr",yt=at.marker||{},vt=!!at.marker;if((nt&&void 0===yt.enabled||yt.enabled)&&!at.isNull&&!1!==at.visible){var pt=T(yt.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=q.reversed?-(ct.width||0):q.width);var J=!1!==at.isInside;ot?ot[J?"show":"hide"](J).animate(ct):J&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=U.renderer.symbol(pt,ct.x,ct.y,ct.width,ct.height,vt?yt:N).add(Z),this.enabledDataSorting&&U.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[J?"show":"hide"](J).animate(ct),ot&&!U.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},$.prototype.markerAttribs=function(D,U){var N=this.options,Z=N.marker,q=D.marker||{},nt=q.symbol||Z.symbol,it=T(q.radius,Z.radius);return U&&(Z=Z.states[U],it=T((U=q.states&&q.states[U])&&U.radius,Z&&Z.radius,it+(Z&&Z.radiusPlus||0))),D.hasImage=nt&&0===nt.indexOf("url"),D.hasImage&&(it=0),D={x:N.crisp?Math.floor(D.plotX-it):D.plotX-it,y:D.plotY-it},it&&(D.width=D.height=2*it),D},$.prototype.pointAttribs=function(D,U){var N=this.options.marker,Z=D&&D.options,q=Z&&Z.marker||{},nt=Z&&Z.color,it=D&&D.color,ot=D&&D.zone&&D.zone.color,at=this.color;return D=T(q.lineWidth,N.lineWidth),Z=1,at=nt||ot||it||at,nt=q.fillColor||N.fillColor||at,it=q.lineColor||N.lineColor||at,N=N.states[U=U||"normal"]||{},D=T((U=q.states&&q.states[U]||{}).lineWidth,N.lineWidth,D+T(U.lineWidthPlus,N.lineWidthPlus,0)),{stroke:it=U.lineColor||N.lineColor||it,"stroke-width":D,fill:nt=U.fillColor||N.fillColor||nt,opacity:Z=T(U.opacity,N.opacity,Z)}},$.prototype.destroy=function(D){var it,ot,at,U=this,N=U.chart,Z=/AppleWebKit\/533/.test(f.navigator.userAgent),q=U.data||[];for(b(U,"destroy"),this.removeEvents(D),(U.axisTypes||[]).forEach(function(mt){(at=U[mt])&&at.series&&(o(at.series,U),at.isDirty=at.forceRedraw=!0)}),U.legendItem&&U.chart.legend.destroyItem(U),it=q.length;it--;)(ot=q[it])&&ot.destroy&&ot.destroy();U.clips&&U.clips.forEach(function(mt){return mt.destroy()}),w.clearTimeout(U.animationTimeout),m(U,function(mt,yt){mt instanceof P&&!mt.survive&&mt[Z&&"group"===yt?"hide":"destroy"]()}),N.hoverSeries===U&&(N.hoverSeries=void 0),o(N.series,U),N.orderSeries(),m(U,function(mt,yt){D&&"hcEvents"===yt||delete U[yt]})},$.prototype.applyZones=function(){var yt,vt,pt,ct,J,et,st,ut,D=this,U=this.chart,N=U.renderer,Z=this.zones,q=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(U.chartWidth,U.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=U.inverted,dt=!1;if(Z.length&&(nt||it)&&at&&void 0!==at.min){var xt=at.reversed,Et=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var wt=at.getExtremes();Z.forEach(function(kt,Dt){yt=xt?Et?U.plotWidth:0:Et?0:at.toPixels(wt.min)||0,yt=a(T(vt,yt),0,ot),vt=a(Math.round(at.toPixels(T(kt.value,wt.max),!0)||0),0,ot),dt&&(yt=vt=at.toPixels(wt.max)),ct=Math.abs(yt-vt),J=Math.min(yt,vt),et=Math.max(yt,vt),at.isXAxis?(pt={x:mt?et:J,y:0,width:ct,height:ot},Et||(pt.x=U.plotHeight-pt.x)):(pt={x:0,y:mt?et:J,width:ot,height:ct},Et&&(pt.y=U.plotWidth-pt.y)),mt&&N.isVML&&(pt=at.isXAxis?{x:0,y:xt?J:et,height:pt.width,width:U.chartWidth}:{x:pt.y-U.plotLeft-U.spacingBox.x,y:0,width:pt.height,height:U.chartHeight}),q[Dt]?q[Dt].animate(pt):q[Dt]=N.clipRect(pt),st=D["zone-area-"+Dt],ut=D["zone-graph-"+Dt],nt&&ut&&ut.clip(q[Dt]),it&&st&&st.clip(q[Dt]),dt=kt.value>wt.max,D.resetZones&&0===vt&&(vt=void 0)}),this.clips=q}else D.visible&&(nt&&nt.show(!0),it&&it.show(!0))},$.prototype.invertGroups=function(D){function U(){["group","markerGroup"].forEach(function(q){N[q]&&(Z.renderer.isVML&&N[q].attr({width:N.yAxis.len,height:N.xAxis.len}),N[q].width=N.yAxis.len,N[q].height=N.xAxis.len,N[q].invert(!N.isRadialSeries&&D))})}var N=this,Z=N.chart;N.xAxis&&(N.eventsToUnbind.push(x(Z,"resize",U)),U(),N.invertGroups=U)},$.prototype.plotGroup=function(D,U,N,Z,q){var nt=this[D],it=!nt;return N={visibility:N,zIndex:Z||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(N.opacity=this.opacity),it&&(this[D]=nt=this.chart.renderer.g().add(q)),nt.addClass("highcharts-"+U+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(d(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(N)[it?"attr":"animate"](this.getPlotBox()),nt},$.prototype.getPlotBox=function(){var D=this.chart,U=this.xAxis,N=this.yAxis;return D.inverted&&(U=N,N=this.xAxis),{translateX:U?U.left:D.plotLeft,translateY:N?N.top:D.plotTop,scaleX:1,scaleY:1}},$.prototype.removeEvents=function(D){D||R(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(U){U()}),this.eventsToUnbind.length=0)},$.prototype.render=function(){var D=this,U=D.chart,N=D.options,Z=E(N.animation),q=D.visible?"inherit":"hidden",nt=N.zIndex,it=D.hasRendered,ot=U.seriesGroup,at=U.inverted;U=!D.finishedAnimating&&U.renderer.isSVG?Z.duration:0,b(this,"render");var mt=D.plotGroup("group","series",q,nt,ot);D.markerGroup=D.plotGroup("markerGroup","markers",q,nt,ot),!1!==N.clip&&D.setClip(),D.animate&&U&&D.animate(!0),mt.inverted=!!T(D.invertible,D.isCartesian)&&at,D.drawGraph&&(D.drawGraph(),D.applyZones()),D.visible&&D.drawPoints(),D.drawDataLabels&&D.drawDataLabels(),D.redrawPoints&&D.redrawPoints(),D.drawTracker&&!1!==D.options.enableMouseTracking&&D.drawTracker(),D.invertGroups(at),D.animate&&U&&D.animate(),it||(U&&Z.defer&&(U+=Z.defer),D.animationTimeout=X(function(){D.afterAnimate()},U||0)),D.isDirty=!1,D.hasRendered=!0,b(D,"afterRender")},$.prototype.redraw=function(){var D=this.chart,U=this.isDirty||this.isDirtyData,N=this.group,Z=this.xAxis,q=this.yAxis;N&&(D.inverted&&N.attr({width:D.plotWidth,height:D.plotHeight}),N.animate({translateX:T(Z&&Z.left,D.plotLeft),translateY:T(q&&q.top,D.plotTop)})),this.translate(),this.render(),U&&delete this.kdTree},$.prototype.searchPoint=function(D,U){var N=this.xAxis,Z=this.yAxis,q=this.chart.inverted;return this.searchKDTree({clientX:q?N.len-D.chartY+N.pos:D.chartX-N.pos,plotY:q?Z.len-D.chartX+Z.pos:D.chartY-Z.pos},U,D)},$.prototype.buildKDTree=function(D){function U(q,nt,it){var ot=q&&q.length;if(ot){var at=N.kdAxisArray[nt%it];return q.sort(function(mt,yt){return mt[at]-yt[at]}),{point:q[ot=Math.floor(ot/2)],left:U(q.slice(0,ot),nt+1,it),right:U(q.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var N=this,Z=-1<N.options.findNearestPointBy.indexOf("y")?2:1;delete N.kdTree,X(function(){N.kdTree=U(N.getValidPoints(null,!N.directTouch),Z,Z),N.buildingKdTree=!1},N.options.kdNow||D&&"touchstart"===D.type?0:1)},$.prototype.searchKDTree=function(D,U,N){var q=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=U?"distX":"dist";if(U=-1<q.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(N),this.kdTree)return function Z(at,mt,yt,vt){var pt=mt.point,ct=q.kdAxisArray[yt%vt],J=pt,et=d(at[nt])&&d(pt[nt])?Math.pow(at[nt]-pt[nt],2):null,st=d(at[it])&&d(pt[it])?Math.pow(at[it]-pt[it],2):null;return pt.dist=d(st=(et||0)+(st||0))?Math.sqrt(st):Number.MAX_VALUE,pt.distX=d(et)?Math.sqrt(et):Number.MAX_VALUE,et=0>(ct=at[ct]-pt[ct])?"right":"left",mt[st=0>ct?"left":"right"]&&(J=(st=Z(at,mt[st],yt+1,vt))[ot]<J[ot]?st:pt),mt[et]&&Math.sqrt(ct*ct)<J[ot]&&(J=(at=Z(at,mt[et],yt+1,vt))[ot]<J[ot]?at:J),J}(D,this.kdTree,U,U)},$.prototype.pointPlacementToXValue=function(){var D=this.options,U=D.pointRange,N=this.xAxis;return"between"===(D=D.pointPlacement)&&(D=N.reversed?-.5:.5),_(D)?D*(U||N.pointRange):0},$.prototype.isPointInside=function(D){var U=this.chart,N=this.xAxis,Z=this.yAxis;return void 0!==D.plotY&&void 0!==D.plotX&&0<=D.plotY&&D.plotY<=(Z?Z.len:U.plotHeight)&&0<=D.plotX&&D.plotX<=(N?N.len:U.plotWidth)},$.prototype.drawTracker=function(){var D=this,U=D.options,N=U.trackByArea,Z=[].concat(N?D.areaPath:D.graphPath),q=D.chart,nt=q.pointer,it=q.renderer,ot=q.options.tooltip.snap,at=D.tracker,mt=function(vt){q.hoverSeries!==D&&D.onMouseOver()},yt="rgba(192,192,192,"+(S?1e-4:.002)+")";at?at.attr({d:Z}):D.graph&&(D.tracker=it.path(Z).attr({visibility:D.visible?"visible":"hidden",zIndex:2}).addClass(N?"highcharts-tracker-area":"highcharts-tracker-line").add(D.group),q.styledMode||D.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:yt,fill:N?yt:"none","stroke-width":D.graph.strokeWidth()+(N?0:2*ot)}),[D.tracker,D.markerGroup,D.dataLabelsGroup].forEach(function(vt){vt&&(vt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(pt){nt.onTrackerMouseOut(pt)}),U.cursor&&!q.styledMode&&vt.css({cursor:U.cursor}),v)&&vt.on("touchstart",mt)})),b(this,"afterDrawTracker")},$.prototype.addPoint=function(D,U,N,Z,q){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var vt,mt=nt.data,yt=this.xData;U=T(U,!0);var pt={series:this};this.pointClass.prototype.applyOptions.apply(pt,[D]);var ct=pt.x,J=yt.length;if(this.requireSorting&&ct<yt[J-1])for(vt=!0;J&&yt[J-1]>ct;)J--;this.updateParallelArrays(pt,"splice",J,0,0),this.updateParallelArrays(pt,J),at&&pt.name&&(at[ct]=pt.name),mt.splice(J,0,D),vt&&(this.data.splice(J,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),N&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(pt,"shift"),mt.shift())),!1!==q&&b(this,"addPoint",{point:pt}),this.isDirtyData=this.isDirty=!0,U&&ot.redraw(Z)},$.prototype.removePoint=function(D,U,N){var Z=this,q=Z.data,nt=q[D],it=Z.points,ot=Z.chart,at=function(){it&&it.length===q.length&&it.splice(D,1),q.splice(D,1),Z.options.data.splice(D,1),Z.updateParallelArrays(nt||{series:Z},"splice",D,1),nt&&nt.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,U&&ot.redraw()};s(N,ot),U=T(U,!0),nt?nt.firePointEvent("remove",null,at):at()},$.prototype.remove=function(D,U,N,Z){function q(){nt.destroy(Z),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),T(D,!0)&&it.redraw(U)}var nt=this,it=nt.chart;!1!==N?b(nt,"remove",null,q):q()},$.prototype.update=function(D,U){D=h(D,this.userOptions),b(this,"update",{options:D});var yt,N=this,Z=N.chart,q=N.userOptions,nt=N.initialType||N.type,it=Z.options.plotOptions,ot=C[nt].prototype,at=N.finishedAnimating&&{animation:!1},mt={},vt=["eventOptions","navigatorSeries","baseSeries"],pt=D.type||q.type||Z.options.chart.type,ct=!(this.hasDerivedData||pt&&pt!==this.type||void 0!==D.pointStart||void 0!==D.pointInterval||void 0!==D.relativeXValue||N.hasOptionChanged("dataGrouping")||N.hasOptionChanged("pointStart")||N.hasOptionChanged("pointInterval")||N.hasOptionChanged("pointIntervalUnit")||N.hasOptionChanged("keys"));if(pt=pt||nt,ct&&(vt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==D.visible&&vt.push("area","graph"),N.parallelArrays.forEach(function(et){vt.push(et+"Data")}),D.data&&(D.dataSorting&&u(N.options.dataSorting,D.dataSorting),this.setData(D.data,!1))),D=B(q,at,{index:void 0===q.index?N.index:q.index,pointStart:T(it&&it.series&&it.series.pointStart,q.pointStart,N.xData[0])},!ct&&{data:N.options.data},D),ct&&D.data&&(D.data=N.options.data),(vt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(vt)).forEach(function(et){vt[et]=N[et],delete N[et]}),it=!1,C[pt]){if(it=pt!==N.type,N.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(N,C[pt].prototype);else{for(yt in at=Object.hasOwnProperty.call(N,"hcEvents")&&N.hcEvents,ot)N[yt]=void 0;u(N,C[pt].prototype),at?N.hcEvents=at:delete N.hcEvents}}else r(17,!0,Z,{missingModuleFor:pt});if(vt.forEach(function(et){N[et]=vt[et]}),N.init(Z,D),ct&&this.points){var J=N.options;!1===J.visible?(mt.graphic=1,mt.dataLabel=1):N._hasPointLabels||(ot=J.dataLabels,!(D=J.marker)||!1!==D.enabled&&(q.marker&&q.marker.symbol)===D.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(et){et&&et.series&&(et.resolveColor(),Object.keys(mt).length&&et.destroyElements(mt),!1===J.showInLegend&&et.legendItem&&Z.legend.destroyItem(et))},this)}N.initialType=nt,Z.linkSeries(),it&&N.linkedSeries.length&&(N.isDirtyData=!0),b(this,"afterUpdate"),T(U,!0)&&Z.redraw(!!ct&&void 0)},$.prototype.setName=function(D){this.name=this.options.name=this.userOptions.name=D,this.chart.isDirtyLegend=!0},$.prototype.hasOptionChanged=function(D){var U=this.options[D],N=this.chart.options.plotOptions,Z=this.userOptions[D];return Z?U!==Z:U!==T(N&&N[this.type]&&N[this.type][D],N&&N.series&&N.series[D],U)},$.prototype.onMouseOver=function(){var D=this.chart,U=D.hoverSeries;D.pointer.setHoverChartIndex(),U&&U!==this&&U.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),D.hoverSeries=this},$.prototype.onMouseOut=function(){var D=this.options,U=this.chart,N=U.tooltip,Z=U.hoverPoint;U.hoverSeries=null,Z&&Z.onMouseOut(),this&&D.events.mouseOut&&b(this,"mouseOut"),!N||this.stickyTracking||N.shared&&!this.noSharedTooltip||N.hide(),U.series.forEach(function(q){q.setState("",!0)})},$.prototype.setState=function(D,U){var N=this,Z=N.options,q=N.graph,nt=Z.inactiveOtherPoints,it=Z.states,ot=T(it[D||"normal"]&&it[D||"normal"].animation,N.chart.options.chart.animation),at=Z.lineWidth,mt=0,yt=Z.opacity;if(N.state!==(D=D||"")&&([N.group,N.markerGroup,N.dataLabelsGroup].forEach(function(vt){vt&&(N.state&&vt.removeClass("highcharts-series-"+N.state),D&&vt.addClass("highcharts-series-"+D))}),N.state=D,!N.chart.styledMode)){if(it[D]&&!1===it[D].enabled)return;if(D&&(at=it[D].lineWidth||at+(it[D].lineWidthPlus||0),yt=T(it[D].opacity,yt)),q&&!q.dashstyle)for(q.animate(Z={"stroke-width":at},ot);N["zone-graph-"+mt];)N["zone-graph-"+mt].animate(Z,ot),mt+=1;nt||[N.group,N.markerGroup,N.dataLabelsGroup,N.labelBySeries].forEach(function(vt){vt&&vt.animate({opacity:yt},ot)})}U&&nt&&N.points&&N.setAllPointsToState(D||void 0)},$.prototype.setAllPointsToState=function(D){this.points.forEach(function(U){U.setState&&U.setState(D)})},$.prototype.setVisible=function(D,U){var N=this,Z=N.chart,q=N.legendItem,nt=Z.options.chart.ignoreHiddenSeries,ot=(N.visible=D=N.options.visible=N.userOptions.visible=void 0===D?!N.visible:D)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){N[at]&&N[at][ot]()}),(Z.hoverSeries===N||(Z.hoverPoint&&Z.hoverPoint.series)===N)&&N.onMouseOut(),q&&Z.legend.colorizeItem(N,D),N.isDirty=!0,N.options.stacking&&Z.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),N.linkedSeries.forEach(function(at){at.setVisible(D,!1)}),nt&&(Z.isDirtyBox=!0),b(N,ot),!1!==U&&Z.redraw()},$.prototype.show=function(){this.setVisible(!0)},$.prototype.hide=function(){this.setVisible(!1)},$.prototype.select=function(D){this.selected=D=this.options.selected=void 0===D?!this.selected:D,this.checkbox&&(this.checkbox.checked=D),b(this,D?"select":"unselect")},$.prototype.shouldShowTooltip=function(D,U,N){return void 0===N&&(N={}),N.series=this,N.visiblePlotOnly=!0,this.chart.isInsidePlot(D,U,N)},$.defaultOptions=z,$}(),u(H.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:W.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Y,requireSorting:!0,sorted:!0}),I.series=H,H}),lt(F,"Extensions/ScrollablePlotArea.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var z=H.stop,I=Y.addEvent,P=Y.createElement,w=Y.merge,E=Y.pick;I(V,"afterSetChartSize",function(s){var l=this.options.chart.scrollablePlotArea,g=l&&l.minWidth;if(l=l&&l.minHeight,!this.renderer.forExport){if(g){if(this.scrollablePixelsX=g=Math.max(0,g-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.width=this.plotWidth+=g,this.inverted?this.clipBox.height+=g:this.clipBox.width+=g;var v={1:{name:"right",value:g}}}}else l&&(this.scrollablePixelsY=g=Math.max(0,l-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=w(this.plotBox),this.plotBox.height=this.plotHeight+=g,this.inverted?this.clipBox.width+=g:this.clipBox.height+=g,v={2:{name:"bottom",value:g}});v&&!s.skipAxes&&this.axes.forEach(function(S){v[S.side]?S.getPlotLinePath=function(){var f=v[S.side].name,C=this[f];this[f]=C-v[S.side].value;var x=K.prototype.getPlotLinePath.apply(this,arguments);return this[f]=C,x}:(S.setAxisSize(),S.setAxisTranslation())})}}),I(V,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),V.prototype.setUpScrolling=function(){var s=this,l={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(l.overflowX="auto"),this.scrollablePixelsY&&(l.overflowY="auto"),this.scrollingParent=P("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=P("div",{className:"highcharts-scrolling"},l,this.scrollingParent),I(this.scrollingContainer,"scroll",function(){s.pointer&&delete s.pointer.chartPosition}),this.innerContainer=P("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},V.prototype.moveFixedElements=function(){var v,s=this.container,l=this.fixedRenderer,g=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?v=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?v=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(v=".highcharts-yaxis"),v&&g.push(v+":not(.highcharts-radial-axis)",v+"-labels:not(.highcharts-radial-axis-labels)"),g.forEach(function(S){[].forEach.call(s.querySelectorAll(S),function(f){(f.namespaceURI===l.SVG_NS?l.box:l.box.parentNode).appendChild(f),f.style.pointerEvents="auto"})})},V.prototype.applyFixed=function(){var s=!this.fixedDiv,l=this.options.chart,g=l.scrollablePlotArea,v=W.getRendererType();s?(this.fixedDiv=P("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(l.style&&l.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=l=new v(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=l.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":E(g.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I(this,"afterShowResetZoom",this.moveFixedElements),I(this,"afterDrilldown",this.moveFixedElements),I(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||s)&&(this.scrollableDirty=!1,this.moveFixedElements()),l=this.chartWidth+(this.scrollablePixelsX||0),v=this.chartHeight+(this.scrollablePixelsY||0),z(this.container),this.container.style.width=l+"px",this.container.style.height=v+"px",this.renderer.boxWrapper.attr({width:l,height:v,viewBox:[0,0,l,v].join(" ")}),this.chartBackground.attr({width:l,height:v}),this.scrollingContainer.style.height=this.chartHeight+"px",s&&(g.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*g.scrollPositionX),g.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*g.scrollPositionY)),s=this.plotTop-(v=this.axisOffset)[0]-1,g=this.plotLeft-v[3]-1,l=this.plotTop+this.plotHeight+v[2]+1,v=this.plotLeft+this.plotWidth+v[1]+1;var S=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),f=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);s=this.scrollablePixelsX?[["M",0,s],["L",this.plotLeft-1,s],["L",this.plotLeft-1,l],["L",0,l],["Z"],["M",S,s],["L",this.chartWidth,s],["L",this.chartWidth,l],["L",S,l],["Z"]]:this.scrollablePixelsY?[["M",g,0],["L",g,this.plotTop-1],["L",v,this.plotTop-1],["L",v,0],["Z"],["M",g,f],["L",g,this.chartHeight],["L",v,this.chartHeight],["L",v,f],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:s})},I(K,"afterInit",function(){this.chart.scrollableDirty=!0}),I(Q,"show",function(){this.chart.scrollableDirty=!0})}),lt(F,"Core/Axis/StackingAxis.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Utilities.js"]],function(H,K,V){var w,Q=H.getDeferredAnimation,W=V.addEvent,Y=V.destroyObjectProperties,z=V.fireEvent,I=V.isNumber,P=V.objectEach;return function(E){function s(){var S=this.stacking;if(S){var f=S.stacks;P(f,function(C,x){Y(C),f[x]=null}),S&&S.stackTotalGroup&&S.stackTotalGroup.destroy()}}function l(){this.stacking||(this.stacking=new v(this))}var g=[];E.compose=function(S){return-1===g.indexOf(S)&&(g.push(S),W(S,"init",l),W(S,"destroy",s)),S};var v=function(){function S(f){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=f}return S.prototype.buildStacks=function(){var p,f=this.axis,C=f.series,x=f.options.reversedStacks,M=C.length;if(!f.isXAxis){for(this.usePercentage=!1,p=M;p--;){var a=C[x?p:M-p-1];a.setStackedPoints(),a.setGroupedPoints()}for(p=0;p<M;p++)C[p].modifyStacks();z(f,"afterBuildStacks")}},S.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var f=this.stacks=this.oldStacks;P(f,function(C){P(C,function(x){x.cumulative=x.total})})}},S.prototype.resetStacks=function(){var f=this;f.axis.isXAxis||P(f.stacks,function(x){P(x,function(M,p){I(M.touched)&&M.touched<f.stacksTouched?(M.destroy(),delete x[p]):(M.total=null,M.cumulative=null)})})},S.prototype.renderStackTotals=function(){var f=this.axis,C=f.chart,x=C.renderer,M=this.stacks;f=Q(C,f.options.stackLabels&&f.options.stackLabels.animation||!1);var p=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();p.translate(C.plotLeft,C.plotTop),P(M,function(a){P(a,function(h){h.render(p)})}),p.animate({opacity:1},f)},S}();E.Additions=v}(w||(w={})),w}),lt(F,"Extensions/Stacking.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Axis/StackingAxis.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var I=V.format,P=z.correctFloat,w=z.defined,E=z.destroyObjectProperties,s=z.isArray,l=z.isNumber,g=z.objectEach,v=z.pick,S=function(){function f(C,x,M,p,a){var h=C.chart.inverted;this.axis=C,this.isNegative=M,this.options=x=x||{},this.x=p,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:x.align||(h?M?"left":"right":"center"),verticalAlign:x.verticalAlign||(h?"middle":M?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(h?M?"right":"left":"center")}return f.prototype.destroy=function(){E(this,this.axis)},f.prototype.render=function(C){var x=this.axis.chart,M=this.options,p=M.format;p=p?I(p,this,x):M.formatter.call(this),this.label?this.label.attr({text:p,visibility:"hidden"}):(this.label=x.renderer.label(p,null,null,M.shape,null,null,M.useHTML,!1,"stack-labels"),p={r:M.borderRadius||0,text:p,rotation:M.rotation,padding:v(M.padding,5),visibility:"hidden"},x.styledMode||(p.fill=M.backgroundColor,p.stroke=M.borderColor,p["stroke-width"]=M.borderWidth,this.label.css(M.style)),this.label.attr(p),this.label.added||this.label.add(C)),this.label.labelrank=x.plotSizeY},f.prototype.setOffset=function(C,x,M,p,a){var h=this.axis,n=h.chart;p=h.translate(h.stacking.usePercentage?100:p||this.total,0,0,0,1),M=h.translate(M||0),M=w(p)&&Math.abs(p-M),C=v(a,n.xAxis[0].translate(this.x))+C,h=w(p)&&this.getStackBox(n,this,C,p,x,M,h),x=this.label,M=this.isNegative,C="justify"===v(this.options.overflow,"justify");var d=this.textAlign;x&&h&&(a=x.getBBox(),p=x.padding,d="left"===d?n.inverted?-p:p:"right"===d?a.width:n.inverted&&"center"===d?a.width/2:n.inverted?M?a.width+p:-p:a.width/2,M=n.inverted?a.height/2:M?-p:a.height,this.alignOptions.x=v(this.options.x,0),this.alignOptions.y=v(this.options.y,0),h.x-=d,h.y-=M,x.align(this.alignOptions,null,h),n.isInsidePlot(x.alignAttr.x+d-this.alignOptions.x,x.alignAttr.y+M-this.alignOptions.y)?x.show():(x.alignAttr.y=-9999,C=!1),C&&W.prototype.justifyDataLabel.call(this.axis,x,this.alignOptions,x.alignAttr,a,h),x.attr({x:x.alignAttr.x,y:x.alignAttr.y}),v(!C&&this.options.crop,!0)&&((n=l(x.x)&&l(x.y)&&n.isInsidePlot(x.x-p+x.width,x.y)&&n.isInsidePlot(x.x+p,x.y))||x.hide()))},f.prototype.getStackBox=function(C,x,M,p,a,h,n){var d=x.axis.reversed,o=C.inverted,r=n.height+n.pos-(o?C.plotLeft:C.plotTop);return x=x.isNegative&&!d||!x.isNegative&&d,{x:o?x?p-n.right:p-h+n.pos-C.plotLeft:M+C.xAxis[0].transB-C.plotLeft,y:o?n.height-M-a:x?r-p-h:r-p,width:o?h:a,height:o?a:h}},f}();return K.prototype.getStacks=function(){var f=this,C=f.inverted;f.yAxis.forEach(function(x){x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),f.series.forEach(function(x){var M=x.xAxis&&x.xAxis.options||{};!x.options.stacking||!0!==x.visible&&!1!==f.options.chart.ignoreHiddenSeries||(x.stackKey=[x.type,v(x.options.stack,""),C?M.top:M.left,C?M.height:M.width].join())})},Y.compose(H),W.prototype.setGroupedPoints=function(){var f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?W.prototype.setStackedPoints.call(this,"group"):f&&g(f.stacks,function(C,x){"group"===x.slice(-5)&&(g(C,function(M){return M.destroy()}),delete f.stacks[x])})},W.prototype.setStackedPoints=function(f){var C=f||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x=this.processedXData,M=this.processedYData,p=[],a=M.length,h=this.options,n=h.threshold,d=v(h.startFromThreshold&&n,0);h=h.stack;var O,k,o="-"+(f=f?this.type+","+C:this.stackKey),r=this.negStacks,u=this.yAxis,c=u.stacking.stacks,b=u.stacking.oldStacks;for(u.stacking.stacksTouched+=1,k=0;k<a;k++){var _=x[k],A=M[k],B=this.getStackIndicator(B,_,this.index),m=B.key,T=(O=r&&A<(d?0:n))?o:f;c[T]||(c[T]={}),c[T][_]||(b[T]&&b[T][_]?(c[T][_]=b[T][_],c[T][_].total=null):c[T][_]=new S(u,u.options.stackLabels,O,_,h)),T=c[T][_],null!==A?(T.points[m]=T.points[this.index]=[v(T.cumulative,d)],w(T.cumulative)||(T.base=m),T.touched=u.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(T.points[m][0]=T.points[this.index+","+_+",0"][0])):T.points[m]=T.points[this.index]=null,"percent"===C?(O=O?f:o,T.total=r&&c[O]&&c[O][_]?(O=c[O][_]).total=Math.max(O.total,T.total)+Math.abs(A)||0:P(T.total+(Math.abs(A)||0))):"group"===C?(s(A)&&(A=A[0]),null!==A&&(T.total=(T.total||0)+1)):T.total=P(T.total+(A||0)),T.cumulative="group"===C?(T.total||1)-1:v(T.cumulative,d)+(A||0),null!==A&&(T.points[m].push(T.cumulative),p[k]=T.cumulative,T.hasValidPoints=!0)}"percent"===C&&(u.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=p),u.stacking.oldStacks={}}},W.prototype.modifyStacks=function(){var p,f=this,C=f.stackKey,x=f.yAxis.stacking.stacks,M=f.processedXData,a=f.options.stacking;f[a+"Stacker"]&&[C,"-"+C].forEach(function(h){for(var d,o,n=M.length;n--;)p=f.getStackIndicator(p,d=M[n],f.index,h),(o=(d=x[h]&&x[h][d])&&d.points[p.key])&&f[a+"Stacker"](o,d,n)})},W.prototype.percentStacker=function(f,C,x){f[0]=P(f[0]*(C=C.total?100/C.total:0)),f[1]=P(f[1]*C),this.stackedYData[x]=f[1]},W.prototype.getStackIndicator=function(f,C,x,M){return!w(f)||f.x!==C||M&&f.key!==M?f={x:C,index:0,key:M}:f.index++,f.key=[x,C,f.index].join(),f},Q.StackItem=S,Q.StackItem}),lt(F,"Series/Line/LineSeries.js",[F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.defined,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.prototype.drawGraph=function(){var P=this,w=this.options,E=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode,l=[["graph","highcharts-graph"]];s||l[0].push(w.lineColor||this.color||"#cccccc",w.dashStyle),(l=P.getZonesGraphs(l)).forEach(function(g,v){var S=g[0],f=P[S],C=f?"animate":"attr";f?(f.endX=P.preventGraphAnimation?null:E.xMap,f.animate({d:E})):E.length&&(P[S]=f=P.chart.renderer.path(E).addClass(g[1]).attr({zIndex:1}).add(P.group)),f&&!s&&(S={stroke:g[2],"stroke-width":w.lineWidth,fill:P.fillGraph&&P.color||"none"},g[3]?S.dashstyle=g[3]:"square"!==w.linecap&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),f[C](S).shadow(2>v&&w.shadow)),f&&(f.startX=E.xMap,f.isArea=E.isArea)})},I.prototype.getGraphPath=function(P,w,E){var S,s=this,l=s.options,g=[],v=[],f=l.step,C=(P=P||s.points).reversed;return C&&P.reverse(),(f={right:1,center:2}[f]||f&&3)&&C&&(f=4-f),(P=this.getValidPoints(P,!1,!(l.connectNulls&&!w&&!E))).forEach(function(x,M){var p=x.plotX,a=x.plotY,h=P[M-1];(x.leftCliff||h&&h.rightCliff)&&!E&&(S=!0),x.isNull&&!W(w)&&0<M?S=!l.connectNulls:x.isNull&&!w?S=!0:(0===M||S?M=[["M",x.plotX,x.plotY]]:s.getPointSpline?M=[s.getPointSpline(P,x,M)]:f?(M=1===f?[["L",h.plotX,a]]:2===f?[["L",(h.plotX+p)/2,h.plotY],["L",(h.plotX+p)/2,a]]:[["L",p,h.plotY]]).push(["L",p,a]):M=[["L",p,a]],v.push(x.x),f&&(v.push(x.x),2===f&&v.push(x.x)),g.push.apply(g,M),S=!1)}),g.xMap=v,s.graphPath=g},I.prototype.getZonesGraphs=function(P){return this.zones.forEach(function(w,E){E=["zone-graph-"+E,"highcharts-graph highcharts-zone-graph-"+E+" "+(w.className||"")],this.chart.styledMode||E.push(w.color||this.color,w.dashStyle||this.options.dashStyle),P.push(E)},this),P},I.defaultOptions=Y(H.defaultOptions,{}),I}(H),K.registerSeriesType("line",V),V}),lt(F,"Series/Area/AreaSeries.js",[F["Core/Color/Color.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var E,W=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),Y=H.parse,z=V.seriesTypes.line;H=Q.extend;var I=Q.merge,P=Q.objectEach,w=Q.pick;return Q=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return W(s,E),s.prototype.drawGraph=function(){this.areaPath=[],E.prototype.drawGraph.apply(this);var l=this,g=this.areaPath,v=this.options,S=[["area","highcharts-area",this.color,v.fillColor]];this.zones.forEach(function(f,C){S.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+f.className,f.color||l.color,f.fillColor||v.fillColor])}),S.forEach(function(f){var C=f[0],x=l[C],M=x?"animate":"attr",p={};x?(x.endX=l.preventGraphAnimation?null:g.xMap,x.animate({d:g})):(p.zIndex=0,(x=l[C]=l.chart.renderer.path(g).addClass(f[1]).add(l.group)).isArea=!0),l.chart.styledMode||(p.fill=w(f[3],Y(f[2]).setOpacity(w(v.fillOpacity,.75)).get())),x[M](p),x.startX=g.xMap,x.shiftUnit=v.step?2:1})},s.prototype.getGraphPath=function(l){var C,g=z.prototype.getGraphPath,v=this.options,S=v.stacking,f=this.yAxis,x=[],M=[],p=this.index,a=f.stacking.stacks[this.stackKey],h=v.threshold,n=Math.round(f.getThreshold(v.threshold));v=w(v.connectNulls,"percent"===S);var d=function(c,b,O){var k=l[c];c=S&&a[k.x].points[p];var _=k[O+"Null"]||0;if(O=k[O+"Cliff"]||0,k=!0,O||_){var A=(_?c[0]:c[1])+O,B=c[0]+O;k=!!_}else!S&&l[b]&&l[b].isNull&&(A=B=h);void 0!==A&&(M.push({plotX:r,plotY:null===A?n:f.getThreshold(A),isNull:k,isCliff:!0}),x.push({plotX:r,plotY:null===B?n:f.getThreshold(B),doCurve:!1}))};for(l=l||this.points,S&&(l=this.getStackPoints(l)),C=0;C<l.length;C++){S||(l[C].leftCliff=l[C].rightCliff=l[C].leftNull=l[C].rightNull=void 0);var o=l[C].isNull,r=w(l[C].rectPlotX,l[C].plotX),u=S?w(l[C].yBottom,n):n;(!o||v)&&(v||d(C,C-1,"left"),o&&!S&&v||(M.push(l[C]),x.push({x:C,plotX:r,plotY:u})),v||d(C,C+1,"right"))}return C=g.call(this,M,!0,!0),x.reversed=!0,(u=(o=g.call(this,x,!0,!0))[0])&&"M"===u[0]&&(o[0]=["L",u[1],u[2]]),(o=C.concat(o)).length&&o.push(["Z"]),g=g.call(this,M,!1,v),o.xMap=C.xMap,this.areaPath=o,g},s.prototype.getStackPoints=function(l){var g=this,v=[],S=[],f=this.xAxis,C=this.yAxis,x=C.stacking.stacks[this.stackKey],M={},p=C.series,a=p.length,h=C.options.reversedStacks?1:-1,n=p.indexOf(g);if(l=l||this.points,this.options.stacking){for(var d=0;d<l.length;d++)l[d].leftNull=l[d].rightNull=void 0,M[l[d].x]=l[d];P(x,function(r,u){null!==r.total&&S.push(u)}),S.sort(function(r,u){return r-u});var o=p.map(function(r){return r.visible});S.forEach(function(r,u){var b,O,c=0;if(M[r]&&!M[r].isNull)v.push(M[r]),[-1,1].forEach(function(_){var A=1===_?"rightNull":"leftNull",B=0,m=x[S[u+_]];if(m)for(var T=n;0<=T&&T<a;){var R=p[T].index;(b=m.points[R])||(R===g.index?M[r][A]=!0:o[T]&&(O=x[r].points[R])&&(B-=O[1]-O[0])),T+=h}M[r][1===_?"rightCliff":"leftCliff"]=B});else{for(var k=n;0<=k&&k<a;){if(b=x[r].points[p[k].index]){c=b[1];break}k+=h}c=w(c,0),c=C.translate(c,0,1,0,1),v.push({isNull:!0,plotX:f.translate(r,0,0,0,1),x:r,plotY:c,yBottom:c})}})}return v},s.defaultOptions=I(z.defaultOptions,{threshold:0}),s}(z),H(Q.prototype,{singleStacks:!1,drawLegendSymbol:K.drawRectangle}),V.registerSeriesType("area",Q),Q}),lt(F,"Series/Spline/SplineSeries.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var z,V=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),Q=H.seriesTypes.line,W=K.merge,Y=K.pick;return K=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return V(I,z),I.prototype.getPointSpline=function(P,w,E){var s=w.plotX||0,l=w.plotY||0,g=P[E-1];if(E=P[E+1],g&&!g.isNull&&!1!==g.doCurve&&!w.isCliff&&E&&!E.isNull&&!1!==E.doCurve&&!w.isCliff){var v=E.plotX||0,S=0,f=(1.5*s+(g.plotX||0))/2.5,C=(1.5*l+(P=g.plotY||0))/2.5,x=(1.5*l+(E=E.plotY||0))/2.5;(v=(1.5*s+v)/2.5)!==f&&(S=(x-C)*(v-s)/(v-f)+l-x),x+=S,(C+=S)>P&&C>l?x=2*l-(C=Math.max(P,l)):C<P&&C<l&&(x=2*l-(C=Math.min(P,l))),x>E&&x>l?C=2*l-(x=Math.max(E,l)):x<E&&x<l&&(C=2*l-(x=Math.min(E,l))),w.rightContX=v,w.rightContY=x}return w=["C",Y(g.rightContX,g.plotX,0),Y(g.rightContY,g.plotY,0),Y(f,s,0),Y(C,l,0),s,l],g.rightContX=g.rightContY=void 0,w},I.defaultOptions=W(Q.defaultOptions),I}(Q),H.registerSeriesType("spline",K),K}),lt(F,"Series/AreaSpline/AreaSplineSeries.js",[F["Series/Area/AreaSeries.js"],F["Series/Spline/SplineSeries.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var w,Y=this&&this.__extends||(w=function(E,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var v in g)g.hasOwnProperty(v)&&(l[v]=g[v])})(E,s)},function(E,s){function l(){this.constructor=E}w(E,s),E.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),z=H.prototype,I=W.extend,P=W.merge;return W=function(w){function E(){var s=null!==w&&w.apply(this,arguments)||this;return s.data=void 0,s.points=void 0,s.options=void 0,s}return Y(E,w),E.defaultOptions=P(K.defaultOptions,H.defaultOptions),E}(K),I(W.prototype,{getGraphPath:z.getGraphPath,getStackPoints:z.getStackPoints,drawGraph:z.drawGraph,drawLegendSymbol:V.drawRectangle}),Q.registerSeriesType("areaspline",W),W}),lt(F,"Series/Column/ColumnSeries.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var a,I=this&&this.__extends||(a=function(h,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])})(h,n)},function(h,n){function d(){this.constructor=h}a(h,n),h.prototype=null===n?Object.create(n):(d.prototype=n.prototype,new d)}),P=H.animObject,w=K.parse,E=V.hasTouch;H=V.noop;var s=z.clamp,l=z.css,g=z.defined,v=z.extend,S=z.fireEvent,f=z.isArray,C=z.isNumber,x=z.merge,M=z.pick,p=z.objectEach;return z=function(a){function h(){var n=null!==a&&a.apply(this,arguments)||this;return n.borderWidth=void 0,n.data=void 0,n.group=void 0,n.options=void 0,n.points=void 0,n}return I(h,a),h.prototype.animate=function(n){var d=this,o=this.yAxis,r=d.options,u=this.chart.inverted,c={},b=u?"translateX":"translateY";if(n)c.scaleY=.001,n=s(o.toPixels(r.threshold),o.pos,o.pos+o.len),u?c.translateX=n-o.len:c.translateY=n,d.clipBox&&d.setClip(),d.group.attr(c);else{var O=Number(d.group.attr(b));d.group.animate({scaleY:1},v(P(d.options.animation),{step:function(k,_){d.group&&(c[b]=O+_.pos*(o.pos-O),d.group.attr(c))}}))}},h.prototype.init=function(n,d){a.prototype.init.apply(this,arguments);var o=this;(n=o.chart).hasRendered&&n.series.forEach(function(r){r.type===o.type&&(r.isDirty=!0)})},h.prototype.getColumnMetrics=function(){var n=this,d=n.options,o=n.xAxis,r=n.yAxis,u=o.options.reversedStacks;u=o.reversed&&!u||!o.reversed&&u;var b,c={},O=0;!1===d.grouping?O=1:n.chart.series.forEach(function(B){var m=B.yAxis,T=B.options;if(B.type===n.type&&(B.visible||!n.chart.options.chart.ignoreHiddenSeries)&&r.len===m.len&&r.pos===m.pos){if(T.stacking&&"group"!==T.stacking){void 0===c[b=B.stackKey]&&(c[b]=O++);var R=c[b]}else!1!==T.grouping&&(R=O++);B.columnIndex=R}});var k=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||d.pointRange||o.closestPointRange||o.tickInterval||1),o.len),_=k*d.groupPadding,A=(k-2*_)/(O||1);return d=Math.min(d.maxPointWidth||o.len,M(d.pointWidth,A*(1-2*d.pointPadding))),n.columnMetrics={width:d,offset:(A-d)/2+(_+((n.columnIndex||0)+(u?1:0))*A-k/2)*(u?-1:1),paddedWidth:A,columnCount:O},n.columnMetrics},h.prototype.crispCol=function(n,d,o,r){var u=this.chart,c=this.borderWidth,b=-(c%2?.5:0);return c=c%2?.5:1,u.inverted&&u.renderer.isVML&&(c+=1),this.options.crisp&&(o=Math.round(n+o)+b,o-=n=Math.round(n)+b),r=Math.round(d+r)+c,b=.5>=Math.abs(d)&&.5<r,r-=d=Math.round(d)+c,b&&r&&(--d,r+=1),{x:n,y:d,width:o,height:r}},h.prototype.adjustForMissingColumns=function(n,d,o,r){var u=this,c=this.options.stacking;if(!o.isNull&&1<r.columnCount){var b=0,O=0;p(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(k){if("number"==typeof o.x&&(k=k[o.x.toString()])){var _=k.points[u.index],A=k.total;c?(_&&(b=O),k.hasValidPoints&&O++):f(_)&&(b=_[1],O=A||0)}}),n=(o.plotX||0)+((O-1)*r.paddedWidth+d)/2-d-b*r.paddedWidth}return n},h.prototype.translate=function(){var n=this,d=n.chart,o=n.options,r=n.dense=2>n.closestPointRange*n.xAxis.transA;r=n.borderWidth=M(o.borderWidth,r?0:1);var u=n.xAxis,c=n.yAxis,b=o.threshold,O=n.translatedThreshold=c.getThreshold(b),k=M(o.minPointLength,5),_=n.getColumnMetrics(),A=_.width,B=n.pointXOffset=_.offset,m=n.dataMin,T=n.dataMax,R=n.barW=Math.max(A,1+2*r);d.inverted&&(O-=.5),o.pointPadding&&(R=Math.ceil(R)),W.prototype.translate.apply(n),n.points.forEach(function(j){var X=M(j.yBottom,O),$=999+Math.abs(X),D=j.plotX||0;$=s(j.plotY,-$,c.len+$);var U=Math.min($,X),N=Math.max($,X)-U,Z=A,q=D+B,nt=R;k&&Math.abs(N)<k&&(N=k,D=!c.reversed&&!j.negative||c.reversed&&j.negative,C(b)&&C(T)&&j.y===b&&T<=b&&(c.min||0)<b&&(m!==T||(c.max||0)<=b)&&(D=!D),U=Math.abs(U-O)>k?X-k:O-(D?k:0)),g(j.options.pointWidth)&&(Z=nt=Math.ceil(j.options.pointWidth),q-=Math.round((Z-A)/2)),o.centerInCategory&&(q=n.adjustForMissingColumns(q,Z,j,_)),j.barX=q,j.pointWidth=Z,j.tooltipPos=d.inverted?[s(c.len+c.pos-d.plotLeft-$,c.pos-d.plotLeft,c.len+c.pos-d.plotLeft),u.len+u.pos-d.plotTop-q-nt/2,N]:[u.left-d.plotLeft+q+nt/2,s($+c.pos-d.plotTop,c.pos-d.plotTop,c.len+c.pos-d.plotTop),N],j.shapeType=n.pointClass.prototype.shapeType||"rect",j.shapeArgs=n.crispCol.apply(n,j.isNull?[q,O,nt,0]:[q,U,nt,N])})},h.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},h.prototype.pointAttribs=function(n,d){var o=this.options,r=this.pointAttrToOptions||{},u=r.stroke||"borderColor",c=r["stroke-width"]||"borderWidth",b=n&&n.color||this.color,O=n&&n[u]||o[u]||b;r=n&&n.options.dashStyle||o.dashStyle;var k=n&&n[c]||o[c]||this[c]||0,_=M(n&&n.opacity,o.opacity,1);if(n&&this.zones.length){var A=n.getZone();b=n.options.color||A&&(A.color||n.nonZonedColor)||this.color,A&&(O=A.borderColor||O,r=A.dashStyle||r,k=A.borderWidth||k)}return d&&n&&(d=(n=x(o.states[d],n.options.states&&n.options.states[d]||{})).brightness,b=n.color||void 0!==d&&w(b).brighten(n.brightness).get()||b,O=n[u]||O,k=n[c]||k,r=n.dashStyle||r,_=M(n.opacity,_)),u={fill:b,stroke:O,"stroke-width":k,opacity:_},r&&(u.dashstyle=r),u},h.prototype.drawPoints=function(){var c,n=this,d=this.chart,o=n.options,r=d.renderer,u=o.animationLimit||250;n.points.forEach(function(b){var O=b.graphic,k=!!O,_=O&&d.pointCount<u?"animate":"attr";C(b.plotY)&&null!==b.y?(c=b.shapeArgs,O&&b.hasNewShapeType()&&(O=O.destroy()),n.enabledDataSorting&&(b.startXPos=n.xAxis.reversed?-(c&&c.width||0):n.xAxis.width),O||(b.graphic=O=r[b.shapeType](c).add(b.group||n.group))&&n.enabledDataSorting&&d.hasRendered&&d.pointCount<u&&(O.attr({x:b.startXPos}),k=!0,_="animate"),O&&k&&O[_](x(c)),o.borderRadius&&O[_]({r:o.borderRadius}),d.styledMode||O[_](n.pointAttribs(b,b.selected&&"select")).shadow(!1!==b.allowShadow&&o.shadow,null,o.stacking&&!o.borderRadius),O&&(O.addClass(b.getClassName(),!0),O.attr({visibility:b.visible?"inherit":"hidden"}))):O&&(b.graphic=O.destroy())})},h.prototype.drawTracker=function(){var u,n=this,d=n.chart,o=d.pointer,r=function(c){var b=o.getPointFromEvent(c);void 0!==b&&(o.isDirectTouch=!0,b.onMouseOver(c))};n.points.forEach(function(c){u=f(c.dataLabels)?c.dataLabels:c.dataLabel?[c.dataLabel]:[],c.graphic&&(c.graphic.element.point=c),u.forEach(function(b){b.div?b.div.point=c:b.element.point=c})}),n._hasTracking||(n.trackerGroups.forEach(function(c){n[c]&&(n[c].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(b){o.onTrackerMouseOut(b)}),E&&n[c].on("touchstart",r),!d.styledMode&&n.options.cursor&&n[c].css(l).css({cursor:n.options.cursor}))}),n._hasTracking=!0),S(this,"afterDrawTracker")},h.prototype.remove=function(){var n=this,d=n.chart;d.hasRendered&&d.series.forEach(function(o){o.type===n.type&&(o.isDirty=!0)}),W.prototype.remove.apply(n,arguments)},h.defaultOptions=x(W.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),h}(W),v(z.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:Q.drawRectangle,getSymbol:H,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Y.registerSeriesType("column",z),z}),lt(F,"Core/Series/DataLabel.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/FormatUtilities.js"],F["Core/Utilities.js"]],function(H,K,V){var g,Q=H.getDeferredAnimation,W=K.format,Y=V.defined,z=V.extend,I=V.fireEvent,P=V.isArray,w=V.merge,E=V.objectEach,s=V.pick,l=V.splat;return function(v){function S(h,n,d,o,r){var u=this,c=this.chart,b=this.isCartesian&&c.inverted,O=this.enabledDataSorting,k=s(h.dlBox&&h.dlBox.centerX,h.plotX,-9999),_=s(h.plotY,-9999),A=n.getBBox(),B=d.rotation,m=d.align,T=c.isInsidePlot(k,Math.round(_),{inverted:b,paneCoordinates:!0,series:u}),R=function(D){O&&u.xAxis&&!j&&u.setDataLabelStartPos(h,n,r,T,D)},j="justify"===s(d.overflow,O?"none":"justify"),X=this.visible&&!1!==h.visible&&(h.series.forceDL||O&&!j||T||s(d.inside,!!this.options.stacking)&&o&&c.isInsidePlot(k,b?o.x+1:o.y+o.height-1,{inverted:b,paneCoordinates:!0,series:u}));if(X){var $=c.renderer.fontMetrics(c.styledMode?void 0:d.style.fontSize,n).b;o=z({x:b?this.yAxis.len-_:k,y:Math.round(b?this.xAxis.len-k:_),width:0,height:0},o),z(d,{width:A.width,height:A.height}),B?(j=!1,k=c.renderer.rotCorr($,B),R(k={x:o.x+(d.x||0)+o.width/2+k.x,y:o.y+(d.y||0)+{top:0,middle:.5,bottom:1}[d.verticalAlign]*o.height}),n[r?"attr":"animate"](k).attr({align:m}),R=180<(R=(B+720)%360)&&360>R,"left"===m?k.y-=R?A.height:0:"center"===m?(k.x-=A.width/2,k.y-=A.height/2):"right"===m&&(k.x-=A.width,k.y-=R?0:A.height),n.placed=!0,n.alignAttr=k):(R(o),n.align(d,void 0,o),k=n.alignAttr),j&&0<=o.height?this.justifyDataLabel(n,d,k,A,o,r):s(d.crop,!0)&&(X=c.isInsidePlot(k.x,k.y,{paneCoordinates:!0,series:u})&&c.isInsidePlot(k.x+A.width,k.y+A.height,{paneCoordinates:!0,series:u})),d.shape&&!B&&n[r?"attr":"animate"]({anchorX:b?c.plotWidth-h.plotY:h.plotX,anchorY:b?c.plotHeight-h.plotX:h.plotY})}r&&O&&(n.placed=!1),X||O&&!j||(n.hide(!0),n.placed=!1)}function C(){var h=this,n=h.chart,d=h.options,o=h.points,r=h.hasRendered||0,u=n.renderer,c=d.dataLabels,O=c.animation;if(O=c.defer?Q(n,O,h):{defer:0,duration:0},c=M(M(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[h.type]&&n.options.plotOptions[h.type].dataLabels),c),I(this,"drawDataLabels"),P(c)||c.enabled||h._hasPointLabels){var k=h.plotGroup("dataLabelsGroup","data-labels",r?"inherit":"hidden",c.zIndex||6);k.attr({opacity:+r}),!r&&(r=h.dataLabelsGroup)&&(h.visible&&k.show(!0),r[d.animation?"animate":"attr"]({opacity:1},O)),o.forEach(function(_){l(M(c,_.dlOptions||_.options&&_.options.dataLabels)).forEach(function(A,B){var m=A.enabled&&(!_.isNull||_.dataLabelOnNull)&&function f(h,n){var d=n.filter;return!d||(n=d.operator,h=h[d.property],d=d.value,">"===n&&h>d||"<"===n&&h<d||">="===n&&h>=d||"<="===n&&h<=d||"=="===n&&h==d||"==="===n&&h===d)}(_,A),T=_.connectors?_.connectors[B]:_.connector,R=_.dataLabels?_.dataLabels[B]:_.dataLabel,j=s(A.distance,_.labelDistance),X=!R;if(m){var $=_.getLabelConfig(),D=s(A[_.formatPrefix+"Format"],A.format);$=Y(D)?W(D,$,n):(A[_.formatPrefix+"Formatter"]||A.formatter).call($,A),D=A.style;var U=A.rotation;n.styledMode||(D.color=s(A.color,D.color,h.color,"#000000"),"contrast"===D.color?(_.contrastColor=u.getContrast(_.color||h.color),D.color=!Y(j)&&A.inside||0>j||d.stacking?_.contrastColor:"#000000"):delete _.contrastColor,d.cursor&&(D.cursor=d.cursor));var N={r:A.borderRadius||0,rotation:U,padding:A.padding,zIndex:1};n.styledMode||(N.fill=A.backgroundColor,N.stroke=A.borderColor,N["stroke-width"]=A.borderWidth),E(N,function(Z,q){void 0===Z&&delete N[q]})}!R||m&&Y($)&&!!R.div==!!A.useHTML||(_.dataLabel=R=_.dataLabel&&_.dataLabel.destroy(),_.dataLabels&&(1===_.dataLabels.length?delete _.dataLabels:delete _.dataLabels[B]),B||delete _.dataLabel,T&&(_.connector=_.connector.destroy(),_.connectors&&(1===_.connectors.length?delete _.connectors:delete _.connectors[B]))),m&&Y($)&&(R?N.text=$:(_.dataLabels=_.dataLabels||[],R=_.dataLabels[B]=U?u.text($,0,-9999,A.useHTML).addClass("highcharts-data-label"):u.label($,0,-9999,A.shape,null,null,A.useHTML,null,"data-label"),B||(_.dataLabel=R),R.addClass(" highcharts-data-label-color-"+_.colorIndex+" "+(A.className||"")+(A.useHTML?" highcharts-tracker":""))),R.options=A,R.attr(N),n.styledMode||R.css(D).shadow(A.shadow),R.added||R.add(k),A.textPath&&!A.useHTML&&(R.setTextPath(_.getDataLabelPath&&_.getDataLabelPath(R)||_.graphic,A.textPath),_.dataLabelPath&&!A.textPath.enabled&&(_.dataLabelPath=_.dataLabelPath.destroy())),h.alignDataLabel(_,R,A,null,X))})})}I(this,"afterDrawDataLabels")}function x(h,n,d,o,r,u){var c=this.chart,b=n.align,O=n.verticalAlign,k=h.box?0:h.padding||0,_=n.x;_=void 0===_?0:_;var A=n.y;A=void 0===A?0:A;var B=(d.x||0)+k;if(0>B){"right"===b&&0<=_?(n.align="left",n.inside=!0):_-=B;var m=!0}return(B=(d.x||0)+o.width-k)>c.plotWidth&&("left"===b&&0>=_?(n.align="right",n.inside=!0):_+=c.plotWidth-B,m=!0),0>(B=d.y+k)&&("bottom"===O&&0<=A?(n.verticalAlign="top",n.inside=!0):A-=B,m=!0),(B=(d.y||0)+o.height-k)>c.plotHeight&&("top"===O&&0>=A?(n.verticalAlign="bottom",n.inside=!0):A+=c.plotHeight-B,m=!0),m&&(n.x=_,n.y=A,h.placed=!u,h.align(n,void 0,r)),m}function M(h,n){var o,d=[];if(P(h)&&!P(n))d=h.map(function(r){return w(r,n)});else if(P(n)&&!P(h))d=n.map(function(r){return w(h,r)});else if(P(h)||P(n))for(o=Math.max(h.length,n.length);o--;)d[o]=w(h[o],n[o]);else d=w(h,n);return d}function p(h,n,d,o,r){var u=this.chart,c=u.inverted,b=this.xAxis,O=b.reversed,k=c?n.height/2:n.width/2;h=(h=h.pointWidth)?h/2:0,n.startXPos=c?r.x:O?-k-h:b.width-k+h,n.startYPos=c?O?this.yAxis.height-k+h:-k-h:r.y,o?"hidden"===n.visibility&&(n.show(),n.attr({opacity:0}).animate({opacity:1})):n.attr({opacity:1}).animate({opacity:0},void 0,n.hide),u.hasRendered&&(d&&n.attr({x:n.startXPos,y:n.startYPos}),n.placed=!0)}var a=[];v.compose=function(h){if(-1===a.indexOf(h)){var n=h.prototype;a.push(h),n.alignDataLabel=S,n.drawDataLabels=C,n.justifyDataLabel=x,n.setDataLabelStartPos=p}}}(g||(g={})),g}),lt(F,"Series/Column/ColumnDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=K.series,W=V.merge,Y=V.pick;return function(I){function P(E,s,l,g,v){var S=this.chart.inverted,f=E.series,C=(f.xAxis?f.xAxis.len:this.chart.plotSizeX)||0,x=E.dlBox||E.shapeArgs,M=Y(E.below,E.plotY>Y(this.translatedThreshold,f=(f.yAxis?f.yAxis.len:this.chart.plotSizeY)||0)),p=Y(l.inside,!!this.options.stacking);x&&(0>(g=W(x)).y&&(g.height+=g.y,g.y=0),0<(x=g.y+g.height-f)&&x<g.height&&(g.height-=x),S&&(g={x:f-g.y-g.height,y:C-g.x-g.width,width:g.height,height:g.width}),p||(S?(g.x+=M?0:g.width,g.width=0):(g.y+=M?g.height:0,g.height=0))),l.align=Y(l.align,!S||p?"center":M?"right":"left"),l.verticalAlign=Y(l.verticalAlign,S||p?"middle":M?"top":"bottom"),Q.prototype.alignDataLabel.call(this,E,s,l,g,v),l.inside&&E.contrastColor&&s.css({color:E.contrastColor})}var w=[];I.compose=function(E){H.compose(Q),-1===w.indexOf(E)&&(w.push(E),E.prototype.alignDataLabel=P)}}(z||(z={})),z}),lt(F,"Series/Bar/BarSeries.js",[F["Series/Column/ColumnSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var z,Q=this&&this.__extends||(z=function(I,P){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var s in E)E.hasOwnProperty(s)&&(w[s]=E[s])})(I,P)},function(I,P){function w(){this.constructor=I}z(I,P),I.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}),W=V.extend,Y=V.merge;return V=function(z){function I(){var P=null!==z&&z.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P}return Q(I,z),I.defaultOptions=Y(H.defaultOptions,{}),I}(H),W(V.prototype,{inverted:!0}),K.registerSeriesType("bar",V),V}),lt(F,"Series/Scatter/ScatterSeries.js",[F["Series/Column/ColumnSeries.js"],F["Series/Line/LineSeries.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var P,W=this&&this.__extends||(P=function(w,E){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])})(w,E)},function(w,E){function s(){this.constructor=w}P(w,E),w.prototype=null===E?Object.create(E):(s.prototype=E.prototype,new s)}),Y=Q.addEvent,z=Q.extend,I=Q.merge;return Q=function(P){function w(){var E=null!==P&&P.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return W(w,P),w.prototype.applyJitter=function(){var E=this,s=this.options.jitter,l=this.points.length;s&&this.points.forEach(function(g,v){["x","y"].forEach(function(S,f){var C="plot"+S.toUpperCase();if(s[S]&&!g.isNull){var x=E[S+"Axis"],M=s[S]*x.transA;if(x&&!x.isLog){var p=Math.max(0,g[C]-M);x=Math.min(x.len,g[C]+M),f=1e4*Math.sin(v+f*l),g[C]=p+(x-p)*(f-Math.floor(f)),"x"===S&&(g.clientX=g.plotX)}}})})},w.prototype.drawGraph=function(){this.options.lineWidth?P.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},w.defaultOptions=I(K.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),w}(K),z(Q.prototype,{drawTracker:H.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),Y(Q,"afterTranslate",function(){this.applyJitter()}),V.registerSeriesType("scatter",Q),Q}),lt(F,"Series/CenteredUtilities.js",[F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V){var I,P,Q=H.deg2rad,W=V.isNumber,Y=V.pick,z=V.relativeLength;return(P=I||(I={})).getCenter=function(){var w=this.options,E=this.chart,s=2*(w.slicedOffset||0),l=E.plotWidth-2*s,g=E.plotHeight-2*s,v=w.center,S=Math.min(l,g),f=w.size,C=w.innerSize||0;for("string"==typeof f&&(f=parseFloat(f)),"string"==typeof C&&(C=parseFloat(C)),w=[Y(v[0],"50%"),Y(v[1],"50%"),Y(f&&0>f?void 0:w.size,"100%"),Y(C&&0>C?void 0:w.innerSize||0,"0%")],!E.angular||this instanceof K||(w[3]=0),v=0;4>v;++v)f=w[v],E=2>v||2===v&&/%$/.test(f),w[v]=z(f,[l,g,S,w[2]][v])+(E?s:0);return w[3]>w[2]&&(w[3]=w[2]),w},P.getStartAndEndRadians=function(w,E){return w=W(w)?w:0,E=W(E)&&E>w&&360>E-w?E:w+360,{start:Q*(w+-90),end:Q*(E+-90)}},I}),lt(F,"Series/Pie/PiePoint.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Series/Point.js"],F["Core/Utilities.js"]],function(H,K,V){var E,Q=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),W=H.setAnimation,Y=V.addEvent,z=V.defined;H=V.extend;var I=V.isNumber,P=V.pick,w=V.relativeLength;return K=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.labelDistance=void 0,l.options=void 0,l.series=void 0,l}return Q(s,E),s.prototype.getConnectorPath=function(){var l=this.labelPosition,g=this.series.options.dataLabels,v=this.connectorShapes,S=g.connectorShape;return v[S]&&(S=v[S]),S.call(this,{x:l.final.x,y:l.final.y,alignment:l.alignment},l.connectorPosition,g)},s.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},s.prototype.haloPath=function(l){var g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+l,g.r+l,{innerR:g.r-1,start:g.start,end:g.end})},s.prototype.init=function(){var l=this;E.prototype.init.apply(this,arguments),this.name=P(this.name,"Slice");var g=function(v){l.slice("select"===v.type)};return Y(this,"select",g),Y(this,"unselect",g),this},s.prototype.isValid=function(){return I(this.y)&&0<=this.y},s.prototype.setVisible=function(l,g){var v=this,S=this.series,f=S.chart,C=S.options.ignoreHiddenPoint;g=P(g,C),l!==this.visible&&(this.visible=this.options.visible=l=void 0===l?!this.visible:l,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(x){v[x]&&v[x][l?"show":"hide"](l)}),this.legendItem&&f.legend.colorizeItem(this,l),l||"hover"!==this.state||this.setState(""),C&&(S.isDirty=!0),g&&f.redraw())},s.prototype.slice=function(l,g,v){var S=this.series;W(v,S.chart),P(g,!0),this.sliced=this.options.sliced=z(l)?l:!this.sliced,S.options.data[S.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},s}(K),H(K.prototype,{connectorShapes:{fixedOffset:function(E,s,l){var g=s.breakAt;return s=s.touchingSliceAt,[["M",E.x,E.y],l.softConnector?["C",E.x+("left"===E.alignment?-5:5),E.y,2*g.x-s.x,2*g.y-s.y,g.x,g.y]:["L",g.x,g.y],["L",s.x,s.y]]},straight:function(E,s){return[["M",E.x,E.y],["L",(s=s.touchingSliceAt).x,s.y]]},crookedLine:function(E,s,l){s=s.touchingSliceAt;var g=this.series,v=g.center[0],S=g.chart.plotWidth,f=g.chart.plotLeft;g=E.alignment;var C=this.shapeArgs.r;return l=w(l.crookDistance,1),l=["L",S="left"===g?v+C+(S+f-v-C)*(1-l):f+(v-C)*l,E.y],v=!0,("left"===g?S>E.x||S<s.x:S<E.x||S>s.x)&&(v=!1),E=[["M",E.x,E.y]],v&&E.push(l),E.push(["L",s.x,s.y]),E}}}),K}),lt(F,"Series/Pie/PieSeries.js",[F["Series/CenteredUtilities.js"],F["Series/Column/ColumnSeries.js"],F["Core/Globals.js"],F["Core/Legend/LegendSymbol.js"],F["Series/Pie/PiePoint.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/Symbols.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var C,w=this&&this.__extends||(C=function(x,M){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var h in a)a.hasOwnProperty(h)&&(p[h]=a[h])})(x,M)},function(x,M){function p(){this.constructor=x}C(x,M),x.prototype=null===M?Object.create(M):(p.prototype=M.prototype,new p)}),E=H.getStartAndEndRadians;V=V.noop;var s=P.clamp,l=P.extend,g=P.fireEvent,v=P.merge,S=P.pick,f=P.relativeLength;return P=function(C){function x(){var M=null!==C&&C.apply(this,arguments)||this;return M.center=void 0,M.data=void 0,M.maxLabelDistance=void 0,M.options=void 0,M.points=void 0,M}return w(x,C),x.prototype.animate=function(M){var p=this,h=p.startAngleRad;M||p.points.forEach(function(n){var d=n.graphic,o=n.shapeArgs;d&&o&&(d.attr({r:S(n.startR,p.center&&p.center[3]/2),start:h,end:h}),d.animate({r:o.r,start:o.start,end:o.end},p.options.animation))})},x.prototype.drawEmpty=function(){var M=this.startAngleRad,p=this.endAngleRad,a=this.options;if(0===this.total&&this.center){var h=this.center[0],n=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(h,n,this.center[1]/2,0,M,p).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:I.arc(h,n,this.center[2]/2,0,{start:M,end:p,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":a.borderWidth,fill:a.fillColor||"none",stroke:a.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},x.prototype.drawPoints=function(){var M=this.chart.renderer;this.points.forEach(function(p){p.graphic&&p.hasNewShapeType()&&(p.graphic=p.graphic.destroy()),p.graphic||(p.graphic=M[p.shapeType](p.shapeArgs).add(p.series.group),p.delayedRendering=!0)})},x.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},x.prototype.getX=function(M,p,a){var h=this.center,n=this.radii?this.radii[a.index]||0:h[2]/2;return M=Math.asin(s((M-h[1])/(n+a.labelDistance),-1,1)),h[0]+(p?-1:1)*Math.cos(M)*(n+a.labelDistance)+(0<a.labelDistance?(p?-1:1)*this.options.dataLabels.padding:0)},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.redrawPoints=function(){var n,d,o,r,M=this,p=M.chart,a=p.renderer,h=M.options.shadow;this.drawEmpty(),!h||M.shadowGroup||p.styledMode||(M.shadowGroup=a.g("shadow").attr({zIndex:-1}).add(M.group)),M.points.forEach(function(u){var c={};if(d=u.graphic,!u.isNull&&d){var b=void 0;r=u.shapeArgs,n=u.getTranslate(),p.styledMode||(b=u.shadowGroup,h&&!b&&(b=u.shadowGroup=a.g("shadow").add(M.shadowGroup)),b&&b.attr(n),o=M.pointAttribs(u,u.selected&&"select")),u.delayedRendering?(d.setRadialReference(M.center).attr(r).attr(n),p.styledMode||d.attr(o).attr({"stroke-linejoin":"round"}).shadow(h,b),u.delayedRendering=!1):(d.setRadialReference(M.center),p.styledMode||v(!0,c,o),v(!0,c,r,n),d.animate(c)),d.attr({visibility:u.visible?"inherit":"hidden"}),d.addClass(u.getClassName(),!0)}else d&&(u.graphic=d.destroy())})},x.prototype.sortByAngle=function(M,p){M.sort(function(a,h){return void 0!==a.angle&&(h.angle-a.angle)*p})},x.prototype.translate=function(M){this.generatePoints();var p=this.options,a=p.slicedOffset,h=a+(p.borderWidth||0),n=E(p.startAngle,p.endAngle),d=this.startAngleRad=n.start;n=(this.endAngleRad=n.end)-d;var o=this.points,r=p.dataLabels.distance;p=p.ignoreHiddenPoint;var c,u=o.length,b=0;for(M||(this.center=M=this.getCenter()),c=0;c<u;c++){var O=o[c],k=d+b*n;!O.isValid()||p&&!O.visible||(b+=O.percentage/100);var _=d+b*n,A={x:M[0],y:M[1],r:M[2]/2,innerR:M[3]/2,start:Math.round(1e3*k)/1e3,end:Math.round(1e3*_)/1e3};O.shapeType="arc",O.shapeArgs=A,O.labelDistance=S(O.options.dataLabels&&O.options.dataLabels.distance,r),O.labelDistance=f(O.labelDistance,A.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,O.labelDistance),(_=(_+k)/2)>1.5*Math.PI?_-=2*Math.PI:_<-Math.PI/2&&(_+=2*Math.PI),O.slicedTranslation={translateX:Math.round(Math.cos(_)*a),translateY:Math.round(Math.sin(_)*a)},A=Math.cos(_)*M[2]/2;var B=Math.sin(_)*M[2]/2;O.tooltipPos=[M[0]+.7*A,M[1]+.7*B],O.half=_<-Math.PI/2||_>Math.PI/2?1:0,O.angle=_,k=Math.min(h,O.labelDistance/5),O.labelPosition={natural:{x:M[0]+A+Math.cos(_)*O.labelDistance,y:M[1]+B+Math.sin(_)*O.labelDistance},final:{},alignment:0>O.labelDistance?"center":O.half?"right":"left",connectorPosition:{breakAt:{x:M[0]+A+Math.cos(_)*k,y:M[1]+B+Math.sin(_)*k},touchingSliceAt:{x:M[0]+A,y:M[1]+B}}}}g(this,"afterTranslate")},x.prototype.updateTotals=function(){var h,M=this.points,p=M.length,a=this.options.ignoreHiddenPoint,n=0;for(h=0;h<p;h++){var d=M[h];!d.isValid()||a&&!d.visible||(n+=d.y)}for(this.total=n,h=0;h<p;h++)(d=M[h]).percentage=0<n&&(d.visible||!a)?d.y/n*100:0,d.total=n},x.defaultOptions=v(Y.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),x}(Y),l(P.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:Q.drawRectangle,drawTracker:K.prototype.drawTracker,getCenter:H.getCenter,getSymbol:V,isCartesian:!1,noSharedTooltip:!0,pointAttribs:K.prototype.pointAttribs,pointClass:W,requireSorting:!1,searchPoint:V,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("pie",P),P}),lt(F,"Series/Pie/PieDataLabel.js",[F["Core/Series/DataLabel.js"],F["Core/Globals.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var v,Y=K.noop,z=V.distribute,I=Q.series,P=W.arrayMax,w=W.clamp,E=W.defined,s=W.merge,l=W.pick,g=W.relativeLength;return function(S){function f(){var T,R,j,X,$,D,U,N,Z,q,nt,it,a=this,h=a.data,n=a.chart,d=a.options.dataLabels||{},o=d.connectorPadding,r=n.plotWidth,u=n.plotHeight,c=n.plotLeft,b=Math.round(n.chartWidth/3),O=a.center,k=O[2]/2,_=O[1],A=[[],[]],B=[0,0,0,0],m=a.dataLabelPositioners;a.visible&&(d.enabled||a._hasPointLabels)&&(h.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),I.prototype.drawDataLabels.apply(a),h.forEach(function(ot){ot.dataLabel&&(ot.visible?(A[ot.half].push(ot),ot.dataLabel._pos=null,!E(d.style.width)&&!E(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>b&&(ot.dataLabel.css({width:Math.round(.7*b)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),A.forEach(function(ot,at){var vt,mt=ot.length,yt=[];if(mt){if(a.sortByAngle(ot,at-.5),0<a.maxLabelDistance){var pt=Math.max(0,_-k-a.maxLabelDistance),ct=Math.min(_+k+a.maxLabelDistance,n.plotHeight);ot.forEach(function(J){0<J.labelDistance&&J.dataLabel&&(J.top=Math.max(0,_-k-J.labelDistance),J.bottom=Math.min(_+k+J.labelDistance,n.plotHeight),vt=J.dataLabel.getBBox().height||21,J.distributeBox={target:J.labelPosition.natural.y-J.top+vt/2,size:vt,rank:J.y},yt.push(J.distributeBox))}),z(yt,pt=ct+vt-pt,pt/5)}for(nt=0;nt<mt;nt++){if(X=(T=ot[nt]).dataLabel,q=!1===T.visible?"hidden":"inherit",Z=pt=(D=T.labelPosition).natural.y,yt&&E(T.distributeBox)&&(void 0===T.distributeBox.pos?q="hidden":(U=T.distributeBox.size,Z=m.radialDistributionY(T))),delete T.positionIndex,d.justify)N=m.justify(T,k,O);else switch(d.alignTo){case"connectors":N=m.alignToConnectors(ot,at,r,c);break;case"plotEdges":N=m.alignToPlotEdges(X,at,r,c);break;default:N=m.radialDistributionX(a,T,Z,pt)}X._attr={visibility:q,align:D.alignment},X._pos={x:N+l((it=T.options.dataLabels||{}).x,d.x)+({left:o,right:-o}[D.alignment]||0),y:Z+l(it.y,d.y)-10},D.final.x=N,D.final.y=Z,l(d.crop,!0)&&($=X.getBBox().width,pt=null,N-$<o&&1===at?(pt=Math.round($-N+o),B[3]=Math.max(pt,B[3])):N+$>r-o&&0===at&&(pt=Math.round(N+$-r+o),B[1]=Math.max(pt,B[1])),0>Z-U/2?B[0]=Math.max(Math.round(U/2-Z),B[0]):Z+U/2>u&&(B[2]=Math.max(Math.round(Z+U/2-u),B[2])),X.sideOverflow=pt)}}}),0===P(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=s(d,ot.options.dataLabels),(R=l(it.connectorWidth,1))&&(j=ot.connector,(X=ot.dataLabel)&&X._pos&&ot.visible&&0<ot.labelDistance?(q=X._attr.visibility,(at=!j)&&(ot.connector=j=n.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(a.dataLabelsGroup),n.styledMode||j.attr({"stroke-width":R,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",q)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(a){var n,h=a.dataLabel;h&&a.visible&&((n=h._pos)?(h.sideOverflow&&(h._attr.width=Math.max(h.getBBox().width-h.sideOverflow,0),h.css({width:h._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),h.shortened=!0),h.attr(h._attr),h[h.moved?"animate":"attr"](n),h.moved=!0):h&&h.attr({y:-9999})),delete a.distributeBox},this)}function x(a){var h=this.center,n=this.options,d=n.center,o=n.minSize||80,r=null!==n.size;if(!r){if(null!==d[0])var u=Math.max(h[2]-Math.max(a[1],a[3]),o);else u=Math.max(h[2]-a[1]-a[3],o),h[0]+=(a[3]-a[1])/2;null!==d[1]?u=w(u,o,h[2]-Math.max(a[0],a[2])):(u=w(u,o,h[2]-a[0]-a[2]),h[1]+=(a[0]-a[2])/2),u<h[2]?(h[2]=u,h[3]=Math.min(g(n.innerSize||0,u),u),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):r=!0}return r}var M=[],p={radialDistributionY:function(a){return a.top+a.distributeBox.pos},radialDistributionX:function(a,h,n,d){return a.getX(n<h.top+2||n>h.bottom-2?d:n,h.half,h)},justify:function(a,h,n){return n[0]+(a.half?-1:1)*(h+a.labelDistance)},alignToPlotEdges:function(a,h,n,d){return a=a.getBBox().width,h?a+d:n-a-d},alignToConnectors:function(a,h,n,d){var r,o=0;return a.forEach(function(u){(r=u.dataLabel.getBBox().width)>o&&(o=r)}),h?o+d:n-o-d}};S.compose=function(a){H.compose(I),-1===M.indexOf(a)&&(M.push(a),(a=a.prototype).dataLabelPositioners=p,a.alignDataLabel=Y,a.drawDataLabels=f,a.placeDataLabels=C,a.verifyDataLabelOverflow=x)}}(v||(v={})),v}),lt(F,"Extensions/OverlappingDataLabels.js",[F["Core/Chart/Chart.js"],F["Core/Utilities.js"]],function(H,K){function V(w,E){var s=!1;if(w){var l=w.newOpacity;w.oldOpacity!==l&&(w.alignAttr&&w.placed?(w[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),s=!0,w.alignAttr.opacity=l,w[w.isOld?"animate":"attr"](w.alignAttr,null,function(){E.styledMode||w.css({pointerEvents:l?"auto":"none"})}),W(E,"afterHideOverlappingLabel")):w.attr({opacity:l})),w.isOld=!0}return s}var W=K.fireEvent,Y=K.isArray,z=K.isNumber,I=K.objectEach,P=K.pick;(0,K.addEvent)(H,"render",function(){var w=this,E=[];(this.labelCollectors||[]).forEach(function(s){E=E.concat(s())}),(this.yAxis||[]).forEach(function(s){s.stacking&&s.options.stackLabels&&!s.options.stackLabels.allowOverlap&&I(s.stacking.stacks,function(l){I(l,function(g){g.label&&"hidden"!==g.label.visibility&&E.push(g.label)})})}),(this.series||[]).forEach(function(s){var l=s.options.dataLabels;s.visible&&(!1!==l.enabled||s._hasPointLabels)&&((l=function(g){return g.forEach(function(v){v.visible&&(Y(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[]).forEach(function(S){var f=S.options;S.labelrank=P(f.labelrank,v.labelrank,v.shapeArgs&&v.shapeArgs.height),f.allowOverlap?(S.oldOpacity=S.opacity,S.newOpacity=1,V(S,w)):E.push(S)})})})(s.nodes||[]),l(s.points))}),this.hideOverlappingLabels(E)}),H.prototype.hideOverlappingLabels=function(w){var g,v,S,E=this,s=w.length,l=E.renderer,f=!1,C=function(p){var a,d,h=p.box?0:p.padding||0,n=a=0;if(p&&(!p.alignAttr||p.placed)){var o=p.alignAttr||{x:p.attr("x"),y:p.attr("y")},r=p.parentGroup;return p.width||(a=p.getBBox(),p.width=a.width,p.height=a.height,a=l.fontMetrics(null,p.element).h),(d={left:"0",center:"0.5",right:"1"}[p.alignValue])?n=+d*(p.width-2*h):z(p.x)&&Math.round(p.x)!==p.translateX&&(n=p.x-p.translateX),{x:o.x+(r.translateX||0)+h-(n||0),y:o.y+(r.translateY||0)+h-a,width:p.width-2*h,height:p.height-2*h}}};for(v=0;v<s;v++)(g=w[v])&&(g.oldOpacity=g.opacity,g.newOpacity=1,g.absoluteBox=C(g));for(w.sort(function(p,a){return(a.labelrank||0)-(p.labelrank||0)}),v=0;v<s;v++){var x=(C=w[v])&&C.absoluteBox;for(g=v+1;g<s;++g){var M=(S=w[g])&&S.absoluteBox;!x||!M||C===S||0===C.newOpacity||0===S.newOpacity||M.x>=x.x+x.width||M.x+M.width<=x.x||M.y>=x.y+x.height||M.y+M.height<=x.y||((C.labelrank<S.labelrank?C:S).newOpacity=0)}}w.forEach(function(p){V(p,E)&&(f=!0)}),f&&W(E,"afterHideAllOverlappingLabels")}}),lt(F,"Core/Responsive.js",[F["Core/Utilities.js"]],function(H){var E,K=H.extend,V=H.find,Q=H.isArray,W=H.isObject,Y=H.merge,z=H.objectEach,I=H.pick,P=H.splat,w=H.uniqueKey;return function(s){var l=[];s.compose=function(v){return-1===l.indexOf(v)&&(l.push(v),K(v.prototype,g.prototype)),v};var g=function(){function v(){}return v.prototype.currentOptions=function(S){var C=this,x={};return function f(M,p,a,h){var n;z(M,function(d,o){if(!h&&-1<C.collectionsWithUpdate.indexOf(o)&&p[o])for(d=P(d),a[o]=[],n=0;n<Math.max(d.length,p[o].length);n++)p[o][n]&&(void 0===d[n]?a[o][n]=p[o][n]:(a[o][n]={},f(d[n],p[o][n],a[o][n],h+1)));else W(d)?(a[o]=Q(d)?[]:{},f(d,p[o]||{},a[o],h+1)):a[o]=void 0===p[o]?null:p[o]})}(S,this.options,x,0),x},v.prototype.matchResponsiveRule=function(S,f){var C=S.condition;(C.callback||function(){return this.chartWidth<=I(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=I(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=I(C.minWidth,0)&&this.chartHeight>=I(C.minHeight,0)}).call(this)&&f.push(S._id)},v.prototype.setResponsive=function(S,f){var C=this,x=this.options.responsive,M=this.currentResponsive,p=[];!f&&x&&x.rules&&x.rules.forEach(function(a){void 0===a._id&&(a._id=w()),C.matchResponsiveRule(a,p)},this),(f=Y.apply(void 0,p.map(function(a){return V((x||{}).rules||[],function(h){return h._id===a})}).map(function(a){return a&&a.chartOptions}))).isResponsiveOptions=!0,(p=p.toString()||void 0)!==(M&&M.ruleIds)&&(M&&this.update(M.undoOptions,S,!0),p?((M=this.currentOptions(f)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:p,mergedOptions:f,undoOptions:M},this.update(f,S,!0)):this.currentResponsive=void 0)},v}()}(E||(E={})),E}),lt(F,"masters/highcharts.src.js",[F["Core/Globals.js"],F["Core/Utilities.js"],F["Core/DefaultOptions.js"],F["Core/Animation/Fx.js"],F["Core/Animation/AnimationUtilities.js"],F["Core/Renderer/HTML/AST.js"],F["Core/FormatUtilities.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Renderer/HTML/HTMLElement.js"],F["Core/Renderer/HTML/HTMLRenderer.js"],F["Core/Axis/Axis.js"],F["Core/Axis/DateTimeAxis.js"],F["Core/Axis/LogarithmicAxis.js"],F["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],F["Core/Axis/Tick.js"],F["Core/Tooltip.js"],F["Core/Series/Point.js"],F["Core/Pointer.js"],F["Core/MSPointer.js"],F["Core/Legend/Legend.js"],F["Core/Chart/Chart.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Series/Column/ColumnSeries.js"],F["Series/Column/ColumnDataLabel.js"],F["Series/Pie/PieSeries.js"],F["Series/Pie/PieDataLabel.js"],F["Core/Series/DataLabel.js"],F["Core/Responsive.js"],F["Core/Color/Color.js"],F["Core/Time.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E,s,l,g,v,S,f,C,x,M,p,a,h,n,d,o,r,u,c,b,O,k,_){return H.animate=W.animate,H.animObject=W.animObject,H.getDeferredAnimation=W.getDeferredAnimation,H.setAnimation=W.setAnimation,H.stop=W.stop,H.timers=Q.timers,H.AST=Y,H.Axis=l,H.Chart=h,H.chart=h.chart,H.Fx=Q,H.Legend=a,H.PlotLineOrBand=S,H.Point=x,H.Pointer=p.isRequired()?p:M,H.Series=n,H.SVGElement=P,H.SVGRenderer=w,H.Tick=f,H.Time=_,H.Tooltip=C,H.Color=k,H.color=k.parse,s.compose(w),E.compose(P),H.defaultOptions=V.defaultOptions,H.getOptions=V.getOptions,H.time=V.defaultTime,H.setOptions=V.setOptions,H.dateFormat=z.dateFormat,H.format=z.format,H.numberFormat=z.numberFormat,H.addEvent=K.addEvent,H.arrayMax=K.arrayMax,H.arrayMin=K.arrayMin,H.attr=K.attr,H.clearTimeout=K.clearTimeout,H.correctFloat=K.correctFloat,H.createElement=K.createElement,H.css=K.css,H.defined=K.defined,H.destroyObjectProperties=K.destroyObjectProperties,H.discardElement=K.discardElement,H.distribute=I.distribute,H.erase=K.erase,H.error=K.error,H.extend=K.extend,H.extendClass=K.extendClass,H.find=K.find,H.fireEvent=K.fireEvent,H.getMagnitude=K.getMagnitude,H.getStyle=K.getStyle,H.inArray=K.inArray,H.isArray=K.isArray,H.isClass=K.isClass,H.isDOMElement=K.isDOMElement,H.isFunction=K.isFunction,H.isNumber=K.isNumber,H.isObject=K.isObject,H.isString=K.isString,H.keys=K.keys,H.merge=K.merge,H.normalizeTickInterval=K.normalizeTickInterval,H.objectEach=K.objectEach,H.offset=K.offset,H.pad=K.pad,H.pick=K.pick,H.pInt=K.pInt,H.relativeLength=K.relativeLength,H.removeEvent=K.removeEvent,H.seriesType=d.seriesType,H.splat=K.splat,H.stableSort=K.stableSort,H.syncTimeout=K.syncTimeout,H.timeUnits=K.timeUnits,H.uniqueKey=K.uniqueKey,H.useSerialIds=K.useSerialIds,H.wrap=K.wrap,r.compose(o),b.compose(n),g.compose(l),v.compose(l),c.compose(u),S.compose(l),O.compose(h),H}),lt(F,"Core/Axis/OrdinalAxis.js",[F["Core/Axis/Axis.js"],F["Core/Globals.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var l,W=Q.addEvent,Y=Q.correctFloat,z=Q.css,I=Q.defined,P=Q.error,w=Q.pick,E=Q.timeUnits,s=[];return function(g){function v(r,u,c,b,O,k,_){void 0===O&&(O=[]),void 0===k&&(k=0);var R,j,A={},B=this.options.tickPixelInterval,m=this.chart.time,T=[],X=0,$=[],D=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!O||3>O.length||void 0===u)return m.getTimeTicks.apply(m,arguments);var U=O.length;for(R=0;R<U;R++){var N=R&&O[R-1]>c;if(O[R]<u&&(X=R),R===U-1||O[R+1]-O[R]>5*k||N){if(O[R]>D){for(j=m.getTimeTicks(r,O[X],O[R],b);j.length&&j[0]<=D;)j.shift();j.length&&(D=j[j.length-1]),T.push($.length),$=$.concat(j)}X=R+1}if(N)break}if(j){if(j=j.info,_&&j.unitRange<=E.hour){for(R=$.length-1,X=1;X<R;X++)if(m.dateFormat("%d",$[X])!==m.dateFormat("%d",$[X-1])){A[$[X]]="day";var Z=!0}Z&&(A[$[0]]="day"),j.higherRanks=A}j.segmentStarts=T,$.info=j}else P(12,!1,this.chart);if(_&&I(B)){for(m=[],X=[],R=void 0,Z=j=$.length;Z--;)T=this.translate($[Z]),R&&(X[Z]=R-T),m[Z]=R=T;for(X.sort(),(X=X[Math.floor(X.length/2)])<.6*B&&(X=null),Z=$[j-1]>c?j-1:j,R=void 0;Z--;)T=m[Z],j=Math.abs(R-T),R&&j<.8*B&&(null===X||j<.8*X)?(A[$[Z]]&&!A[$[Z+1]]?(j=Z+1,R=T):j=Z,$.splice(j,1)):R=T}return $}function S(r){var u=this.ordinal.positions;if(!u)return r;var c=u.length-1;if(0>r)r=u[0];else if(r>c)r=u[c];else var b=r-(c=Math.floor(r));return void 0!==b&&void 0!==u[c]?u[c]+(b?b*(u[c+1]-u[c]):0):r}function f(r){var u=this.ordinal,c=u.positions;if(!c)return r;var b=(r-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<b&&b<this.left+this.len||(u.extendedOrdinalPositions||(u.extendedOrdinalPositions=u.getExtendedPositions()),c=u.extendedOrdinalPositions),c&&c.length){if(r=u.getIndexOfPoint(b,c),u=Y(r%1),0<=r&&r<c.length-1)return c[Math.floor(r)]+u*(c[Math.ceil(r)]-c[Math.floor(r)]);b=c[0];var O=((c=c[(u=c.length)-1])-b)/(u-1);return 0>r?b+O*r:c+O*(r-u)}return r}function C(r,u){var c=g.Additions.findIndexOf(r,u,!0);return r[c]===u?c:c+(u-r[c])/(r[c+1]-r[c])}function x(){this.ordinal||(this.ordinal=new g.Additions(this))}function M(){this.isXAxis&&I(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&I(this.userMin)&&(this.min+=this.options.overscroll))}function p(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function a(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function h(r){var u=this.xAxis[0],c=u.options.overscroll,b=r.originalEvent.chartX,O=this.options.chart.panning,k=!1;if(O&&"y"!==O.type&&u.options.ordinal&&u.series.length){var _=this.mouseDownX,A=u.getExtremes(),B=A.dataMax,m=A.min,T=A.max,R=this.hoverPoints,j=u.closestPointRange||u.ordinal&&u.ordinal.overscrollPointsRange;_=(_-b)/(u.translationSlope*(u.ordinal.slope||j)),j={ordinal:{positions:u.ordinal.getExtendedPositions()}};var X=u.index2val,$=u.val2lin,D=void 0,U=D=void 0,N=void 0;j.ordinal.positions?1<Math.abs(_)&&(R&&R.forEach(function(Z){Z.setState()}),0>_?(U=j,N=u.ordinal.positions?u:j):(U=u.ordinal.positions?u:j,N=j),B>(D=N.ordinal.positions)[D.length-1]&&D.push(B),this.fixedRange=T-m,(D=u.navigatorAxis.toFixedRange(void 0,void 0,X.apply(U,[$.apply(U,[m,!0])+_]),X.apply(N,[$.apply(N,[T,!0])+_]))).min>=Math.min(A.dataMin,m)&&D.max<=Math.max(B,T)+c&&u.setExtremes(D.min,D.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,z(this.container,{cursor:"move"})):k=!0}else k=!0;k||O&&/y/.test(O.type)?c&&(u.max=u.dataMax+c):r.preventDefault()}function n(){var r=this.xAxis;r&&r.options.ordinal&&(delete r.ordinal.index,delete r.ordinal.extendedOrdinalPositions)}function d(r,u){var c=this.ordinal,b=c.positions,O=c.slope,k=c.extendedOrdinalPositions;if(!b)return r;var _=b.length;if(b[0]<=r&&b[_-1]>=r)r=C(b,r);else{if(k||(k=c.getExtendedPositions&&c.getExtendedPositions(),c.extendedOrdinalPositions=k),!k||!k.length)return r;_=k.length,O||(O=(k[_-1]-k[0])/_),b=C(k,b[0]),r=r>=k[0]&&r<=k[_-1]?C(k,r)-b:r<k[0]?-b-(r=k[0]-r)/O:(r-=k[_-1])/O+_-b}return u?r:O*(r||0)+c.offset}g.compose=function(r,u,c){if(-1===s.indexOf(r)){s.push(r);var b=r.prototype;b.getTimeTicks=v,b.index2val=S,b.lin2val=f,b.val2lin=d,b.ordinal2lin=b.val2lin,W(r,"afterInit",x),W(r,"foundExtremes",M),W(r,"afterSetScale",p),W(r,"initialAxisTranslation",a)}return-1===s.indexOf(c)&&(s.push(c),W(c,"pan",h)),-1===s.indexOf(u)&&(s.push(u),W(u,"updatedData",n)),r};var o=function(){function r(u){this.index={},this.axis=u}return r.prototype.beforeSetTickPositions=function(){var u=this.axis,c=u.ordinal,b=u.getExtremes(),O=b.min,k=b.max,_=u.isXAxis&&!!u.options.breaks;b=u.options.ordinal;var B,m,A=u.chart.options.chart.ignoreHiddenSeries,T=[],R=Number.MAX_VALUE,j=!1;if(b||_){u.series.forEach(function(D,U){if(B=[],!(A&&!1===D.visible||!1===D.takeOrdinalPosition&&!_)&&(T=T.concat(D.processedXData),X=T.length,T.sort(function(N,Z){return N-Z}),R=Math.min(R,w(D.closestPointRange,R)),X)){for(U=0;U<X-1;)T[U]!==T[U+1]&&B.push(T[U+1]),U++;B[0]!==T[0]&&B.unshift(T[0]),T=B}});var X=T.length;if(2<X){var $=T[1]-T[0];for(m=X-1;m--&&!j;)T[m+1]-T[m]!==$&&(j=!0);!u.options.keepOrdinalPadding&&(T[0]-O>$||k-T[T.length-1]>$)&&(j=!0)}else u.options.overscroll&&(2===X?R=T[1]-T[0]:1===X?T=[T[0],T[0]+(R=u.options.overscroll)]:R=c.overscrollPointsRange);j||u.forceOrdinal?(u.options.overscroll&&(c.overscrollPointsRange=R,T=T.concat(c.getOverscrollPositions())),c.positions=T,$=u.ordinal2lin(Math.max(O,T[0]),!0),m=Math.max(u.ordinal2lin(Math.min(k,T[T.length-1]),!0),1),c.slope=k=(k-O)/(m-$),c.offset=O-$*k):(c.overscrollPointsRange=w(u.closestPointRange,c.overscrollPointsRange),c.positions=u.ordinal.slope=c.offset=void 0)}u.isOrdinal=b&&j,c.groupIntervalFactor=null},r.findIndexOf=function(u,c,b){for(var _,O=0,k=u.length-1;O<k;)u[_=Math.ceil((O+k)/2)]<=c?O=_:k=_-1;return u[O]===c||b?O:-1},r.prototype.getExtendedPositions=function(){var u=this,c=u.axis,b=c.constructor.prototype,O=c.chart,k=c.series[0].currentDataGrouping,_=k?k.count+k.unitName:"raw",A=c.options.overscroll,B=c.getExtremes(),m=void 0,T=u.index;if(T||(T=u.index={}),!T[_]){var R={series:[],chart:O,forceOrdinal:!1,getExtremes:function(){return{min:B.dataMin,max:B.dataMax+A}},getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin};R.ordinal.axis=R,c.series.forEach(function(j){(m={xAxis:R,xData:j.xData.slice(),chart:O,destroyGroupedData:K.noop,getProcessedData:V.prototype.getProcessedData,applyGrouping:V.prototype.applyGrouping}).xData=m.xData.concat(u.getOverscrollPositions()),m.options={dataGrouping:k?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[k.unitName,[k.count]]]}:{enabled:!1}},R.series.push(m),j.processData.apply(m)}),m.closestPointRange!==m.basePointRange&&m.currentDataGrouping&&(R.forceOrdinal=!0),c.ordinal.beforeSetTickPositions.apply({axis:R}),T[_]=R.ordinal.positions}return T[_]},r.prototype.getGroupIntervalFactor=function(u,c,b){var O=(b=b.processedXData).length,k=[],_=this.groupIntervalFactor;if(!_){for(_=0;_<O-1;_++)k[_]=b[_+1]-b[_];k.sort(function(A,B){return A-B}),k=k[Math.floor(O/2)],u=Math.max(u,b[0]),c=Math.min(c,b[O-1]),this.groupIntervalFactor=_=O*k/(c-u)}return _},r.prototype.getIndexOfPoint=function(u,c){var b=this.axis,O=this.positions?this.positions[0]:0,k=b.series[0].points&&b.series[0].points[0]&&b.series[0].points[0].plotX||b.minPixelPadding;return 1<b.series.length&&b.series.forEach(function(_){_.points&&I(_.points[0])&&I(_.points[0].plotX)&&_.points[0].plotX<k&&(k=_.points[0].plotX)}),u=(u-k)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)),r.findIndexOf(c,O)+u},r.prototype.getOverscrollPositions=function(){var u=this.axis,c=u.options.overscroll,b=this.overscrollPointsRange,O=[],k=u.dataMax;if(I(b))for(;k<=u.dataMax+c;)O.push(k+=b);return O},r.prototype.postProcessTickInterval=function(u){var c=this.axis,b=this.slope;return b?c.options.breaks?c.closestPointRange||u:u/(b/c.closestPointRange):u},r}();g.Additions=o}(l||(l={})),l}),lt(F,"Series/DataModifyComposition.js",[F["Core/Axis/Axis.js"],F["Core/Series/Point.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V,Q){var v,W=K.prototype.tooltipFormatter,Y=Q.addEvent,z=Q.arrayMax,I=Q.arrayMin,P=Q.correctFloat,w=Q.defined,E=Q.isArray,s=Q.isNumber,l=Q.isString,g=Q.pick;return function(S){function f(u,c,b){this.isXAxis||(this.series.forEach(function(O){"compare"===u&&"boolean"!=typeof c?O.setCompare(c,!1):"cumulative"!==u||l(c)||O.setCumulative(c,!1)}),g(b,!0)&&this.chart.redraw())}function C(u){var c=this,b=c.series.chart.numberFormatter,O=function(k){u=u.replace("{point."+k+"}",(0<c[k]&&"change"===k?"+":"")+b(c[k],g(c.series.tooltipOptions.changeDecimals,2)))};return w(c.change)&&O("change"),w(c.cumulativeSum)&&O("cumulativeSum"),W.apply(this,[u])}function x(){var u=this.options.compare;if("percent"===u||"value"===u||this.options.cumulative){var c=new r(this);"percent"===u||"value"===u?c.initCompare(u):c.initCumulative()}this.dataModify=c}function M(u){var c=(u=u.dataExtremes).activeYData;if(this.dataModify&&u){var b=void 0;this.options.compare?b=[this.dataModify.modifyValue(u.dataMin),this.dataModify.modifyValue(u.dataMax)]:this.options.cumulative&&E(c)&&2<=c.length&&(b=r.getCumulativeExtremes(c)),b&&(u.dataMin=I(b),u.dataMax=z(b))}}function p(u,c){this.options.compare=this.userOptions.compare=u,this.update({},g(c,!0)),!this.dataModify||"value"!==u&&"percent"!==u?this.points.forEach(function(b){delete b.change}):this.dataModify.initCompare(u)}function a(){if(this.xAxis&&this.processedYData&&this.dataModify){var _,u=this.processedXData,c=this.processedYData,b=c.length,O=!0===this.options.compareStart?0:1,k=-1;for(this.pointArrayMap&&(k=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),_=0;_<b-O;_++){var A=c[_]&&-1<k?c[_][k]:c[_];if(s(A)&&0!==A&&u[_+O]>=(this.xAxis.min||0)){this.dataModify.compareValue=A;break}}}}function h(u,c){this.setModifier("compare",u,c)}function n(u,c){u=g(u,!1),this.options.cumulative=this.userOptions.cumulative=u,this.update({},g(c,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(function(b){delete b.cumulativeSum})}function d(u,c){this.setModifier("cumulative",u,c)}var o=[];S.compose=function(u,c,b){if(-1===o.indexOf(u)){o.push(u);var O=u.prototype;O.setCompare=p,O.setCumulative=n,Y(u,"afterInit",x),Y(u,"afterGetExtremes",M),Y(u,"afterProcessData",a)}return-1===o.indexOf(c)&&(o.push(c),(c=c.prototype).setCompare=h,c.setModifier=f,c.setCumulative=d),-1===o.indexOf(b)&&(o.push(b),b.prototype.tooltipFormatter=C),u};var r=function(){function u(c){this.series=c}return u.prototype.modifyValue=function(){return 0},u.getCumulativeExtremes=function(c){var b=1/0,O=-1/0;return c.reduce(function(k,_){return _=k+_,b=Math.min(b,_,k),O=Math.max(O,_,k),_}),[b,O]},u.prototype.initCompare=function(c){this.modifyValue=function(b,O){null===b&&(b=0);var k=this.compareValue;return void 0!==b&&void 0!==k?(b="value"===c?b-k:b/k*100-(100===this.series.options.compareBase?0:100),void 0!==O&&(O=this.series.points[O])&&(O.change=b),b):0}},u.prototype.initCumulative=function(){this.modifyValue=function(c,b){if(null===c&&(c=0),void 0!==c&&void 0!==b){var O=0<b?this.series.points[b-1]:null;return O&&O.cumulativeSum&&(c=P(O.cumulativeSum+c)),(b=this.series.points[b])&&(b.cumulativeSum=c),c}return 0}},u}();S.Additions=r}(v||(v={})),v}),lt(F,"Core/Axis/BrokenAxis.js",[F["Extensions/Stacking.js"],F["Core/Utilities.js"]],function(H,K){var P,V=K.addEvent,Q=K.find,W=K.fireEvent,Y=K.isArray,z=K.isNumber,I=K.pick;return function(w){function E(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function s(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function l(){var p=this.brokenAxis;if(p&&p.hasBreaks){for(var a=this.tickPositions,h=this.tickPositions.info,n=[],d=0;d<a.length;d++)p.isInAnyBreak(a[d])||n.push(a[d]);this.tickPositions=n,this.tickPositions.info=h}}function g(){this.brokenAxis||(this.brokenAxis=new M(this))}function v(){var p=this.options.connectNulls,a=this.points,h=this.xAxis,n=this.yAxis;if(this.isDirty)for(var d=a.length;d--;){var o=a[d],r=!(null===o.y&&!1===p)&&(h&&h.brokenAxis&&h.brokenAxis.isInAnyBreak(o.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(o.y,!0));o.visible=!r&&!1!==o.options.visible}}function S(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,I(this.pointArrayMap,["y"]))}function f(p,a){var d,o,r,u,h=this,n=h.points;if(p&&p.brokenAxis&&p.brokenAxis.hasBreaks){var c=p.brokenAxis;a.forEach(function(b){d=c&&c.breakArray||[],o=p.isXAxis?p.min:I(h.options.threshold,p.min),n.forEach(function(O){u=I(O["stack"+b.toUpperCase()],O[b]),d.forEach(function(k){z(o)&&z(u)&&(r=!1,o<k.from&&u>k.to||o>k.from&&u<k.from?r="pointBreak":(o<k.from&&u>k.from&&u<k.to||o>k.from&&u>k.to&&u<k.from)&&(r="pointInBreak"),r&&W(p,r,{point:O,brk:k}))})})})}}function C(){var p=this.currentDataGrouping,a=p&&p.gapSize;p=this.points.slice();var o,h=this.yAxis,n=this.options.gapSize,d=p.length-1;if(n&&0<d)for("value"!==this.options.gapUnit&&(n*=this.basePointRange),a&&a>n&&a>=this.basePointRange&&(n=a),o=void 0;d--;)o&&!1!==o.visible||(o=p[d+1]),a=p[d],!1!==o.visible&&!1!==a.visible&&(o.x-a.x>n&&(p.splice(d+1,0,{isNull:!0,x:o=(a.x+o.x)/2}),h.stacking&&this.options.stacking&&((o=h.stacking.stacks[this.stackKey][o]=new H(h,h.options.stackLabels,!1,o,this.stack)).total=0)),o=a);return this.getGraphPath(p)}var x=[];w.compose=function(p,a){if(-1===x.indexOf(p)&&(x.push(p),p.keepProps.push("brokenAxis"),V(p,"init",g),V(p,"afterInit",E),V(p,"afterSetTickPositions",l),V(p,"afterSetOptions",s)),-1===x.indexOf(a)){x.push(a);var h=a.prototype;h.drawBreaks=f,h.gappedPath=C,V(a,"afterGeneratePoints",v),V(a,"afterRender",S)}return p};var M=function(){function p(a){this.hasBreaks=!1,this.axis=a}return p.isInBreak=function(a,h){var n=a.repeat||1/0,d=a.from,o=a.to-a.from;return h=h>=d?(h-d)%n:n-(d-h)%n,a.inclusive?h<=o:h<o&&0!==h},p.lin2Val=function(a){var n,h=this.brokenAxis;if(!(h=h&&h.breakArray)||!z(a))return a;for(n=0;n<h.length;n++){var d=h[n];if(d.from>=a)break;(d.to<a||p.isInBreak(d,a))&&(a+=d.len)}return a},p.val2Lin=function(a){var h=this.brokenAxis;if(!(h=h&&h.breakArray)||!z(a))return a;var d,n=a;for(d=0;d<h.length;d++){var o=h[d];if(o.to<=a)n-=o.len;else{if(o.from>=a)break;if(p.isInBreak(o,a)){n-=a-o.from;break}}}return n},p.prototype.findBreakAt=function(a,h){return Q(h,function(n){return n.from<a&&a<n.to})},p.prototype.isInAnyBreak=function(a,h){var r,n=this.axis,d=n.options.breaks||[],o=d.length;if(o&&z(a)){for(;o--;)if(p.isInBreak(d[o],a)){var u=!0;r||(r=I(d[o].showPoints,!n.isXAxis))}var c=u&&h?u&&!r:u}return c},p.prototype.setBreaks=function(a,h){var n=this,d=n.axis,o=Y(a)&&!!a.length;d.isDirty=n.hasBreaks!==o,n.hasBreaks=o,d.options.breaks=d.userOptions.breaks=a,d.forceRedraw=!0,d.series.forEach(function(r){r.isDirty=!0}),o||d.val2lin!==p.val2Lin||(delete d.val2lin,delete d.lin2val),o&&(d.userOptions.ordinal=!1,d.lin2val=p.lin2Val,d.val2lin=p.val2Lin,d.setExtremes=function(r,u,c,b,O){if(n.hasBreaks){for(var _,k=this.options.breaks||[];_=n.findBreakAt(r,k);)r=_.to;for(;_=n.findBreakAt(u,k);)u=_.from;u<r&&(u=r)}d.constructor.prototype.setExtremes.call(this,r,u,c,b,O)},d.setAxisTranslation=function(){if(d.constructor.prototype.setAxisTranslation.call(this),n.unitLength=void 0,n.hasBreaks){var k,B,r=d.options.breaks||[],u=[],c=[],b=I(d.pointRangePadding,0),O=0,_=d.userMin||d.min,A=d.userMax||d.max;r.forEach(function(R){k=R.repeat||1/0,z(_)&&z(A)&&(p.isInBreak(R,_)&&(_+=R.to%k-_%k),p.isInBreak(R,A)&&(A-=A%k-R.from%k))}),r.forEach(function(R){if(T=R.from,k=R.repeat||1/0,z(_)&&z(A)){for(;T-k>_;)T-=k;for(;T<_;)T+=k;for(B=T;B<A;B+=k)u.push({value:B,move:"in"}),u.push({value:B+R.to-R.from,move:"out",size:R.breakSize})}}),u.sort(function(R,j){return R.value===j.value?("in"===R.move?0:1)-("in"===j.move?0:1):R.value-j.value});var m=0,T=_;u.forEach(function(R){1===(m+="in"===R.move?1:-1)&&"in"===R.move&&(T=R.value),0===m&&z(T)&&(c.push({from:T,to:R.value,len:R.value-T-(R.size||0)}),O+=R.value-T-(R.size||0))}),n.breakArray=c,z(_)&&z(A)&&z(d.min)&&(n.unitLength=A-_-O+b,W(d,"afterBreaks"),d.staticScale?d.transA=d.staticScale:n.unitLength&&(d.transA*=(A-d.min+b)/n.unitLength),b&&(d.minPixelPadding=d.transA*(d.minPointOffset||0)),d.min=_,d.max=A)}}),I(h,!0)&&d.chart.redraw()},p}();w.Additions=M}(P||(P={})),P}),lt(F,"masters/modules/broken-axis.src.js",[F["Core/Globals.js"],F["Core/Axis/BrokenAxis.js"]],function(H,K){K.compose(H.Axis,H.Series)}),lt(F,"Extensions/DataGrouping.js",[F["Core/Axis/Axis.js"],F["Core/Axis/DateTimeAxis.js"],F["Core/FormatUtilities.js"],F["Core/Globals.js"],F["Core/Series/Point.js"],F["Core/Series/Series.js"],F["Core/Tooltip.js"],F["Core/DefaultOptions.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P){var w=V.format,E=Y.prototype;V=P.addEvent;var s=P.arrayMax,l=P.arrayMin,g=P.correctFloat,v=P.defined,S=P.error,f=P.extend,C=P.isNumber,x=P.merge,M=P.pick,p=Q.approximations={sum:function(r){var u=r.length;if(!u&&r.hasNulls)var c=null;else if(u)for(c=0;u--;)c+=r[u];return c},average:function(r){var u=r.length;return r=p.sum(r),C(r)&&u&&(r=g(r/u)),r},averages:function(){var r=[];return[].forEach.call(arguments,function(u){r.push(p.average(u))}),void 0===r[0]?void 0:r},open:function(r){return r.length?r[0]:r.hasNulls?null:void 0},high:function(r){return r.length?s(r):r.hasNulls?null:void 0},low:function(r){return r.length?l(r):r.hasNulls?null:void 0},close:function(r){return r.length?r[r.length-1]:r.hasNulls?null:void 0},hlc:function(r,u,c){if(r=p.high(r),u=p.low(u),c=p.close(c),C(r)||C(u)||C(c))return[r,u,c]},ohlc:function(r,u,c,b){if(r=p.open(r),u=p.high(u),c=p.low(c),b=p.close(b),C(r)||C(u)||C(c)||C(b))return[r,u,c,b]},range:function(r,u){return r=p.low(r),u=p.high(u),C(r)||C(u)?[r,u]:null===r&&null===u?null:void 0}},a={approximations:p,groupData:P=function(r,u,c,b){var q,O=this,k=O.data,_=O.options&&O.options.data,A=[],B=[],m=[],T=r.length,R=!!u,j=[],X=O.pointArrayMap,$=X&&X.length,D=["x"].concat(X||["y"]),U=this.options.dataGrouping&&this.options.dataGrouping.groupAll,N=0,Z=0;b="function"==typeof b?b:p[b]?p[b]:p[O.getDGApproximation&&O.getDGApproximation()||"average"],$?X.forEach(function(){j.push([])}):j.push([]);var nt=$||1;for(q=0;q<=T&&!(r[q]>=c[0]);q++);for(;q<=T;q++){for(;void 0!==c[N+1]&&r[q]>=c[N+1]||q===T;){var it=c[N];O.dataGroupInfo={start:U?Z:O.cropStart+Z,length:j[0].length};var ot=b.apply(O,j);for(O.pointClass&&!v(O.dataGroupInfo.options)&&(O.dataGroupInfo.options=x(O.pointClass.prototype.optionsToObject.call({series:O},O.options.data[O.cropStart+Z])),D.forEach(function(mt){delete O.dataGroupInfo.options[mt]})),void 0!==ot&&(A.push(it),B.push(ot),m.push(O.dataGroupInfo)),Z=q,it=0;it<nt;it++)j[it].length=0,j[it].hasNulls=!1;if(N+=1,q===T)break}if(q===T)break;if(X){it=O.options.dataGrouping&&O.options.dataGrouping.groupAll?q:O.cropStart+q,ot=k&&k[it]||O.pointClass.prototype.applyOptions.apply({series:O},[_[it]]);var at=void 0;for(it=0;it<$;it++)C(at=ot[X[it]])?j[it].push(at):null===at&&(j[it].hasNulls=!0)}else C(it=R?u[q]:null)?j[0].push(it):null===it&&(j[0].hasNulls=!0)}return{groupedXData:A,groupedYData:B,groupMap:m}}},h=E.generatePoints,n={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},d={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},o=Q.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return E.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"},E.groupData=P,E.applyGrouping=function(r){var k,u=this.chart,c=this.options.dataGrouping,b=!1!==this.allowDG&&c&&M(c.enabled,u.options.isStock),O=this.visible||!u.options.chart.ignoreHiddenSeries,_=this.currentDataGrouping,A=!1;if(b&&!this.requireSorting&&(this.requireSorting=A=!0),r=!(!this.isCartesian||this.isDirty||this.xAxis.isDirty||this.yAxis.isDirty||r)||!b,A&&(this.requireSorting=!1),!r){this.destroyGroupedData(),b=c.groupAll?this.xData:this.processedXData;var B=c.groupAll?this.yData:this.processedYData;r=u.plotSizeX;var m=(A=this.xAxis).options.ordinal,T=this.groupPixelWidth;if(T&&b&&b.length){this.isDirty=k=!0,this.points=null;var R=A.getExtremes(),j=R.min;R=R.max,m=m&&A.ordinal&&A.ordinal.getGroupIntervalFactor(j,R,this)||1,r=A.getTimeTicks(K.Additions.prototype.normalizeTimeTickInterval(T*(R-j)/r*m,c.units||o),Math.min(j,b[0]),Math.max(R,b[b.length-1]),A.options.startOfWeek,b,this.closestPointRange),b=(T=E.groupData.apply(this,[b,B,r,c.approximation])).groupedXData,B=T.groupedYData,m=0,c&&c.smoothed&&b.length&&(c.firstAnchor="firstPoint",c.anchor="middle",c.lastAnchor="lastPoint",S(32,!1,u,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),u=b;var X=this.options.dataGrouping;if(j=this.currentDataGrouping&&this.currentDataGrouping.gapSize,X&&this.xData&&j&&this.groupMap){var $=u.length-1,D=X.anchor,U=M(X.firstAnchor,D);if(X=M(X.lastAnchor,D),D&&"start"!==D){var N=j*{middle:.5,end:1}[D];for(D=u.length-1;D--&&0<D;)u[D]+=N}if(U&&"start"!==U&&this.xData[0]>=u[0]){N=this.groupMap[0].length;var Z=void 0;C(D=this.groupMap[0].start)&&C(N)&&(Z=D+(N-1)),u[0]={middle:u[0]+.5*j,end:u[0]+j,firstPoint:this.xData[0],lastPoint:Z&&this.xData[Z]}[U]}X&&"start"!==X&&j&&u[$]>=R-j&&(u[$]={middle:u[$]+.5*j,end:u[$]+j,firstPoint:(R=this.groupMap[this.groupMap.length-1].start)&&this.xData[R],lastPoint:this.xData[this.xData.length-1]}[X])}for(R=1;R<r.length;R++)r.info.segmentStarts&&-1!==r.info.segmentStarts.indexOf(R)||(m=Math.max(r[R]-r[R-1],m));(R=r.info).gapSize=m,this.closestPointRange=r.info.totalRange,this.groupMap=T.groupMap,O&&(v((O=b)[0])&&C(A.min)&&C(A.dataMin)&&O[0]<A.min&&((!v(A.options.min)&&A.min<=A.dataMin||A.min===A.dataMin)&&(A.min=Math.min(O[0],A.min)),A.dataMin=Math.min(O[0],A.dataMin)),v(O[O.length-1])&&C(A.max)&&C(A.dataMax)&&O[O.length-1]>A.max&&((!v(A.options.max)&&C(A.dataMax)&&A.max>=A.dataMax||A.max===A.dataMax)&&(A.max=Math.max(O[O.length-1],A.max)),A.dataMax=Math.max(O[O.length-1],A.dataMax))),c.groupAll&&(this.allGroupedData=B,b=(c=this.cropData(b,B,A.min,A.max,1)).xData,B=c.yData,this.cropStart=c.start),this.processedXData=b,this.processedYData=B}else this.groupMap=null;this.hasGroupedData=k,this.currentDataGrouping=R,this.preventGraphAnimation=(_&&_.totalRange)!==(R&&R.totalRange)}},E.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(r,u){r&&(this.groupedData[u]=r.destroy?r.destroy():null)},this),this.groupedData.length=0)},E.generatePoints=function(){h.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},H.prototype.applyGrouping=function(r){var u=this;u.series.forEach(function(c){c.groupPixelWidth=void 0,c.groupPixelWidth=u.getGroupPixelWidth&&u.getGroupPixelWidth(),c.groupPixelWidth&&(c.hasProcessed=!0),c.applyGrouping(!!r.hasExtemesChanged)})},H.prototype.getGroupPixelWidth=function(){var c,k,r=this.series,u=r.length,b=0,O=!1;for(c=u;c--;)(k=r[c].options.dataGrouping)&&(b=Math.max(b,M(k.groupPixelWidth,n.groupPixelWidth)));for(c=u;c--;)(k=r[c].options.dataGrouping)&&(u=(r[c].processedXData||r[c].data).length,(r[c].groupPixelWidth||u>this.chart.plotSizeX/b||u&&k.forced)&&(O=!0));return O?b:0},H.prototype.setDataGrouping=function(r,u){var c;if(u=M(u,!0),r||(r={forced:!1,units:null}),this instanceof H)for(c=this.series.length;c--;)this.series[c].update({dataGrouping:r},!1);else this.chart.options.series.forEach(function(b){b.dataGrouping=r},!1);this.ordinal&&(this.ordinal.slope=void 0),u&&this.chart.redraw()},V(H,"postProcessData",H.prototype.applyGrouping),V(W,"update",function(){if(this.dataGroup)return S(24,!1,this.series.chart),!1}),V(z,"headerFormatter",function(r){var u=this.chart,c=u.time,b=r.labelConfig,O=b.series,k=O.tooltipOptions,_=O.options.dataGrouping,A=k.xDateFormat,B=O.xAxis,m=k[r.isFooter?"footerFormat":"headerFormat"];if(B&&"datetime"===B.options.type&&_&&C(b.key)){var T=O.currentDataGrouping;if(_=_.dateTimeLabelFormats||n.dateTimeLabelFormats,T)if(k=_[T.unitName],1===T.count)A=k[0];else{A=k[1];var R=k[2]}else!A&&_&&B.dateTime&&(A=B.dateTime.getXDateFormat(b.x,k.dateTimeLabelFormats));A=c.dateFormat(A,b.key),R&&(A+=c.dateFormat(R,b.key+T.totalRange-1)),O.chart.styledMode&&(m=this.styledModeFormat(m)),r.text=w(m,{point:f(b.point,{key:A}),series:O},u),r.preventDefault()}}),V(Y,"destroy",E.destroyGroupedData),V(Y,"afterSetOptions",function(r){r=r.options;var u=this.type,c=this.chart.options.plotOptions,b=I.defaultOptions.plotOptions[u].dataGrouping,O=this.useCommonDataGrouping&&n;if(c&&(d[u]||O)){b||(b=x(n,d[u]));var k=this.chart.rangeSelector;r.dataGrouping=x(O,b,c.series&&c.series.dataGrouping,c[u].dataGrouping,this.userOptions.dataGrouping,!r.isInternal&&k&&C(k.selected)&&k.buttonOptions[k.selected].dataGrouping)}}),V(H,"afterSetScale",function(){this.series.forEach(function(r){r.hasProcessed=!1})}),Q.dataGrouping=a,a}),lt(F,"Series/HLC/HLCPoint.js",[F["Core/Series/SeriesRegistry.js"]],function(H){var V,K=this&&this.__extends||(V=function(Q,W){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,z){Y.__proto__=z}||function(Y,z){for(var I in z)z.hasOwnProperty(I)&&(Y[I]=z[I])})(Q,W)},function(Q,W){function Y(){this.constructor=Q}V(Q,W),Q.prototype=null===W?Object.create(W):(Y.prototype=W.prototype,new Y)});return function(V){function Q(){var W=null!==V&&V.apply(this,arguments)||this;return W.close=void 0,W.high=void 0,W.low=void 0,W.options=void 0,W.plotClose=void 0,W.series=void 0,W}return K(Q,V),Q}(H.seriesTypes.column.prototype.pointClass)}),lt(F,"Series/HLC/HLCSeries.js",[F["Series/HLC/HLCPoint.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var I,Q=this&&this.__extends||(I=function(P,w){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,s){E.__proto__=s}||function(E,s){for(var l in s)s.hasOwnProperty(l)&&(E[l]=s[l])})(P,w)},function(P,w){function E(){this.constructor=P}I(P,w),P.prototype=null===w?Object.create(w):(E.prototype=w.prototype,new E)}),W=K.seriesTypes.column,Y=V.extend,z=V.merge;return V=function(I){function P(){var w=null!==I&&I.apply(this,arguments)||this;return w.data=void 0,w.options=void 0,w.points=void 0,w.yData=void 0,w}return Q(P,I),P.prototype.extendStem=function(w,E,s){var l=w[0];w=w[1],"number"==typeof l[2]&&(l[2]=Math.max(s+E,l[2])),"number"==typeof w[2]&&(w[2]=Math.min(s-E,w[2]))},P.prototype.getPointPath=function(w,E){E=E.strokeWidth();var s=w.series,l=E%2/2,g=Math.round(w.plotX)-l,v=Math.round(w.shapeArgs.width/2),S=[["M",g,Math.round(w.yBottom)],["L",g,Math.round(w.plotHigh)]];return null!==w.close&&(w=Math.round(w.plotClose)+l,S.push(["M",g,w],["L",g+v,w]),s.extendStem(S,E/2,w)),S},P.prototype.drawSinglePoint=function(w){var E=w.series,s=E.chart,l=w.graphic,g=!l;void 0!==w.plotY&&(l||(w.graphic=l=s.renderer.path().add(E.group)),s.styledMode||l.attr(E.pointAttribs(w,w.selected&&"select")),E=E.getPointPath(w,l),l[g?"attr":"animate"]({d:E}).addClass(w.getClassName(),!0))},P.prototype.drawPoints=function(){this.points.forEach(this.drawSinglePoint)},P.prototype.init=function(){I.prototype.init.apply(this,arguments),this.options.stacking=void 0},P.prototype.pointAttribs=function(w,E){return delete(w=I.prototype.pointAttribs.call(this,w,E)).fill,w},P.prototype.toYData=function(w){return[w.high,w.low,w.close]},P.prototype.translate=function(){var w=this,E=w.yAxis,s=this.pointArrayMap&&this.pointArrayMap.slice()||[],l=s.map(function(g){return"plot"+(g.charAt(0).toUpperCase()+g.slice(1))});l.push("yBottom"),s.push("low"),I.prototype.translate.apply(w),w.points.forEach(function(g){s.forEach(function(v,S){null!==(v=g[v])&&(w.dataModify&&(v=w.dataModify.modifyValue(v)),g[l[S]]=E.toPixels(v,!0))}),g.tooltipPos[1]=g.plotHigh+E.pos-w.chart.plotTop})},P.defaultOptions=z(W.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),P}(W),Y(V.prototype,{animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),V.prototype.pointClass=H,K.registerSeriesType("hlc",V),V}),lt(F,"Series/OHLC/OHLCPoint.js",[F["Core/Series/SeriesRegistry.js"]],function(H){var V,K=this&&this.__extends||(V=function(Q,W){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,z){Y.__proto__=z}||function(Y,z){for(var I in z)z.hasOwnProperty(I)&&(Y[I]=z[I])})(Q,W)},function(Q,W){function Y(){this.constructor=Q}V(Q,W),Q.prototype=null===W?Object.create(W):(Y.prototype=W.prototype,new Y)});return function(V){function Q(){var W=null!==V&&V.apply(this,arguments)||this;return W.open=void 0,W.options=void 0,W.plotOpen=void 0,W.series=void 0,W}return K(Q,V),Q.prototype.getClassName=function(){return V.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},Q.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},Q.prototype.resolveColor=function(){V.prototype.resolveColor.call(this),this.resolveUpColor()},Q.prototype.getZone=function(){var W=V.prototype.getZone.call(this);return this.resolveUpColor(),W},Q.prototype.applyOptions=function(){return V.prototype.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this},Q}(H.seriesTypes.hlc.prototype.pointClass)}),lt(F,"Series/OHLC/OHLCSeries.js",[F["Series/OHLC/OHLCPoint.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var E,Q=this&&this.__extends||(E=function(s,l){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])})(s,l)},function(s,l){function g(){this.constructor=s}E(s,l),s.prototype=null===l?Object.create(l):(g.prototype=l.prototype,new g)}),W=K.series,Y=K.seriesTypes.hlc,z=V.addEvent,I=V.extend,P=V.merge,w=function(E){function s(){var l=null!==E&&E.apply(this,arguments)||this;return l.data=void 0,l.options=void 0,l.points=void 0,l}return Q(s,E),s.prototype.getPointPath=function(l,g){var v=E.prototype.getPointPath.call(this,l,g),S=(g=g.strokeWidth())%2/2,f=Math.round(l.plotX)-S,C=Math.round(l.shapeArgs.width/2);return null!==l.open&&(l=Math.round(l.plotOpen)+S,v.push(["M",f,l],["L",f-C,l]),E.prototype.extendStem.call(this,v,g/2,l)),v},s.prototype.pointAttribs=function(l,g){g=E.prototype.pointAttribs.call(this,l,g);var v=this.options;return delete g.fill,!l.options.color&&v.upColor&&l.open<l.close&&(g.stroke=v.upColor),g},s.prototype.toYData=function(l){return[l.open,l.high,l.low,l.close]},s.defaultOptions=P(Y.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}),s}(Y);return I(w.prototype,{pointArrayMap:["open","high","low","close"]}),w.prototype.pointClass=H,K.registerSeriesType("ohlc",w),z(W,"init",function(E){(E=E.options).useOhlcData&&"highcharts-navigator-series"!==E.id&&I(this,{pointValKey:w.prototype.pointValKey,pointArrayMap:w.prototype.pointArrayMap,toYData:w.prototype.toYData})}),z(W,"afterSetOptions",function(E){var s=(E=E.options).dataGrouping;s&&E.useOhlcData&&"highcharts-navigator-series"!==E.id&&(s.approximation="ohlc")}),w}),lt(F,"Series/Candlestick/CandlestickSeries.js",[F["Core/DefaultOptions.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V){var P,Q=this&&this.__extends||(P=function(w,E){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])})(w,E)},function(w,E){function s(){this.constructor=w}P(w,E),w.prototype=null===E?Object.create(E):(s.prototype=E.prototype,new s)}),W=H.defaultOptions,Y=(H=K.seriesTypes).column,z=H.ohlc,I=V.merge;return V=function(P){function w(){var E=null!==P&&P.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return Q(w,P),w.prototype.pointAttribs=function(E,s){var l=Y.prototype.pointAttribs.call(this,E,s),g=this.options,v=E.open<E.close,S=g.lineColor||this.color,f=E.color||this.color;return l["stroke-width"]=g.lineWidth,l.fill=E.options.color||v&&g.upColor||f,l.stroke=E.options.lineColor||v&&g.upLineColor||S,s&&(l.fill=(E=g.states[s]).color||l.fill,l.stroke=E.lineColor||l.stroke,l["stroke-width"]=E.lineWidth||l["stroke-width"]),l},w.prototype.drawPoints=function(){var E=this,s=E.chart,l=E.yAxis.reversed;E.points.forEach(function(g){var v=g.graphic,S=!v;if(void 0!==g.plotY){v||(g.graphic=v=s.renderer.path().add(E.group)),E.chart.styledMode||v.attr(E.pointAttribs(g,g.selected&&"select")).shadow(E.options.shadow);var f=v.strokeWidth()%2/2,C=Math.round(g.plotX)-f,x=g.plotOpen,M=g.plotClose,p=Math.min(x,M);x=Math.max(x,M);var a=Math.round(g.shapeArgs.width/2);M=l?x!==g.yBottom:Math.round(p)!==Math.round(g.plotHigh);var h=l?Math.round(p)!==Math.round(g.plotHigh):x!==g.yBottom;p=Math.round(p)+f,x=Math.round(x)+f,(f=[]).push(["M",C-a,x],["L",C-a,p],["L",C+a,p],["L",C+a,x],["Z"],["M",C,p],["L",C,M?Math.round(l?g.yBottom:g.plotHigh):p],["M",C,x],["L",C,h?Math.round(l?g.plotHigh:g.yBottom):x]),v[S?"attr":"animate"]({d:f}).addClass(g.getClassName(),!0)}})},w.defaultOptions=I(z.defaultOptions,W.plotOptions,{states:{hover:{lineWidth:2}},tooltip:W.plotOptions.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),w}(z),K.registerSeriesType("candlestick",V),V}),lt(F,"Series/Flags/FlagsPoint.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K){var W,V=this&&this.__extends||(W=function(Y,z){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var w in P)P.hasOwnProperty(w)&&(I[w]=P[w])})(Y,z)},function(Y,z){function I(){this.constructor=Y}W(Y,z),Y.prototype=null===z?Object.create(z):(I.prototype=z.prototype,new I)}),Q=K.isNumber;return function(W){function Y(){var z=null!==W&&W.apply(this,arguments)||this;return z.options=void 0,z.series=void 0,z}return V(Y,W),Y.prototype.isValid=function(){return Q(this.y)||void 0===this.y},Y.prototype.hasNewShapeType=function(){var z=this.options.shape||this.series.options.shape;return this.graphic&&z&&z!==this.graphic.symbolKey},Y}(H.seriesTypes.column.prototype.pointClass)}),lt(F,"Series/OnSeriesComposition.js",[F["Series/Column/ColumnSeries.js"],F["Core/Series/Series.js"],F["Core/Utilities.js"]],function(H,K,V){var I,Q=H.prototype,W=K.prototype,Y=V.defined,z=V.stableSort;return function(P){function w(){return W.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)}function E(){Q.translate.apply(this);var h,l=this,g=l.options,v=l.chart,S=l.points,f=g.onSeries,C=(f=f&&v.get(f))&&f.options.step,x=f&&f.points,M=v.inverted,p=l.xAxis,a=l.yAxis;v=S.length-1,g=g.onKey||"y";var o,n=x&&x.length,d=0;if(f&&f.visible&&n){d=(f.pointXOffset||0)+(f.barW||0)/2;var r=f.currentDataGrouping,u=x[n-1].x+(r?r.totalRange:0);for(z(S,function(O,k){return O.x-k.x}),g="plot"+g[0].toUpperCase()+g.substr(1);n--&&S[v];){var c=x[n];if((r=S[v]).y=c.y,c.x<=r.x&&void 0!==c[g]){if(r.x<=u&&(r.plotY=c[g],c.x<r.x&&!C&&(o=x[n+1])&&void 0!==o[g])){var b=(r.x-c.x)/(o.x-c.x);r.plotY+=b*(o[g]-c[g]),r.y+=b*(o.y-c.y)}if(n++,0>--v)break}}}S.forEach(function(O,k){if(O.plotX+=d,(void 0===O.plotY||M)&&(0<=O.plotX&&O.plotX<=p.len?M?(O.plotY=p.translate(O.x,0,1,0,1),O.plotX=Y(O.y)?a.translate(O.y,0,0,0,1):0):O.plotY=(p.opposite?0:l.yAxis.len)+p.offset:O.shapeArgs={}),(h=S[k-1])&&h.plotX===O.plotX){void 0===h.stackIndex&&(h.stackIndex=0);var _=h.stackIndex+1}O.stackIndex=_}),this.onSeries=f}var s=[];P.compose=function(l){if(-1===s.indexOf(l)){s.push(l);var g=l.prototype;g.getPlotBox=w,g.translate=E}return l},P.getPlotBox=w,P.translate=E}(I||(I={})),I}),lt(F,"Series/Flags/FlagsSymbols.js",[F["Core/Renderer/RendererRegistry.js"],F["Core/Renderer/SVG/SVGRenderer.js"]],function(H,K){function V(W){Q[W+"pin"]=function(Y,z,I,P,w){var E=w&&w.anchorX;w=w&&w.anchorY,"circle"===W&&P>I&&(Y-=Math.round((P-I)/2),I=P);var s=Q[W](Y,z,I,P);if(E&&w){var l=E;"circle"===W?l=Y+I/2:(I=s[1],"M"===(Y=s[0])[0]&&"L"===I[0]&&(l=(Y[1]+I[1])/2)),s.push(["M",l,z>w?z:z+P],["L",E,w]),s=s.concat(Q.circle(E-1,w-1,2,2))}return s}}var Q=K.prototype.symbols;return Q.flag=function(W,Y,z,I,P){var w=P&&P.anchorX||W,E=Q.circle(w-1,(P=P&&P.anchorY||Y)-1,2,2);return E.push(["M",w,P],["L",W,Y+I],["L",W,Y],["L",W+z,Y],["L",W+z,Y+I],["L",W,Y+I],["Z"]),E},V("circle"),V("square"),(H=H.getRendererType())!==K&&(H.prototype.symbols.circlepin=Q.circlepin,H.prototype.symbols.flag=Q.flag,H.prototype.symbols.squarepin=Q.squarepin),Q}),lt(F,"Series/Flags/FlagsSeries.js",[F["Series/Flags/FlagsPoint.js"],F["Core/Globals.js"],F["Series/OnSeriesComposition.js"],F["Core/Renderer/RendererUtilities.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z){var f,I=this&&this.__extends||(f=function(C,x){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,p){M.__proto__=p}||function(M,p){for(var a in p)p.hasOwnProperty(a)&&(M[a]=p[a])})(C,x)},function(C,x){function M(){this.constructor=C}f(C,x),C.prototype=null===x?Object.create(x):(M.prototype=x.prototype,new M)});K=K.noop;var P=Q.distribute,w=W.series,E=W.seriesTypes.column,s=z.addEvent,l=z.defined;Q=z.extend;var g=z.merge,v=z.objectEach,S=z.wrap;return z=function(f){function C(){var x=null!==f&&f.apply(this,arguments)||this;return x.data=void 0,x.options=void 0,x.points=void 0,x}return I(C,f),C.prototype.animate=function(x){x&&this.setClip()},C.prototype.drawPoints=function(){var d,x=this.points,M=this.chart,p=M.renderer,a=M.inverted,h=this.options,n=h.y,o=this.yAxis,r={},u=[];for(d=x.length;d--;){var c=x[d],b=(a?c.plotY:c.plotX)>this.xAxis.len,O=c.plotX,k=c.stackIndex,_=c.options.shape||h.shape,A=c.plotY;void 0!==A&&(A=c.plotY+n-(void 0!==k&&k*h.stackDistance)),c.anchorX=k?void 0:c.plotX;var B=k?void 0:c.plotY,m="flag"!==_;k=c.graphic,void 0!==A&&0<=O&&!b?(k&&c.hasNewShapeType()&&(k=k.destroy()),k||(k=c.graphic=p.label("",null,null,_,null,null,h.useHTML).addClass("highcharts-point").add(this.markerGroup),c.graphic.div&&(c.graphic.div.point=c),k.isNew=!0),k.attr({align:m?"center":"left",width:h.width,height:h.height,"text-align":h.textAlign}),M.styledMode||k.attr(this.pointAttribs(c)).css(g(h.style,c.style)).shadow(h.shadow),0<O&&(O-=k.strokeWidth()%2),_={y:A,anchorY:B},h.allowOverlapX&&(_.x=O,_.anchorX=c.anchorX),k.attr({text:c.options.title||h.title||"A"})[k.isNew?"attr":"animate"](_),h.allowOverlapX||(r[c.plotX]?r[c.plotX].size=Math.max(r[c.plotX].size,k.width):r[c.plotX]={align:m?.5:0,size:k.width,target:O,anchorX:O}),c.tooltipPos=[O,A+o.pos-M.plotTop]):k&&(c.graphic=k.destroy())}if(!h.allowOverlapX){var T=100;v(r,function(R){R.plotX=R.anchorX,u.push(R),T=Math.max(R.size,T)}),P(u,a?o.len:this.xAxis.len,T),x.forEach(function(R){var j=R.graphic&&r[R.plotX];j&&(R.graphic[R.graphic.isNew?"attr":"animate"]({x:j.pos+j.align*j.size,anchorX:R.anchorX}),l(j.pos)?R.graphic.isNew=!1:(R.graphic.attr({x:-9999,anchorX:-9999}),R.graphic.isNew=!0))})}h.useHTML&&S(this.markerGroup,"on",function(R){return Y.prototype.on.apply(R.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},C.prototype.drawTracker=function(){var x=this.points;f.prototype.drawTracker.call(this),x.forEach(function(M){var p=M.graphic;p&&(M.unbindMouseOver&&M.unbindMouseOver(),M.unbindMouseOver=s(p.element,"mouseover",function(){0<M.stackIndex&&!M.raised&&(M._y=p.y,p.attr({y:M._y-8}),M.raised=!0),x.forEach(function(a){a!==M&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})}))})},C.prototype.pointAttribs=function(x,M){var p=this.options,a=x&&x.color||this.color,h=p.lineColor,n=x&&x.lineWidth;return x=x&&x.fillColor||p.fillColor,M&&(x=p.states[M].fillColor,h=p.states[M].lineColor,n=p.states[M].lineWidth),{fill:x||a,stroke:h||a,"stroke-width":n||p.lineWidth||0}},C.prototype.setClip=function(){w.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},C.defaultOptions=g(E.defaultOptions,{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}}),C}(E),V.compose(z),Q(z.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:H,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:K,init:w.prototype.init,invertGroups:K}),W.registerSeriesType("flags",z),z}),lt(F,"Core/Axis/ScrollbarAxis.js",[F["Core/Utilities.js"]],function(H){var K=H.addEvent,V=H.defined,Q=H.pick;return function(){function W(){}return W.compose=function(Y,z){if(-1!==W.composed.indexOf(Y))return Y;W.composed.push(Y);var I=function(P){var w=Q(P.options&&P.options.min,P.min),E=Q(P.options&&P.options.max,P.max);return{axisMin:w,axisMax:E,scrollMin:V(P.dataMin)?Math.min(w,P.min,P.dataMin,Q(P.threshold,1/0)):w,scrollMax:V(P.dataMax)?Math.max(E,P.max,P.dataMax,Q(P.threshold,-1/0)):E}};return K(Y,"afterInit",function(){var P=this;P.options&&P.options.scrollbar&&P.options.scrollbar.enabled&&(P.options.scrollbar.vertical=!P.horiz,P.options.startOnTick=P.options.endOnTick=!1,P.scrollbar=new z(P.chart.renderer,P.options.scrollbar,P.chart),K(P.scrollbar,"changed",function(w){var E=I(P),s=E.axisMax,l=E.scrollMin,g=E.scrollMax-l;V(E.axisMin)&&V(s)&&(P.horiz&&!P.reversed||!P.horiz&&P.reversed?(E=l+g*this.to,l+=g*this.from):(E=l+g*(1-this.from),l+=g*(1-this.to)),this.shouldUpdateExtremes(w.DOMType)?P.setExtremes(l,E,!0,"mousemove"!==w.DOMType&&"touchmove"!==w.DOMType,w):this.setRange(this.from,this.to))}))}),K(Y,"afterRender",function(){var P=I(this),w=P.scrollMin,E=P.scrollMax,s=this.axisTitleMargin+(this.titleOffset||0),l=this.chart.scrollbarsOffsets,g=this.options.margin||0;(P=this.scrollbar)&&(this.horiz?(this.opposite||(l[1]+=s),P.position(this.left,this.top+this.height+2+l[1]-(this.opposite?g:0),this.width,this.height),this.opposite||(l[1]+=g),s=1):(this.opposite&&(l[0]+=s),P.position(P.options.opposite?this.left+this.width+2+l[0]-(this.opposite?0:g):this.opposite?0:g,this.top,this.width,this.height),this.opposite&&(l[0]+=g),s=0),l[s]+=P.size+P.options.margin,isNaN(w)||isNaN(E)||!V(this.min)||!V(this.max)||this.min===this.max?P.setRange(0,1):(l=(this.min-w)/(E-w),w=(this.max-w)/(E-w),this.horiz&&!this.reversed||!this.horiz&&this.reversed?P.setRange(l,w):P.setRange(1-w,1-l)))}),K(Y,"afterGetOffset",function(){var P=this.scrollbar&&!this.scrollbar.options.opposite;P=this.horiz?2:P?3:1;var w=this.scrollbar;w&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[P]+=w.size+w.options.margin)}),Y},W.composed=[],W}()}),lt(F,"Core/ScrollbarDefaults.js",[F["Core/Globals.js"]],function(H){return{height:H.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),lt(F,"Core/Scrollbar.js",[F["Core/DefaultOptions.js"],F["Core/Globals.js"],F["Core/Axis/ScrollbarAxis.js"],F["Core/ScrollbarDefaults.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W){var Y=H.defaultOptions,z=W.addEvent,I=W.correctFloat,P=W.defined,w=W.destroyObjectProperties,E=W.fireEvent,s=W.merge,l=W.pick,g=W.removeEvent;return H=function(){function v(S,f,C){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(S,f,C)}return v.compose=function(S){V.compose(S,v)},v.swapXY=function(S,f){return f&&S.forEach(function(C){for(var M,x=C.length,p=0;p<x;p+=2)"number"==typeof(M=C[p+1])&&(C[p+1]=C[p+2],C[p+2]=M)}),S},v.prototype.addEvents=function(){var S=this.options.inverted?[1,0]:[0,1],f=this.scrollbarButtons,C=this.scrollbarGroup.element,x=this.track.element,M=this.mouseDownHandler.bind(this),p=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this);S=[[f[S[0]].element,"click",this.buttonToMinClick.bind(this)],[f[S[1]].element,"click",this.buttonToMaxClick.bind(this)],[x,"click",this.trackClick.bind(this)],[C,"mousedown",M],[C.ownerDocument,"mousemove",p],[C.ownerDocument,"mouseup",a]],K.hasTouch&&S.push([C,"touchstart",M],[C.ownerDocument,"touchmove",p],[C.ownerDocument,"touchend",a]),S.forEach(function(h){z.apply(null,h)}),this._events=S},v.prototype.buttonToMaxClick=function(S){var f=(this.to-this.from)*l(this.options.step,.2);this.updatePosition(this.from+f,this.to+f),E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})},v.prototype.buttonToMinClick=function(S){var f=I(this.to-this.from)*l(this.options.step,.2);this.updatePosition(I(this.from-f),I(this.to-f)),E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})},v.prototype.cursorToScrollbarPosition=function(S){var f=this.options;return{chartX:(S.chartX-this.x-this.xOffset)/(this.barWidth-(f=f.minWidth>this.calculatedWidth?f.minWidth:0)),chartY:(S.chartY-this.y-this.yOffset)/(this.barWidth-f)}},v.prototype.destroy=function(){var S=this,f=S.chart.scroller;S.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(C){S[C]&&S[C].destroy&&(S[C]=S[C].destroy())}),f&&S===f.scrollbar&&(f.scrollbar=null,w(f.scrollbarButtons))},v.prototype.drawScrollbarButton=function(S){var f=this.renderer,C=this.scrollbarButtons,x=this.options,M=this.size,p=f.g().add(this.group);C.push(p),p=f.rect().addClass("highcharts-scrollbar-button").add(p),this.chart.styledMode||p.attr({stroke:x.buttonBorderColor,"stroke-width":x.buttonBorderWidth,fill:x.buttonBackgroundColor}),p.attr(p.crisp({x:-.5,y:-.5,width:M+1,height:M+1,r:x.buttonBorderRadius},p.strokeWidth())),p=f.path(v.swapXY([["M",M/2+(S?-1:1),M/2-3],["L",M/2+(S?-1:1),M/2+3],["L",M/2+(S?2:-2),M/2]],x.vertical)).addClass("highcharts-scrollbar-arrow").add(C[S]),this.chart.styledMode||p.attr({fill:x.buttonArrowColor})},v.prototype.init=function(S,f,C){this.scrollbarButtons=[],this.renderer=S,this.userOptions=f,this.options=s(Q,Y.scrollbar,f),this.chart=C,this.size=l(this.options.size,this.options.height),f.enabled&&(this.render(),this.addEvents())},v.prototype.mouseDownHandler=function(S){S=this.chart.pointer.normalize(S),S=this.cursorToScrollbarPosition(S),this.chartX=S.chartX,this.chartY=S.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},v.prototype.mouseMoveHandler=function(S){var f=this.chart.pointer.normalize(S),C=this.options.vertical?"chartY":"chartX",x=this.initPositions||[];!this.grabbedCenter||S.touches&&0===S.touches[0][C]||(C=(f=this.cursorToScrollbarPosition(f)[C])-(C=this[C]),this.hasDragged=!0,this.updatePosition(x[0]+C,x[1]+C),this.hasDragged&&E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}))},v.prototype.mouseUpHandler=function(S){this.hasDragged&&E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},v.prototype.position=function(S,f,C,x){var M=this.options.vertical,p=this.rendered?"animate":"attr",a=0;this.x=S,this.y=f+this.trackBorderWidth,this.width=C,this.xOffset=this.height=x,this.yOffset=a,M?(this.width=this.yOffset=C=a=this.size,this.xOffset=f=0,this.barWidth=x-2*C,this.x=S+=this.options.margin):(this.height=this.xOffset=x=f=this.size,this.barWidth=C-2*x,this.y+=this.options.margin),this.group[p]({translateX:S,translateY:this.y}),this.track[p]({width:C,height:x}),this.scrollbarButtons[1][p]({translateX:M?0:C-f,translateY:M?x-a:0})},v.prototype.removeEvents=function(){this._events.forEach(function(S){g.apply(null,S)}),this._events.length=0},v.prototype.render=function(){var S=this.renderer,f=this.options,C=this.size,x=this.chart.styledMode,M=S.g("scrollbar").attr({zIndex:f.zIndex,translateY:-99999}).add();this.group=M,this.track=S.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:f.trackBorderRadius||0,height:C,width:C}).add(M),x||this.track.attr({fill:f.trackBackgroundColor,stroke:f.trackBorderColor,"stroke-width":f.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=S.g().add(M),this.scrollbar=S.rect().addClass("highcharts-scrollbar-thumb").attr({height:C,width:C,r:f.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=S.path(v.swapXY([["M",-3,C/4],["L",-3,2*C/3],["M",0,C/4],["L",0,2*C/3],["M",3,C/4],["L",3,2*C/3]],f.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),x||(this.scrollbar.attr({fill:f.barBackgroundColor,stroke:f.barBorderColor,"stroke-width":f.barBorderWidth}),this.scrollbarRifles.attr({stroke:f.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},v.prototype.setRange=function(S,f){var C=this.options,x=C.vertical,M=C.minWidth,p=this.barWidth,a=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(P(p)){var h=p*Math.min(f,1);S=Math.max(S,0);var n=Math.ceil(p*S);this.calculatedWidth=h=I(h-n),h<M&&(n=(p-M+h)*S,h=M),M=Math.floor(n+this.xOffset+this.yOffset),p=h/2-.5,this.from=S,this.to=f,x?(this.scrollbarGroup[a]({translateY:M}),this.scrollbar[a]({height:h}),this.scrollbarRifles[a]({translateY:p}),this.scrollbarTop=M,this.scrollbarLeft=0):(this.scrollbarGroup[a]({translateX:M}),this.scrollbar[a]({width:h}),this.scrollbarRifles[a]({translateX:p}),this.scrollbarLeft=M,this.scrollbarTop=0),12>=h?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===C.showFull&&(0>=S&&1<=f?this.group.hide():this.group.show()),this.rendered=!0}},v.prototype.shouldUpdateExtremes=function(S){return l(this.options.liveRedraw,K.svg&&!K.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===S||"touchend"===S||!P(S)},v.prototype.trackClick=function(S){var f=this.chart.pointer.normalize(S),C=this.to-this.from;this.options.vertical&&f.chartY>this.y+this.scrollbarTop||!this.options.vertical&&f.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+C,this.to+C):this.updatePosition(this.from-C,this.to-C),E(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})},v.prototype.update=function(S){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,S),this.chart)},v.prototype.updatePosition=function(S,f){1<f&&(S=I(1-I(f-S)),f=1),0>S&&(f=I(f-S),S=0),this.from=S,this.to=f},v.defaultOptions=Q,v}(),Y.scrollbar=s(!0,H.defaultOptions,Y.scrollbar),H}),lt(F,"Core/Axis/NavigatorAxis.js",[F["Core/Globals.js"],F["Core/Utilities.js"]],function(H,K){var V=H.isTouchDevice,Q=K.addEvent,W=K.correctFloat,Y=K.defined,z=K.isNumber,I=K.pick,P=function(){function w(E){this.axis=E}return w.prototype.destroy=function(){this.axis=void 0},w.prototype.toFixedRange=function(E,s,l,g){var v=this.axis,S=v.chart;S=S&&S.fixedRange;var f=(v.pointRange||0)/2;return E=I(l,v.translate(E,!0,!v.horiz)),s=I(g,v.translate(s,!0,!v.horiz)),v=S&&(s-E)/S,Y(l)||(E=W(E+f)),Y(g)||(s=W(s-f)),.7<v&&1.3>v&&(g?E=s-S:s=E+S),z(E)&&z(s)||(E=s=void 0),{min:E,max:s}},w}();return function(){function w(){}return w.compose=function(E){E.keepProps.push("navigatorAxis"),Q(E,"init",function(){this.navigatorAxis||(this.navigatorAxis=new P(this))}),Q(E,"zoom",function(s){var l=this.chart.options,g=l.navigator,v=this.navigatorAxis,S=l.chart.pinchType,f=l.rangeSelector;l=l.chart.zoomType,this.isXAxis&&(g&&g.enabled||f&&f.enabled)&&("y"===l?s.zoomed=!1:(!V&&"xy"===l||V&&"xy"===S)&&this.options.range&&(g=v.previousZoom,Y(s.newMin)?v.previousZoom=[this.min,this.max]:g&&(s.newMin=g[0],s.newMax=g[1],v.previousZoom=void 0))),void 0!==s.zoomed&&s.preventDefault()})},w.AdditionsClass=P,w}()}),lt(F,"Core/Navigator.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Color/Color.js"],F["Core/Globals.js"],F["Core/Axis/NavigatorAxis.js"],F["Core/DefaultOptions.js"],F["Core/Renderer/RendererRegistry.js"],F["Core/Scrollbar.js"],F["Core/Series/Series.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I,P,w,E){var s=Q.hasTouch,l=Q.isTouchDevice,g=Y.defaultOptions,v=E.addEvent,S=E.clamp,f=E.correctFloat,C=E.defined,x=E.destroyObjectProperties,M=E.erase,p=E.extend,a=E.find,h=E.isArray,n=E.isNumber,d=E.merge,o=E.pick,r=E.removeEvent,u=E.splat,c=function(O){for(var k=[],_=1;_<arguments.length;_++)k[_-1]=arguments[_];if((k=[].filter.call(k,n)).length)return Math[O].apply(0,k)};Y=void 0===w.seriesTypes.areaspline?"line":"areaspline",p(g,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:(V=V.parse)("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:Y,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),z.getRendererType().prototype.symbols["navigator-handle"]=function(O,k,_,A,B){return O=(B&&B.width||0)/2,k=Math.round(O/3)+.5,[["M",-O-1,.5],["L",O,.5],["L",O,(B=B&&B.height||0)+.5],["L",-O-1,B+.5],["L",-O-1,.5],["M",-k,4],["L",-k,B-3],["M",k-1,4],["L",k-1,B-3]]};var b=function(){function O(k){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(k)}return O.prototype.drawHandle=function(k,_,A,B){var m=this.navigatorOptions.handles.height;this.handles[_][B](A?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(k,10)+.5-m)}:{translateX:Math.round(this.left+parseInt(k,10)),translateY:Math.round(this.top+this.height/2-m/2-1)})},O.prototype.drawOutline=function(k,_,A,B){var m=this.navigatorOptions.maskInside,T=this.outline.strokeWidth(),R=T/2,j=T%2/2;T=this.outlineHeight;var X=this.scrollbarHeight||0,$=this.size,D=this.left-X,U=this.top;A?(j=[["M",(D-=R)+T,U-X-j],["L",D+T,A=U+_+j],["L",D,A],["L",D,_=U+k+j],["L",D+T,_],["L",D+T,U+$+X]],m&&j.push(["M",D+T,A-R],["L",D+T,_+R])):(j=[["M",D,U+=R],["L",k+=D+X-j,U],["L",k,U+T],["L",_+=D+X-j,U+T],["L",_,U],["L",D+$+2*X,U]],m&&j.push(["M",k-R,U],["L",_+R,U])),this.outline[B]({d:j})},O.prototype.drawMasks=function(k,_,A,B){var m=this.left,T=this.top,R=this.height;if(A)var j=[m,m,m],X=[T,T+k,T+_],$=[R,R,R],D=[k,_-k,this.size-_];else j=[m,m+k,m+_],X=[T,T,T],$=[k,_-k,this.size-_],D=[R,R,R];this.shades.forEach(function(U,N){U[B]({x:j[N],y:X[N],width:$[N],height:D[N]})})},O.prototype.renderElements=function(){var T,k=this,_=k.navigatorOptions,A=_.maskInside,B=k.chart,m=B.renderer,R={cursor:B.inverted?"ns-resize":"ew-resize"};k.navigatorGroup=T=m.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!A,A,!A].forEach(function(j,X){k.shades[X]=m.rect().addClass("highcharts-navigator-mask"+(1===X?"-inside":"-outside")).add(T),B.styledMode||k.shades[X].attr({fill:j?_.maskFill:"rgba(0,0,0,0)"}).css(1===X&&R)}),k.outline=m.path().addClass("highcharts-navigator-outline").add(T),B.styledMode||k.outline.attr({"stroke-width":_.outlineWidth,stroke:_.outlineColor}),_.handles.enabled&&[0,1].forEach(function(j){if(_.handles.inverted=B.inverted,k.handles[j]=m.symbol(_.handles.symbols[j],-_.handles.width/2-1,0,_.handles.width,_.handles.height,_.handles),k.handles[j].attr({zIndex:7-j}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][j]).add(T),!B.styledMode){var X=_.handles;k.handles[j].attr({fill:X.backgroundColor,stroke:X.borderColor,"stroke-width":X.lineWidth}).css(R)}})},O.prototype.update=function(k){(this.series||[]).forEach(function(_){_.baseSeries&&delete _.baseSeries.navigatorSeries}),this.destroy(),d(!0,this.chart.options.navigator,this.options,k),this.init(this.chart)},O.prototype.render=function(k,_,A,B){var R,U,m=this.chart,T=this.scrollbarHeight,j=this.xAxis,X=j.pointRange||0,$=j.navigatorAxis.fake?m.xAxis[0]:j,D=this.navigatorEnabled,N=this.rendered,Z=m.inverted,q=m.xAxis[0].minRange,nt=m.xAxis[0].options.maxRange;if(!this.hasDragged||C(A)){if(k=f(k-X/2),_=f(_+X/2),!n(k)||!n(_)){if(!N)return;A=0,B=o(j.width,$.width)}this.left=o(j.left,m.plotLeft+T+(Z?m.plotWidth:0)),this.size=U=R=o(j.len,(Z?m.plotHeight:m.plotWidth)-2*T),m=Z?T:R+2*T,A=o(A,j.toPixels(k,!0)),B=o(B,j.toPixels(_,!0)),n(A)&&Math.abs(A)!==1/0||(A=0,B=m),k=j.toValue(A,!0),_=j.toValue(B,!0);var it=Math.abs(f(_-k));it<q?this.grabbedLeft?A=j.toPixels(_-q-X,!0):this.grabbedRight&&(B=j.toPixels(k+q+X,!0)):C(nt)&&f(it-X)>nt&&(this.grabbedLeft?A=j.toPixels(_-nt-X,!0):this.grabbedRight&&(B=j.toPixels(k+nt+X,!0))),this.zoomedMax=S(Math.max(A,B),0,U),this.zoomedMin=S(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(A,B),0,U),this.range=this.zoomedMax-this.zoomedMin,U=Math.round(this.zoomedMax),A=Math.round(this.zoomedMin),D&&(this.navigatorGroup.attr({visibility:"visible"}),this.drawMasks(A,U,Z,N=N&&!this.hasDragged?"animate":"attr"),this.drawOutline(A,U,Z,N),this.navigatorOptions.handles.enabled&&(this.drawHandle(A,0,Z,N),this.drawHandle(U,1,Z,N))),this.scrollbar&&(Z?(Z=this.top-T,$=this.left-T+(D||!$.opposite?0:($.titleOffset||0)+$.axisTitleMargin),T=R+2*T):(Z=this.top+(D?this.height:-T),$=this.left-T),this.scrollbar.position($,Z,m,T),this.scrollbar.setRange(this.zoomedMin/(R||1),this.zoomedMax/(R||1))),this.rendered=!0}},O.prototype.addMouseEvents=function(){var m,T,k=this,_=k.chart,A=_.container,B=[];k.mouseMoveHandler=m=function(R){k.onMouseMove(R)},k.mouseUpHandler=T=function(R){k.onMouseUp(R)},(B=k.getPartsEvents("mousedown")).push(v(_.renderTo,"mousemove",m),v(A.ownerDocument,"mouseup",T)),s&&(B.push(v(_.renderTo,"touchmove",m),v(A.ownerDocument,"touchend",T)),B.concat(k.getPartsEvents("touchstart"))),k.eventsToUnbind=B,k.series&&k.series[0]&&B.push(v(k.series[0].xAxis,"foundExtremes",function(){_.navigator.modifyNavigatorAxisExtremes()}))},O.prototype.getPartsEvents=function(k){var _=this,A=[];return["shades","handles"].forEach(function(B){_[B].forEach(function(m,T){A.push(v(m.element,k,function(R){_[B+"Mousedown"](R,T)}))})}),A},O.prototype.shadesMousedown=function(k,_){k=this.chart.pointer.normalize(k);var A=this.chart,B=this.xAxis,m=this.zoomedMin,T=this.left,R=this.size,j=this.range,X=k.chartX;if(A.inverted&&(X=k.chartY,T=this.top),1===_)this.grabbedCenter=X,this.fixedWidth=j,this.dragOffset=X-m;else{if(k=X-T-j/2,0===_)k=Math.max(0,k);else if(2===_&&k+j>=R)if(k=R-j,this.reversedExtremes){k-=j;var $=this.getUnionExtremes().dataMin}else var D=this.getUnionExtremes().dataMax;k!==m&&(this.fixedWidth=j,_=B.navigatorAxis.toFixedRange(k,k+j,$,D),C(_.min)&&A.xAxis[0].setExtremes(Math.min(_.min,_.max),Math.max(_.min,_.max),!0,null,{trigger:"navigator"}))}},O.prototype.handlesMousedown=function(k,_){this.chart.pointer.normalize(k);var A=(k=this.chart).xAxis[0],B=this.reversedExtremes;0===_?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=B?A.min:A.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=B?A.max:A.min),k.fixedRange=null},O.prototype.onMouseMove=function(k){var _=this,A=_.chart,B=_.left,m=_.navigatorSize,T=_.range,R=_.dragOffset,j=A.inverted;k.touches&&0===k.touches[0].pageX||(k=A.pointer.normalize(k),A=k.chartX,j&&(B=_.top,A=k.chartY),_.grabbedLeft?(_.hasDragged=!0,_.render(0,0,A-B,_.otherHandlePos)):_.grabbedRight?(_.hasDragged=!0,_.render(0,0,_.otherHandlePos,A-B)):_.grabbedCenter&&(_.hasDragged=!0,A<R?A=R:A>m+R-T&&(A=m+R-T),_.render(0,0,A-R,A-R+T)),_.hasDragged&&_.scrollbar&&o(_.scrollbar.options.liveRedraw,Q.svg&&!l&&!this.chart.isBoosting)&&(k.DOMType=k.type,setTimeout(function(){_.onMouseUp(k)},0)))},O.prototype.onMouseUp=function(k){var _=this.chart,A=this.xAxis,B=this.scrollbar,m=k.DOMEvent||k,T=_.inverted,R=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!B||!B.hasDragged)||"scrollbar"===k.trigger){if(B=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var j=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var X=this.fixedExtreme;this.zoomedMax===this.size&&(X=this.reversedExtremes?B.dataMin:B.dataMax),0===this.zoomedMin&&(j=this.reversedExtremes?B.dataMax:B.dataMin),A=A.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,j,X),C(A.min)&&_.xAxis[0].setExtremes(Math.min(A.min,A.max),Math.max(A.min,A.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:m})}"mousemove"!==k.DOMType&&"touchmove"!==k.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&n(this.zoomedMin)&&n(this.zoomedMax)&&(_=Math.round(this.zoomedMin),k=Math.round(this.zoomedMax),this.shades&&this.drawMasks(_,k,T,R),this.outline&&this.drawOutline(_,k,T,R),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(_,0,T,R),this.drawHandle(k,1,T,R)))},O.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(k){k()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},O.prototype.removeBaseSeriesEvents=function(){var k=this.baseSeries||[];this.navigatorEnabled&&k[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&k.forEach(function(_){r(_,"updatedData",this.updatedDataHandler)},this),k[0].xAxis&&r(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},O.prototype.init=function(k){var _=k.options,A=_.navigator,B=A.enabled,m=_.scrollbar,T=m.enabled;_=B?A.height:0;var R=T?m.height:0;this.handles=[],this.shades=[],this.chart=k,this.setBaseSeries(),this.height=_,this.scrollbarHeight=R,this.scrollbarEnabled=T,this.navigatorEnabled=B,this.navigatorOptions=A,this.scrollbarOptions=m,this.outlineHeight=_+R,this.opposite=o(A.opposite,!(B||!k.inverted));var j=this;m=k.xAxis.length,T=k.yAxis.length;var X=(B=j.baseSeries)&&B[0]&&B[0].xAxis||k.xAxis[0]||{options:{}};k.isDirtyBox=!0,j.navigatorEnabled?(j.xAxis=new H(k,d({breaks:X.options.breaks,ordinal:X.options.ordinal},A.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:m,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},k.inverted?{offsets:[R,0,-R,0],width:_}:{offsets:[0,-R,0,R],height:_})),j.yAxis=new H(k,d(A.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:T,isInternal:!0,reversed:o(A.yAxis&&A.yAxis.reversed,k.yAxis[0]&&k.yAxis[0].reversed,!1),zoomEnabled:!1},k.inverted?{width:_}:{height:_})),B||A.series.data?j.updateNavigatorSeries(!1):0===k.series.length&&(j.unbindRedraw=v(k,"beforeRedraw",function(){0<k.series.length&&!j.series&&(j.setBaseSeries(),j.unbindRedraw())})),j.reversedExtremes=k.inverted&&!j.xAxis.reversed||!k.inverted&&j.xAxis.reversed,j.renderElements(),j.addMouseEvents()):(j.xAxis={chart:k,navigatorAxis:{fake:!0},translate:function($,D){var U=k.xAxis[0],N=U.getExtremes(),Z=U.len-2*R,q=c("min",U.options.min,N.dataMin);return U=c("max",U.options.max,N.dataMax)-q,D?$*U/Z+q:Z*($-q)/U},toPixels:function($){return this.translate($)},toValue:function($){return this.translate($,!0)}},j.xAxis.navigatorAxis.axis=j.xAxis,j.xAxis.navigatorAxis.toFixedRange=W.AdditionsClass.prototype.toFixedRange.bind(j.xAxis.navigatorAxis)),k.options.scrollbar.enabled&&(k.scrollbar=j.scrollbar=new I(k.renderer,d(k.options.scrollbar,{margin:j.navigatorEnabled?0:10,vertical:k.inverted}),k),v(j.scrollbar,"changed",function($){var D=j.size,U=D*this.to;D*=this.from,j.hasDragged=j.scrollbar.hasDragged,j.render(0,0,D,U),this.shouldUpdateExtremes($.DOMType)&&setTimeout(function(){j.onMouseUp($)})})),j.addBaseSeriesEvents(),j.addChartEvents()},O.prototype.getUnionExtremes=function(k){var T,_=this.chart.xAxis[0],A=this.xAxis,B=A.options,m=_.options;return k&&null===_.dataMin||(T={dataMin:o(B&&B.min,c("min",m.min,_.dataMin,A.dataMin,A.min)),dataMax:o(B&&B.max,c("max",m.max,_.dataMax,A.dataMax,A.max))}),T},O.prototype.setBaseSeries=function(k,_){var A=this.chart,B=this.baseSeries=[];k=k||A.options&&A.options.navigator.baseSeries||(A.series.length?a(A.series,function(m){return!m.options.isInternal}).index:0),(A.series||[]).forEach(function(m,T){m.options.isInternal||!m.options.showInNavigator&&(T!==k&&m.options.id!==k||!1===m.options.showInNavigator)||B.push(m)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,_)},O.prototype.updateNavigatorSeries=function(k,_){var T,R,X,A=this,B=A.chart,m=A.baseSeries,j=A.navigatorOptions.series,$={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},D=A.series=(A.series||[]).filter(function(U){var N=U.baseSeries;return!(0>m.indexOf(N)&&(N&&(r(N,"updatedData",A.updatedDataHandler),delete N.navigatorSeries),U.chart&&U.destroy(),1))});m&&m.length&&m.forEach(function(U){var N=U.navigatorSeries,Z=p({color:U.color,visible:U.visible},h(j)?g.navigator.series:j);N&&!1===A.navigatorOptions.adaptToUpdatedData||($.name="Navigator "+m.length,X=(T=U.options||{}).navigatorOptions||{},Z.dataLabels=u(Z.dataLabels),(R=d(T,$,Z,X)).pointRange=o(Z.pointRange,X.pointRange,g.plotOptions[R.type||"line"].pointRange),Z=X.data||Z.data,A.hasNavigatorData=A.hasNavigatorData||!!Z,R.data=Z||T.data&&T.data.slice(0),N&&N.options?N.update(R,_):(U.navigatorSeries=B.initSeries(R),U.navigatorSeries.baseSeries=U,D.push(U.navigatorSeries)))}),(j.data&&(!m||!m.length)||h(j))&&(A.hasNavigatorData=!1,(j=u(j)).forEach(function(U,N){$.name="Navigator "+(D.length+1),(R=d(g.navigator.series,{color:B.series[N]&&!B.series[N].options.isInternal&&B.series[N].color||B.options.colors[N]||B.options.colors[0]},$,U)).data=U.data,R.data&&(A.hasNavigatorData=!0,D.push(B.initSeries(R)))})),k&&this.addBaseSeriesEvents()},O.prototype.addBaseSeriesEvents=function(){var k=this,_=k.baseSeries||[];_[0]&&_[0].xAxis&&_[0].eventsToUnbind.push(v(_[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),_.forEach(function(A){A.eventsToUnbind.push(v(A,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),A.eventsToUnbind.push(v(A,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&A.xAxis&&A.eventsToUnbind.push(v(A,"updatedData",this.updatedDataHandler)),A.eventsToUnbind.push(v(A,"remove",function(){this.navigatorSeries&&(M(k.series,this.navigatorSeries),C(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))},this)},O.prototype.getBaseSeriesMin=function(k){return this.baseSeries.reduce(function(_,A){return Math.min(_,A.xData?A.xData[0]:_)},k)},O.prototype.modifyNavigatorAxisExtremes=function(){var _,k=this.xAxis;void 0!==k.getExtremes&&(!(_=this.getUnionExtremes(!0))||_.dataMin===k.min&&_.dataMax===k.max||(k.min=_.dataMin,k.max=_.dataMax))},O.prototype.modifyBaseAxisExtremes=function(){var k=this.chart.navigator,_=this.getExtremes(),A=_.dataMin,B=_.dataMax;_=_.max-_.min;var m=k.stickToMin,T=k.stickToMax,R=o(this.options.overscroll,0),j=k.series&&k.series[0],X=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(m)var $=A,D=$+_;T&&(D=B+R,m||($=Math.max(A,D-_,k.getBaseSeriesMin(j&&j.xData?j.xData[0]:-Number.MAX_VALUE)))),X&&(m||T)&&n($)&&(this.min=this.userMin=$,this.max=this.userMax=D)}k.stickToMin=k.stickToMax=null},O.prototype.updatedDataHandler=function(){var k=this.chart.navigator,_=this.navigatorSeries;k.stickToMax=k.reversedExtremes?0===Math.round(k.zoomedMin):Math.round(k.zoomedMax)>=Math.round(k.size),k.stickToMin=k.shouldStickToMin(this,k),_&&!k.hasNavigatorData&&(_.options.pointStart=this.xData[0],_.setData(this.options.data,!1,null,!1))},O.prototype.shouldStickToMin=function(k,_){_=_.getBaseSeriesMin(k.xData[0]);var A=k.xAxis;k=A.max;var B=A.min;return A=A.options.range,!(!n(k)||!n(B))&&(A&&0<k-_?k-_<A:B<=_)},O.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(v(this.chart,"redraw",function(){var k=this.navigator,_=k&&(k.baseSeries&&k.baseSeries[0]&&k.baseSeries[0].xAxis||this.xAxis[0]);_&&k.render(_.min,_.max)}),v(this.chart,"getMargins",function(){var k=this.navigator,_=k.opposite?"plotTop":"marginBottom";this.inverted&&(_=k.opposite?"marginRight":"plotLeft"),this[_]=(this[_]||0)+(k.navigatorEnabled||!this.inverted?k.outlineHeight:0)+k.navigatorOptions.margin}))},O.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(M(this.chart.xAxis,this.xAxis),M(this.chart.axes,this.xAxis)),this.yAxis&&(M(this.chart.yAxis,this.yAxis),M(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(k){k.destroy&&k.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(k){this[k]&&this[k].destroy&&this[k].destroy(),this[k]=null},this),[this.handles].forEach(function(k){x(k)},this)},O}();return Q.Navigator||(Q.Navigator=b,W.compose(H),v(K,"beforeShowResetZoom",function(){var O=this.options,k=O.navigator,_=O.rangeSelector;if((k&&k.enabled||_&&_.enabled)&&(!l&&"x"===O.chart.zoomType||l&&"x"===O.chart.pinchType))return!1}),v(K,"beforeRender",function(){var O=this.options;(O.navigator.enabled||O.scrollbar.enabled)&&(this.scroller=this.navigator=new b(this))}),v(K,"afterSetChartSize",function(){var O=this.legend,k=this.navigator;if(k){var _=O&&O.options,A=k.xAxis,B=k.yAxis,m=k.scrollbarHeight;this.inverted?(k.left=k.opposite?this.chartWidth-m-k.height:this.spacing[3]+m,k.top=this.plotTop+m):(k.left=o(A.left,this.plotLeft+m),k.top=k.navigatorOptions.top||this.chartHeight-k.height-m-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(_&&"bottom"===_.verticalAlign&&"proximate"!==_.layout&&_.enabled&&!_.floating?O.legendHeight+o(_.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),A&&B&&(this.inverted?A.options.left=B.options.left=k.left:A.options.top=B.options.top=k.top,A.setAxisSize(),B.setAxisSize())}}),v(K,"update",function(O){var k=O.options.navigator||{},_=O.options.scrollbar||{};this.navigator||this.scroller||!k.enabled&&!_.enabled||(d(!0,this.options.navigator,k),d(!0,this.options.scrollbar,_),delete O.options.navigator,delete O.options.scrollbar)}),v(K,"afterUpdate",function(O){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new b(this),o(O.redraw,!0)&&this.redraw(O.animation))}),v(K,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),v(P,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),K.prototype.callbacks.push(function(O){var k=O.navigator;k&&O.xAxis[0]&&(O=O.xAxis[0].getExtremes(),k.render(O.min,O.max))})),Q.Navigator=b,Q.Navigator}),lt(F,"Extensions/RangeSelector.js",[F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/Globals.js"],F["Core/DefaultOptions.js"],F["Core/Renderer/SVG/SVGElement.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y){var I=Q.defaultOptions,P=Y.addEvent,w=Y.createElement,E=Y.css,s=Y.defined,l=Y.destroyObjectProperties,g=Y.discardElement,v=Y.extend,S=Y.find,f=Y.fireEvent,C=Y.isNumber,x=Y.merge,M=Y.objectEach,p=Y.pad,a=Y.pick,h=Y.pInt,n=Y.splat;v(I,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}),v(I.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var d=function(){function u(c){this.buttons=void 0,this.buttonOptions=u.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=c,this.init(c)}return u.prototype.clickButton=function(c,b){var O=this.chart,k=this.buttonOptions[c],_=O.xAxis[0],A=O.scroller&&O.scroller.getUnionExtremes()||_||{},B=A.dataMin,m=A.dataMax,T=_&&Math.round(Math.min(_.max,a(m,_.max))),R=k.type;A=k._range;var j,X=k.dataGrouping;if(null!==B&&null!==m){if(O.fixedRange=A,this.setSelected(c),X&&(this.forcedDataGrouping=!0,H.prototype.setDataGrouping.call(_||{chart:this.chart},X,!1),this.frozenStates=k.preserveDataGrouping),"month"===R||"year"===R)if(_){var $=_.minFromRange.call(R={range:k,max:T,chart:O,dataMin:B,dataMax:m});C(R.newMax)&&(T=R.newMax)}else A=k;else if(A)$=Math.max(T-A,B),T=Math.min($+A,m);else if("ytd"===R){if(!_)return void(this.deferredYTDClick=c);void 0===m&&(B=Number.MAX_VALUE,m=Number.MIN_VALUE,O.series.forEach(function(Z){Z=Z.xData,B=Math.min(Z[0],B),m=Math.max(Z[Z.length-1],m)}),b=!1),$=j=(T=this.getYTDExtremes(m,B,O.time.useUTC)).min,T=T.max}else"all"===R&&_&&(O.navigator&&O.navigator.baseSeries[0]&&(O.navigator.baseSeries[0].xAxis.options.range=void 0),$=B,T=m);if(s($)&&($+=k._offsetMin),s(T)&&(T+=k._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=c+1),_)_.setExtremes($,T,a(b,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:k});else{var D=n(O.options.xAxis)[0],U=D.range;D.range=A;var N=D.min;D.min=j,P(O,"load",function(){D.range=U,D.min=N})}f(this,"afterBtnClick")}},u.prototype.setSelected=function(c){this.selected=this.options.selected=c},u.prototype.init=function(c){var b=this,O=c.options.rangeSelector,k=O.buttons||b.defaultButtons.slice(),_=O.selected,A=function(){var B=b.minInput,m=b.maxInput;B&&B.blur&&f(B,"blur"),m&&m.blur&&f(m,"blur")};b.chart=c,b.options=O,b.buttons=[],b.buttonOptions=k,this.eventsToUnbind=[],this.eventsToUnbind.push(P(c.container,"mousedown",A)),this.eventsToUnbind.push(P(c,"resize",A)),k.forEach(b.computeButtonRange),void 0!==_&&k[_]&&this.clickButton(_,!1),this.eventsToUnbind.push(P(c,"load",function(){c.xAxis&&c.xAxis[0]&&P(c.xAxis[0],"setExtremes",function(B){this.max-this.min!==c.fixedRange&&"rangeSelectorButton"!==B.trigger&&"updatedData"!==B.trigger&&b.forcedDataGrouping&&!b.frozenStates&&this.setDataGrouping(!1,!1)})}))},u.prototype.updateButtonStates=function(){var c=this,b=this.chart,O=this.dropdown,k=b.xAxis[0],_=Math.round(k.max-k.min),A=!k.hasVisibleSeries,B=b.scroller&&b.scroller.getUnionExtremes()||k,m=B.dataMin,T=B.dataMax,R=(b=c.getYTDExtremes(T,m,b.time.useUTC)).min,j=b.max,X=c.selected,$=C(X),D=c.options.allButtonsEnabled,U=c.buttons;c.buttonOptions.forEach(function(N,Z){var q=N._range,nt=N.type,it=N.count||1,ot=U[Z],at=0,mt=N._offsetMax-N._offsetMin;N=Z===X;var yt=q>T-m,vt=q<k.minRange,pt=!1,ct=!1;q=q===_,("month"===nt||"year"===nt)&&_+36e5>=864e5*{month:28,year:365}[nt]*it-mt&&_-36e5<=864e5*{month:31,year:366}[nt]*it+mt?q=!0:"ytd"===nt?(q=j-R+mt===_,pt=!N):"all"===nt&&(q=k.max-k.min>=T-m,ct=!N&&$&&q),it=N&&q||q&&!$&&!pt||N&&c.frozenStates,(nt=!D&&(yt||vt||ct||A))?at=3:it&&($=!0,at=2),ot.state!==at&&(ot.setState(at),O&&(O.options[Z+1].disabled=nt,2===at&&(O.selectedIndex=Z+1)),0===at&&X===Z&&c.setSelected())})},u.prototype.computeButtonRange=function(c){var b=c.type,O=c.count||1,k={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};k[b]?c._range=k[b]*O:("month"===b||"year"===b)&&(c._range=864e5*{month:30,year:365}[b]*O),c._offsetMin=a(c.offsetMin,0),c._offsetMax=a(c.offsetMax,0),c._range+=c._offsetMax-c._offsetMin},u.prototype.getInputValue=function(c){var O=this.chart.time;return(c="min"===c?this.minInput:this.maxInput)?("text"===c.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(c.value,O.useUTC,O):0},u.prototype.setInputValue=function(c,b){var O=this.options,k=this.chart.time,_="min"===c?this.minInput:this.maxInput;if(c="min"===c?this.minDateBox:this.maxDateBox,_){var A=_.getAttribute("data-hc-time");A=s(A)?Number(A):void 0,s(b)&&(s(A)&&_.setAttribute("data-hc-time-previous",A),_.setAttribute("data-hc-time",b),A=b),_.value=k.dateFormat(this.inputTypeFormats[_.type]||O.inputEditDateFormat,A),c&&c.attr({text:k.dateFormat(O.inputDateFormat,A)})}},u.prototype.setInputExtremes=function(c,b,O){if(c="min"===c?this.minInput:this.maxInput){var k=this.inputTypeFormats[c.type],_=this.chart.time;k&&(b=_.dateFormat(k,b),c.min!==b&&(c.min=b),O=_.dateFormat(k,O),c.max!==O&&(c.max=O))}},u.prototype.showInput=function(c){var b="min"===c?this.minDateBox:this.maxDateBox;if((c="min"===c?this.minInput:this.maxInput)&&b&&this.inputGroup){var O="text"===c.type,k=this.inputGroup,_=k.translateX;k=k.translateY;var A=this.options.inputBoxWidth;E(c,{width:O?b.width+(A?-2:20)+"px":"auto",height:O?b.height-2+"px":"auto",border:"2px solid silver"}),E(c,O&&A?{left:_+b.x+"px",top:k+"px"}:{left:Math.min(Math.round(b.x+_-(c.offsetWidth-b.width)/2),this.chart.chartWidth-c.offsetWidth)+"px",top:k-(c.offsetHeight-b.height)/2+"px"})}},u.prototype.hideInput=function(c){(c="min"===c?this.minInput:this.maxInput)&&E(c,{top:"-9999em",border:0,width:"1px",height:"1px"})},u.prototype.defaultInputDateParser=function(c,b,O){var _,k=c.split("/").join("-").split(" ").join("T");return-1===k.indexOf("T")&&(k+="T00:00"),b?k+="Z":((_=V.isSafari)&&(_=!(6<(_=k).length&&(_.lastIndexOf("-")===_.length-6||_.lastIndexOf("+")===_.length-6))),_&&(k+=0>=(_=new Date(k).getTimezoneOffset()/60)?"+"+p(-_)+":00":"-"+p(_)+":00")),k=Date.parse(k),C(k)||(c=c.split("-"),k=Date.UTC(h(c[0]),h(c[1])-1,h(c[2]))),O&&b&&C(k)&&(k+=O.getTimezoneOffset(k)),k},u.prototype.drawInput=function(c){function b(){var D=A.getInputValue(c),U=O.xAxis[0],N=O.scroller&&O.scroller.xAxis?O.scroller.xAxis:U,Z=N.dataMin;N=N.dataMax;var q=A.maxInput,nt=A.minInput;D!==Number(X.getAttribute("data-hc-time-previous"))&&C(D)&&(X.setAttribute("data-hc-time-previous",D),R&&q&&C(Z)?D>Number(q.getAttribute("data-hc-time"))?D=void 0:D<Z&&(D=Z):nt&&C(N)&&(D<Number(nt.getAttribute("data-hc-time"))?D=void 0:D>N&&(D=N)),void 0!==D&&U.setExtremes(R?D:U.min,R?U.max:D,void 0,void 0,{trigger:"rangeSelectorInput"}))}var O=this.chart,k=this.div,_=this.inputGroup,A=this,B=O.renderer.style||{},m=O.renderer,T=O.options.rangeSelector,R="min"===c,j=I.lang[R?"rangeSelectorFrom":"rangeSelectorTo"]||"";j=m.label(j,0).addClass("highcharts-range-label").attr({padding:j?2:0,height:j?T.inputBoxHeight:0}).add(_),m=m.label("",0).addClass("highcharts-range-input").attr({padding:2,width:T.inputBoxWidth,height:T.inputBoxHeight,"text-align":"center"}).on("click",function(){A.showInput(c),A[c+"Input"].focus()}),O.styledMode||m.attr({stroke:T.inputBoxBorderColor,"stroke-width":1}),m.add(_);var X=w("input",{name:c,className:"highcharts-range-selector"},void 0,k);X.setAttribute("type",function z(u){if(-1!==u.indexOf("%L"))return"text";var c="aAdewbBmoyY".split("").some(function(O){return-1!==u.indexOf("%"+O)}),b="HkIlMS".split("").some(function(O){return-1!==u.indexOf("%"+O)});return c&&b?"datetime-local":c?"date":b?"time":"text"}(T.inputDateFormat||"%b %e, %Y")),O.styledMode||(j.css(x(B,T.labelStyle)),m.css(x({color:"#333333"},B,T.inputStyle)),E(X,v({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:B.fontSize,fontFamily:B.fontFamily,top:"-9999em"},T.inputStyle))),X.onfocus=function(){A.showInput(c)},X.onblur=function(){X===V.doc.activeElement&&b(),A.hideInput(c),A.setInputValue(c),X.blur()};var $=!1;return X.onchange=function(){$||(b(),A.hideInput(c),X.blur())},X.onkeypress=function(D){13===D.keyCode&&b()},X.onkeydown=function(D){$=!0,38!==D.keyCode&&40!==D.keyCode||b()},X.onkeyup=function(){$=!1},{dateBox:m,input:X,label:j}},u.prototype.getPosition=function(){var c=this.chart,b=c.options.rangeSelector;return{buttonTop:(c="top"===b.verticalAlign?c.plotTop-c.axisOffset[0]:0)+b.buttonPosition.y,inputTop:c+b.inputPosition.y-10}},u.prototype.getYTDExtremes=function(c,b,O){var k=this.chart.time,_=new k.Date(c),A=k.get("FullYear",_);return O=O?k.Date.UTC(A,0,1):+new k.Date(A,0,1),b=Math.max(b,O),_=_.getTime(),{max:Math.min(c||_,_),min:b}},u.prototype.render=function(c,b){var O=this.chart,k=O.renderer,_=O.container,A=O.options,B=A.rangeSelector,m=a(A.chart.style&&A.chart.style.zIndex,0)+1;if(A=B.inputEnabled,!1!==B.enabled){if(this.rendered||(this.group=k.g("range-selector-group").attr({zIndex:7}).add(),this.div=w("div",void 0,{position:"relative",height:0,zIndex:m}),this.buttonOptions.length&&this.renderButtons(),_.parentNode&&_.parentNode.insertBefore(this.div,_),A&&(this.inputGroup=k.g("input-group").add(this.group),k=this.drawInput("min"),this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input,k=this.drawInput("max"),this.maxDateBox=k.dateBox,this.maxLabel=k.label,this.maxInput=k.input)),A&&(this.setInputValue("min",c),this.setInputValue("max",b),c=O.scroller&&O.scroller.getUnionExtremes()||O.xAxis[0]||{},s(c.dataMin)&&s(c.dataMax)&&(O=O.xAxis[0].minRange||0,this.setInputExtremes("min",c.dataMin,Math.min(c.dataMax,this.getInputValue("max"))-O),this.setInputExtremes("max",Math.max(c.dataMin,this.getInputValue("min"))+O,c.dataMax)),this.inputGroup)){var T=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(R){if(R){var j=R.getBBox().width;j&&(R.attr({x:T}),T+=j+B.inputSpacing)}})}this.alignElements(),this.rendered=!0}},u.prototype.renderButtons=function(){var c=this,b=this.buttons,O=this.options,k=I.lang,_=this.chart.renderer,A=x(O.buttonTheme),B=A&&A.states,m=A.width||28;delete A.width,delete A.states,this.buttonGroup=_.g("range-selector-buttons").add(this.group);var T=this.dropdown=w("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);P(T,"touchstart",function(){T.style.fontSize="16px"}),[[V.isMS?"mouseover":"mouseenter"],[V.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(R){var j=R[0],X=R[1];P(T,j,function(){var $=b[c.currentButtonIndex()];$&&f($.element,X||j)})}),this.zoomText=_.label(k&&k.rangeSelectorZoom||"",0).attr({padding:O.buttonTheme.padding,height:O.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(O.labelStyle),A["stroke-width"]=a(A["stroke-width"],0)),w("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,T),this.buttonOptions.forEach(function(R,j){w("option",{textContent:R.title||R.text},void 0,T),b[j]=_.button(R.text,0,0,function(X){var D,$=R.events&&R.events.click;$&&(D=$.call(R,X)),!1!==D&&c.clickButton(j),c.isActive=!0},A,B&&B.hover,B&&B.select,B&&B.disabled).attr({"text-align":"center",width:m}).add(c.buttonGroup),R.title&&b[j].attr("title",R.title)})},u.prototype.alignElements=function(){var c=this,b=this.buttonGroup,O=this.buttons,k=this.chart,_=this.group,A=this.inputGroup,B=this.options,m=this.zoomText,T=k.options,R=T.exporting&&!1!==T.exporting.enabled&&T.navigation&&T.navigation.buttonOptions;T=B.buttonPosition;var j=B.inputPosition,X=B.verticalAlign,$=function(Z,q){return R&&c.titleCollision(k)&&"top"===X&&"right"===q.align&&q.y-Z.getBBox().height-12<(R.y||0)+(R.height||0)+k.spacing[0]?-40:0},D=k.plotLeft;if(_&&T&&j){var U=T.x-k.spacing[3];if(b){if(this.positionButtons(),!this.initialButtonGroupWidth){var N=0;m&&(N+=m.getBBox().width+5),O.forEach(function(Z,q){N+=Z.width,q!==O.length-1&&(N+=B.buttonSpacing)}),this.initialButtonGroupWidth=N}D-=k.spacing[3],this.updateButtonStates(),m=$(b,T),this.alignButtonGroup(m),_.placed=b.placed=k.hasLoaded}b=0,A&&(b=$(A,j),"left"===j.align?U=D:"right"===j.align&&(U=-Math.max(k.axisOffset[1],-b)),A.align({y:j.y,width:A.getBBox().width,align:j.align,x:j.x+U-2},!0,k.spacingBox),A.placed=k.hasLoaded),this.handleCollision(b),_.align({verticalAlign:X},!0,k.spacingBox),A=_.alignAttr.translateY,b=_.getBBox().height+20,$=0,"bottom"===X&&($=A-(b=b+($=($=k.legend&&k.legend.options)&&"bottom"===$.verticalAlign&&$.enabled&&!$.floating?k.legend.legendHeight+a($.margin,10):0)-20)-(B.floating?0:B.y)-(k.titleOffset?k.titleOffset[2]:0)-10),"top"===X?(B.floating&&($=0),k.titleOffset&&k.titleOffset[0]&&($=k.titleOffset[0]),$+=k.margin[0]-k.spacing[0]||0):"middle"===X&&(j.y===T.y?$=A:(j.y||T.y)&&($=0>j.y||0>T.y?$-Math.min(j.y,T.y):A-b)),_.translate(B.x,B.y+Math.floor($)),T=this.minInput,j=this.maxInput,A=this.dropdown,B.inputEnabled&&T&&j&&(T.style.marginTop=_.translateY+"px",j.style.marginTop=_.translateY+"px"),A&&(A.style.marginTop=_.translateY+"px")}},u.prototype.alignButtonGroup=function(c,b){var O=this.chart,k=this.buttonGroup,_=this.options.buttonPosition,A=O.plotLeft-O.spacing[3],B=_.x-O.spacing[3];"right"===_.align?B+=c-A:"center"===_.align&&(B-=A/2),k&&k.align({y:_.y,width:a(b,this.initialButtonGroupWidth),align:_.align,x:B},!0,O.spacingBox)},u.prototype.positionButtons=function(){var c=this.buttons,b=this.chart,O=this.options,k=this.zoomText,_=b.hasLoaded?"animate":"attr",A=O.buttonPosition,B=b.plotLeft,m=B;k&&"hidden"!==k.visibility&&(k[_]({x:a(B+A.x,B)}),m+=A.x+k.getBBox().width+5),this.buttonOptions.forEach(function(T,R){"hidden"!==c[R].visibility?(c[R][_]({x:m}),m+=c[R].width+O.buttonSpacing):c[R][_]({x:B})})},u.prototype.handleCollision=function(c){var b=this,O=this.chart,k=this.buttonGroup,_=this.inputGroup,A=this.options,B=A.buttonPosition,m=A.dropdown,T=A.inputPosition;A=function(){var X=0;return b.buttons.forEach(function($){($=$.getBBox()).width>X&&(X=$.width)}),X};var R=function(X){if(_&&k){var $=_.alignAttr.translateX+_.alignOptions.x-c+_.getBBox().x+2,D=_.alignOptions.width,U=k.alignAttr.translateX+k.getBBox().x;return U+X>$&&$+D>U&&B.y<T.y+_.getBBox().height}return!1},j=function(){_&&k&&_.attr({translateX:_.alignAttr.translateX+(O.axisOffset[1]>=-c?0:-c),translateY:_.alignAttr.translateY+k.getBBox().height+10})};if(k){if("always"===m)return this.collapseButtons(c),void(R(A())&&j());"never"===m&&this.expandButtons()}_&&k?T.align===B.align||R(this.initialButtonGroupWidth+20)?"responsive"===m?(this.collapseButtons(c),R(A())&&j()):j():"responsive"===m&&this.expandButtons():k&&"responsive"===m&&(this.initialButtonGroupWidth>O.plotWidth?this.collapseButtons(c):this.expandButtons())},u.prototype.collapseButtons=function(c){var b=this.buttons,O=this.buttonOptions,k=this.chart,_=this.dropdown,A=this.options,B=this.zoomText,m=k.userOptions.rangeSelector&&k.userOptions.rangeSelector.buttonTheme||{},T=function(j){return{text:j?j+" \u25be":"\u25be",width:"auto",paddingLeft:a(A.buttonTheme.paddingLeft,m.padding,8),paddingRight:a(A.buttonTheme.paddingRight,m.padding,8)}};B&&B.hide();var R=!1;O.forEach(function(j,X){2!==(X=b[X]).state?X.hide():(X.show(),X.attr(T(j.text)),R=!0)}),R||(_&&(_.selectedIndex=0),b[0].show(),b[0].attr(T(this.zoomText&&this.zoomText.textStr))),O=A.buttonPosition.align,this.positionButtons(),"right"!==O&&"center"!==O||this.alignButtonGroup(c,b[this.currentButtonIndex()].getBBox().width),this.showDropdown()},u.prototype.expandButtons=function(){var c=this.buttons,b=this.buttonOptions,O=this.options,k=this.zoomText;this.hideDropdown(),k&&k.show(),b.forEach(function(_,A){(A=c[A]).show(),A.attr({text:_.text,width:O.buttonTheme.width||28,paddingLeft:a(O.buttonTheme.paddingLeft,"unset"),paddingRight:a(O.buttonTheme.paddingRight,"unset")}),2>A.state&&A.setState(0)}),this.positionButtons()},u.prototype.currentButtonIndex=function(){var c=this.dropdown;return c&&0<c.selectedIndex?c.selectedIndex-1:0},u.prototype.showDropdown=function(){var c=this.buttonGroup,b=this.buttons,O=this.chart,k=this.dropdown;if(c&&k){var _=c.translateX;c=c.translateY,b=b[this.currentButtonIndex()].getBBox(),E(k,{left:O.plotLeft+_+"px",top:c+.5+"px",width:b.width+"px",height:b.height+"px"}),this.hasVisibleDropdown=!0}},u.prototype.hideDropdown=function(){var c=this.dropdown;c&&(E(c,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},u.prototype.getHeight=function(){var c=this.options,b=this.group,O=c.y,k=c.buttonPosition.y,_=c.inputPosition.y;return c.height?c.height:(this.alignElements(),c=b?b.getBBox(!0).height+13+O:0,b=Math.min(_,k),(0>_&&0>k||0<_&&0<k)&&(c+=Math.abs(b)),c)},u.prototype.titleCollision=function(c){return!(c.options.title.text||c.options.subtitle.text)},u.prototype.update=function(c){var b=this.chart;x(!0,b.options.rangeSelector,c),this.destroy(),this.init(b),this.render()},u.prototype.destroy=function(){var c=this,b=c.minInput,O=c.maxInput;c.eventsToUnbind&&(c.eventsToUnbind.forEach(function(k){return k()}),c.eventsToUnbind=void 0),l(c.buttons),b&&(b.onfocus=b.onblur=b.onchange=null),O&&(O.onfocus=O.onblur=O.onchange=null),M(c,function(k,_){k&&"chart"!==_&&(k instanceof W?k.destroy():k instanceof window.HTMLElement&&g(k)),k!==u.prototype[_]&&(c[_]=null)},this)},u}();if(d.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],d.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},H.prototype.minFromRange=function(){var u=this.range,c=u.type,b=this.max,O=this.chart.time,k=function(m,T){var R="year"===c?"FullYear":"Month",j=new O.Date(m),X=O.get(R,j);return O.set(R,j,X+T),X===O.get(R,j)&&O.set("Date",j,0),j.getTime()-m};if(C(u))var _=b-u,A=u;else _=b+k(b,-u.count),this.chart&&(this.chart.fixedRange=b-_);var B=a(this.dataMin,Number.MIN_VALUE);return C(_)||(_=B),_<=B&&(_=B,void 0===A&&(A=k(_,u.count)),this.newMax=Math.min(_+A,this.dataMax)),C(b)||(_=void 0),_},!V.RangeSelector){var o=[],r=function(u){function c(){O&&(b=u.xAxis[0].getExtremes(),k=u.legend,A=O&&O.options.verticalAlign,C(b.min)&&O.render(b.min,b.max),k.display&&"top"===A&&A===k.options.verticalAlign&&((_=x(u.spacingBox)).y="vertical"===k.options.layout?u.plotTop:_.y+O.getHeight(),k.group.placed=!1,k.align(_)))}var b,k,_,A,O=u.rangeSelector;O&&(S(o,function(B){return B[0]===u})||o.push([u,[P(u.xAxis[0],"afterSetExtremes",function(B){O&&O.render(B.min,B.max)}),P(u,"redraw",c)]]),c())};P(K,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new d(this))}),P(K,"beforeRender",function(){var u=this.axes,c=this.rangeSelector;c&&(C(c.deferredYTDClick)&&(c.clickButton(c.deferredYTDClick),delete c.deferredYTDClick),u.forEach(function(b){b.updateNames(),b.setScale()}),this.getAxisMargins(),c.render(),u=c.options.verticalAlign,c.options.floating||("bottom"===u?this.extraBottomMargin=!0:"middle"!==u&&(this.extraTopMargin=!0)))}),P(K,"update",function(u){var c=u.options.rangeSelector;u=this.rangeSelector;var b=this.extraBottomMargin,O=this.extraTopMargin;c&&c.enabled&&!s(u)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=u=new d(this)),this.extraTopMargin=this.extraBottomMargin=!1,u&&(r(this),c=c&&c.verticalAlign||u.options&&u.options.verticalAlign,u.options.floating||("bottom"===c?this.extraBottomMargin=!0:"middle"!==c&&(this.extraTopMargin=!0)),this.extraBottomMargin!==b||this.extraTopMargin!==O)&&(this.isDirtyBox=!0)}),P(K,"render",function(){var u=this.rangeSelector;u&&!u.options.floating&&(u.render(),"bottom"===(u=u.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==u&&(this.extraTopMargin=!0))}),P(K,"getMargins",function(){var u=this.rangeSelector;u&&(u=u.getHeight(),this.extraTopMargin&&(this.plotTop+=u),this.extraBottomMargin&&(this.marginBottom+=u))}),K.prototype.callbacks.push(r),P(K,"destroy",function(){for(var u=0;u<o.length;u++){var c=o[u];if(c[0]===this){c[1].forEach(function(b){return b()}),o.splice(u,1);break}}}),V.RangeSelector=d}return d}),lt(F,"Core/Chart/StockChart.js",[F["Core/Animation/AnimationUtilities.js"],F["Core/Axis/Axis.js"],F["Core/Chart/Chart.js"],F["Core/FormatUtilities.js"],F["Core/DefaultOptions.js"],F["Core/Series/Series.js"],F["Core/Renderer/SVG/SVGRenderer.js"],F["Core/Utilities.js"]],function(H,K,V,Q,W,Y,z,I){function P(h,n){return"xAxis"===h?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===h?{labels:{y:-2},opposite:p(n.opposite,!0),showLastLabel:!(!n.categories&&"category"!==n.type),title:{text:null}}:{}}function w(h,n){if("xAxis"===h){h=l();var d={type:"datetime",categories:void 0};return p(n.navigator&&n.navigator.enabled,h.navigator.enabled,!0)&&(d.startOnTick=!1,d.endOnTick=!1),d}return{}}var h,E=this&&this.__extends||(h=function(n,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var u in r)r.hasOwnProperty(u)&&(o[u]=r[u])})(n,d)},function(n,d){function o(){this.constructor=n}h(n,d),n.prototype=null===d?Object.create(d):(o.prototype=d.prototype,new o)}),s=Q.format,l=W.getOptions;H=I.addEvent;var g=I.clamp,v=I.defined,S=I.extend,f=I.find,C=I.isNumber,x=I.isString,M=I.merge,p=I.pick,a=I.splat;return I=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return E(n,h),n.prototype.init=function(d,o){var r=l(),u=d.xAxis,c=d.yAxis,b=p(d.navigator&&d.navigator.enabled,r.navigator.enabled,!0);d.xAxis=d.yAxis=void 0,b=M({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:b},scrollbar:{enabled:p(r.scrollbar&&r.scrollbar.enabled,!0)},rangeSelector:{enabled:p(r.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:p(r.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},d,{isStock:!0}),d.xAxis=u,d.yAxis=c,b.xAxis=a(d.xAxis||{}).map(function(O,k){return M(P("xAxis",O),r.xAxis,r.xAxis&&r.xAxis[k],O,w("xAxis",d))}),b.yAxis=a(d.yAxis||{}).map(function(O,k){return M(P("yAxis",O),r.yAxis,r.yAxis&&r.yAxis[k],O)}),h.prototype.init.call(this,b,o)},n.prototype.createAxis=function(d,o){return o.axis=M(P(d,o.axis),o.axis,w(d,this.userOptions)),h.prototype.createAxis.call(this,d,o)},n}(V),function(h){h.stockChart=function(n,d,o){return new h(n,d,o)}}(I||(I={})),H(Y,"setOptions",function(h){var n;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?n={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(n={marker:{enabled:!1,radius:2}}),n&&(h.plotOptions[this.type]=M(h.plotOptions[this.type],n)))}),H(K,"autoLabelAlign",function(h){var n=this.chart,d=this.options;n=n._labelPanes=n._labelPanes||{};var o=this.options.labels;this.chart.options.isStock&&"yAxis"===this.coll&&!n[d=d.top+","+d.height]&&o.enabled&&(15===o.x&&(o.x=0),void 0===o.align&&(o.align="right"),n[d]=this,h.align="right",h.preventDefault())}),H(K,"destroy",function(){var h=this.chart,n=this.options&&this.options.top+","+this.options.height;n&&h._labelPanes&&h._labelPanes[n]===this&&delete h._labelPanes[n]}),H(K,"getPlotLinePath",function(h){var O,k,_,A,d=this,o=this.isLinked&&!this.series?this.linkedParent.series:this.series,r=d.chart,u=r.renderer,c=d.left,b=d.top,B=[],m=[],T=h.translatedValue,R=h.value,j=h.force;if(r.options.isStock&&!1!==h.acrossPanes&&"xAxis"===d.coll||"yAxis"===d.coll){h.preventDefault(),m=function n(U){var N="xAxis"===U?"yAxis":"xAxis";return C(U=d.options[N])?[r[N][U]]:x(U)?[r.get(U)]:o.map(function(Z){return Z[N]})}(d.coll),(d.isXAxis?r.yAxis:r.xAxis).forEach(function(U){if(!v(U.options.id)||-1===U.options.id.indexOf("navigator")){var N=U.isXAxis?"yAxis":"xAxis";N=v(U.options[N])?r[N][U.options[N]]:r[N][0],d===N&&m.push(U)}});var $=m.length?[]:[d.isXAxis?r.yAxis[0]:r.xAxis[0]];m.forEach(function(U){-1!==$.indexOf(U)||f($,function(N){return N.pos===U.pos&&N.len===U.len})||$.push(U)});var D=p(T,d.translate(R,null,null,h.old));C(D)&&$.forEach(d.horiz?function(U){var N;A=(k=U.pos)+U.len,O=_=Math.round(D+d.transB),"pass"!==j&&(O<c||O>c+d.width)&&(j?O=_=g(O,c,c+d.width):N=!0),N||B.push(["M",O,k],["L",_,A])}:function(U){var N;_=(O=U.pos)+U.len,k=A=Math.round(b+d.height-D),"pass"!==j&&(k<b||k>b+d.height)&&(j?k=A=g(k,b,b+d.height):N=!0),N||B.push(["M",O,k],["L",_,A])}),h.path=0<B.length?u.crispPolyLine(B,h.lineWidth||1):null}}),z.prototype.crispPolyLine=function(h,n){for(var d=0;d<h.length;d+=2){var o=h[d],r=h[d+1];o[1]===r[1]&&(o[1]=r[1]=Math.round(o[1])-n%2/2),o[2]===r[2]&&(o[2]=r[2]=Math.round(o[2])+n%2/2)}return h},H(K,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),H(K,"afterDrawCrosshair",function(h){var n,d;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&C(this.min)&&C(this.max)){var o=this.chart,r=this.logarithmic,u=this.crosshair.label,c=this.horiz,b=this.opposite,O=this.left,k=this.top,_=this.crossLabel,A=u.format,B="",m="inside"===this.options.tickPosition,T=!1!==this.crosshair.snap,R=0,j=h.e||this.cross&&this.cross.e;h=h.point;var X=this.min,$=this.max;r&&(X=r.lin2log(X),$=r.lin2log($)),r=c?"center":b?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",_||(_=this.crossLabel=o.renderer.label("",0,void 0,u.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(h?h.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:u.align||r,padding:p(u.padding,8),r:p(u.borderRadius,3),zIndex:2}).add(this.labelGroup),o.styledMode||_.attr({fill:u.backgroundColor||h&&h.series&&h.series.color||"#666666",stroke:u.borderColor||"","stroke-width":u.borderWidth||0}).css(S({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},u.style||{}))),c?(r=T?(h.plotX||0)+O:j.chartX,k+=b?0:this.height):(r=b?this.width+O:0,k=T?(h.plotY||0)+k:j.chartY),A||u.formatter||(this.dateTime&&(B="%b %d, %Y"),A="{value"+(B?":"+B:"")+"}"),B=T?this.isXAxis?h.x:h.y:this.toValue(c?j.chartX:j.chartY),T=h?h.series.isPointInside(h):C(B)&&B>X&&B<$,j="",A?j=s(A,{value:B},o):u.formatter&&C(B)&&(j=u.formatter.call(this,B)),_.attr({text:j,x:r,y:k,visibility:T?"visible":"hidden"}),u=_.getBBox(),C(_.y)&&(c?(m&&!b||!m&&b)&&(k=_.y-u.height):k=_.y-u.height/2),c?(n=O-u.x,d=O+this.width-u.x):(n="left"===this.labelAlign?O:0,d="right"===this.labelAlign?O+this.width:o.chartWidth),_.translateX<n&&(R=n-_.translateX),_.translateX+u.width>=d&&(R=-(_.translateX+u.width-d)),_.attr({x:r+R,y:k,anchorX:c?r:this.opposite?0:o.chartWidth,anchorY:c?this.opposite?o.chartHeight:0:k+u.height/2})}}),Y.prototype.forceCropping=function(){var n=this.options.dataGrouping;return!1!==this.allowDG&&n&&p(n.enabled,this.chart.options.isStock)},H(V,"update",function(h){"scrollbar"in(h=h.options)&&this.navigator&&(M(!0,this.options.scrollbar,h.scrollbar),this.navigator.update({},!1),delete h.scrollbar)}),I}),lt(F,"masters/modules/stock.src.js",[F["Core/Globals.js"],F["Core/Axis/OrdinalAxis.js"],F["Series/DataModifyComposition.js"],F["Core/Scrollbar.js"],F["Core/Chart/StockChart.js"]],function(H,K,V,Q,W){H.Scrollbar=Q,H.StockChart=H.stockChart=W.stockChart,Q.compose(H.Axis),K.compose(H.Axis,H.Series,H.Chart),V.compose(H.Series,H.Axis,H.Point)}),lt(F,"masters/highstock.src.js",[F["masters/highcharts.src.js"]],function(H){return H.product="Highstock",H}),F["masters/highstock.src.js"]._modules=F,F["masters/highstock.src.js"]},ke.exports?(lt.default=lt,ke.exports=St.document?lt(St):lt):void 0!==(ft=function(){return lt(St)}.call(zt,Mt,zt,ke))&&(ke.exports=ft)},70:function(ke){"undefined"!=typeof window&&(ke.exports=function(zt){var Mt={};function ft(St){if(Mt[St])return Mt[St].exports;var lt=Mt[St]={i:St,l:!1,exports:{}};return zt[St].call(lt.exports,lt,lt.exports,ft),lt.l=!0,lt.exports}return ft.m=zt,ft.c=Mt,ft.d=function(St,lt,F){ft.o(St,lt)||Object.defineProperty(St,lt,{enumerable:!0,get:F})},ft.r=function(St){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(St,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(St,"__esModule",{value:!0})},ft.t=function(St,lt){if(1&lt&&(St=ft(St)),8&lt||4&lt&&"object"==typeof St&&St&&St.__esModule)return St;var F=Object.create(null);if(ft.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:St}),2&lt&&"string"!=typeof St)for(var H in St)ft.d(F,H,function(K){return St[K]}.bind(null,H));return F},ft.n=function(St){var lt=St&&St.__esModule?function(){return St.default}:function(){return St};return ft.d(lt,"a",lt),lt},ft.o=function(St,lt){return Object.prototype.hasOwnProperty.call(St,lt)},ft.p="/dist/",ft(ft.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(zt,Mt,ft){"use strict";var St=Object.prototype.hasOwnProperty,lt="~";function F(){}function H(W,Y,z){this.fn=W,this.context=Y,this.once=z||!1}function K(W,Y,z,I,P){if("function"!=typeof z)throw new TypeError("The listener must be a function");var w=new H(z,I||W,P),E=lt?lt+Y:Y;return W._events[E]?W._events[E].fn?W._events[E]=[W._events[E],w]:W._events[E].push(w):(W._events[E]=w,W._eventsCount++),W}function V(W,Y){0==--W._eventsCount?W._events=new F:delete W._events[Y]}function Q(){this._events=new F,this._eventsCount=0}Object.create&&(F.prototype=Object.create(null),(new F).__proto__||(lt=!1)),Q.prototype.eventNames=function(){var z,I,Y=[];if(0===this._eventsCount)return Y;for(I in z=this._events)St.call(z,I)&&Y.push(lt?I.slice(1):I);return Object.getOwnPropertySymbols?Y.concat(Object.getOwnPropertySymbols(z)):Y},Q.prototype.listeners=function(Y){var I=this._events[lt?lt+Y:Y];if(!I)return[];if(I.fn)return[I.fn];for(var P=0,w=I.length,E=new Array(w);P<w;P++)E[P]=I[P].fn;return E},Q.prototype.listenerCount=function(Y){var I=this._events[lt?lt+Y:Y];return I?I.fn?1:I.length:0},Q.prototype.emit=function(Y,z,I,P,w,E){var s=lt?lt+Y:Y;if(!this._events[s])return!1;var v,S,l=this._events[s],g=arguments.length;if(l.fn){switch(l.once&&this.removeListener(Y,l.fn,void 0,!0),g){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,z),!0;case 3:return l.fn.call(l.context,z,I),!0;case 4:return l.fn.call(l.context,z,I,P),!0;case 5:return l.fn.call(l.context,z,I,P,w),!0;case 6:return l.fn.call(l.context,z,I,P,w,E),!0}for(S=1,v=new Array(g-1);S<g;S++)v[S-1]=arguments[S];l.fn.apply(l.context,v)}else{var C,f=l.length;for(S=0;S<f;S++)switch(l[S].once&&this.removeListener(Y,l[S].fn,void 0,!0),g){case 1:l[S].fn.call(l[S].context);break;case 2:l[S].fn.call(l[S].context,z);break;case 3:l[S].fn.call(l[S].context,z,I);break;case 4:l[S].fn.call(l[S].context,z,I,P);break;default:if(!v)for(C=1,v=new Array(g-1);C<g;C++)v[C-1]=arguments[C];l[S].fn.apply(l[S].context,v)}}return!0},Q.prototype.on=function(Y,z,I){return K(this,Y,z,I,!1)},Q.prototype.once=function(Y,z,I){return K(this,Y,z,I,!0)},Q.prototype.removeListener=function(Y,z,I,P){var w=lt?lt+Y:Y;if(!this._events[w])return this;if(!z)return V(this,w),this;var E=this._events[w];if(E.fn)E.fn===z&&(!P||E.once)&&(!I||E.context===I)&&V(this,w);else{for(var s=0,l=[],g=E.length;s<g;s++)(E[s].fn!==z||P&&!E[s].once||I&&E[s].context!==I)&&l.push(E[s]);l.length?this._events[w]=1===l.length?l[0]:l:V(this,w)}return this},Q.prototype.removeAllListeners=function(Y){var z;return Y?this._events[z=lt?lt+Y:Y]&&V(this,z):(this._events=new F,this._eventsCount=0),this},Q.prototype.off=Q.prototype.removeListener,Q.prototype.addListener=Q.prototype.on,Q.prefixed=lt,Q.EventEmitter=Q,zt.exports=Q},"./node_modules/url-toolkit/src/url-toolkit.js":function(zt,Mt,ft){var lt,F,H,K,V;lt=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,F=/^([^\/?#]*)([^]*)$/,H=/(?:\/|^)\.(?=\/)/g,K=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,zt.exports=V={buildAbsoluteURL:function(Q,W,Y){if(Y=Y||{},Q=Q.trim(),!(W=W.trim())){if(!Y.alwaysNormalize)return Q;var z=V.parseURL(Q);if(!z)throw new Error("Error trying to parse base URL.");return z.path=V.normalizePath(z.path),V.buildURLFromParts(z)}var I=V.parseURL(W);if(!I)throw new Error("Error trying to parse relative URL.");if(I.scheme)return Y.alwaysNormalize?(I.path=V.normalizePath(I.path),V.buildURLFromParts(I)):W;var P=V.parseURL(Q);if(!P)throw new Error("Error trying to parse base URL.");if(!P.netLoc&&P.path&&"/"!==P.path[0]){var w=F.exec(P.path);P.netLoc=w[1],P.path=w[2]}P.netLoc&&!P.path&&(P.path="/");var E={scheme:P.scheme,netLoc:I.netLoc,path:null,params:I.params,query:I.query,fragment:I.fragment};if(!I.netLoc&&(E.netLoc=P.netLoc,"/"!==I.path[0]))if(I.path){var s=P.path,l=s.substring(0,s.lastIndexOf("/")+1)+I.path;E.path=V.normalizePath(l)}else E.path=P.path,I.params||(E.params=P.params,I.query||(E.query=P.query));return null===E.path&&(E.path=Y.alwaysNormalize?V.normalizePath(I.path):I.path),V.buildURLFromParts(E)},parseURL:function(Q){var W=lt.exec(Q);return W?{scheme:W[1]||"",netLoc:W[2]||"",path:W[3]||"",params:W[4]||"",query:W[5]||"",fragment:W[6]||""}:null},normalizePath:function(Q){for(Q=Q.split("").reverse().join("").replace(H,"");Q.length!==(Q=Q.replace(K,"")).length;);return Q.split("").reverse().join("")},buildURLFromParts:function(Q){return Q.scheme+Q.netLoc+Q.path+Q.params+Q.query+Q.fragment}}},"./node_modules/webworkify-webpack/index.js":function(zt,Mt,ft){function St(Y){var z={};function I(w){if(z[w])return z[w].exports;var E=z[w]={i:w,l:!1,exports:{}};return Y[w].call(E.exports,E,E.exports,I),E.l=!0,E.exports}I.m=Y,I.c=z,I.i=function(w){return w},I.d=function(w,E,s){I.o(w,E)||Object.defineProperty(w,E,{configurable:!1,enumerable:!0,get:s})},I.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},I.n=function(w){var E=w&&w.__esModule?function(){return w.default}:function(){return w};return I.d(E,"a",E),E},I.o=function(w,E){return Object.prototype.hasOwnProperty.call(w,E)},I.p="/",I.oe=function(w){throw console.error(w),w};var P=I(I.s=ENTRY_MODULE);return P.default||P}var lt="[\\.|\\-|\\+|\\w|/|@]+",F="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+lt+").*?\\)";function H(Y){return(Y+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function K(Y){return!isNaN(1*Y)}function V(Y,z,I){var P={};P[I]=[];var w=z.toString(),E=w.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return P;for(var g,s=E[1],l=new RegExp("(\\\\n|\\W)"+H(s)+F,"g");g=l.exec(w);)"dll-reference"!==g[3]&&P[I].push(g[3]);for(l=new RegExp("\\("+H(s)+'\\("(dll-reference\\s('+lt+'))"\\)\\)'+F,"g");g=l.exec(w);)Y[g[2]]||(P[I].push(g[1]),Y[g[2]]=ft(g[1]).m),P[g[2]]=P[g[2]]||[],P[g[2]].push(g[4]);for(var v=Object.keys(P),S=0;S<v.length;S++)for(var f=0;f<P[v[S]].length;f++)K(P[v[S]][f])&&(P[v[S]][f]=1*P[v[S]][f]);return P}function Q(Y){return Object.keys(Y).reduce(function(I,P){return I||Y[P].length>0},!1)}zt.exports=function(Y,z){var I={main:ft.m},P=(z=z||{}).all?{main:Object.keys(I.main)}:function W(Y,z){for(var I={main:[z]},P={main:[]},w={main:{}};Q(I);)for(var E=Object.keys(I),s=0;s<E.length;s++){var l=E[s],v=I[l].pop();if(w[l]=w[l]||{},!w[l][v]&&Y[l][v]){w[l][v]=!0,P[l]=P[l]||[],P[l].push(v);for(var S=V(Y,Y[l][v],l),f=Object.keys(S),C=0;C<f.length;C++)I[f[C]]=I[f[C]]||[],I[f[C]]=I[f[C]].concat(S[f[C]])}}return P}(I,Y),w="";Object.keys(P).filter(function(v){return"main"!==v}).forEach(function(v){for(var S=0;P[v][S];)S++;P[v].push(S),I[v][S]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",w=w+"var "+v+" = ("+St.toString().replace("ENTRY_MODULE",JSON.stringify(S))+")({"+P[v].map(function(f){return JSON.stringify(f)+": "+I[v][f].toString()}).join(",")+"});\n"}),w=w+"new (("+St.toString().replace("ENTRY_MODULE",JSON.stringify(Y))+")({"+P.main.map(function(v){return JSON.stringify(v)+": "+I.main[v].toString()}).join(",")+"}))(self);";var E=new window.Blob([w],{type:"text/javascript"});if(z.bare)return E;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(E),g=new window.Worker(l);return g.objectURL=l,g}},"./src/config.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"hlsDefaultConfig",function(){return C}),ft.d(Mt,"mergeConfig",function(){return M}),ft.d(Mt,"enableStreamingMode",function(){return p});var St=ft("./src/controller/abr-controller.ts"),lt=ft("./src/controller/audio-stream-controller.ts"),F=ft("./src/controller/audio-track-controller.ts"),H=ft("./src/controller/subtitle-stream-controller.ts"),K=ft("./src/controller/subtitle-track-controller.ts"),V=ft("./src/controller/buffer-controller.ts"),Q=ft("./src/controller/timeline-controller.ts"),W=ft("./src/controller/cap-level-controller.ts"),Y=ft("./src/controller/fps-controller.ts"),z=ft("./src/controller/eme-controller.ts"),I=ft("./src/controller/cmcd-controller.ts"),P=ft("./src/utils/xhr-loader.ts"),w=ft("./src/utils/fetch-loader.ts"),E=ft("./src/utils/cues.ts"),s=ft("./src/utils/mediakeys-helper.ts"),l=ft("./src/utils/logger.ts");function g(){return g=Object.assign||function(a){for(var h=1;h<arguments.length;h++){var n=arguments[h];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(a[d]=n[d])}return a},g.apply(this,arguments)}function v(a,h){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);h&&(d=d.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,d)}return n}function S(a){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?v(Object(n),!0).forEach(function(d){f(a,d,n[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(n,d))})}return a}function f(a,h,n){return h in a?Object.defineProperty(a,h,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[h]=n,a}var C=S(S({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:P.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:St.default,bufferController:V.default,capLevelController:W.default,fpsController:Y.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:s.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},function x(){return{cueHandler:E.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:H.SubtitleStreamController,subtitleTrackController:K.default,timelineController:Q.TimelineController,audioStreamController:lt.default,audioTrackController:F.default,emeController:z.default,cmcdController:I.default});function M(a,h){if((h.liveSyncDurationCount||h.liveMaxLatencyDurationCount)&&(h.liveSyncDuration||h.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==h.liveMaxLatencyDurationCount&&(void 0===h.liveSyncDurationCount||h.liveMaxLatencyDurationCount<=h.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==h.liveMaxLatencyDuration&&(void 0===h.liveSyncDuration||h.liveMaxLatencyDuration<=h.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return g({},a,h)}function p(a){var h=a.loader;h!==w.default&&h!==P.default?(l.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),a.progressive=!1):Object(w.fetchSupported)()&&(a.loader=w.default,a.progressive=!0,a.enableSoftwareAES=!0,l.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/polyfills/number.ts"),lt=ft("./src/utils/ewma-bandwidth-estimator.ts"),F=ft("./src/events.ts"),H=ft("./src/utils/buffer-helper.ts"),K=ft("./src/errors.ts"),V=ft("./src/types/loader.ts"),Q=ft("./src/utils/logger.ts");function W(I,P){for(var w=0;w<P.length;w++){var E=P[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}Mt.default=function(){function I(w){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=w;var E=w.config;this.bwEstimator=new lt.default(E.abrEwmaSlowVoD,E.abrEwmaFastVoD,E.abrEwmaDefaultEstimate),this.registerListeners()}var P=I.prototype;return P.registerListeners=function(){var E=this.hls;E.on(F.Events.FRAG_LOADING,this.onFragLoading,this),E.on(F.Events.FRAG_LOADED,this.onFragLoaded,this),E.on(F.Events.FRAG_BUFFERED,this.onFragBuffered,this),E.on(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.on(F.Events.ERROR,this.onError,this)},P.unregisterListeners=function(){var E=this.hls;E.off(F.Events.FRAG_LOADING,this.onFragLoading,this),E.off(F.Events.FRAG_LOADED,this.onFragLoaded,this),E.off(F.Events.FRAG_BUFFERED,this.onFragBuffered,this),E.off(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.off(F.Events.ERROR,this.onError,this)},P.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},P.onFragLoading=function(E,s){var g,l=s.frag;l.type!==V.PlaylistLevelType.MAIN||this.timer||(this.fragCurrent=l,this.partCurrent=null!=(g=s.part)?g:null,this.timer=self.setInterval(this.onCheck,100))},P.onLevelLoaded=function(E,s){var l=this.hls.config;s.details.live?this.bwEstimator.update(l.abrEwmaSlowLive,l.abrEwmaFastLive):this.bwEstimator.update(l.abrEwmaSlowVoD,l.abrEwmaFastVoD)},P._abandonRulesCheck=function(){var E=this.fragCurrent,s=this.partCurrent,l=this.hls,g=l.autoLevelEnabled,v=l.config,S=l.media;if(E&&S){var f=s?s.stats:E.stats,C=s?s.duration:E.duration;if(f.aborted)return Q.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(g&&!S.paused&&S.playbackRate&&S.readyState){var x=performance.now()-f.loading.start,M=Math.abs(S.playbackRate);if(!(x<=500*C/M)){var p=l.levels,a=l.minAutoLevel,n=f.total||Math.max(f.loaded,Math.round(C*p[E.level].maxBitrate/8)),d=Math.max(1,f.bwEstimate?f.bwEstimate/8:1e3*f.loaded/x),o=(n-f.loaded)/d,r=S.currentTime,u=(H.BufferHelper.bufferInfo(S,r,v.maxBufferHole).end-r)/M;if(!(u>=2*C/M||o<=u)){var b,c=Number.POSITIVE_INFINITY;for(b=E.level-1;b>a&&!((c=C*p[b].maxBitrate/(6.4*d))<u);b--);if(!(c>=o)){var k=this.bwEstimator.getEstimate();Q.logger.warn("Fragment "+E.sn+(s?" part "+s.index:"")+" of level "+E.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+b+"\n      Current BW estimate: "+(Object(St.isFiniteNumber)(k)?(k/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+o.toFixed(3)+" s\n      Estimated load time for the next fragment: "+c.toFixed(3)+" s\n      Time to underbuffer: "+u.toFixed(3)+" s"),l.nextLoadLevel=b,this.bwEstimator.sample(x,f.loaded),this.clearTimer(),E.loader&&(this.fragCurrent=this.partCurrent=null,E.loader.abort()),l.trigger(F.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:E,part:s,stats:f})}}}}}},P.onFragLoaded=function(E,s){var l=s.frag,g=s.part;if(l.type===V.PlaylistLevelType.MAIN&&Object(St.isFiniteNumber)(l.sn)){var v=g?g.stats:l.stats,S=g?g.duration:l.duration;if(this.clearTimer(),this.lastLoadedFragLevel=l.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var f=this.hls.levels[l.level],C=(f.loaded?f.loaded.bytes:0)+v.loaded,x=(f.loaded?f.loaded.duration:0)+S;f.loaded={bytes:C,duration:x},f.realBitrate=Math.round(8*C/x)}l.bitrateTest&&(this.onFragBuffered(F.Events.FRAG_BUFFERED,{stats:v,frag:l,part:g,id:l.type}),l.bitrateTest=!1)}},P.onFragBuffered=function(E,s){var l=s.frag,g=s.part,v=g?g.stats:l.stats;if(!v.aborted&&l.type===V.PlaylistLevelType.MAIN&&"initSegment"!==l.sn){var S=v.parsing.end-v.loading.start;this.bwEstimator.sample(S,v.loaded),v.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=l.bitrateTest?S/1e3:0}},P.onError=function(E,s){switch(s.details){case K.ErrorDetails.FRAG_LOAD_ERROR:case K.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},P.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},P.getNextABRAutoLevel=function(){var E=this.fragCurrent,s=this.partCurrent,l=this.hls,g=l.maxAutoLevel,v=l.config,S=l.minAutoLevel,f=l.media,C=s?s.duration:E?E.duration:0,x=f?f.currentTime:0,M=f&&0!==f.playbackRate?Math.abs(f.playbackRate):1,p=this.bwEstimator?this.bwEstimator.getEstimate():v.abrEwmaDefaultEstimate,a=(H.BufferHelper.bufferInfo(f,x,v.maxBufferHole).end-x)/M,h=this.findBestLevel(p,S,g,a,v.abrBandWidthFactor,v.abrBandWidthUpFactor);if(h>=0)return h;Q.logger.trace((a?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var n=C?Math.min(C,v.maxStarvationDelay):v.maxStarvationDelay,d=v.abrBandWidthFactor,o=v.abrBandWidthUpFactor;if(!a){var r=this.bitrateTestDelay;r&&(n=(C?Math.min(C,v.maxLoadingDelay):v.maxLoadingDelay)-r,Q.logger.trace("bitrate test took "+Math.round(1e3*r)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*n)+" ms"),d=o=1)}return h=this.findBestLevel(p,S,g,a+n,d,o),Math.max(h,0)},P.findBestLevel=function(E,s,l,g,v,S){for(var f,C=this.fragCurrent,x=this.partCurrent,M=this.lastLoadedFragLevel,p=this.hls.levels,a=p[M],h=!(null==a||null===(f=a.details)||void 0===f||!f.live),n=null==a?void 0:a.codecSet,d=x?x.duration:C?C.duration:0,o=l;o>=s;o--){var r=p[o];if(r&&(!n||r.codecSet===n)){var b,u=r.details,c=(x?null==u?void 0:u.partTarget:null==u?void 0:u.averagetargetduration)||d,O=p[o].maxBitrate,k=O*c/(b=o<=M?v*E:S*E);if(Q.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+o+"/"+Math.round(b)+"/"+O+"/"+c+"/"+g+"/"+k),b>O&&(!k||h&&!this.bitrateTestDelay||k<g))return o}}return-1},function Y(I,P,w){return P&&W(I.prototype,P),w&&W(I,w),I}(I,[{key:"nextAutoLevel",get:function(){var E=this._nextAutoLevel,s=this.bwEstimator;if(!(-1===E||s&&s.canEstimate()))return E;var l=this.getNextABRAutoLevel();return-1!==E&&(l=Math.min(E,l)),l},set:function(E){this._nextAutoLevel=E}}]),I}()},"./src/controller/audio-stream-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/polyfills/number.ts"),lt=ft("./src/controller/base-stream-controller.ts"),F=ft("./src/events.ts"),H=ft("./src/utils/buffer-helper.ts"),K=ft("./src/controller/fragment-tracker.ts"),V=ft("./src/types/level.ts"),Q=ft("./src/types/loader.ts"),W=ft("./src/loader/fragment.ts"),Y=ft("./src/demux/chunk-cache.ts"),z=ft("./src/demux/transmuxer-interface.ts"),I=ft("./src/types/transmuxer.ts"),P=ft("./src/controller/fragment-finders.ts"),w=ft("./src/utils/discontinuities.ts"),E=ft("./src/errors.ts"),s=ft("./src/utils/logger.ts");function l(){return l=Object.assign||function(C){for(var x=1;x<arguments.length;x++){var M=arguments[x];for(var p in M)Object.prototype.hasOwnProperty.call(M,p)&&(C[p]=M[p])}return C},l.apply(this,arguments)}function g(C,x){C.prototype=Object.create(x.prototype),C.prototype.constructor=C,v(C,x)}function v(C,x){return(v=Object.setPrototypeOf||function(p,a){return p.__proto__=a,p})(C,x)}Mt.default=function(C){function x(p,a){var h;return(h=C.call(this,p,a,"[audio-stream-controller]")||this).videoBuffer=null,h.videoTrackCC=-1,h.waitingVideoCC=-1,h.audioSwitch=!1,h.trackId=-1,h.waitingData=null,h.mainDetails=null,h.bufferFlushed=!1,h._registerListeners(),h}g(x,C);var M=x.prototype;return M.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},M._registerListeners=function(){var a=this.hls;a.on(F.Events.MEDIA_ATTACHED,this.onMediaAttached,this),a.on(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this),a.on(F.Events.MANIFEST_LOADING,this.onManifestLoading,this),a.on(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),a.on(F.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),a.on(F.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),a.on(F.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),a.on(F.Events.ERROR,this.onError,this),a.on(F.Events.BUFFER_RESET,this.onBufferReset,this),a.on(F.Events.BUFFER_CREATED,this.onBufferCreated,this),a.on(F.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),a.on(F.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),a.on(F.Events.FRAG_BUFFERED,this.onFragBuffered,this)},M._unregisterListeners=function(){var a=this.hls;a.off(F.Events.MEDIA_ATTACHED,this.onMediaAttached,this),a.off(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this),a.off(F.Events.MANIFEST_LOADING,this.onManifestLoading,this),a.off(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),a.off(F.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),a.off(F.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),a.off(F.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),a.off(F.Events.ERROR,this.onError,this),a.off(F.Events.BUFFER_RESET,this.onBufferReset,this),a.off(F.Events.BUFFER_CREATED,this.onBufferCreated,this),a.off(F.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),a.off(F.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),a.off(F.Events.FRAG_BUFFERED,this.onFragBuffered,this)},M.onInitPtsFound=function(a,h){var n=h.frag,o=h.initPTS;if("main"===h.id){var r=n.cc;this.initPTS[n.cc]=o,this.log("InitPTS for cc: "+r+" found from main: "+o),this.videoTrackCC=r,this.state===lt.State.WAITING_INIT_PTS&&this.tick()}},M.startLoad=function(a){if(!this.levels)return this.startPosition=a,void(this.state=lt.State.STOPPED);var h=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,h>0&&-1===a?(this.log("Override startPosition with lastCurrentTime @"+h.toFixed(3)),this.state=lt.State.IDLE):(this.loadedmetadata=!1,this.state=lt.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=a,this.tick()},M.doTick=function(){switch(this.state){case lt.State.IDLE:this.doTickIdle();break;case lt.State.WAITING_TRACK:var a,h=this.levels,d=null==h||null===(a=h[this.trackId])||void 0===a?void 0:a.details;if(d){if(this.waitForCdnTuneIn(d))break;this.state=lt.State.WAITING_INIT_PTS}break;case lt.State.FRAG_LOADING_WAITING_RETRY:var o,r=performance.now(),u=this.retryDate;(!u||r>=u||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=lt.State.IDLE);break;case lt.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var b=c.frag,O=c.part,k=c.cache,_=c.complete;if(void 0!==this.initPTS[b.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=lt.State.FRAG_LOADING;var B={frag:b,part:O,payload:k.flush(),networkDetails:null};this._handleFragmentLoadProgress(B),_&&C.prototype._handleFragmentLoadComplete.call(this,B)}else if(this.videoTrackCC!==this.waitingVideoCC)s.logger.log("Waiting fragment cc ("+b.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var m=this.getLoadPosition(),T=H.BufferHelper.bufferInfo(this.mediaBuffer,m,this.config.maxBufferHole);Object(P.fragmentWithinToleranceTest)(T.end,this.config.maxFragLookUpTolerance,b)<0&&(s.logger.log("Waiting fragment cc ("+b.cc+") @ "+b.start+" cancelled because another fragment at "+T.end+" is needed"),this.clearWaitingFragment())}}else this.state=lt.State.IDLE}this.onTickEnd()},M.clearWaitingFragment=function(){var a=this.waitingData;a&&(this.fragmentTracker.removeFragment(a.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=lt.State.IDLE)},M.onTickEnd=function(){var a=this.media;a&&a.readyState&&(!this.loadedmetadata&&(this.mediaBuffer?this.mediaBuffer:a).buffered.length&&(this.loadedmetadata=!0),this.lastCurrentTime=a.currentTime)},M.doTickIdle=function(){var a,h,n=this.hls,d=this.levels,o=this.media,r=this.trackId;if(d&&d[r]&&(o||!this.startFragRequested&&n.config.startFragPrefetch)){var b=d[r].details;if(!b||b.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(b))return void(this.state=lt.State.WAITING_TRACK);this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,W.ElementaryStreamTypes.AUDIO,Q.PlaylistLevelType.AUDIO));var O=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Q.PlaylistLevelType.AUDIO);if(null!==O){var k=O.len,_=this.getMaxBufferLength(),A=this.audioSwitch;if(!(k>=_)||A){if(!A&&this._streamEnded(O,b))return n.trigger(F.Events.BUFFER_EOS,{type:"audio"}),void(this.state=lt.State.ENDED);var m=b.fragments[0].start,T=O.end;if(A){var R=this.getLoadPosition();T=R,b.PTSKnown&&R<m&&(O.end>m||O.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=m+.05)}var j=this.getNextFragment(T,b);if(!j)return void(this.bufferFlushed=!0);"identity"!==(null===(a=j.decryptdata)||void 0===a?void 0:a.keyFormat)||null!==(h=j.decryptdata)&&void 0!==h&&h.key?this.loadFragment(j,b,T):this.loadKey(j,b)}}}},M.getMaxBufferLength=function(){var a=C.prototype.getMaxBufferLength.call(this),h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Q.PlaylistLevelType.MAIN);return null===h?a:Math.max(a,h.len)},M.onMediaDetaching=function(){this.videoBuffer=null,C.prototype.onMediaDetaching.call(this)},M.onAudioTracksUpdated=function(a,h){var n=h.audioTracks;this.resetTransmuxer(),this.levels=n.map(function(d){return new V.Level(d)})},M.onAudioTrackSwitching=function(a,h){var n=!!h.url;this.trackId=h.id;var d=this.fragCurrent;null!=d&&d.loader&&d.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=lt.State.IDLE):this.state=lt.State.STOPPED,this.tick()},M.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},M.onLevelLoaded=function(a,h){this.mainDetails=h.details},M.onAudioTrackLoaded=function(a,h){var n,d=this.levels,o=h.details,r=h.id;if(d){this.log("Track "+r+" loaded ["+o.startSN+","+o.endSN+"],duration:"+o.totalduration);var u=d[r],c=0;if(o.live||null!==(n=u.details)&&void 0!==n&&n.live){var b=this.mainDetails;if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed||!b)return;!u.details&&o.hasProgramDateTime&&b.hasProgramDateTime?(Object(w.alignMediaPlaylistByPDT)(o,b),c=o.fragments[0].start):c=this.alignPlaylists(o,u.details)}u.details=o,this.levelLastLoaded=r,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(u.details,c),this.state===lt.State.WAITING_TRACK&&!this.waitForCdnTuneIn(o)&&(this.state=lt.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+r)},M._handleFragmentLoadProgress=function(a){var h,n=a.frag,d=a.part,o=a.payload,r=this.config,u=this.trackId,c=this.levels;if(c){var b=c[u];console.assert(b,"Audio track is defined on fragment load progress");var O=b.details;console.assert(O,"Audio track details are defined on fragment load progress");var k=r.defaultAudioCodec||b.audioCodec||"mp4a.40.2",_=this.transmuxer;_||(_=this.transmuxer=new z.default(this.hls,Q.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var A=this.initPTS[n.cc],B=null===(h=n.initSegment)||void 0===h?void 0:h.data;if(void 0!==A){var T=d?d.index:-1,j=new I.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,o.byteLength,T,-1!==T);_.push(o,B,k,"",n,d,O.totalduration,!1,j,A)}else s.logger.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+O.startSN+" ,"+O.endSN+"],track "+u),(this.waitingData=this.waitingData||{frag:n,part:d,cache:new Y.default,complete:!1}).cache.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=lt.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},M._handleFragmentLoadComplete=function(a){this.waitingData?this.waitingData.complete=!0:C.prototype._handleFragmentLoadComplete.call(this,a)},M.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},M.onBufferCreated=function(a,h){var n=h.tracks.audio;n&&(this.mediaBuffer=n.buffer),h.tracks.video&&(this.videoBuffer=h.tracks.video.buffer)},M.onFragBuffered=function(a,h){var n=h.frag,d=h.part;if(n.type===Q.PlaylistLevelType.AUDIO){if(this.fragContextChanged(n))return void this.warn("Fragment "+n.sn+(d?" p: "+d.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);"initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(F.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,d)}},M.onError=function(a,h){switch(h.details){case E.ErrorDetails.FRAG_LOAD_ERROR:case E.ErrorDetails.FRAG_LOAD_TIMEOUT:case E.ErrorDetails.KEY_LOAD_ERROR:case E.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Q.PlaylistLevelType.AUDIO,h);break;case E.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case E.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==lt.State.ERROR&&this.state!==lt.State.STOPPED&&(this.state=h.fatal?lt.State.ERROR:lt.State.IDLE,this.warn(h.details+" while loading frag, switching to "+this.state+" state"));break;case E.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===h.parent&&(this.state===lt.State.PARSING||this.state===lt.State.PARSED)){var n=!0,d=this.getFwdBufferInfo(this.mediaBuffer,Q.PlaylistLevelType.AUDIO);d&&d.len>.5&&(n=!this.reduceMaxBufferLength(d.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,C.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},M.onBufferFlushed=function(a,h){h.type===W.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},M._handleTransmuxComplete=function(a){var h,n="audio",d=this.hls,o=a.remuxResult,r=a.chunkMeta,u=this.getCurrentContext(r);if(!u)return this.warn("The loading context changed while buffering fragment "+r.sn+" of level "+r.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(r.level);var c=u.frag,b=u.part,O=o.audio,k=o.text,_=o.id3,A=o.initSegment;if(!this.fragContextChanged(c)){if(this.state=lt.State.PARSING,this.audioSwitch&&O&&this.completeAudioSwitch(),null!=A&&A.tracks&&(this._bufferInitSegment(A.tracks,c,r),d.trigger(F.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:A.tracks})),O){var B=O.startPTS,m=O.endPTS,T=O.startDTS,R=O.endDTS;b&&(b.elementaryStreams[W.ElementaryStreamTypes.AUDIO]={startPTS:B,endPTS:m,startDTS:T,endDTS:R}),c.setElementaryStreamInfo(W.ElementaryStreamTypes.AUDIO,B,m,T,R),this.bufferFragmentData(O,c,b,r)}if(null!=_&&null!==(h=_.samples)&&void 0!==h&&h.length){var j=l({frag:c,id:n},_);d.trigger(F.Events.FRAG_PARSING_METADATA,j)}if(k){var X=l({frag:c,id:n},k);d.trigger(F.Events.FRAG_PARSING_USERDATA,X)}}},M._bufferInitSegment=function(a,h,n){if(this.state===lt.State.PARSING){a.video&&delete a.video;var d=a.audio;if(d){d.levelCodec=d.codec,d.id="audio",this.log("Init audio buffer, container:"+d.container+", codecs[parsed]=["+d.codec+"]"),this.hls.trigger(F.Events.BUFFER_CODECS,a);var o=d.initSegment;null!=o&&o.byteLength&&this.hls.trigger(F.Events.BUFFER_APPENDING,{type:"audio",frag:h,part:null,chunkMeta:n,parent:h.type,data:o}),this.tick()}}},M.loadFragment=function(a,h,n){var d=this.fragmentTracker.getState(a);this.fragCurrent=a,(this.audioSwitch||d===K.FragmentState.NOT_LOADED||d===K.FragmentState.PARTIAL)&&("initSegment"===a.sn?this._loadInitSegment(a):h.live&&!Object(St.isFiniteNumber)(this.initPTS[a.cc])?(this.log("Waiting for video PTS in continuity counter "+a.cc+" of live stream before loading audio fragment "+a.sn+" of level "+this.trackId),this.state=lt.State.WAITING_INIT_PTS):(this.startFragRequested=!0,C.prototype.loadFragment.call(this,a,h,n)))},M.completeAudioSwitch=function(){var a=this.hls,n=this.trackId;this.media&&(this.log("Switching audio track : flushing all audio"),C.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,a.trigger(F.Events.AUDIO_TRACK_SWITCHED,{id:n})},x}(lt.default)},"./src/controller/audio-track-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/events.ts"),lt=ft("./src/errors.ts"),F=ft("./src/controller/base-playlist-controller.ts"),H=ft("./src/types/loader.ts");function K(z,I){for(var P=0;P<I.length;P++){var w=I[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(z,w.key,w)}}function Q(z,I){z.prototype=Object.create(I.prototype),z.prototype.constructor=z,W(z,I)}function W(z,I){return(W=Object.setPrototypeOf||function(w,E){return w.__proto__=E,w})(z,I)}Mt.default=function(z){function I(w){var E;return(E=z.call(this,w,"[audio-track-controller]")||this).tracks=[],E.groupId=null,E.tracksInGroup=[],E.trackId=-1,E.trackName="",E.selectDefaultTrack=!0,E.registerListeners(),E}Q(I,z);var P=I.prototype;return P.registerListeners=function(){var E=this.hls;E.on(St.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.on(St.Events.MANIFEST_PARSED,this.onManifestParsed,this),E.on(St.Events.LEVEL_LOADING,this.onLevelLoading,this),E.on(St.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),E.on(St.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),E.on(St.Events.ERROR,this.onError,this)},P.unregisterListeners=function(){var E=this.hls;E.off(St.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.off(St.Events.MANIFEST_PARSED,this.onManifestParsed,this),E.off(St.Events.LEVEL_LOADING,this.onLevelLoading,this),E.off(St.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),E.off(St.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),E.off(St.Events.ERROR,this.onError,this)},P.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,z.prototype.destroy.call(this)},P.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},P.onManifestParsed=function(E,s){this.tracks=s.audioTracks||[]},P.onAudioTrackLoaded=function(E,s){var l=s.id,g=s.details,v=this.tracksInGroup[l];if(v){var S=v.details;v.details=s.details,this.log("audioTrack "+l+" loaded ["+g.startSN+"-"+g.endSN+"]"),l===this.trackId&&(this.retryCount=0,this.playlistLoaded(l,s,S))}else this.warn("Invalid audio track id "+l)},P.onLevelLoading=function(E,s){this.switchLevel(s.level)},P.onLevelSwitching=function(E,s){this.switchLevel(s.level)},P.switchLevel=function(E){var s=this.hls.levels[E];if(null!=s&&s.audioGroupIds){var l=s.audioGroupIds[s.urlId];if(this.groupId!==l){this.groupId=l;var g=this.tracks.filter(function(S){return!l||S.groupId===l});this.selectDefaultTrack&&!g.some(function(S){return S.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=g;var v={audioTracks:g};this.log("Updating audio tracks, "+g.length+' track(s) found in "'+l+'" group-id'),this.hls.trigger(St.Events.AUDIO_TRACKS_UPDATED,v),this.selectInitialTrack()}}},P.onError=function(E,s){z.prototype.onError.call(this,E,s),!s.fatal&&s.context&&s.context.type===H.PlaylistContextType.AUDIO_TRACK&&s.context.id===this.trackId&&s.context.groupId===this.groupId&&this.retryLoadingOrFail(s)},P.setAudioTrack=function(E){var s=this.tracksInGroup;if(E<0||E>=s.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var l=s[this.trackId];this.log("Now switching to audio-track index "+E);var g=s[E],v=g.id,S=g.groupId,f=void 0===S?"":S,C=g.name,x=g.type,M=g.url;if(this.trackId=E,this.trackName=C,this.selectDefaultTrack=!1,this.hls.trigger(St.Events.AUDIO_TRACK_SWITCHING,{id:v,groupId:f,name:C,type:x,url:M}),!g.details||g.details.live){var p=this.switchParams(g.url,null==l?void 0:l.details);this.loadPlaylist(p)}}},P.selectInitialTrack=function(){console.assert(this.tracksInGroup.length,"Initial audio track should be selected when tracks are known");var l=this.findTrackId(this.trackName)||this.findTrackId();-1!==l?this.setAudioTrack(l):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},P.findTrackId=function(E){for(var s=this.tracksInGroup,l=0;l<s.length;l++){var g=s[l];if((!this.selectDefaultTrack||g.default)&&(!E||E===g.name))return g.id}return-1},P.loadPlaylist=function(E){var s=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(s)){var l=s.id,g=s.groupId,v=s.url;if(E)try{v=E.addDirectives(v)}catch(S){this.warn("Could not construct new URL with HLS Delivery Directives: "+S)}this.log("loading audio-track playlist for id: "+l),this.clearTimer(),this.hls.trigger(St.Events.AUDIO_TRACK_LOADING,{url:v,id:l,groupId:g,deliveryDirectives:E||null})}},function V(z,I,P){return I&&K(z.prototype,I),P&&K(z,P),z}(I,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(E){this.selectDefaultTrack=!1,this.setAudioTrack(E)}}]),I}(F.default)},"./src/controller/base-playlist-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return V});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/types/level.ts"),F=ft("./src/controller/level-helper.ts"),H=ft("./src/utils/logger.ts"),K=ft("./src/errors.ts"),V=function(){function Q(Y,z){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=H.logger.log.bind(H.logger,z+":"),this.warn=H.logger.warn.bind(H.logger,z+":"),this.hls=Y}var W=Q.prototype;return W.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},W.onError=function(z,I){I.fatal&&I.type===K.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},W.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},W.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},W.stopLoad=function(){this.canLoad=!1,this.clearTimer()},W.switchParams=function(z,I){var P=null==I?void 0:I.renditionReports;if(P)for(var w=0;w<P.length;w++){var E=P[w],s=""+E.URI;if(s===z.substr(-s.length)){var l=parseInt(E["LAST-MSN"]),g=parseInt(E["LAST-PART"]);if(I&&this.hls.config.lowLatencyMode){var v=Math.min(I.age-I.partTarget,I.targetduration);void 0!==g&&v>I.partTarget&&(g+=1)}if(Object(St.isFiniteNumber)(l))return new lt.HlsUrlParameters(l,Object(St.isFiniteNumber)(g)?g:void 0,lt.HlsSkip.No)}}},W.loadPlaylist=function(z){},W.shouldLoadTrack=function(z){return this.canLoad&&z&&!!z.url&&(!z.details||z.details.live)},W.playlistLoaded=function(z,I,P){var w=this,E=I.details,s=I.stats,l=s.loading.end?Math.max(0,self.performance.now()-s.loading.end):0;if(E.advancedDateTime=Date.now()-l,E.live||null!=P&&P.live){if(E.reloaded(P),P&&this.log("live playlist "+z+" "+(E.advanced?"REFRESHED "+E.lastPartSn+"-"+E.lastPartIndex:"MISSED")),P&&E.fragments.length>0&&Object(F.mergeDetails)(P,E),!this.canLoad||!E.live)return;var g,v=void 0,S=void 0;if(E.canBlockReload&&E.endSN&&E.advanced){var f=this.hls.config.lowLatencyMode,C=E.lastPartSn,x=E.endSN,M=E.lastPartIndex,a=C===x;-1!==M?(v=a?x+1:C,S=a?f?0:M:M+1):v=x+1;var n=E.age,o=Math.min(n+E.ageHeader-E.partTarget,1.5*E.targetduration);if(o>0){if(P&&o>P.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+P.tuneInGoal+" to: "+o+" with playlist age: "+E.age),o=0;else{var r=Math.floor(o/E.targetduration);v+=r,void 0!==S&&(S+=Math.round(o%E.targetduration/E.partTarget)),this.log("CDN Tune-in age: "+E.ageHeader+"s last advanced "+n.toFixed(2)+"s goal: "+o+" skip sn "+r+" to part "+S)}E.tuneInGoal=o}if(g=this.getDeliveryDirectives(E,I.deliveryDirectives,v,S),f||!a)return void this.loadPlaylist(g)}else g=this.getDeliveryDirectives(E,I.deliveryDirectives,v,S);var c=Object(F.computeReloadInterval)(E,s);void 0!==v&&E.canBlockReload&&(c-=E.partTarget||1),this.log("reload live playlist "+z+" in "+Math.round(c)+" ms"),this.timer=self.setTimeout(function(){return w.loadPlaylist(g)},c)}else this.clearTimer()},W.getDeliveryDirectives=function(z,I,P,w){var E=Object(lt.getSkipValue)(z,P);return null!=I&&I.skip&&z.deltaUpdateFailed&&(P=I.msn,w=I.part,E=lt.HlsSkip.No),new lt.HlsUrlParameters(P,w,E)},W.retryLoadingOrFail=function(z){var E,I=this,P=this.hls.config,w=this.retryCount<P.levelLoadingMaxRetry;if(w)if(this.retryCount++,z.details.indexOf("LoadTimeOut")>-1&&null!==(E=z.context)&&void 0!==E&&E.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+z.details+'"'),this.loadPlaylist();else{var s=Math.min(Math.pow(2,this.retryCount)*P.levelLoadingRetryDelay,P.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return I.loadPlaylist()},s),this.warn("retry playlist loading #"+this.retryCount+" in "+s+' ms after "'+z.details+'"')}else this.warn('cannot recover from error "'+z.details+'"'),this.clearTimer(),z.fatal=!0;return w},Q}()},"./src/controller/base-stream-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"State",function(){return x}),ft.d(Mt,"default",function(){return M});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/task-loop.ts"),F=ft("./src/controller/fragment-tracker.ts"),H=ft("./src/utils/buffer-helper.ts"),K=ft("./src/utils/logger.ts"),V=ft("./src/events.ts"),Q=ft("./src/errors.ts"),W=ft("./src/types/transmuxer.ts"),Y=ft("./src/utils/mp4-tools.ts"),z=ft("./src/utils/discontinuities.ts"),I=ft("./src/controller/fragment-finders.ts"),P=ft("./src/controller/level-helper.ts"),w=ft("./src/loader/fragment-loader.ts"),E=ft("./src/crypt/decrypter.ts"),s=ft("./src/utils/time-ranges.ts"),l=ft("./src/types/loader.ts");function g(p,a){for(var h=0;h<a.length;h++){var n=a[h];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(p,n.key,n)}}function f(p,a){p.prototype=Object.create(a.prototype),p.prototype.constructor=p,C(p,a)}function C(p,a){return(C=Object.setPrototypeOf||function(n,d){return n.__proto__=d,n})(p,a)}var x={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},M=function(p){function a(n,d,o){var r;return(r=p.call(this)||this).hls=void 0,r.fragPrevious=null,r.fragCurrent=null,r.fragmentTracker=void 0,r.transmuxer=null,r._state=x.STOPPED,r.media=void 0,r.mediaBuffer=void 0,r.config=void 0,r.bitrateTest=!1,r.lastCurrentTime=0,r.nextLoadPosition=0,r.startPosition=0,r.loadedmetadata=!1,r.fragLoadError=0,r.retryDate=0,r.levels=null,r.fragmentLoader=void 0,r.levelLastLoaded=null,r.startFragRequested=!1,r.decrypter=void 0,r.initPTS=[],r.onvseeking=null,r.onvended=null,r.logPrefix="",r.log=void 0,r.warn=void 0,r.logPrefix=o,r.log=K.logger.log.bind(K.logger,o+":"),r.warn=K.logger.warn.bind(K.logger,o+":"),r.hls=n,r.fragmentLoader=new w.default(n.config),r.fragmentTracker=d,r.config=n.config,r.decrypter=new E.default(n,n.config),n.on(V.Events.KEY_LOADED,r.onKeyLoaded,function S(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(r)),r}f(a,p);var h=a.prototype;return h.doTick=function(){this.onTickEnd()},h.onTickEnd=function(){},h.startLoad=function(d){},h.stopLoad=function(){this.fragmentLoader.abort();var d=this.fragCurrent;d&&this.fragmentTracker.removeFragment(d),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=x.STOPPED},h._streamEnded=function(d,o){var r=this.fragCurrent,u=this.fragmentTracker;if(!o.live&&r&&r.sn>=o.endSN&&!d.nextStart){var c=o.partList;if(null!=c&&c.length){var b=c[c.length-1];return H.BufferHelper.isBuffered(this.media,b.start+b.duration/2)}var k=u.getState(r);return k===F.FragmentState.PARTIAL||k===F.FragmentState.OK}return!1},h.onMediaAttached=function(d,o){var r=this.media=this.mediaBuffer=o.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var u=this.config;this.levels&&u.autoStartLoad&&this.state===x.STOPPED&&this.startLoad(u.startPosition)},h.onMediaDetaching=function(){var d=this.media;null!=d&&d.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),d&&(d.removeEventListener("seeking",this.onvseeking),d.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},h.onMediaSeeking=function(){var d=this.config,o=this.fragCurrent,r=this.media,c=this.state,b=r?r.currentTime:0,O=H.BufferHelper.bufferInfo(this.mediaBuffer||r,b,d.maxBufferHole);if(this.log("media seeking to "+(Object(St.isFiniteNumber)(b)?b.toFixed(3):b)+", state: "+c),c===x.ENDED)this.resetLoadingState();else if(o&&!O.len){var k=d.maxFragLookUpTolerance,B=b>o.start+o.duration+k;(b<o.start-k||B)&&(B&&o.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.resetLoadingState())}r&&(this.lastCurrentTime=b),!this.loadedmetadata&&!O.len&&(this.nextLoadPosition=this.startPosition=b),this.tickImmediate()},h.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},h.onKeyLoaded=function(d,o){if(this.state===x.KEY_LOADING&&o.frag===this.fragCurrent&&this.levels){this.state=x.IDLE;var r=this.levels[o.frag.level].details;r&&this.loadFragment(o.frag,r,o.frag.start)}},h.onHandlerDestroying=function(){this.stopLoad(),p.prototype.onHandlerDestroying.call(this)},h.onHandlerDestroyed=function(){this.state=x.STOPPED,this.hls.off(V.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,p.prototype.onHandlerDestroyed.call(this)},h.loadKey=function(d,o){this.log("Loading key for "+d.sn+" of ["+o.startSN+"-"+o.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+d.level),this.state=x.KEY_LOADING,this.fragCurrent=d,this.hls.trigger(V.Events.KEY_LOADING,{frag:d})},h.loadFragment=function(d,o,r){this._loadFragForPlayback(d,o,r)},h._loadFragForPlayback=function(d,o,r){var u=this;this._doFragLoad(d,o,r,function(O){if(u.fragContextChanged(d))return u.warn("Fragment "+d.sn+(O.part?" p: "+O.part.index:"")+" of level "+d.level+" was dropped during download."),void u.fragmentTracker.removeFragment(d);d.stats.chunkCount++,u._handleFragmentLoadProgress(O)}).then(function(b){if(b){u.fragLoadError=0;var O=u.state;if(u.fragContextChanged(d))return void((O===x.FRAG_LOADING||O===x.BACKTRACKING||!u.fragCurrent&&O===x.PARSING)&&(u.fragmentTracker.removeFragment(d),u.state=x.IDLE));if("payload"in b&&(u.log("Loaded fragment "+d.sn+" of level "+d.level),u.hls.trigger(V.Events.FRAG_LOADED,b),u.state===x.BACKTRACKING))return u.fragmentTracker.backtrack(d,b),void u.resetFragmentLoading(d);u._handleFragmentLoadComplete(b)}}).catch(function(b){u.warn(b),u.resetFragmentLoading(d)})},h.flushMainBuffer=function(d,o,r){if(void 0===r&&(r=null),d-o){var u={startOffset:d,endOffset:o,type:r};this.fragLoadError=0,this.hls.trigger(V.Events.BUFFER_FLUSHING,u)}},h._loadInitSegment=function(d){var o=this;this._doFragLoad(d).then(function(r){if(!r||o.fragContextChanged(d)||!o.levels)throw new Error("init load aborted");return r}).then(function(r){var u=o.hls,c=r.payload,b=d.decryptdata;if(c&&c.byteLength>0&&b&&b.key&&b.iv&&"AES-128"===b.method){var O=self.performance.now();return o.decrypter.webCryptoDecrypt(new Uint8Array(c),b.key.buffer,b.iv.buffer).then(function(k){var _=self.performance.now();return u.trigger(V.Events.FRAG_DECRYPTED,{frag:d,payload:k,stats:{tstart:O,tdecrypt:_}}),r.payload=k,r})}return r}).then(function(r){var u=o.fragCurrent,c=o.hls,b=o.levels;if(!b)throw new Error("init load aborted, missing levels");console.assert(b[d.level].details,"Level details are defined when init segment is loaded");var k=d.stats;o.state=x.IDLE,o.fragLoadError=0,d.data=new Uint8Array(r.payload),k.parsing.start=k.buffering.start=self.performance.now(),k.parsing.end=k.buffering.end=self.performance.now(),r.frag===u&&c.trigger(V.Events.FRAG_BUFFERED,{stats:k,frag:u,part:null,id:d.type}),o.tick()}).catch(function(r){o.warn(r),o.resetFragmentLoading(d)})},h.fragContextChanged=function(d){var o=this.fragCurrent;return!d||!o||d.level!==o.level||d.sn!==o.sn||d.urlId!==o.urlId},h.fragBufferedComplete=function(d,o){this.log("Buffered "+d.type+" sn: "+d.sn+(o?" part: "+o.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+d.level+" "+s.default.toString(H.BufferHelper.getBuffered(this.mediaBuffer?this.mediaBuffer:this.media))),this.state=x.IDLE,this.tick()},h._handleFragmentLoadComplete=function(d){var o=this.transmuxer;if(o){var r=d.frag,u=d.part,c=d.partsLoaded,b=!c||0===c.length||c.some(function(k){return!k}),O=new W.ChunkMetadata(r.level,r.sn,r.stats.chunkCount+1,0,u?u.index:-1,!b);o.flush(O)}},h._handleFragmentLoadProgress=function(d){},h._doFragLoad=function(d,o,r,u){var c=this;if(void 0===r&&(r=null),!this.levels)throw new Error("frag load aborted, missing levels");if(r=Math.max(d.start,r||0),this.config.lowLatencyMode&&o){var b=o.partList;if(b&&u){r>d.end&&o.fragmentHint&&(d=o.fragmentHint);var O=this.getNextPart(b,d,r);if(O>-1){var k=b[O];return this.log("Loading part sn: "+d.sn+" p: "+k.index+" cc: "+d.cc+" of playlist ["+o.startSN+"-"+o.endSN+"] parts [0-"+O+"-"+(b.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+d.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=k.start+k.duration,this.state=x.FRAG_LOADING,this.hls.trigger(V.Events.FRAG_LOADING,{frag:d,part:b[O],targetBufferTime:r}),this.doFragPartsLoad(d,b,O,u).catch(function(_){return c.handleFragLoadError(_)})}if(!d.url||this.loadedEndOfParts(b,r))return Promise.resolve(null)}}return this.log("Loading fragment "+d.sn+" cc: "+d.cc+" "+(o?"of ["+o.startSN+"-"+o.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+d.level+", target: "+parseFloat(r.toFixed(3))),Object(St.isFiniteNumber)(d.sn)&&!this.bitrateTest&&(this.nextLoadPosition=d.start+d.duration),this.state=x.FRAG_LOADING,this.hls.trigger(V.Events.FRAG_LOADING,{frag:d,targetBufferTime:r}),this.fragmentLoader.load(d,u).catch(function(_){return c.handleFragLoadError(_)})},h.doFragPartsLoad=function(d,o,r,u){var c=this;return new Promise(function(b,O){var k=[];!function A(B){var m=o[B];c.fragmentLoader.loadPart(d,m,u).then(function(T){k[m.index]=T;var R=T.part;c.hls.trigger(V.Events.FRAG_LOADED,T);var j=o[B+1];if(!j||j.fragment!==d)return b({frag:d,part:R,partsLoaded:k});A(B+1)}).catch(O)}(r)})},h.handleFragLoadError=function(d){var o=d.data;return o&&o.details===Q.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(o.frag,o.part):this.hls.trigger(V.Events.ERROR,o),null},h._handleTransmuxerFlush=function(d){var o=this.getCurrentContext(d);if(o&&this.state===x.PARSING){var r=o.frag,u=o.part,c=o.level,b=self.performance.now();r.stats.parsing.end=b,u&&(u.stats.parsing.end=b),this.updateLevelTiming(r,u,c,d.partial)}else this.fragCurrent||(this.state=x.IDLE)},h.getCurrentContext=function(d){var o=this.levels,r=d.level,u=d.sn,c=d.part;if(!o||!o[r])return this.warn("Levels object was unset while buffering fragment "+u+" of level "+r+". The current chunk will not be buffered."),null;var b=o[r],O=c>-1?Object(P.getPartWith)(b,u,c):null,k=O?O.fragment:Object(P.getFragmentWithSN)(b,u,this.fragCurrent);return k?{frag:k,part:O,level:b}:null},h.bufferFragmentData=function(d,o,r,u){if(d&&this.state===x.PARSING){var c=d.data1,b=d.data2,O=c;c&&b&&(O=Object(Y.appendUint8Array)(c,b)),O&&O.length&&(this.hls.trigger(V.Events.BUFFER_APPENDING,{type:d.type,frag:o,part:r,chunkMeta:u,parent:o.type,data:O}),d.dropped&&d.independent&&!r&&this.flushBufferGap(o))}},h.flushBufferGap=function(d){var o=this.media;if(o){if(!H.BufferHelper.isBuffered(o,o.currentTime))return void this.flushMainBuffer(0,d.start);var r=o.currentTime,u=H.BufferHelper.bufferInfo(o,r,0),b=Math.min(2*this.config.maxFragLookUpTolerance,.25*d.duration),O=Math.max(Math.min(d.start-b,u.end-b),r+b);d.start-O>b&&this.flushMainBuffer(O,d.start)}},h.getFwdBufferInfo=function(d,o){var r=this.config,u=this.getLoadPosition();if(!Object(St.isFiniteNumber)(u))return null;var c=H.BufferHelper.bufferInfo(d,u,r.maxBufferHole);if(0===c.len&&void 0!==c.nextStart){var b=this.fragmentTracker.getBufferedFrag(u,o);if(b&&c.nextStart<b.end)return H.BufferHelper.bufferInfo(d,u,Math.max(c.nextStart,r.maxBufferHole))}return c},h.getMaxBufferLength=function(d){var r,o=this.config;return r=d?Math.max(8*o.maxBufferSize/d,o.maxBufferLength):o.maxBufferLength,Math.min(r,o.maxMaxBufferLength)},h.reduceMaxBufferLength=function(d){var o=this.config;return o.maxMaxBufferLength>=(d||o.maxBufferLength)&&(o.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+o.maxMaxBufferLength+"s"),!0)},h.getNextFragment=function(d,o){var r,u,c=o.fragments,b=c.length;if(!b)return null;var _,O=this.config,k=c[0].start;if(o.live){var A=O.initialLiveManifestSize;if(b<A)return this.warn("Not enough fragments to start playback (have: "+b+", need: "+A+")"),null;!o.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(_=this.getInitialLiveFragment(o,c),this.startPosition=_?this.hls.liveSyncPosition||_.start:d)}else d<=k&&(_=c[0]);return _||(_=this.getFragmentAtPosition(d,O.lowLatencyMode?o.partEnd:o.fragmentEnd,o)),null!==(r=_)&&void 0!==r&&r.initSegment&&!(null!==(u=_)&&void 0!==u&&u.initSegment.data)&&!this.bitrateTest&&(_=_.initSegment),_},h.getNextPart=function(d,o,r){for(var u=-1,c=!1,b=!0,O=0,k=d.length;O<k;O++){var _=d[O];if(b=b&&!_.independent,u>-1&&r<_.start)break;var A=_.loaded;!A&&(c||_.independent||b)&&_.fragment===o&&(u=O),c=A}return u},h.loadedEndOfParts=function(d,o){var r=d[d.length-1];return r&&o>r.start&&r.loaded},h.getInitialLiveFragment=function(d,o){var r=this.fragPrevious,u=null;if(r){if(d.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),u=Object(I.findFragmentByPDT)(o,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!u){var c=r.sn+1;if(c>=d.startSN&&c<=d.endSN){var b=o[c-d.startSN];r.cc===b.cc&&this.log("Live playlist, switching playlist, load frag with next SN: "+(u=b).sn)}u||(u=Object(I.findFragWithCC)(o,r.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+u.sn)}}else{var O=this.hls.liveSyncPosition;null!==O&&(u=this.getFragmentAtPosition(O,this.bitrateTest?d.fragmentEnd:d.edge,d))}return u},h.getFragmentAtPosition=function(d,o,r){var B,u=this.config,c=this.fragPrevious,b=r.fragments,O=r.endSN,k=r.fragmentHint,_=u.maxFragLookUpTolerance,A=!!(u.lowLatencyMode&&r.partList&&k);if(A&&k&&!this.bitrateTest&&(b=b.concat(k),O=k.sn),d<o){var m=d>o-_?0:_;B=Object(I.findFragmentByPTS)(c,b,d,m)}else B=b[b.length-1];if(B){var T=B.sn-r.startSN,R=c&&B.level===c.level,j=b[T+1];if(this.fragmentTracker.getState(B)===F.FragmentState.BACKTRACKED){B=null;for(var $=T;b[$]&&this.fragmentTracker.getState(b[$])===F.FragmentState.BACKTRACKED;)B=c?b[$--]:b[--$];B||(B=j)}else c&&B.sn===c.sn&&!A&&R&&(B.sn<O&&this.fragmentTracker.getState(j)!==F.FragmentState.OK?(this.log("SN "+B.sn+" just loaded, load next one: "+j.sn),B=j):B=null)}return B},h.synchronizeToLiveEdge=function(d){var o=this.config,r=this.media;if(r){var u=this.hls.liveSyncPosition,c=r.currentTime,O=d.edge,k=c>=d.fragments[0].start-o.maxFragLookUpTolerance&&c<=O;null!==u&&r.duration>u&&(c<u||!k)&&(!k&&r.readyState<4||c<O-(void 0!==o.liveMaxLatencyDuration?o.liveMaxLatencyDuration:o.liveMaxLatencyDurationCount*d.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=u),r.readyState&&(this.warn("Playback: "+c.toFixed(3)+" is located too far from the end of live sliding playlist: "+O+", reset currentTime to : "+u.toFixed(3)),r.currentTime=u))}},h.alignPlaylists=function(d,o){var u=this.levelLastLoaded,c=this.fragPrevious,b=null!==u?this.levels[u]:null,O=d.fragments.length;if(!O)return this.warn("No fragments in live playlist"),0;var k=d.fragments[0].start,_=!o,A=d.alignedSliding&&Object(St.isFiniteNumber)(k);if(_||!A&&!k){Object(z.alignStream)(c,b,d);var B=d.fragments[0].start;return this.log("Live playlist sliding: "+B.toFixed(2)+" start-sn: "+(o?o.startSN:"na")+"->"+d.startSN+" prev-sn: "+(c?c.sn:"na")+" fragments: "+O),B}return k},h.waitForCdnTuneIn=function(d){return d.live&&d.canBlockReload&&d.tuneInGoal>Math.max(d.partHoldBack,3*d.partTarget)},h.setStartPosition=function(d,o){var r=this.startPosition;if(r<o&&(r=-1),-1===r||-1===this.lastCurrentTime){var u=d.startTimeOffset;Object(St.isFiniteNumber)(u)?(r=o+u,u<0&&(r+=d.totalduration),r=Math.min(Math.max(o,r),o+d.totalduration),this.log("Start time offset "+u+" found in playlist, adjust startPosition to "+r),this.startPosition=r):d.live?r=this.hls.liveSyncPosition||o:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},h.getLoadPosition=function(){var d=this.media,o=0;return this.loadedmetadata&&d?o=d.currentTime:this.nextLoadPosition&&(o=this.nextLoadPosition),o},h.handleFragLoadAborted=function(d,o){this.transmuxer&&"initSegment"!==d.sn&&d.stats.aborted&&(this.warn("Fragment "+d.sn+(o?" part"+o.index:"")+" of level "+d.level+" was aborted"),this.resetFragmentLoading(d))},h.resetFragmentLoading=function(d){(!this.fragCurrent||!this.fragContextChanged(d))&&(this.state=x.IDLE)},h.onFragmentOrKeyLoadError=function(d,o){if(!o.fatal){var r=o.frag;if(r&&r.type===d){var u=this.fragCurrent;console.assert(u&&r.sn===u.sn&&r.level===u.level&&r.urlId===u.urlId,"Frag load error must match current frag to retry");var c=this.config;if(this.fragLoadError+1<=c.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(r.level))return;var b=Math.min(Math.pow(2,this.fragLoadError)*c.fragLoadingRetryDelay,c.fragLoadingMaxRetryTimeout);this.warn("Fragment "+r.sn+" of "+d+" "+r.level+" failed to load, retrying in "+b+"ms"),this.retryDate=self.performance.now()+b,this.fragLoadError++,this.state=x.FRAG_LOADING_WAITING_RETRY}else o.levelRetry?(d===l.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=x.IDLE):(K.logger.error(o.details+" reaches max retry, redispatch as fatal ..."),o.fatal=!0,this.hls.stopLoad(),this.state=x.ERROR)}}},h.afterBufferFlushed=function(d,o,r){if(d){var u=H.BufferHelper.getBuffered(d);this.fragmentTracker.detectEvictedFragments(o,u,r),this.state===x.ENDED&&this.resetLoadingState()}},h.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=x.IDLE},h.resetLiveStartWhenNotLoaded=function(d){if(!this.loadedmetadata){this.startFragRequested=!1;var o=this.levels?this.levels[d].details:null;if(null!=o&&o.live)return this.startPosition=-1,this.setStartPosition(o,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},h.updateLevelTiming=function(d,o,r,u){var c=this,b=r.details;console.assert(!!b,"level.details must be defined"),Object.keys(d.elementaryStreams).reduce(function(k,_){var A=d.elementaryStreams[_];if(A){var B=A.endPTS-A.startPTS;if(B<=0)return c.warn("Could not parse fragment "+d.sn+" "+_+" duration reliably ("+B+") resetting transmuxer to fallback to playlist timing"),c.resetTransmuxer(),k||!1;var m=u?0:Object(P.updateFragPTSDTS)(b,d,A.startPTS,A.endPTS,A.startDTS,A.endDTS);return c.hls.trigger(V.Events.LEVEL_PTS_UPDATED,{details:b,level:r,drift:m,type:_,frag:d,start:A.startPTS,end:A.endPTS}),!0}return k},!1)?(this.state=x.PARSED,this.hls.trigger(V.Events.FRAG_PARSED,{frag:d,part:o})):this.resetLoadingState()},h.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},function v(p,a,h){return a&&g(p.prototype,a),h&&g(p,h),p}(a,[{key:"state",get:function(){return this._state},set:function(d){var o=this._state;o!==d&&(this._state=d,this.log(o+"->"+d))}}]),a}(lt.default)},"./src/controller/buffer-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return I});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/events.ts"),F=ft("./src/utils/logger.ts"),H=ft("./src/errors.ts"),K=ft("./src/utils/buffer-helper.ts"),V=ft("./src/utils/mediasource-helper.ts"),Q=ft("./src/loader/fragment.ts"),W=ft("./src/controller/buffer-operation-queue.ts"),Y=Object(V.getMediaSource)(),z=/([ha]vc.)(?:\.[^.,]+)+/,I=function(){function P(E){var s=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var l=s.hls,g=s.media,v=s.mediaSource;F.logger.log("[buffer-controller]: Media source opened"),g&&(s.updateMediaElementDuration(),l.trigger(lt.Events.MEDIA_ATTACHED,{media:g})),v&&v.removeEventListener("sourceopen",s._onMediaSourceOpen),s.checkPendingTracks()},this._onMediaSourceClose=function(){F.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){F.logger.log("[buffer-controller]: Media source ended")},this.hls=E,this._initSourceBuffer(),this.registerListeners()}var w=P.prototype;return w.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},w.destroy=function(){this.unregisterListeners(),this.details=null},w.registerListeners=function(){var s=this.hls;s.on(lt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),s.on(lt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(lt.Events.MANIFEST_PARSED,this.onManifestParsed,this),s.on(lt.Events.BUFFER_RESET,this.onBufferReset,this),s.on(lt.Events.BUFFER_APPENDING,this.onBufferAppending,this),s.on(lt.Events.BUFFER_CODECS,this.onBufferCodecs,this),s.on(lt.Events.BUFFER_EOS,this.onBufferEos,this),s.on(lt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),s.on(lt.Events.LEVEL_UPDATED,this.onLevelUpdated,this),s.on(lt.Events.FRAG_PARSED,this.onFragParsed,this),s.on(lt.Events.FRAG_CHANGED,this.onFragChanged,this)},w.unregisterListeners=function(){var s=this.hls;s.off(lt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),s.off(lt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(lt.Events.MANIFEST_PARSED,this.onManifestParsed,this),s.off(lt.Events.BUFFER_RESET,this.onBufferReset,this),s.off(lt.Events.BUFFER_APPENDING,this.onBufferAppending,this),s.off(lt.Events.BUFFER_CODECS,this.onBufferCodecs,this),s.off(lt.Events.BUFFER_EOS,this.onBufferEos,this),s.off(lt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),s.off(lt.Events.LEVEL_UPDATED,this.onLevelUpdated,this),s.off(lt.Events.FRAG_PARSED,this.onFragParsed,this),s.off(lt.Events.FRAG_CHANGED,this.onFragChanged,this)},w._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new W.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},w.onManifestParsed=function(s,l){var g=2;(l.audio&&!l.video||!l.altAudio)&&(g=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=g,this.details=null,F.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},w.onMediaAttaching=function(s,l){var g=this.media=l.media;if(g&&Y){var v=this.mediaSource=new Y;v.addEventListener("sourceopen",this._onMediaSourceOpen),v.addEventListener("sourceended",this._onMediaSourceEnded),v.addEventListener("sourceclose",this._onMediaSourceClose),g.src=self.URL.createObjectURL(v),this._objectUrl=g.src}},w.onMediaDetaching=function(){var s=this.media,l=this.mediaSource,g=this._objectUrl;if(l){if(F.logger.log("[buffer-controller]: media source detaching"),"open"===l.readyState)try{l.endOfStream()}catch(v){F.logger.warn("[buffer-controller]: onMediaDetaching: "+v.message+" while calling endOfStream")}this.onBufferReset(),l.removeEventListener("sourceopen",this._onMediaSourceOpen),l.removeEventListener("sourceended",this._onMediaSourceEnded),l.removeEventListener("sourceclose",this._onMediaSourceClose),s&&(g&&self.URL.revokeObjectURL(g),s.src===g?(s.removeAttribute("src"),s.load()):F.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(lt.Events.MEDIA_DETACHED,void 0)},w.onBufferReset=function(){var s=this;this.getSourceBufferTypes().forEach(function(l){var g=s.sourceBuffer[l];try{g&&(s.removeBufferListeners(l),s.mediaSource&&s.mediaSource.removeSourceBuffer(g),s.sourceBuffer[l]=void 0)}catch(v){F.logger.warn("[buffer-controller]: Failed to reset the "+l+" buffer",v)}}),this._initSourceBuffer()},w.onBufferCodecs=function(s,l){var g=this,v=this.getSourceBufferTypes().length;Object.keys(l).forEach(function(S){if(v){var f=g.tracks[S];if(f&&"function"==typeof f.buffer.changeType){var C=l[S],x=C.codec,M=C.levelCodec,p=C.container;(f.levelCodec||f.codec).replace(z,"$1")!==(M||x).replace(z,"$1")&&g.appendChangeType(S,p+";codecs="+(M||x))}}else g.pendingTracks[S]=l[S]}),!v&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},w.appendChangeType=function(s,l){var g=this,v=this.operationQueue,S={execute:function(){var C=g.sourceBuffer[s];C&&(F.logger.log("[buffer-controller]: changing "+s+" sourceBuffer type to "+l),C.changeType(l)),v.shiftAndExecuteNext(s)},onStart:function(){},onComplete:function(){},onError:function(C){F.logger.warn("[buffer-controller]: Failed to change "+s+" SourceBuffer type",C)}};v.append(S,s)},w.onBufferAppending=function(s,l){var g=this,v=this.hls,S=this.operationQueue,f=this.tracks,C=l.data,x=l.type,M=l.frag,p=l.part,a=l.chunkMeta,h=a.buffering[x],n=self.performance.now();h.start=n;var d=M.stats.buffering,o=p?p.stats.buffering:null;0===d.start&&(d.start=n),o&&0===o.start&&(o.start=n);var r=f.audio,u="audio"===x&&1===a.id&&"audio/mpeg"===(null==r?void 0:r.container);S.append({execute:function(){if(h.executeStart=self.performance.now(),u){var O=g.sourceBuffer[x];if(O){var k=M.start-O.timestampOffset;Math.abs(k)>=.1&&(F.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+M.start+" (delta: "+k+") sn: "+M.sn+")"),O.timestampOffset=M.start)}}g.appendExecutor(C,x)},onStart:function(){},onComplete:function(){var O=self.performance.now();h.executeEnd=h.end=O,0===d.first&&(d.first=O),o&&0===o.first&&(o.first=O);var k=g.sourceBuffer,_={};for(var A in k)_[A]=K.BufferHelper.getBuffered(k[A]);g.appendError=0,g.hls.trigger(lt.Events.BUFFER_APPENDED,{type:x,frag:M,part:p,chunkMeta:a,parent:M.type,timeRanges:_})},onError:function(O){F.logger.error("[buffer-controller]: Error encountered while trying to append to the "+x+" SourceBuffer",O);var k={type:H.ErrorTypes.MEDIA_ERROR,parent:M.type,details:H.ErrorDetails.BUFFER_APPEND_ERROR,err:O,fatal:!1};O.code===DOMException.QUOTA_EXCEEDED_ERR?k.details=H.ErrorDetails.BUFFER_FULL_ERROR:(g.appendError++,k.details=H.ErrorDetails.BUFFER_APPEND_ERROR,g.appendError>v.config.appendErrorMaxRetry&&(F.logger.error("[buffer-controller]: Failed "+v.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),k.fatal=!0)),v.trigger(lt.Events.ERROR,k)}},x)},w.onBufferFlushing=function(s,l){var g=this,v=this.operationQueue,S=function(C){return{execute:g.removeExecutor.bind(g,C,l.startOffset,l.endOffset),onStart:function(){},onComplete:function(){g.hls.trigger(lt.Events.BUFFER_FLUSHED,{type:C})},onError:function(M){F.logger.warn("[buffer-controller]: Failed to remove from "+C+" SourceBuffer",M)}}};l.type?v.append(S(l.type),l.type):this.getSourceBufferTypes().forEach(function(f){v.append(S(f),f)})},w.onFragParsed=function(s,l){var g=this,v=l.frag,S=l.part,f=[],C=S?S.elementaryStreams:v.elementaryStreams;C[Q.ElementaryStreamTypes.AUDIOVIDEO]?f.push("audiovideo"):(C[Q.ElementaryStreamTypes.AUDIO]&&f.push("audio"),C[Q.ElementaryStreamTypes.VIDEO]&&f.push("video"));0===f.length&&F.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+v.type+" level: "+v.level+" sn: "+v.sn),this.blockBuffers(function(){var p=self.performance.now();v.stats.buffering.end=p,S&&(S.stats.buffering.end=p),g.hls.trigger(lt.Events.FRAG_BUFFERED,{frag:v,part:S,stats:S?S.stats:v.stats,id:v.type})},f)},w.onFragChanged=function(s,l){this.flushBackBuffer()},w.onBufferEos=function(s,l){var g=this;this.getSourceBufferTypes().reduce(function(S,f){var C=g.sourceBuffer[f];return(!l.type||l.type===f)&&C&&!C.ended&&(C.ended=!0,F.logger.log("[buffer-controller]: "+f+" sourceBuffer now EOS")),S&&!(C&&!C.ended)},!0)&&this.blockBuffers(function(){var S=g.mediaSource;!S||"open"!==S.readyState||S.endOfStream()})},w.onLevelUpdated=function(s,l){var g=l.details;!g.fragments.length||(this.details=g,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},w.flushBackBuffer=function(){var s=this.hls,l=this.details,g=this.media,v=this.sourceBuffer;if(g&&null!==l){var S=this.getSourceBufferTypes();if(S.length){var f=l.live&&null!==s.config.liveBackBufferLength?s.config.liveBackBufferLength:s.config.backBufferLength;if(Object(St.isFiniteNumber)(f)&&!(f<0)){var C=g.currentTime,x=l.levelTargetDuration,M=Math.max(f,x),p=Math.floor(C/x)*x-M;S.forEach(function(a){var h=v[a];if(h){var n=K.BufferHelper.getBuffered(h);n.length>0&&p>n.start(0)&&(s.trigger(lt.Events.BACK_BUFFER_REACHED,{bufferEnd:p}),l.live&&s.trigger(lt.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:p}),s.trigger(lt.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:p,type:a}))}})}}}},w.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var s=this.details,l=this.hls,v=this.mediaSource,S=s.fragments[0].start+s.totalduration,f=this.media.duration,C=Object(St.isFiniteNumber)(v.duration)?v.duration:0;s.live&&l.config.liveDurationInfinity?(F.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),v.duration=1/0,this.updateSeekableRange(s)):(S>C&&S>f||!Object(St.isFiniteNumber)(f))&&(F.logger.log("[buffer-controller]: Updating Media Source duration to "+S.toFixed(3)),v.duration=S)}},w.updateSeekableRange=function(s){var l=this.mediaSource,g=s.fragments;if(g.length&&s.live&&null!=l&&l.setLiveSeekableRange){var S=Math.max(0,g[0].start),f=Math.max(S,S+s.totalduration);l.setLiveSeekableRange(S,f)}},w.checkPendingTracks=function(){var s=this.bufferCodecEventsExpected,l=this.operationQueue,g=this.pendingTracks,v=Object.keys(g).length;if(v&&!s||2===v){this.createSourceBuffers(g),this.pendingTracks={};var S=this.getSourceBufferTypes();if(0===S.length)return void this.hls.trigger(lt.Events.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});S.forEach(function(f){l.executeNext(f)})}},w.createSourceBuffers=function(s){var l=this.sourceBuffer,g=this.mediaSource;if(!g)throw Error("createSourceBuffers called when mediaSource was null");var v=0;for(var S in s)if(!l[S]){var f=s[S];if(!f)throw Error("source buffer exists for track "+S+", however track does not");var C=f.levelCodec||f.codec,x=f.container+";codecs="+C;F.logger.log("[buffer-controller]: creating sourceBuffer("+x+")");try{var M=l[S]=g.addSourceBuffer(x),p=S;this.addBufferListener(p,"updatestart",this._onSBUpdateStart),this.addBufferListener(p,"updateend",this._onSBUpdateEnd),this.addBufferListener(p,"error",this._onSBUpdateError),this.tracks[S]={buffer:M,codec:C,container:f.container,levelCodec:f.levelCodec,id:f.id},v++}catch(a){F.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+a.message),this.hls.trigger(lt.Events.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:a,mimeType:x})}}v&&this.hls.trigger(lt.Events.BUFFER_CREATED,{tracks:this.tracks})},w._onSBUpdateStart=function(s){this.operationQueue.current(s).onStart()},w._onSBUpdateEnd=function(s){var l=this.operationQueue;l.current(s).onComplete(),l.shiftAndExecuteNext(s)},w._onSBUpdateError=function(s,l){F.logger.error("[buffer-controller]: "+s+" SourceBuffer error",l),this.hls.trigger(lt.Events.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var g=this.operationQueue.current(s);g&&g.onError(l)},w.removeExecutor=function(s,l,g){var v=this.media,S=this.mediaSource,f=this.operationQueue,x=this.sourceBuffer[s];if(!v||!S||!x)return F.logger.warn("[buffer-controller]: Attempting to remove from the "+s+" SourceBuffer, but it does not exist"),void f.shiftAndExecuteNext(s);var M=Object(St.isFiniteNumber)(v.duration)?v.duration:1/0,p=Object(St.isFiniteNumber)(S.duration)?S.duration:1/0,a=Math.max(0,l),h=Math.min(g,M,p);h>a?(F.logger.log("[buffer-controller]: Removing ["+a+","+h+"] from the "+s+" SourceBuffer"),console.assert(!x.updating,s+" sourceBuffer must not be updating"),x.remove(a,h)):f.shiftAndExecuteNext(s)},w.appendExecutor=function(s,l){var g=this.operationQueue,S=this.sourceBuffer[l];if(!S)return F.logger.warn("[buffer-controller]: Attempting to append to the "+l+" SourceBuffer, but it does not exist"),void g.shiftAndExecuteNext(l);S.ended=!1,console.assert(!S.updating,l+" sourceBuffer must not be updating"),S.appendBuffer(s)},w.blockBuffers=function(s,l){var g=this;if(void 0===l&&(l=this.getSourceBufferTypes()),!l.length)return F.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(s);var v=this.operationQueue,S=l.map(function(f){return v.appendBlocker(f)});Promise.all(S).then(function(){s(),l.forEach(function(f){var C=g.sourceBuffer[f];(!C||!C.updating)&&v.shiftAndExecuteNext(f)})})},w.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},w.addBufferListener=function(s,l,g){var v=this.sourceBuffer[s];if(v){var S=g.bind(this,s);this.listeners[s].push({event:l,listener:S}),v.addEventListener(l,S)}},w.removeBufferListeners=function(s){var l=this.sourceBuffer[s];!l||this.listeners[s].forEach(function(g){l.removeEventListener(g.event,g.listener)})},P}()},"./src/controller/buffer-operation-queue.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return lt});var St=ft("./src/utils/logger.ts"),lt=function(){function F(K){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=K}var H=F.prototype;return H.append=function(V,Q){var W=this.queues[Q];W.push(V),1===W.length&&this.buffers[Q]&&this.executeNext(Q)},H.insertAbort=function(V,Q){this.queues[Q].unshift(V),this.executeNext(Q)},H.appendBlocker=function(V){var Q,W=new Promise(function(z){Q=z});return this.append({execute:Q,onStart:function(){},onComplete:function(){},onError:function(){}},V),W},H.executeNext=function(V){var Y=this.buffers[V],z=this.queues[V];if(z.length){var I=z[0];try{I.execute()}catch(P){St.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),I.onError(P),(!Y||!Y.updating)&&(z.shift(),this.executeNext(V))}}},H.shiftAndExecuteNext=function(V){this.queues[V].shift(),this.executeNext(V)},H.current=function(V){return this.queues[V][0]},F}()},"./src/controller/cap-level-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/events.ts");function lt(K,V){for(var Q=0;Q<V.length;Q++){var W=V[Q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(K,W.key,W)}}Mt.default=function(){function K(Q){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=Q,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var V=K.prototype;return V.setStreamController=function(W){this.streamController=W},V.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},V.registerListeners=function(){var W=this.hls;W.on(St.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),W.on(St.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),W.on(St.Events.MANIFEST_PARSED,this.onManifestParsed,this),W.on(St.Events.BUFFER_CODECS,this.onBufferCodecs,this),W.on(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},V.unregisterListener=function(){var W=this.hls;W.off(St.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),W.off(St.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),W.off(St.Events.MANIFEST_PARSED,this.onManifestParsed,this),W.off(St.Events.BUFFER_CODECS,this.onBufferCodecs,this),W.off(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},V.onFpsDropLevelCapping=function(W,Y){K.isLevelAllowed(Y.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(Y.droppedLevel)},V.onMediaAttaching=function(W,Y){this.media=Y.media instanceof HTMLVideoElement?Y.media:null},V.onManifestParsed=function(W,Y){var z=this.hls;this.restrictedLevels=[],this.firstLevel=Y.firstLevel,z.config.capLevelToPlayerSize&&Y.video&&this.startCapping()},V.onBufferCodecs=function(W,Y){this.hls.config.capLevelToPlayerSize&&Y.video&&this.startCapping()},V.onMediaDetaching=function(){this.stopCapping()},V.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var W=this.hls.levels;if(W.length){var Y=this.hls;Y.autoLevelCapping=this.getMaxLevel(W.length-1),Y.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=Y.autoLevelCapping}}},V.getMaxLevel=function(W){var Y=this,z=this.hls.levels;if(!z.length)return-1;var I=z.filter(function(P,w){return K.isLevelAllowed(w,Y.restrictedLevels)&&w<=W});return this.clientRect=null,K.getMaxLevelByMediaSize(I,this.mediaWidth,this.mediaHeight)},V.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},V.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},V.getDimensions=function(){if(this.clientRect)return this.clientRect;var W=this.media,Y={width:0,height:0};if(W){var z=W.getBoundingClientRect();Y.width=z.width,Y.height=z.height,!Y.width&&!Y.height&&(Y.width=z.right-z.left||W.width||0,Y.height=z.bottom-z.top||W.height||0)}return this.clientRect=Y,Y},K.isLevelAllowed=function(W,Y){return void 0===Y&&(Y=[]),-1===Y.indexOf(W)},K.getMaxLevelByMediaSize=function(W,Y,z){if(!W||!W.length)return-1;for(var P=W.length-1,w=0;w<W.length;w+=1){var E=W[w];if((E.width>=Y||E.height>=z)&&(l=E,!(g=W[w+1])||l.width!==g.width||l.height!==g.height)){P=w;break}}var l,g;return P},function F(K,V,Q){return V&&lt(K.prototype,V),Q&&lt(K,Q),K}(K,[{key:"mediaWidth",get:function(){return this.getDimensions().width*K.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*K.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var W=1;try{W=self.devicePixelRatio}catch(Y){}return W}}]),K}()},"./src/controller/cmcd-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return I});var St=ft("./src/events.ts"),lt=ft("./src/types/cmcd.ts"),F=ft("./src/utils/buffer-helper.ts"),H=ft("./src/utils/logger.ts");function K(P,w){for(var E=0;E<w.length;E++){var s=w[E];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(P,s.key,s)}}function V(P,w,E){return w&&K(P.prototype,w),E&&K(P,E),P}function Q(P,w){var E="undefined"!=typeof Symbol&&P[Symbol.iterator]||P["@@iterator"];if(E)return(E=E.call(P)).next.bind(E);if(Array.isArray(P)||(E=function W(P,w){if(P){if("string"==typeof P)return Y(P,w);var E=Object.prototype.toString.call(P).slice(8,-1);if("Object"===E&&P.constructor&&(E=P.constructor.name),"Map"===E||"Set"===E)return Array.from(P);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Y(P,w)}}(P))||w&&P&&"number"==typeof P.length){E&&(P=E);var s=0;return function(){return s>=P.length?{done:!0}:{done:!1,value:P[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(P,w){(null==w||w>P.length)&&(w=P.length);for(var E=0,s=new Array(w);E<w;E++)s[E]=P[E];return s}function z(){return z=Object.assign||function(P){for(var w=1;w<arguments.length;w++){var E=arguments[w];for(var s in E)Object.prototype.hasOwnProperty.call(E,s)&&(P[s]=E[s])}return P},z.apply(this,arguments)}var I=function(){function P(E){var s=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){s.initialized&&(s.starved=!0),s.buffering=!0},this.onPlaying=function(){s.initialized||(s.initialized=!0),s.buffering=!1},this.applyPlaylistData=function(v){try{s.apply(v,{ot:lt.CMCDObjectType.MANIFEST,su:!s.initialized})}catch(S){H.logger.warn("Could not generate manifest CMCD data.",S)}},this.applyFragmentData=function(v){try{var S=v.frag,f=s.hls.levels[S.level],C=s.getObjectType(S),x={d:1e3*S.duration,ot:C};(C===lt.CMCDObjectType.VIDEO||C===lt.CMCDObjectType.AUDIO||C==lt.CMCDObjectType.MUXED)&&(x.br=f.bitrate/1e3,x.tb=s.getTopBandwidth(C)/1e3,x.bl=s.getBufferLength(C)),s.apply(v,x)}catch(M){H.logger.warn("Could not generate segment CMCD data.",M)}},this.hls=E;var l=this.config=E.config,g=l.cmcd;null!=g&&(l.pLoader=this.createPlaylistLoader(),l.fLoader=this.createFragmentLoader(),this.sid=g.sessionId||P.uuid(),this.cid=g.contentId,this.useHeaders=!0===g.useHeaders,this.registerListeners())}var w=P.prototype;return w.registerListeners=function(){var s=this.hls;s.on(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(St.Events.MEDIA_DETACHED,this.onMediaDetached,this),s.on(St.Events.BUFFER_CREATED,this.onBufferCreated,this)},w.unregisterListeners=function(){var s=this.hls;s.off(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(St.Events.MEDIA_DETACHED,this.onMediaDetached,this),s.off(St.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},w.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},w.onMediaAttached=function(s,l){this.media=l.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},w.onMediaDetached=function(){!this.media||(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},w.onBufferCreated=function(s,l){var g,v;this.audioBuffer=null===(g=l.tracks.audio)||void 0===g?void 0:g.buffer,this.videoBuffer=null===(v=l.tracks.video)||void 0===v?void 0:v.buffer},w.createData=function(){var s;return{v:lt.CMCDVersion,sf:lt.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(s=this.media)||void 0===s?void 0:s.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},w.apply=function(s,l){if(void 0===l&&(l={}),z(l,this.createData()),this.starved&&(l.ot===lt.CMCDObjectType.INIT||l.ot===lt.CMCDObjectType.VIDEO||l.ot===lt.CMCDObjectType.MUXED)&&(l.bs=!0,l.su=!0,this.starved=!1),null==l.su&&(l.su=this.buffering),this.useHeaders){var v=P.toHeaders(l);if(!Object.keys(v).length)return;s.headers||(s.headers={}),z(s.headers,v)}else{var S=P.toQuery(l);if(!S)return;s.url=P.appendQueryToUri(s.url,S)}},w.getObjectType=function(s){var l=s.type;return"subtitle"===l?lt.CMCDObjectType.TIMED_TEXT:"initSegment"===s.sn?lt.CMCDObjectType.INIT:"audio"===l?lt.CMCDObjectType.AUDIO:"main"===l?this.hls.audioTracks.length?lt.CMCDObjectType.VIDEO:lt.CMCDObjectType.MUXED:void 0},w.getTopBandwidth=function(s){var g,l=0,v=this.hls;if(s===lt.CMCDObjectType.AUDIO)g=v.audioTracks;else{var S=v.maxAutoLevel;g=v.levels.slice(0,S>-1?S+1:v.levels.length)}for(var x,C=Q(g);!(x=C()).done;){var M=x.value;M.bitrate>l&&(l=M.bitrate)}return l>0?l:NaN},w.getBufferLength=function(s){var l=this.hls.media,g=s===lt.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return g&&l?1e3*F.BufferHelper.bufferInfo(g,l.currentTime,this.config.maxBufferHole).len:NaN},w.createPlaylistLoader=function(){var l=this.applyPlaylistData,g=this.config.pLoader||this.config.loader;return function(){function v(f){this.loader=void 0,this.loader=new g(f)}var S=v.prototype;return S.destroy=function(){this.loader.destroy()},S.abort=function(){this.loader.abort()},S.load=function(C,x,M){l(C),this.loader.load(C,x,M)},V(v,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),v}()},w.createFragmentLoader=function(){var l=this.applyFragmentData,g=this.config.fLoader||this.config.loader;return function(){function v(f){this.loader=void 0,this.loader=new g(f)}var S=v.prototype;return S.destroy=function(){this.loader.destroy()},S.abort=function(){this.loader.abort()},S.load=function(C,x,M){l(C),this.loader.load(C,x,M)},V(v,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),v}()},P.uuid=function(){var s=URL.createObjectURL(new Blob),l=s.toString();return URL.revokeObjectURL(s),l.substr(l.lastIndexOf("/")+1)},P.serialize=function(s){for(var p,l=[],v=function(u){return Math.round(u)},S=function(u){return 100*v(u/100)},C={br:v,d:v,bl:S,dl:S,mtp:S,nor:function(u){return encodeURIComponent(u)},rtp:S,tb:v},M=Q(Object.keys(s||{}).sort());!(p=M()).done;){var a=p.value,h=s[a];if(!(u=h,Number.isNaN(u)||null==u||""===u||!1===u||"v"===a&&1===h||"pr"==a&&1===h)){var n=C[a];n&&(h=n(h));var o,d=typeof h;o="ot"===a||"sf"===a||"st"===a?a+"="+h:"boolean"===d?a:"number"===d?a+"="+h:a+"="+JSON.stringify(h),l.push(o)}}var u;return l.join(",")},P.toHeaders=function(s){for(var g={},v=["Object","Request","Session","Status"],S=[{},{},{},{}],f={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},C=0,x=Object.keys(s);C<x.length;C++){var M=x[C];S[null!=f[M]?f[M]:1][M]=s[M]}for(var a=0;a<S.length;a++){var h=P.serialize(S[a]);h&&(g["CMCD-"+v[a]]=h)}return g},P.toQuery=function(s){return"CMCD="+encodeURIComponent(P.serialize(s))},P.appendQueryToUri=function(s,l){if(!l)return s;var g=s.includes("?")?"&":"?";return""+s+g+l},P}()},"./src/controller/eme-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/events.ts"),lt=ft("./src/errors.ts"),F=ft("./src/utils/logger.ts"),H=ft("./src/utils/mediakeys-helper.ts");function K(I,P){for(var w=0;w<P.length;w++){var E=P[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}Mt.default=function(){function I(w){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=w,this._config=w.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var P=I.prototype;return P.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},P._registerListeners=function(){this.hls.on(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(St.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(St.Events.MANIFEST_PARSED,this.onManifestParsed,this)},P._unregisterListeners=function(){this.hls.off(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(St.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(St.Events.MANIFEST_PARSED,this.onManifestParsed,this)},P.getLicenseServerUrl=function(E){switch(E){case H.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+E+'"')},P._attemptKeySystemAccess=function(E,s,l){var g=this,v=function(P,w,E,s){if(P===H.KeySystems.WIDEVINE)return function(P,w,E){var s={audioCapabilities:[],videoCapabilities:[]};return P.forEach(function(l){s.audioCapabilities.push({contentType:'audio/mp4; codecs="'+l+'"',robustness:E.audioRobustness||""})}),w.forEach(function(l){s.videoCapabilities.push({contentType:'video/mp4; codecs="'+l+'"',robustness:E.videoRobustness||""})}),[s]}(w,E,s);throw new Error("Unknown key-system: "+P)}(E,s,l,this._drmSystemOptions);F.logger.log("Requesting encrypted media key-system access");var S=this.requestMediaKeySystemAccess(E,v);this.mediaKeysPromise=S.then(function(f){return g._onMediaKeySystemAccessObtained(E,f)}),S.catch(function(f){F.logger.error('Failed to obtain key-system "'+E+'" access:',f)})},P._onMediaKeySystemAccessObtained=function(E,s){var l=this;F.logger.log('Access for key-system "'+E+'" obtained');var g={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:s,mediaKeySystemDomain:E};this._mediaKeysList.push(g);var v=Promise.resolve().then(function(){return s.createMediaKeys()}).then(function(S){return g.mediaKeys=S,F.logger.log('Media-keys created for key-system "'+E+'"'),l._onMediaKeysCreated(),S});return v.catch(function(S){F.logger.error("Failed to create media-keys:",S)}),v},P._onMediaKeysCreated=function(){var E=this;this._mediaKeysList.forEach(function(s){s.mediaKeysSession||(s.mediaKeysSession=s.mediaKeys.createSession(),E._onNewMediaKeySession(s.mediaKeysSession))})},P._onNewMediaKeySession=function(E){var s=this;F.logger.log("New key-system session "+E.sessionId),E.addEventListener("message",function(l){s._onKeySessionMessage(E,l.message)},!1)},P._onKeySessionMessage=function(E,s){F.logger.log("Got EME message event, creating license request"),this._requestLicense(s,function(l){F.logger.log("Received license data (length: "+(l&&l.byteLength)+"), updating key-session"),E.update(l)})},P.onMediaEncrypted=function(E){var s=this;if(F.logger.log('Media is encrypted using "'+E.initDataType+'" init data type'),!this.mediaKeysPromise)return F.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var l=function(v){!s._media||(s._attemptSetMediaKeys(v),s._generateRequestWithPreferredKeySession(E.initDataType,E.initData))};this.mediaKeysPromise.then(l).catch(l)},P._attemptSetMediaKeys=function(E){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var s=this._mediaKeysList[0];if(!s||!s.mediaKeys)return F.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});F.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(s.mediaKeys),this._hasSetMediaKeys=!0}},P._generateRequestWithPreferredKeySession=function(E,s){var l=this,g=this._mediaKeysList[0];if(!g)return F.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(!g.mediaKeysSessionInitialized){var v=g.mediaKeysSession;return v?s?(F.logger.log('Generating key-session request for "'+E+'" init data type'),g.mediaKeysSessionInitialized=!0,void v.generateRequest(E,s).then(function(){F.logger.debug("Key-session generation succeeded")}).catch(function(S){F.logger.error("Error generating key-session request:",S),l.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})):(F.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0})):(F.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}))}F.logger.warn("Key-Session already initialized but requested again")},P._createLicenseXhr=function(E,s,l){var g=new XMLHttpRequest;g.responseType="arraybuffer",g.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,g,E,s,l);var v=this._licenseXhrSetup;if(v)try{v.call(this.hls,g,E),v=void 0}catch(S){F.logger.error(S)}try{g.readyState||g.open("POST",E,!0),v&&v.call(this.hls,g,E)}catch(S){throw new Error("issue setting up KeySystem license XHR "+S)}return g},P._onLicenseRequestReadyStageChange=function(E,s,l,g){if(4===E.readyState)if(200===E.status){this._requestLicenseFailureCount=0,F.logger.log("License request succeeded");var v=E.response,S=this._licenseResponseCallback;if(S)try{v=S.call(this.hls,E,s)}catch(C){F.logger.error(C)}g(v)}else{if(F.logger.error("License Request XHR failed ("+s+"). Status: "+E.status+" ("+E.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});F.logger.warn("Retrying license request, "+(3-this._requestLicenseFailureCount+1)+" attempts left"),this._requestLicense(l,g)}},P._generateLicenseRequestChallenge=function(E,s){if(E.mediaKeySystemDomain===H.KeySystems.WIDEVINE)return s;throw new Error("unsupported key-system: "+E.mediaKeySystemDomain)},P._requestLicense=function(E,s){F.logger.log("Requesting content license for key-system");var l=this._mediaKeysList[0];if(!l)return F.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var g=this.getLicenseServerUrl(l.mediaKeySystemDomain),v=this._createLicenseXhr(g,E,s);F.logger.log("Sending license request to URL: "+g);var S=this._generateLicenseRequestChallenge(l,E);v.send(S)}catch(f){F.logger.error("Failure requesting DRM license: "+f),this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.KEY_SYSTEM_ERROR,details:lt.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},P.onMediaAttached=function(E,s){if(this._emeEnabled){var l=s.media;this._media=l,l.addEventListener("encrypted",this._onMediaEncrypted)}},P.onMediaDetached=function(){var E=this._media,s=this._mediaKeysList;!E||(E.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(s.map(function(l){if(l.mediaKeysSession)return l.mediaKeysSession.close().catch(function(){})})).then(function(){return E.setMediaKeys(null)}).catch(function(){}))},P.onManifestParsed=function(E,s){if(this._emeEnabled){var l=s.levels.map(function(v){return v.audioCodec}).filter(function(v){return!!v}),g=s.levels.map(function(v){return v.videoCodec}).filter(function(v){return!!v});this._attemptKeySystemAccess(H.KeySystems.WIDEVINE,l,g)}},function V(I,P,w){return P&&K(I.prototype,P),w&&K(I,w),I}(I,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),I}()},"./src/controller/fps-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/events.ts"),lt=ft("./src/utils/logger.ts");Mt.default=function(){function H(V){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=V,this.registerListeners()}var K=H.prototype;return K.setStreamController=function(Q){this.streamController=Q},K.registerListeners=function(){this.hls.on(St.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},K.unregisterListeners=function(){this.hls.off(St.Events.MEDIA_ATTACHING,this.onMediaAttaching)},K.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},K.onMediaAttaching=function(Q,W){var Y=this.hls.config;if(Y.capLevelOnFPSDrop){var z=W.media instanceof self.HTMLVideoElement?W.media:null;this.media=z,z&&"function"==typeof z.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),Y.fpsDroppedMonitoringPeriod)}},K.checkFPS=function(Q,W,Y){var z=performance.now();if(W){if(this.lastTime){var P=Y-this.lastDroppedFrames,w=W-this.lastDecodedFrames,E=1e3*P/(z-this.lastTime),s=this.hls;if(s.trigger(St.Events.FPS_DROP,{currentDropped:P,currentDecoded:w,totalDroppedFrames:Y}),E>0&&P>s.config.fpsDroppedMonitoringThreshold*w){var l=s.currentLevel;lt.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=l)&&(s.trigger(St.Events.FPS_DROP_LEVEL_CAPPING,{level:l-=1,droppedLevel:s.currentLevel}),s.autoLevelCapping=l,this.streamController.nextLevelSwitch())}}this.lastTime=z,this.lastDroppedFrames=Y,this.lastDecodedFrames=W}},K.checkFPSInterval=function(){var Q=this.media;if(Q)if(this.isVideoPlaybackQualityAvailable){var W=Q.getVideoPlaybackQuality();this.checkFPS(Q,W.totalVideoFrames,W.droppedVideoFrames)}else this.checkFPS(Q,Q.webkitDecodedFrameCount,Q.webkitDroppedFrameCount)},H}()},"./src/controller/fragment-finders.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"findFragmentByPDT",function(){return F}),ft.d(Mt,"findFragmentByPTS",function(){return H}),ft.d(Mt,"fragmentWithinToleranceTest",function(){return K}),ft.d(Mt,"pdtWithinToleranceTest",function(){return V}),ft.d(Mt,"findFragWithCC",function(){return Q});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/utils/binary-search.ts");function F(W,Y,z){if(null===Y||!Array.isArray(W)||!W.length||!Object(St.isFiniteNumber)(Y))return null;if(Y<(W[0].programDateTime||0))return null;if(Y>=(W[W.length-1].endProgramDateTime||0))return null;z=z||0;for(var w=0;w<W.length;++w){var E=W[w];if(V(Y,z,E))return E}return null}function H(W,Y,z,I){void 0===z&&(z=0),void 0===I&&(I=0);var P=null;return W?P=Y[W.sn-Y[0].sn+1]||null:0===z&&0===Y[0].start&&(P=Y[0]),P&&0===K(z,I,P)?P:lt.default.search(Y,K.bind(null,z,I))||P}function K(W,Y,z){void 0===W&&(W=0),void 0===Y&&(Y=0);var I=Math.min(Y,z.duration+(z.deltaPTS?z.deltaPTS:0));return z.start+z.duration-I<=W?1:z.start-I>W&&z.start?-1:0}function V(W,Y,z){var I=1e3*Math.min(Y,z.duration+(z.deltaPTS?z.deltaPTS:0));return(z.endProgramDateTime||0)-I>W}function Q(W,Y){return lt.default.search(W,function(z){return z.cc<Y?1:z.cc>Y?-1:0})}},"./src/controller/fragment-tracker.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"FragmentState",function(){return F}),ft.d(Mt,"FragmentTracker",function(){return H});var St=ft("./src/events.ts"),lt=ft("./src/types/loader.ts"),F=(()=>{return(Q=F||(F={})).NOT_LOADED="NOT_LOADED",Q.BACKTRACKED="BACKTRACKED",Q.APPENDING="APPENDING",Q.PARTIAL="PARTIAL",Q.OK="OK",F;var Q})(),H=function(){function Q(Y){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=Y,this._registerListeners()}var W=Q.prototype;return W._registerListeners=function(){var z=this.hls;z.on(St.Events.BUFFER_APPENDED,this.onBufferAppended,this),z.on(St.Events.FRAG_BUFFERED,this.onFragBuffered,this),z.on(St.Events.FRAG_LOADED,this.onFragLoaded,this)},W._unregisterListeners=function(){var z=this.hls;z.off(St.Events.BUFFER_APPENDED,this.onBufferAppended,this),z.off(St.Events.FRAG_BUFFERED,this.onFragBuffered,this),z.off(St.Events.FRAG_LOADED,this.onFragLoaded,this)},W.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},W.getAppendedFrag=function(z,I){if(I===lt.PlaylistLevelType.MAIN){var P=this.activeFragment,w=this.activeParts;if(!P)return null;if(w)for(var E=w.length;E--;){var s=w[E],l=s?s.end:P.appendedPTS;if(s.start<=z&&void 0!==l&&z<=l)return E>9&&(this.activeParts=w.slice(E-9)),s}else if(P.start<=z&&void 0!==P.appendedPTS&&z<=P.appendedPTS)return P}return this.getBufferedFrag(z,I)},W.getBufferedFrag=function(z,I){for(var P=this.fragments,w=Object.keys(P),E=w.length;E--;){var s=P[w[E]];if((null==s?void 0:s.body.type)===I&&s.buffered){var l=s.body;if(l.start<=z&&z<=l.end)return l}}return null},W.detectEvictedFragments=function(z,I,P){var w=this;Object.keys(this.fragments).forEach(function(E){var s=w.fragments[E];if(s){if(!s.buffered)return void(s.body.type===P&&w.removeFragment(s.body));var l=s.range[z];!l||l.time.some(function(g){var v=!w.isTimeBuffered(g.startPTS,g.endPTS,I);return v&&w.removeFragment(s.body),v})}})},W.detectPartialFragments=function(z){var I=this,P=this.timeRanges,w=z.frag,E=z.part;if(P&&"initSegment"!==w.sn){var s=V(w),l=this.fragments[s];!l||(Object.keys(P).forEach(function(g){var v=w.elementaryStreams[g];v&&(l.range[g]=I.getBufferedTimes(w,E,null!==E||!0===v.partial,P[g]))}),l.backtrack=l.loaded=null,Object.keys(l.range).length?l.buffered=!0:this.removeFragment(l.body))}},W.fragBuffered=function(z){var I=V(z),P=this.fragments[I];P&&(P.backtrack=P.loaded=null,P.buffered=!0)},W.getBufferedTimes=function(z,I,P,w){for(var E={time:[],partial:P},s=I?I.start:z.start,l=I?I.end:z.end,g=z.minEndPTS||l,v=z.maxStartPTS||s,S=0;S<w.length;S++){var f=w.start(S)-this.bufferPadding,C=w.end(S)+this.bufferPadding;if(v>=f&&g<=C){E.time.push({startPTS:Math.max(s,w.start(S)),endPTS:Math.min(l,w.end(S))});break}if(s<C&&l>f)E.partial=!0,E.time.push({startPTS:Math.max(s,w.start(S)),endPTS:Math.min(l,w.end(S))});else if(l<=f)break}return E},W.getPartialFragment=function(z){var P,w,E,I=null,s=0,l=this.bufferPadding,g=this.fragments;return Object.keys(g).forEach(function(v){var S=g[v];!S||K(S)&&(E=S.body.end+l,z>=(w=S.body.start-l)&&z<=E&&(P=Math.min(z-w,E-z),s<=P&&(I=S.body,s=P)))}),I},W.getState=function(z){var I=V(z),P=this.fragments[I];return P?P.buffered?K(P)?F.PARTIAL:F.OK:P.backtrack?F.BACKTRACKED:F.APPENDING:F.NOT_LOADED},W.backtrack=function(z,I){var P=V(z),w=this.fragments[P];if(!w||w.backtrack)return null;var E=w.backtrack=I||w.loaded;return w.loaded=null,E},W.getBacktrackData=function(z){var I=V(z),P=this.fragments[I];if(P){var w,E=P.backtrack;if(null!=E&&null!==(w=E.payload)&&void 0!==w&&w.byteLength)return E;this.removeFragment(z)}return null},W.isTimeBuffered=function(z,I,P){for(var w,E,s=0;s<P.length;s++){if(w=P.start(s)-this.bufferPadding,E=P.end(s)+this.bufferPadding,z>=w&&I<=E)return!0;if(I<=w)return!1}return!1},W.onFragLoaded=function(z,I){var P=I.frag;if("initSegment"!==P.sn&&!P.bitrateTest&&!I.part){var E=V(P);this.fragments[E]={body:P,loaded:I,backtrack:null,buffered:!1,range:Object.create(null)}}},W.onBufferAppended=function(z,I){var P=this,w=I.frag,E=I.part,s=I.timeRanges;if(w.type===lt.PlaylistLevelType.MAIN)if(this.activeFragment=w,E){var l=this.activeParts;l||(this.activeParts=l=[]),l.push(E)}else this.activeParts=null;this.timeRanges=s,Object.keys(s).forEach(function(g){var v=s[g];if(P.detectEvictedFragments(g,v),!E)for(var S=0;S<v.length;S++)w.appendedPTS=Math.max(v.end(S),w.appendedPTS||0)})},W.onFragBuffered=function(z,I){this.detectPartialFragments(I)},W.hasFragment=function(z){var I=V(z);return!!this.fragments[I]},W.removeFragmentsInRange=function(z,I,P){var w=this;Object.keys(this.fragments).forEach(function(E){var s=w.fragments[E];if(s&&s.buffered){var l=s.body;l.type===P&&l.start<I&&l.end>z&&w.removeFragment(l)}})},W.removeFragment=function(z){var I=V(z);z.stats.loaded=0,z.clearElementaryStreamInfo(),delete this.fragments[I]},W.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},Q}();function K(Q){var W,Y;return Q.buffered&&((null===(W=Q.range.video)||void 0===W?void 0:W.partial)||(null===(Y=Q.range.audio)||void 0===Y?void 0:Y.partial))}function V(Q){return Q.type+"_"+Q.level+"_"+Q.urlId+"_"+Q.sn}},"./src/controller/gap-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"STALL_MINIMUM_DURATION_MS",function(){return K}),ft.d(Mt,"MAX_START_GAP_JUMP",function(){return V}),ft.d(Mt,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return Q}),ft.d(Mt,"SKIP_BUFFER_RANGE_START",function(){return W}),ft.d(Mt,"default",function(){return Y});var St=ft("./src/utils/buffer-helper.ts"),lt=ft("./src/errors.ts"),F=ft("./src/events.ts"),H=ft("./src/utils/logger.ts"),K=250,V=2,Q=.1,W=.05,Y=function(){function z(P,w,E,s){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=P,this.media=w,this.fragmentTracker=E,this.hls=s}var I=z.prototype;return I.destroy=function(){this.hls=this.fragmentTracker=this.media=null},I.poll=function(w){var E=this.config,s=this.media,l=this.stalled,g=s.currentTime,v=s.seeking,S=this.seeking&&!v,f=!this.seeking&&v;if(this.seeking=v,g===w){if((f||S)&&(this.stalled=null),!s.paused&&!s.ended&&0!==s.playbackRate&&St.BufferHelper.getBuffered(s).length){var x=St.BufferHelper.bufferInfo(s,g,0),p=x.nextStart||0;if(x.len>0||p){if(v){var a=x.len>V,h=!p||p-g>V&&!this.fragmentTracker.getPartialFragment(g);if(a||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var n,d=Math.max(p,x.start||0)-g,o=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,r=null==o||null===(n=o.details)||void 0===n?void 0:n.live;if(d>0&&d<=(r?2*o.details.targetduration:V))return void this._trySkipBufferHole(null)}var c=self.performance.now();if(null===l)return void(this.stalled=c);var b=c-l;!v&&b>=K&&this._reportStall(x.len);var O=St.BufferHelper.bufferInfo(s,g,E.maxBufferHole);this._tryFixBufferStall(O,b)}}}else if(this.moved=!0,null!==l){if(this.stallReported){var C=self.performance.now()-l;H.logger.warn("playback not stuck anymore @"+g+", after "+Math.round(C)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},I._tryFixBufferStall=function(w,E){var s=this.config,S=this.fragmentTracker.getPartialFragment(this.media.currentTime);S&&this._trySkipBufferHole(S)||w.len>s.maxBufferHole&&E>1e3*s.highBufferWatchdogPeriod&&(H.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},I._reportStall=function(w){var E=this.hls,s=this.media;this.stallReported||(this.stallReported=!0,H.logger.warn("Playback stalling at @"+s.currentTime+" due to low buffer (buffer="+w+")"),E.trigger(F.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:w}))},I._trySkipBufferHole=function(w){for(var E=this.config,s=this.hls,l=this.media,g=l.currentTime,v=0,S=St.BufferHelper.getBuffered(l),f=0;f<S.length;f++){var C=S.start(f);if(g+E.maxBufferHole>=v&&g<C){var x=Math.max(C+W,l.currentTime+Q);return H.logger.warn("skipping hole, adjusting currentTime from "+g+" to "+x),this.moved=!0,this.stalled=null,l.currentTime=x,w&&s.trigger(F.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+g+" to "+x,frag:w}),x}v=S.end(f)}return 0},I._tryNudgeBuffer=function(){var w=this.config,E=this.hls,s=this.media,l=s.currentTime,g=(this.nudgeRetry||0)+1;if(this.nudgeRetry=g,g<w.nudgeMaxRetry){var v=l+g*w.nudgeOffset;H.logger.warn("Nudging 'currentTime' from "+l+" to "+v),s.currentTime=v,E.trigger(F.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else H.logger.error("Playhead still not moving while enough data buffered @"+l+" after "+w.nudgeMaxRetry+" nudges"),E.trigger(F.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},z}()},"./src/controller/id3-track-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/events.ts"),lt=ft("./src/utils/texttrack-utils.ts"),F=ft("./src/demux/id3.ts");Mt.default=function(){function V(W){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=W,this._registerListeners()}var Q=V.prototype;return Q.destroy=function(){this._unregisterListeners()},Q._registerListeners=function(){var Y=this.hls;Y.on(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Y.on(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Y.on(St.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),Y.on(St.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},Q._unregisterListeners=function(){var Y=this.hls;Y.off(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Y.off(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Y.off(St.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),Y.off(St.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},Q.onMediaAttached=function(Y,z){this.media=z.media},Q.onMediaDetaching=function(){!this.id3Track||(Object(lt.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},Q.getID3Track=function(Y){if(this.media){for(var z=0;z<Y.length;z++){var I=Y[z];if("metadata"===I.kind&&"id3"===I.label)return Object(lt.sendAddTrackEvent)(I,this.media),I}return this.media.addTextTrack("metadata","id3")}},Q.onFragParsingMetadata=function(Y,z){if(this.media){var I=z.frag,P=z.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var w=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,E=0;E<P.length;E++){var s=F.getID3Frames(P[E].data);if(s){var l=P[E].pts,g=E<P.length-1?P[E+1].pts:I.end;g-l<=0&&(g=l+.25);for(var S=0;S<s.length;S++){var f=s[S];if(!F.isTimeStampFrame(f)){var C=new w(l,g,"");C.value=f,this.id3Track.addCue(C)}}}}}},Q.onBufferFlushing=function(Y,z){var I=z.startOffset,P=z.endOffset,w=z.type;if(!w||"audio"===w){var E=this.id3Track;E&&Object(lt.removeCuesInRange)(E,I,P)}},V}()},"./src/controller/latency-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return V});var St=ft("./src/errors.ts"),lt=ft("./src/events.ts"),F=ft("./src/utils/logger.ts");function H(Q,W){for(var Y=0;Y<W.length;Y++){var z=W[Y];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(Q,z.key,z)}}var V=function(){function Q(Y){var z=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return z.timeupdate()},this.hls=Y,this.config=Y.config,this.registerListeners()}var W=Q.prototype;return W.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},W.registerListeners=function(){this.hls.on(lt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(lt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(lt.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(lt.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(lt.Events.ERROR,this.onError,this)},W.unregisterListeners=function(){this.hls.off(lt.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(lt.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(lt.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(lt.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(lt.Events.ERROR,this.onError)},W.onMediaAttached=function(z,I){this.media=I.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},W.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},W.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},W.onLevelUpdated=function(z,I){var P=I.details;this.levelDetails=P,P.advanced&&this.timeupdate(),!P.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},W.onError=function(z,I){I.details===St.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,F.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},W.timeupdate=function(){var z=this.media,I=this.levelDetails;if(z&&I){this.currentTime=z.currentTime;var P=this.computeLatency();if(null!==P){this._latency=P;var w=this.config,s=w.maxLiveSyncPlaybackRate;if(w.lowLatencyMode&&1!==s){var l=this.targetLatency;if(null!==l){var g=P-l,v=Math.min(this.maxLatency,l+I.targetduration);if(I.live&&g<v&&g>.05&&this.forwardBufferLength>1){var f=Math.min(2,Math.max(1,s)),C=Math.round(2/(1+Math.exp(-.75*g-this.edgeStalled))*20)/20;z.playbackRate=Math.min(f,Math.max(1,C))}else 1!==z.playbackRate&&0!==z.playbackRate&&(z.playbackRate=1)}}}}},W.estimateLiveEdge=function(){var z=this.levelDetails;return null===z?null:z.edge+z.age},W.computeLatency=function(){var z=this.estimateLiveEdge();return null===z?null:z-this.currentTime},function K(Q,W,Y){return W&&H(Q.prototype,W),Y&&H(Q,Y),Q}(Q,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var z=this.config,I=this.levelDetails;return void 0!==z.liveMaxLatencyDuration?z.liveMaxLatencyDuration:I?z.liveMaxLatencyDurationCount*I.targetduration:0}},{key:"targetLatency",get:function(){var z=this.levelDetails;if(null===z)return null;var w=z.targetduration,E=this.config,s=E.liveSyncDuration,v=this.hls.userConfig,S=E.lowLatencyMode&&z.partHoldBack||z.holdBack;return(v.liveSyncDuration||v.liveSyncDurationCount||0===S)&&(S=void 0!==s?s:E.liveSyncDurationCount*w),S+Math.min(1*this.stallCount,w)}},{key:"liveSyncPosition",get:function(){var z=this.estimateLiveEdge(),I=this.targetLatency,P=this.levelDetails;if(null===z||null===I||null===P)return null;var w=P.edge,l=w-(this.config.lowLatencyMode&&P.partTarget||P.targetduration);return Math.min(Math.max(w-P.totalduration,z-I-this.edgeStalled),l)}},{key:"drift",get:function(){var z=this.levelDetails;return null===z?1:z.drift}},{key:"edgeStalled",get:function(){var z=this.levelDetails;return null===z?0:Math.max(z.age-3*(this.config.lowLatencyMode&&z.partTarget||z.targetduration),0)}},{key:"forwardBufferLength",get:function(){var z=this.media,I=this.levelDetails;if(!z||!I)return 0;var P=z.buffered.length;return P?z.buffered.end(P-1):I.edge-this.currentTime}}]),Q}()},"./src/controller/level-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return E});var St=ft("./src/types/level.ts"),lt=ft("./src/events.ts"),F=ft("./src/errors.ts"),H=ft("./src/utils/codecs.ts"),K=ft("./src/controller/level-helper.ts"),V=ft("./src/controller/base-playlist-controller.ts"),Q=ft("./src/types/loader.ts");function W(){return W=Object.assign||function(s){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(s[v]=g[v])}return s},W.apply(this,arguments)}function Y(s,l){for(var g=0;g<l.length;g++){var v=l[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}function I(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,P(s,l)}function P(s,l){return(P=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v})(s,l)}var w=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),E=function(s){function l(v){var S;return(S=s.call(this,v,"[level-controller]")||this)._levels=[],S._firstLevel=-1,S._startLevel=void 0,S.currentLevelIndex=-1,S.manualLevelIndex=-1,S.onParsedComplete=void 0,S._registerListeners(),S}I(l,s);var g=l.prototype;return g._registerListeners=function(){var S=this.hls;S.on(lt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),S.on(lt.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.on(lt.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),S.on(lt.Events.FRAG_LOADED,this.onFragLoaded,this),S.on(lt.Events.ERROR,this.onError,this)},g._unregisterListeners=function(){var S=this.hls;S.off(lt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),S.off(lt.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.off(lt.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),S.off(lt.Events.FRAG_LOADED,this.onFragLoaded,this),S.off(lt.Events.ERROR,this.onError,this)},g.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,s.prototype.destroy.call(this)},g.startLoad=function(){this._levels.forEach(function(f){f.loadError=0}),s.prototype.startLoad.call(this)},g.onManifestLoaded=function(S,f){var p,h,C=[],x=[],M=[],a={},n=!1,d=!1,o=!1;if(f.levels.forEach(function(b){var O=b.attrs;n=n||!(!b.width||!b.height),d=d||!!b.videoCodec,o=o||!!b.audioCodec,w&&b.audioCodec&&-1!==b.audioCodec.indexOf("mp4a.40.34")&&(b.audioCodec=void 0);var k=b.bitrate+"-"+b.attrs.RESOLUTION+"-"+b.attrs.CODECS;(h=a[k])?h.url.push(b.url):(h=new St.Level(b),a[k]=h,C.push(h)),O&&(O.AUDIO&&Object(K.addGroupId)(h,"audio",O.AUDIO),O.SUBTITLES&&Object(K.addGroupId)(h,"text",O.SUBTITLES))}),(n||d)&&o&&(C=C.filter(function(b){return!!b.videoCodec||!(!b.width||!b.height)})),C=C.filter(function(b){var O=b.audioCodec,k=b.videoCodec;return(!O||Object(H.isCodecSupportedInMp4)(O,"audio"))&&(!k||Object(H.isCodecSupportedInMp4)(k,"video"))}),f.audioTracks&&(x=f.audioTracks.filter(function(b){return!b.audioCodec||Object(H.isCodecSupportedInMp4)(b.audioCodec,"audio")}),Object(K.assignTrackIdsByGroup)(x)),f.subtitles&&(M=f.subtitles,Object(K.assignTrackIdsByGroup)(M)),C.length>0){p=C[0].bitrate,C.sort(function(b,O){return b.bitrate-O.bitrate}),this._levels=C;for(var r=0;r<C.length;r++)if(C[r].bitrate===p){this._firstLevel=r,this.log("manifest loaded, "+C.length+" level(s) found, first bitrate: "+p);break}var c={levels:C,audioTracks:x,subtitleTracks:M,firstLevel:this._firstLevel,stats:f.stats,audio:o,video:d,altAudio:!(o&&!d)&&x.some(function(b){return!!b.url})};this.hls.trigger(lt.Events.MANIFEST_PARSED,c),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(lt.Events.ERROR,{type:F.ErrorTypes.MEDIA_ERROR,details:F.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:f.url,reason:"no level with compatible codecs found in manifest"})},g.onError=function(S,f){if(s.prototype.onError.call(this,S,f),!f.fatal){var C=f.context,x=this._levels[this.currentLevelIndex];if(C&&(C.type===Q.PlaylistContextType.AUDIO_TRACK&&x.audioGroupIds&&C.groupId===x.audioGroupIds[x.urlId]||C.type===Q.PlaylistContextType.SUBTITLE_TRACK&&x.textGroupIds&&C.groupId===x.textGroupIds[x.urlId]))return void this.redundantFailover(this.currentLevelIndex);var a,M=!1,p=!0;switch(f.details){case F.ErrorDetails.FRAG_LOAD_ERROR:case F.ErrorDetails.FRAG_LOAD_TIMEOUT:case F.ErrorDetails.KEY_LOAD_ERROR:case F.ErrorDetails.KEY_LOAD_TIMEOUT:if(f.frag){var h=this._levels[f.frag.level];h?(h.fragmentError++,h.fragmentError>this.hls.config.fragLoadingMaxRetry&&(a=f.frag.level)):a=f.frag.level}break;case F.ErrorDetails.LEVEL_LOAD_ERROR:case F.ErrorDetails.LEVEL_LOAD_TIMEOUT:C&&(C.deliveryDirectives&&(p=!1),a=C.level),M=!0;break;case F.ErrorDetails.REMUX_ALLOC_ERROR:a=f.level,M=!0}void 0!==a&&this.recoverLevel(f,a,M,p)}},g.recoverLevel=function(S,f,C,x){var M=S.details,p=this._levels[f];if(p.loadError++,C){if(!this.retryLoadingOrFail(S))return void(this.currentLevelIndex=-1);S.levelRetry=!0}if(x){var h=p.url.length;if(h>1&&p.loadError<h)S.levelRetry=!0,this.redundantFailover(f);else if(-1===this.manualLevelIndex){var n=0===f?this._levels.length-1:f-1;this.currentLevelIndex!==n&&0===this._levels[n].loadError&&(this.warn(M+": switch to "+n),S.levelRetry=!0,this.hls.nextAutoLevel=n)}}},g.redundantFailover=function(S){var f=this._levels[S],C=f.url.length;if(C>1){var x=(f.urlId+1)%C;this.warn("Switching to redundant URL-id "+x),this._levels.forEach(function(M){M.urlId=x}),this.level=S}},g.onFragLoaded=function(S,f){var C=f.frag;if(void 0!==C&&C.type===Q.PlaylistLevelType.MAIN){var x=this._levels[C.level];void 0!==x&&(x.fragmentError=0,x.loadError=0)}},g.onLevelLoaded=function(S,f){var C,a,x=f.level,M=f.details,p=this._levels[x];if(!p)return this.warn("Invalid level index "+x),void(null!==(a=f.deliveryDirectives)&&void 0!==a&&a.skip&&(M.deltaUpdateFailed=!0));x===this.currentLevelIndex?(0===p.fragmentError&&(p.loadError=0,this.retryCount=0),this.playlistLoaded(x,f,p.details)):null!==(C=f.deliveryDirectives)&&void 0!==C&&C.skip&&(M.deltaUpdateFailed=!0)},g.onAudioTrackSwitched=function(S,f){var C=this.hls.levels[this.currentLevelIndex];if(C&&C.audioGroupIds){for(var x=-1,M=this.hls.audioTracks[f.id].groupId,p=0;p<C.audioGroupIds.length;p++)if(C.audioGroupIds[p]===M){x=p;break}x!==C.urlId&&(C.urlId=x,this.startLoad())}},g.loadPlaylist=function(S){var f=this.currentLevelIndex,C=this._levels[f];if(this.canLoad&&C&&C.url.length>0){var x=C.urlId,M=C.url[x];if(S)try{M=S.addDirectives(M)}catch(p){this.warn("Could not construct new URL with HLS Delivery Directives: "+p)}this.log("Attempt loading level index "+f+(S?" at sn "+S.msn+" part "+S.part:"")+" with URL-id "+x+" "+M),this.clearTimer(),this.hls.trigger(lt.Events.LEVEL_LOADING,{url:M,level:f,id:x,deliveryDirectives:S||null})}},g.removeLevel=function(S,f){var C=function(p,a){return a!==f},x=this._levels.filter(function(M,p){return p!==S||M.url.length>1&&void 0!==f&&(M.url=M.url.filter(C),M.audioGroupIds&&(M.audioGroupIds=M.audioGroupIds.filter(C)),M.textGroupIds&&(M.textGroupIds=M.textGroupIds.filter(C)),M.urlId=0,!0)}).map(function(M,p){var a=M.details;return null!=a&&a.fragments&&a.fragments.forEach(function(h){h.level=p}),M});this._levels=x,this.hls.trigger(lt.Events.LEVELS_UPDATED,{levels:x})},function z(s,l,g){return l&&Y(s.prototype,l),g&&Y(s,g),s}(l,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(S){var f,C=this._levels;if(0!==C.length&&(this.currentLevelIndex!==S||null===(f=C[S])||void 0===f||!f.details)){if(S<0||S>=C.length){var x=S<0;if(this.hls.trigger(lt.Events.ERROR,{type:F.ErrorTypes.OTHER_ERROR,details:F.ErrorDetails.LEVEL_SWITCH_ERROR,level:S,fatal:x,reason:"invalid level idx"}),x)return;S=Math.min(S,C.length-1)}this.clearTimer();var M=this.currentLevelIndex,p=C[M],a=C[S];this.log("switching to level "+S+" from "+M),this.currentLevelIndex=S;var h=W({},a,{level:S,maxBitrate:a.maxBitrate,uri:a.uri,urlId:a.urlId});delete h._urlId,this.hls.trigger(lt.Events.LEVEL_SWITCHING,h);var n=a.details;if(!n||n.live){var d=this.switchParams(a.uri,null==p?void 0:p.details);this.loadPlaylist(d)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(S){this.manualLevelIndex=S,void 0===this._startLevel&&(this._startLevel=S),-1!==S&&(this.level=S)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(S){this._firstLevel=S}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var S=this.hls.config.startLevel;return void 0!==S?S:this._firstLevel}return this._startLevel},set:function(S){this._startLevel=S}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(S){this.level=S,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=S)}}]),l}(V.default)},"./src/controller/level-helper.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"addGroupId",function(){return F}),ft.d(Mt,"assignTrackIdsByGroup",function(){return H}),ft.d(Mt,"updatePTS",function(){return K}),ft.d(Mt,"updateFragPTSDTS",function(){return Q}),ft.d(Mt,"mergeDetails",function(){return W}),ft.d(Mt,"mapPartIntersection",function(){return Y}),ft.d(Mt,"mapFragmentIntersection",function(){return z}),ft.d(Mt,"adjustSliding",function(){return I}),ft.d(Mt,"addSliding",function(){return P}),ft.d(Mt,"computeReloadInterval",function(){return w}),ft.d(Mt,"getFragmentWithSN",function(){return E}),ft.d(Mt,"getPartWith",function(){return s});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/utils/logger.ts");function F(l,g,v){switch(g){case"audio":l.audioGroupIds||(l.audioGroupIds=[]),l.audioGroupIds.push(v);break;case"text":l.textGroupIds||(l.textGroupIds=[]),l.textGroupIds.push(v)}}function H(l){var g={};l.forEach(function(v){var S=v.groupId||"";v.id=g[S]=g[S]||0,g[S]++})}function K(l,g,v){V(l[g],l[v])}function V(l,g){var v=g.startPTS;if(Object(St.isFiniteNumber)(v)){var f,S=0;g.sn>l.sn?(S=v-l.start,f=l):(S=l.start-v,f=g),f.duration!==S&&(f.duration=S)}else g.start=g.sn>l.sn?l.cc===g.cc&&l.minEndPTS?l.start+(l.minEndPTS-l.start):l.start+l.duration:Math.max(l.start-g.duration,0)}function Q(l,g,v,S,f,C){S-v<=0&&(lt.logger.warn("Fragment should have a positive duration",g),S=v+g.duration,C=f+g.duration);var M=v,p=S,a=g.startPTS,h=g.endPTS;if(Object(St.isFiniteNumber)(a)){var n=Math.abs(a-v);g.deltaPTS=Object(St.isFiniteNumber)(g.deltaPTS)?Math.max(n,g.deltaPTS):n,M=Math.max(v,a),v=Math.min(v,a),f=Math.min(f,g.startDTS),p=Math.min(S,h),S=Math.max(S,h),C=Math.max(C,g.endDTS)}g.duration=S-v;var d=v-g.start;g.appendedPTS=S,g.start=g.startPTS=v,g.maxStartPTS=M,g.startDTS=f,g.endPTS=S,g.minEndPTS=p,g.endDTS=C;var o=g.sn;if(!l||o<l.startSN||o>l.endSN)return 0;var r,u=o-l.startSN,c=l.fragments;for(c[u]=g,r=u;r>0;r--)V(c[r],c[r-1]);for(r=u;r<c.length-1;r++)V(c[r],c[r+1]);return l.fragmentHint&&V(c[c.length-1],l.fragmentHint),l.PTSKnown=l.alignedSliding=!0,d}function W(l,g){for(var v=null,S=l.fragments,f=S.length-1;f>=0;f--){var C=S[f].initSegment;if(C){v=C;break}}l.fragmentHint&&delete l.fragmentHint.endPTS;var M,x=0;if(z(l,g,function(r,u){r.relurl&&(x=r.cc-u.cc),Object(St.isFiniteNumber)(r.startPTS)&&Object(St.isFiniteNumber)(r.endPTS)&&(u.start=u.startPTS=r.startPTS,u.startDTS=r.startDTS,u.appendedPTS=r.appendedPTS,u.maxStartPTS=r.maxStartPTS,u.endPTS=r.endPTS,u.endDTS=r.endDTS,u.minEndPTS=r.minEndPTS,u.duration=r.endPTS-r.startPTS,u.duration&&(M=u),g.PTSKnown=g.alignedSliding=!0),u.elementaryStreams=r.elementaryStreams,u.loader=r.loader,u.stats=r.stats,u.urlId=r.urlId,r.initSegment&&(u.initSegment=r.initSegment,v=r.initSegment)}),v&&(g.fragmentHint?g.fragments.concat(g.fragmentHint):g.fragments).forEach(function(r){var u;(!r.initSegment||r.initSegment.relurl===(null===(u=v)||void 0===u?void 0:u.relurl))&&(r.initSegment=v)}),g.skippedSegments&&(g.deltaUpdateFailed=g.fragments.some(function(r){return!r}),g.deltaUpdateFailed)){lt.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var a=g.skippedSegments;a--;)g.fragments.shift();g.startSN=g.fragments[0].sn,g.startCC=g.fragments[0].cc}var h=g.fragments;if(x){lt.logger.warn("discontinuity sliding from playlist, take drift into account");for(var n=0;n<h.length;n++)h[n].cc+=x}g.skippedSegments&&(g.startCC=g.fragments[0].cc),Y(l.partList,g.partList,function(r,u){u.elementaryStreams=r.elementaryStreams,u.stats=r.stats}),M?Q(g,M,M.startPTS,M.endPTS,M.startDTS,M.endDTS):I(l,g),h.length&&(g.totalduration=g.edge-h[0].start),g.driftStartTime=l.driftStartTime,g.driftStart=l.driftStart;var d=g.advancedDateTime;if(g.advanced&&d){var o=g.edge;g.driftStart||(g.driftStartTime=d,g.driftStart=o),g.driftEndTime=d,g.driftEnd=o}else g.driftEndTime=l.driftEndTime,g.driftEnd=l.driftEnd,g.advancedDateTime=l.advancedDateTime}function Y(l,g,v){if(l&&g)for(var S=0,f=0,C=l.length;f<=C;f++){var x=l[f],M=g[f+S];x&&M&&x.index===M.index&&x.fragment.sn===M.fragment.sn?v(x,M):S--}}function z(l,g,v){for(var S=g.skippedSegments,f=Math.max(l.startSN,g.startSN)-g.startSN,C=(l.fragmentHint?1:0)+(S?g.endSN:Math.min(l.endSN,g.endSN))-g.startSN,x=g.startSN-l.startSN,M=g.fragmentHint?g.fragments.concat(g.fragmentHint):g.fragments,p=l.fragmentHint?l.fragments.concat(l.fragmentHint):l.fragments,a=f;a<=C;a++){var h=p[x+a],n=M[a];S&&!n&&a<S&&(n=g.fragments[a]=h),h&&n&&v(h,n)}}function I(l,g){var v=g.startSN+g.skippedSegments-l.startSN,S=l.fragments;v<0||v>=S.length||P(g,S[v].start)}function P(l,g){if(g){for(var v=l.fragments,S=l.skippedSegments;S<v.length;S++)v[S].start+=g;l.fragmentHint&&(l.fragmentHint.start+=g)}}function w(l,g){var M,v=1e3*l.levelTargetDuration,S=v/2,f=l.age,C=f>0&&f<3*v,x=g.loading.end-g.loading.start,p=l.availabilityDelay;if(!1===l.updated)if(C){var a=333*l.misses;M=Math.max(Math.min(S,2*x),a),l.availabilityDelay=(l.availabilityDelay||0)+M}else M=S;else C?(p=Math.min(p||v/2,f),l.availabilityDelay=p,M=p+v-f):M=v-x;return Math.round(M)}function E(l,g,v){if(!l||!l.details)return null;var S=l.details,f=S.fragments[g-S.startSN];return f||(f=S.fragmentHint)&&f.sn===g?f:g<S.startSN&&v&&v.sn===g?v:null}function s(l,g,v){if(!l||!l.details)return null;var S=l.details.partList;if(S)for(var f=S.length;f--;){var C=S[f];if(C.index===v&&C.fragment.sn===g)return C}return null}},"./src/controller/stream-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return S});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/controller/base-stream-controller.ts"),F=ft("./src/is-supported.ts"),H=ft("./src/events.ts"),K=ft("./src/utils/buffer-helper.ts"),V=ft("./src/controller/fragment-tracker.ts"),Q=ft("./src/types/loader.ts"),W=ft("./src/loader/fragment.ts"),Y=ft("./src/demux/transmuxer-interface.ts"),z=ft("./src/types/transmuxer.ts"),I=ft("./src/controller/gap-controller.ts"),P=ft("./src/errors.ts"),w=ft("./src/utils/logger.ts");function E(f,C){for(var x=0;x<C.length;x++){var M=C[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function l(f,C){f.prototype=Object.create(C.prototype),f.prototype.constructor=f,g(f,C)}function g(f,C){return(g=Object.setPrototypeOf||function(M,p){return M.__proto__=p,M})(f,C)}var S=function(f){function C(M,p){var a;return(a=f.call(this,M,p,"[stream-controller]")||this).audioCodecSwap=!1,a.gapController=null,a.level=-1,a._forceStartLoad=!1,a.altAudio=!1,a.audioOnly=!1,a.fragPlaying=null,a.onvplaying=null,a.onvseeked=null,a.fragLastKbps=0,a.stalled=!1,a.couldBacktrack=!1,a.audioCodecSwitch=!1,a.videoBuffer=null,a._registerListeners(),a}l(C,f);var x=C.prototype;return x._registerListeners=function(){var p=this.hls;p.on(H.Events.MEDIA_ATTACHED,this.onMediaAttached,this),p.on(H.Events.MEDIA_DETACHING,this.onMediaDetaching,this),p.on(H.Events.MANIFEST_LOADING,this.onManifestLoading,this),p.on(H.Events.MANIFEST_PARSED,this.onManifestParsed,this),p.on(H.Events.LEVEL_LOADING,this.onLevelLoading,this),p.on(H.Events.LEVEL_LOADED,this.onLevelLoaded,this),p.on(H.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),p.on(H.Events.ERROR,this.onError,this),p.on(H.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),p.on(H.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),p.on(H.Events.BUFFER_CREATED,this.onBufferCreated,this),p.on(H.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),p.on(H.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),p.on(H.Events.FRAG_BUFFERED,this.onFragBuffered,this)},x._unregisterListeners=function(){var p=this.hls;p.off(H.Events.MEDIA_ATTACHED,this.onMediaAttached,this),p.off(H.Events.MEDIA_DETACHING,this.onMediaDetaching,this),p.off(H.Events.MANIFEST_LOADING,this.onManifestLoading,this),p.off(H.Events.MANIFEST_PARSED,this.onManifestParsed,this),p.off(H.Events.LEVEL_LOADED,this.onLevelLoaded,this),p.off(H.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),p.off(H.Events.ERROR,this.onError,this),p.off(H.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),p.off(H.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),p.off(H.Events.BUFFER_CREATED,this.onBufferCreated,this),p.off(H.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),p.off(H.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),p.off(H.Events.FRAG_BUFFERED,this.onFragBuffered,this)},x.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},x.startLoad=function(p){if(this.levels){var a=this.lastCurrentTime,h=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=h.startLevel;-1===n&&(h.config.testBandwidth?(n=0,this.bitrateTest=!0):n=h.nextAutoLevel),this.level=h.nextLoadLevel=n,this.loadedmetadata=!1}a>0&&-1===p&&(this.log("Override startPosition with lastCurrentTime @"+a.toFixed(3)),p=a),this.state=lt.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=p,this.tick()}else this._forceStartLoad=!0,this.state=lt.State.STOPPED},x.stopLoad=function(){this._forceStartLoad=!1,f.prototype.stopLoad.call(this)},x.doTick=function(){switch(this.state){case lt.State.IDLE:this.doTickIdle();break;case lt.State.WAITING_LEVEL:var p,a=this.levels,n=null==a||null===(p=a[this.level])||void 0===p?void 0:p.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=lt.State.IDLE;break}break;case lt.State.FRAG_LOADING_WAITING_RETRY:var d,o=self.performance.now(),r=this.retryDate;(!r||o>=r||null!==(d=this.media)&&void 0!==d&&d.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=lt.State.IDLE)}this.onTickEnd()},x.onTickEnd=function(){f.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},x.doTickIdle=function(){var p,a,h=this.hls,d=this.levels,o=this.media,u=h.nextLoadLevel;if(null!==this.levelLastLoaded&&(o||!this.startFragRequested&&h.config.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&d&&d[u]){var c=d[u];this.level=h.nextLoadLevel=u;var b=c.details;if(!b||this.state===lt.State.WAITING_LEVEL||b.live&&this.levelLastLoaded!==u)return void(this.state=lt.State.WAITING_LEVEL);var O=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:o,Q.PlaylistLevelType.MAIN);if(null!==O&&!(O.len>=this.getMaxBufferLength(c.maxBitrate))){if(this._streamEnded(O,b)){var A={};return this.altAudio&&(A.type="video"),this.hls.trigger(H.Events.BUFFER_EOS,A),void(this.state=lt.State.ENDED)}var B=O.end,m=this.getNextFragment(B,b);if(this.couldBacktrack&&!this.fragPrevious&&m&&"initSegment"!==m.sn){var T=m.sn-b.startSN;T>1&&this.fragmentTracker.removeFragment(m=b.fragments[T-1])}m&&this.fragmentTracker.getState(m)===V.FragmentState.OK&&this.nextLoadPosition>B&&(this.afterBufferFlushed(o,this.audioOnly&&!this.altAudio?W.ElementaryStreamTypes.AUDIO:W.ElementaryStreamTypes.VIDEO,Q.PlaylistLevelType.MAIN),m=this.getNextFragment(this.nextLoadPosition,b)),!m||(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),"identity"!==(null===(p=m.decryptdata)||void 0===p?void 0:p.keyFormat)||null!==(a=m.decryptdata)&&void 0!==a&&a.key?this.loadFragment(m,b,B):this.loadKey(m,b))}}},x.loadFragment=function(p,a,h){var n,d=this.fragmentTracker.getState(p);if(this.fragCurrent=p,d===V.FragmentState.BACKTRACKED){var o=this.fragmentTracker.getBacktrackData(p);if(o)return this._handleFragmentLoadProgress(o),void this._handleFragmentLoadComplete(o);d=V.FragmentState.NOT_LOADED}d===V.FragmentState.NOT_LOADED||d===V.FragmentState.PARTIAL?"initSegment"===p.sn?this._loadInitSegment(p):this.bitrateTest?(p.bitrateTest=!0,this.log("Fragment "+p.sn+" of level "+p.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(p)):(this.startFragRequested=!0,f.prototype.loadFragment.call(this,p,a,h)):d===V.FragmentState.APPENDING?this.reduceMaxBufferLength(p.duration)&&this.fragmentTracker.removeFragment(p):0===(null===(n=this.media)||void 0===n?void 0:n.buffered.length)&&this.fragmentTracker.removeAllFragments()},x.getAppendedFrag=function(p){var a=this.fragmentTracker.getAppendedFrag(p,Q.PlaylistLevelType.MAIN);return a&&"fragment"in a?a.fragment:a},x.getBufferedFrag=function(p){return this.fragmentTracker.getBufferedFrag(p,Q.PlaylistLevelType.MAIN)},x.followingBufferedFrag=function(p){return p?this.getBufferedFrag(p.end+.5):null},x.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},x.nextLevelSwitch=function(){var p=this.levels,a=this.media;if(null!=a&&a.readyState){var h,n=this.getAppendedFrag(a.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!a.paused&&p){var r=this.fragLastKbps;h=r&&this.fragCurrent?this.fragCurrent.duration*p[this.hls.nextLoadLevel].maxBitrate/(1e3*r)+1:0}else h=0;var u=this.getBufferedFrag(a.currentTime+h);if(u){var c=this.followingBufferedFrag(u);if(c){this.abortCurrentFrag();var O=c.duration,k=Math.max(u.end,(c.maxStartPTS?c.maxStartPTS:c.start)+Math.min(Math.max(O-this.config.maxFragLookUpTolerance,.5*O),.75*O));this.flushMainBuffer(k,Number.POSITIVE_INFINITY)}}}},x.abortCurrentFrag=function(){var p=this.fragCurrent;this.fragCurrent=null,null!=p&&p.loader&&p.loader.abort(),this.state===lt.State.KEY_LOADING&&(this.state=lt.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},x.flushMainBuffer=function(p,a){f.prototype.flushMainBuffer.call(this,p,a,this.altAudio?"video":null)},x.onMediaAttached=function(p,a){f.prototype.onMediaAttached.call(this,p,a);var h=a.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),h.addEventListener("playing",this.onvplaying),h.addEventListener("seeked",this.onvseeked),this.gapController=new I.default(this.config,h,this.fragmentTracker,this.hls)},x.onMediaDetaching=function(){var p=this.media;p&&(p.removeEventListener("playing",this.onvplaying),p.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),f.prototype.onMediaDetaching.call(this)},x.onMediaPlaying=function(){this.tick()},x.onMediaSeeked=function(){var p=this.media,a=p?p.currentTime:null;Object(St.isFiniteNumber)(a)&&this.log("Media seeked to "+a.toFixed(3)),this.tick()},x.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(H.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},x.onManifestParsed=function(p,a){var d,h=!1,n=!1;a.levels.forEach(function(o){(d=o.audioCodec)&&(-1!==d.indexOf("mp4a.40.2")&&(h=!0),-1!==d.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=h&&n&&!Object(F.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=a.levels,this.startFragRequested=!1},x.onLevelLoading=function(p,a){var h=this.levels;if(h&&this.state===lt.State.IDLE){var n=h[a.level];(!n.details||n.details.live&&this.levelLastLoaded!==a.level||this.waitForCdnTuneIn(n.details))&&(this.state=lt.State.WAITING_LEVEL)}},x.onLevelLoaded=function(p,a){var h,n=this.levels,d=a.level,o=a.details;if(n){this.log("Level "+d+" loaded ["+o.startSN+","+o.endSN+"], cc ["+o.startCC+", "+o.endCC+"] duration:"+o.totalduration);var u=this.fragCurrent;u&&(this.state===lt.State.FRAG_LOADING||this.state===lt.State.FRAG_LOADING_WAITING_RETRY)&&u.level!==a.level&&u.loader&&(this.state=lt.State.IDLE,u.loader.abort());var c=n[d],b=0;if(o.live||null!==(h=c.details)&&void 0!==h&&h.live){if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed)return;b=this.alignPlaylists(o,c.details)}if(c.details=o,this.levelLastLoaded=d,this.hls.trigger(H.Events.LEVEL_UPDATED,{details:o,level:d}),this.state===lt.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=lt.State.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,b),this.tick()}else this.warn("Levels were reset while loading level "+d)},x._handleFragmentLoadProgress=function(p){var a,h=p.frag,n=p.part,d=p.payload,o=this.levels;if(o){var r=o[h.level],u=r.details;if(u){var c=r.videoCodec,b=u.PTSKnown||!u.live,O=null===(a=h.initSegment)||void 0===a?void 0:a.data,k=this._getAudioCodec(r),_=this.transmuxer=this.transmuxer||new Y.default(this.hls,Q.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),A=n?n.index:-1,m=new z.ChunkMetadata(h.level,h.sn,h.stats.chunkCount,d.byteLength,A,-1!==A);_.push(d,O,k,c,h,n,u.totalduration,b,m,this.initPTS[h.cc])}else this.warn("Dropping fragment "+h.sn+" of level "+h.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+h.sn+" of level "+h.level+" will not be buffered")},x.onAudioTrackSwitching=function(p,a){var h=this.altAudio,d=a.id;if(!a.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;null!=o&&o.loader&&(this.log("Switching to main audio track, cancel main fragment load"),o.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var r=this.hls;h&&r.trigger(H.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(H.Events.AUDIO_TRACK_SWITCHED,{id:d})}},x.onAudioTrackSwitched=function(p,a){var n=!!this.hls.audioTracks[a.id].url;if(n){var d=this.videoBuffer;d&&this.mediaBuffer!==d&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=d)}this.altAudio=n,this.tick()},x.onBufferCreated=function(p,a){var n,d,h=a.tracks,o=!1;for(var r in h){var u=h[r];if("main"===u.id){if(d=r,n=u,"video"===r){var c=h[r];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use "+d+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},x.onFragBuffered=function(p,a){var h=a.frag,n=a.part;if(!h||h.type===Q.PlaylistLevelType.MAIN){if(this.fragContextChanged(h))return this.warn("Fragment "+h.sn+(n?" p: "+n.index:"")+" of level "+h.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===lt.State.PARSED&&(this.state=lt.State.IDLE));var d=n?n.stats:h.stats;this.fragLastKbps=Math.round(8*d.total/(d.buffering.end-d.loading.first)),"initSegment"!==h.sn&&(this.fragPrevious=h),this.fragBufferedComplete(h,n)}},x.onError=function(p,a){switch(a.details){case P.ErrorDetails.FRAG_LOAD_ERROR:case P.ErrorDetails.FRAG_LOAD_TIMEOUT:case P.ErrorDetails.KEY_LOAD_ERROR:case P.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Q.PlaylistLevelType.MAIN,a);break;case P.ErrorDetails.LEVEL_LOAD_ERROR:case P.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==lt.State.ERROR&&(a.fatal?(this.warn(""+a.details),this.state=lt.State.ERROR):!a.levelRetry&&this.state===lt.State.WAITING_LEVEL&&(this.state=lt.State.IDLE));break;case P.ErrorDetails.BUFFER_FULL_ERROR:if("main"===a.parent&&(this.state===lt.State.PARSING||this.state===lt.State.PARSED)){var h=!0,n=this.getFwdBufferInfo(this.media,Q.PlaylistLevelType.MAIN);n&&n.len>.5&&(h=!this.reduceMaxBufferLength(n.len)),h&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},x.checkBuffer=function(){var p=this.media,a=this.gapController;if(p&&a&&p.readyState){var h=K.BufferHelper.getBuffered(p);!this.loadedmetadata&&h.length?(this.loadedmetadata=!0,this.seekToStartPos()):a.poll(this.lastCurrentTime),this.lastCurrentTime=p.currentTime}},x.onFragLoadEmergencyAborted=function(){this.state=lt.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},x.onBufferFlushed=function(p,a){var h=a.type;(h!==W.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed((h===W.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media,h,Q.PlaylistLevelType.MAIN)},x.onLevelsUpdated=function(p,a){this.levels=a.levels},x.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},x.seekToStartPos=function(){var p=this.media,a=p.currentTime,h=this.startPosition;if(h>=0&&a<h){if(p.seeking)return void w.logger.log("could not seek to "+h+", already seeking at "+a);var n=K.BufferHelper.getBuffered(p),o=(n.length?n.start(0):0)-h;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(w.logger.log("adjusting start position by "+o+" to match buffer start"),this.startPosition=h+=o),this.log("seek to target start position "+h+" from current time "+a),p.currentTime=h}},x._getAudioCodec=function(p){var a=this.config.defaultAudioCodec||p.audioCodec;return this.audioCodecSwap&&a&&(this.log("Swapping audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),a},x._loadBitrateTestFrag=function(p){var a=this;this._doFragLoad(p).then(function(h){var n=a.hls;if(h&&!n.nextLoadLevel&&!a.fragContextChanged(p)){a.fragLoadError=0,a.state=lt.State.IDLE,a.startFragRequested=!1,a.bitrateTest=!1;var d=p.stats;d.parsing.start=d.parsing.end=d.buffering.start=d.buffering.end=self.performance.now(),n.trigger(H.Events.FRAG_LOADED,h)}})},x._handleTransmuxComplete=function(p){var a,h="main",n=this.hls,d=p.remuxResult,o=p.chunkMeta,r=this.getCurrentContext(o);if(!r)return this.warn("The loading context changed while buffering fragment "+o.sn+" of level "+o.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(o.level);var u=r.frag,c=r.part,b=r.level,O=d.video,k=d.text,_=d.id3,A=d.initSegment,B=this.altAudio?void 0:d.audio;if(!this.fragContextChanged(u)){if(this.state=lt.State.PARSING,A){A.tracks&&(this._bufferInitSegment(b,A.tracks,u,o),n.trigger(H.Events.FRAG_PARSING_INIT_SEGMENT,{frag:u,id:h,tracks:A.tracks}));var m=A.initPTS,T=A.timescale;Object(St.isFiniteNumber)(m)&&(this.initPTS[u.cc]=m,n.trigger(H.Events.INIT_PTS_FOUND,{frag:u,id:h,initPTS:m,timescale:T}))}if(O&&!1!==d.independent){if(b.details){var R=O.startPTS,j=O.endPTS,X=O.startDTS,$=O.endDTS;if(c)c.elementaryStreams[O.type]={startPTS:R,endPTS:j,startDTS:X,endDTS:$};else if(O.firstKeyFrame&&O.independent&&(this.couldBacktrack=!0),O.dropped&&O.independent){if(this.getLoadPosition()+this.config.maxBufferHole<R)return void this.backtrack(u);u.setElementaryStreamInfo(O.type,u.start,j,u.start,$,!0)}u.setElementaryStreamInfo(O.type,R,j,X,$),this.bufferFragmentData(O,u,c,o)}}else if(!1===d.independent)return void this.backtrack(u);if(B){var U=B.startPTS,N=B.endPTS,Z=B.startDTS,q=B.endDTS;c&&(c.elementaryStreams[W.ElementaryStreamTypes.AUDIO]={startPTS:U,endPTS:N,startDTS:Z,endDTS:q}),u.setElementaryStreamInfo(W.ElementaryStreamTypes.AUDIO,U,N,Z,q),this.bufferFragmentData(B,u,c,o)}null!=_&&null!==(a=_.samples)&&void 0!==a&&a.length&&n.trigger(H.Events.FRAG_PARSING_METADATA,{frag:u,id:h,samples:_.samples}),k&&n.trigger(H.Events.FRAG_PARSING_USERDATA,{frag:u,id:h,samples:k.samples})}},x._bufferInitSegment=function(p,a,h,n){var d=this;if(this.state===lt.State.PARSING){this.audioOnly=!!a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio;var o=a.audio,r=a.video,u=a.audiovideo;if(o){var c=p.audioCodec,b=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===b.indexOf("firefox")&&(c="mp4a.40.5")),-1!==b.indexOf("android")&&"audio/mpeg"!==o.container&&this.log("Android: force audio codec to "+(c="mp4a.40.2")),p.audioCodec&&p.audioCodec!==c&&this.log('Swapping manifest audio codec "'+p.audioCodec+'" for "'+c+'"'),o.levelCodec=c,o.id="main",this.log("Init audio buffer, container:"+o.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(p.audioCodec||"")+"/"+o.codec+"]")}r&&(r.levelCodec=p.videoCodec,r.id="main",this.log("Init video buffer, container:"+r.container+", codecs[level/parsed]=["+(p.videoCodec||"")+"/"+r.codec+"]")),u&&this.log("Init audiovideo buffer, container:"+u.container+", codecs[level/parsed]=["+(p.attrs.CODECS||"")+"/"+u.codec+"]"),this.hls.trigger(H.Events.BUFFER_CODECS,a),Object.keys(a).forEach(function(O){var _=a[O].initSegment;null!=_&&_.byteLength&&d.hls.trigger(H.Events.BUFFER_APPENDING,{type:O,data:_,frag:h,part:null,chunkMeta:n,parent:h.type})}),this.tick()}},x.backtrack=function(p){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(p);var a=this.fragmentTracker.backtrack(p);this.fragPrevious=null,this.nextLoadPosition=p.start,a?this.resetFragmentLoading(p):this.state=lt.State.BACKTRACKING},x.checkFragmentChanged=function(){var p=this.media,a=null;if(p&&p.readyState>1&&!1===p.seeking){var h=p.currentTime;if(K.BufferHelper.isBuffered(p,h)?a=this.getAppendedFrag(h):K.BufferHelper.isBuffered(p,h+.1)&&(a=this.getAppendedFrag(h+.1)),a){var n=this.fragPlaying,d=a.level;(!n||a.sn!==n.sn||n.level!==d||a.urlId!==n.urlId)&&(this.hls.trigger(H.Events.FRAG_CHANGED,{frag:a}),(!n||n.level!==d)&&this.hls.trigger(H.Events.LEVEL_SWITCHED,{level:d}),this.fragPlaying=a)}}},function s(f,C,x){return C&&E(f.prototype,C),x&&E(f,x),f}(C,[{key:"nextLevel",get:function(){var p=this.nextBufferedFrag;return p?p.level:-1}},{key:"currentLevel",get:function(){var p=this.media;if(p){var a=this.getAppendedFrag(p.currentTime);if(a)return a.level}return-1}},{key:"nextBufferedFrag",get:function(){var p=this.media;if(p){var a=this.getAppendedFrag(p.currentTime);return this.followingBufferedFrag(a)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),C}(lt.default)},"./src/controller/subtitle-stream-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"SubtitleStreamController",function(){return s});var St=ft("./src/events.ts"),lt=ft("./src/utils/buffer-helper.ts"),F=ft("./src/controller/fragment-finders.ts"),H=ft("./src/utils/discontinuities.ts"),K=ft("./src/controller/level-helper.ts"),V=ft("./src/controller/fragment-tracker.ts"),Q=ft("./src/controller/base-stream-controller.ts"),W=ft("./src/types/loader.ts"),Y=ft("./src/types/level.ts");function z(l,g){for(var v=0;v<g.length;v++){var S=g[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}function P(l,g){l.prototype=Object.create(g.prototype),l.prototype.constructor=l,w(l,g)}function w(l,g){return(w=Object.setPrototypeOf||function(S,f){return S.__proto__=f,S})(l,g)}var s=function(l){function g(S,f){var C;return(C=l.call(this,S,f,"[subtitle-stream-controller]")||this).levels=[],C.currentTrackId=-1,C.tracksBuffered=[],C.mainDetails=null,C._registerListeners(),C}P(g,l);var v=g.prototype;return v.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},v._registerListeners=function(){var f=this.hls;f.on(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),f.on(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.on(St.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.on(St.Events.LEVEL_LOADED,this.onLevelLoaded,this),f.on(St.Events.ERROR,this.onError,this),f.on(St.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),f.on(St.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),f.on(St.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),f.on(St.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),f.on(St.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},v._unregisterListeners=function(){var f=this.hls;f.off(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),f.off(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.off(St.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.off(St.Events.LEVEL_LOADED,this.onLevelLoaded,this),f.off(St.Events.ERROR,this.onError,this),f.off(St.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),f.off(St.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),f.off(St.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),f.off(St.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),f.off(St.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},v.startLoad=function(){this.stopLoad(),this.state=Q.State.IDLE,this.setInterval(500),this.tick()},v.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},v.onLevelLoaded=function(f,C){this.mainDetails=C.details},v.onSubtitleFragProcessed=function(f,C){var x=C.frag,M=C.success;if(this.fragPrevious=x,this.state=Q.State.IDLE,M){var p=this.tracksBuffered[this.currentTrackId];if(p){for(var a,h=x.start,n=0;n<p.length;n++)if(h>=p[n].start&&h<=p[n].end){a=p[n];break}var d=x.start+x.duration;a?a.end=d:p.push(a={start:h,end:d}),this.fragmentTracker.fragBuffered(x)}}},v.onBufferFlushing=function(f,C){var x=C.startOffset,M=C.endOffset;if(0===x&&M!==Number.POSITIVE_INFINITY){var p=this.currentTrackId,a=this.levels;if(!a.length||!a[p]||!a[p].details)return;var d=M-a[p].details.targetduration;if(d<=0)return;C.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(function(o){for(var r=0;r<o.length;)if(o[r].end<=d)o.shift();else{if(!(o[r].start<d))break;o[r].start=d,r++}}),this.fragmentTracker.removeFragmentsInRange(x,d,W.PlaylistLevelType.SUBTITLE)}},v.onError=function(f,C){var x,M=C.frag;!M||M.type!==W.PlaylistLevelType.SUBTITLE||(null!==(x=this.fragCurrent)&&void 0!==x&&x.loader&&this.fragCurrent.loader.abort(),this.state=Q.State.IDLE)},v.onSubtitleTracksUpdated=function(f,C){var x=this,M=C.subtitleTracks;this.tracksBuffered=[],this.levels=M.map(function(p){return new Y.Level(p)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(p){x.tracksBuffered[p.id]=[]}),this.mediaBuffer=null},v.onSubtitleTrackSwitch=function(f,C){if(this.currentTrackId=C.id,this.levels.length&&-1!==this.currentTrackId){var x=this.levels[this.currentTrackId];this.mediaBuffer=null!=x&&x.details?this.mediaBufferTimeRanges:null,x&&this.setInterval(500)}else this.clearInterval()},v.onSubtitleTrackLoaded=function(f,C){var x,M=C.details,p=C.id,a=this.currentTrackId,h=this.levels;if(h.length){var n=h[a];if(!(p>=h.length||p!==a)&&n){if(this.mediaBuffer=this.mediaBufferTimeRanges,M.live||null!==(x=n.details)&&void 0!==x&&x.live){var d=this.mainDetails;if(M.deltaUpdateFailed||!d)return;var o=d.fragments[0];n.details?0===this.alignPlaylists(M,n.details)&&o&&Object(K.addSliding)(M,o.start):M.hasProgramDateTime&&d.hasProgramDateTime?Object(H.alignMediaPlaylistByPDT)(M,d):o&&Object(K.addSliding)(M,o.start)}n.details=M,this.levelLastLoaded=p,this.tick(),M.live&&!this.fragCurrent&&this.media&&this.state===Q.State.IDLE&&(Object(F.findFragmentByPTS)(null,M.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),n.details=void 0))}}},v._handleFragmentLoadComplete=function(f){var C=f.frag,x=f.payload,M=C.decryptdata,p=this.hls;if(!this.fragContextChanged(C)&&x&&x.byteLength>0&&M&&M.key&&M.iv&&"AES-128"===M.method){var a=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(x),M.key.buffer,M.iv.buffer).then(function(h){var n=performance.now();p.trigger(St.Events.FRAG_DECRYPTED,{frag:C,payload:h,stats:{tstart:a,tdecrypt:n}})})}},v.doTick=function(){if(this.media){if(this.state===Q.State.IDLE){var f,C=this.currentTrackId,x=this.levels;if(!x.length||!x[C]||!x[C].details)return;var M=x[C].details,p=M.targetduration,a=this.config,n=lt.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,this.media.currentTime-p,a.maxBufferHole),d=n.end;if(n.len>this.getMaxBufferLength()+p)return;console.assert(M,"Subtitle track details are defined on idle subtitle stream controller tick");var O,u=M.fragments,c=u.length,k=this.fragPrevious;if(d<M.edge){var _=a.maxFragLookUpTolerance;!(O=Object(F.findFragmentByPTS)(k,u,d,_))&&k&&k.start<u[0].start&&(O=u[0])}else O=u[c-1];null!==(f=O)&&void 0!==f&&f.encrypted?this.loadKey(O,M):O&&this.fragmentTracker.getState(O)===V.FragmentState.NOT_LOADED&&this.loadFragment(O,M,d)}}else this.state=Q.State.IDLE},v.loadFragment=function(f,C,x){this.fragCurrent=f,l.prototype.loadFragment.call(this,f,C,x)},function I(l,g,v){return g&&z(l.prototype,g),v&&z(l,v),l}(g,[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}]),g}(Q.default)},"./src/controller/subtitle-track-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/events.ts"),lt=ft("./src/utils/texttrack-utils.ts"),F=ft("./src/controller/base-playlist-controller.ts"),H=ft("./src/types/loader.ts");function K(I,P){for(var w=0;w<P.length;w++){var E=P[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}function Q(I,P){I.prototype=Object.create(P.prototype),I.prototype.constructor=I,W(I,P)}function W(I,P){return(W=Object.setPrototypeOf||function(E,s){return E.__proto__=s,E})(I,P)}function z(I){for(var P=[],w=0;w<I.length;w++){var E=I[w];"subtitles"===E.kind&&E.label&&P.push(I[w])}return P}Mt.default=function(I){function P(E){var s;return(s=I.call(this,E,"[subtitle-track-controller]")||this).media=null,s.tracks=[],s.groupId=null,s.tracksInGroup=[],s.trackId=-1,s.selectDefaultTrack=!0,s.queuedDefaultTrack=-1,s.trackChangeListener=function(){return s.onTextTracksChanged()},s.asyncPollTrackChange=function(){return s.pollTrackChange(0)},s.useTextTrackPolling=!1,s.subtitlePollingInterval=-1,s.subtitleDisplay=!0,s.registerListeners(),s}Q(P,I);var w=P.prototype;return w.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,I.prototype.destroy.call(this)},w.registerListeners=function(){var s=this.hls;s.on(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(St.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.on(St.Events.MANIFEST_PARSED,this.onManifestParsed,this),s.on(St.Events.LEVEL_LOADING,this.onLevelLoading,this),s.on(St.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),s.on(St.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),s.on(St.Events.ERROR,this.onError,this)},w.unregisterListeners=function(){var s=this.hls;s.off(St.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(St.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(St.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.off(St.Events.MANIFEST_PARSED,this.onManifestParsed,this),s.off(St.Events.LEVEL_LOADING,this.onLevelLoading,this),s.off(St.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),s.off(St.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),s.off(St.Events.ERROR,this.onError,this)},w.onMediaAttached=function(s,l){this.media=l.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},w.pollTrackChange=function(s){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,s)},w.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),z(this.media.textTracks).forEach(function(l){Object(lt.clearCurrentCues)(l)}),this.subtitleTrack=-1,this.media=null)},w.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},w.onManifestParsed=function(s,l){this.tracks=l.subtitleTracks},w.onSubtitleTrackLoaded=function(s,l){var g=l.id,v=l.details,f=this.tracksInGroup[this.trackId];if(f){var C=f.details;f.details=l.details,this.log("subtitle track "+g+" loaded ["+v.startSN+"-"+v.endSN+"]"),g===this.trackId&&(this.retryCount=0,this.playlistLoaded(g,l,C))}else this.warn("Invalid subtitle track id "+g)},w.onLevelLoading=function(s,l){this.switchLevel(l.level)},w.onLevelSwitching=function(s,l){this.switchLevel(l.level)},w.switchLevel=function(s){var l=this.hls.levels[s];if(null!=l&&l.textGroupIds){var g=l.textGroupIds[l.urlId];if(this.groupId!==g){var v=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,S=this.tracks.filter(function(x){return!g||x.groupId===g});this.tracksInGroup=S;var f=this.findTrackId(null==v?void 0:v.name)||this.findTrackId();this.groupId=g;var C={subtitleTracks:S};this.log("Updating subtitle tracks, "+S.length+' track(s) found in "'+g+'" group-id'),this.hls.trigger(St.Events.SUBTITLE_TRACKS_UPDATED,C),-1!==f&&this.setSubtitleTrack(f,v)}}},w.findTrackId=function(s){for(var l=this.tracksInGroup,g=0;g<l.length;g++){var v=l[g];if((!this.selectDefaultTrack||v.default)&&(!s||s===v.name))return v.id}return-1},w.onError=function(s,l){I.prototype.onError.call(this,s,l),!l.fatal&&l.context&&l.context.type===H.PlaylistContextType.SUBTITLE_TRACK&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&this.retryLoadingOrFail(l)},w.loadPlaylist=function(s){var l=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(l)){var g=l.id,v=l.groupId,S=l.url;if(s)try{S=s.addDirectives(S)}catch(f){this.warn("Could not construct new URL with HLS Delivery Directives: "+f)}this.log("Loading subtitle playlist for id "+g),this.hls.trigger(St.Events.SUBTITLE_TRACK_LOADING,{url:S,id:g,groupId:v,deliveryDirectives:s||null})}},w.toggleTrackModes=function(s){var l=this,g=this.media,v=this.subtitleDisplay,S=this.trackId;if(g){var f=z(g.textTracks),C=f.filter(function(p){return p.groupId===l.groupId});if(-1===s)[].slice.call(f).forEach(function(p){p.mode="disabled"});else{var x=C[S];x&&(x.mode="disabled")}var M=C[s];M&&(M.mode=v?"showing":"hidden")}},w.setSubtitleTrack=function(s,l){var g,v=this.tracksInGroup;if(this.media){if(this.trackId!==s&&this.toggleTrackModes(s),!(this.trackId===s&&(-1===s||null!==(g=v[s])&&void 0!==g&&g.details)||s<-1||s>=v.length)){this.clearTimer();var S=v[s];if(this.log("Switching to subtitle track "+s),this.trackId=s,S){var C=S.groupId;this.hls.trigger(St.Events.SUBTITLE_TRACK_SWITCH,{id:S.id,groupId:void 0===C?"":C,name:S.name,type:S.type,url:S.url});var h=this.switchParams(S.url,null==l?void 0:l.details);this.loadPlaylist(h)}else this.hls.trigger(St.Events.SUBTITLE_TRACK_SWITCH,{id:s})}}else this.queuedDefaultTrack=s},w.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var s=-1,l=z(this.media.textTracks),g=0;g<l.length;g++)if("hidden"===l[g].mode)s=g;else if("showing"===l[g].mode){s=g;break}this.subtitleTrack!==s&&(this.subtitleTrack=s)}},function V(I,P,w){return P&&K(I.prototype,P),w&&K(I,w),I}(P,[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(s){this.selectDefaultTrack=!1,this.setSubtitleTrack(s,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}}]),P}(F.default)},"./src/controller/timeline-controller.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"TimelineController",function(){return z});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/events.ts"),F=ft("./src/utils/cea-608-parser.ts"),H=ft("./src/utils/output-filter.ts"),K=ft("./src/utils/webvtt-parser.ts"),V=ft("./src/utils/texttrack-utils.ts"),Q=ft("./src/utils/imsc1-ttml-parser.ts"),W=ft("./src/types/loader.ts"),Y=ft("./src/utils/logger.ts"),z=function(){function E(l){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=l,this.config=l.config,this.Cues=l.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var g=new H.default(this,"textTrack1"),v=new H.default(this,"textTrack2"),S=new H.default(this,"textTrack3"),f=new H.default(this,"textTrack4");this.cea608Parser1=new F.default(1,g,v),this.cea608Parser2=new F.default(3,S,f)}l.on(lt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),l.on(lt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),l.on(lt.Events.MANIFEST_LOADING,this.onManifestLoading,this),l.on(lt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),l.on(lt.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),l.on(lt.Events.FRAG_LOADING,this.onFragLoading,this),l.on(lt.Events.FRAG_LOADED,this.onFragLoaded,this),l.on(lt.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),l.on(lt.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),l.on(lt.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),l.on(lt.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),l.on(lt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var s=E.prototype;return s.destroy=function(){var g=this.hls;g.off(lt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),g.off(lt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.off(lt.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(lt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),g.off(lt.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),g.off(lt.Events.FRAG_LOADING,this.onFragLoading,this),g.off(lt.Events.FRAG_LOADED,this.onFragLoaded,this),g.off(lt.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),g.off(lt.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),g.off(lt.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),g.off(lt.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),g.off(lt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},s.addCues=function(g,v,S,f,C){for(var x=!1,M=C.length;M--;){var p=C[M],a=P(p[0],p[1],v,S);if(a>=0&&(p[0]=Math.min(p[0],v),p[1]=Math.max(p[1],S),x=!0,a/(S-v)>.5))return}if(x||C.push([v,S]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[g],v,S,f);else{var n=this.Cues.newCue(null,v,S,f);this.hls.trigger(lt.Events.CUES_PARSED,{type:"captions",cues:n,track:g})}},s.onInitPtsFound=function(g,v){var S=this,f=v.frag,M=v.timescale,p=this.unparsedVttFrags;"main"===v.id&&(this.initPTS[f.cc]=v.initPTS,this.timescale[f.cc]=M),p.length&&(this.unparsedVttFrags=[],p.forEach(function(a){S.onFragLoaded(lt.Events.FRAG_LOADED,a)}))},s.getExistingTrack=function(g){var v=this.media;if(v)for(var S=0;S<v.textTracks.length;S++){var f=v.textTracks[S];if(f[g])return f}return null},s.createCaptionsTrack=function(g){this.config.renderTextTracksNatively?this.createNativeTrack(g):this.createNonNativeTrack(g)},s.createNativeTrack=function(g){if(!this.captionsTracks[g]){var S=this.captionsTracks,f=this.media,C=this.captionsProperties[g],x=C.label,M=C.languageCode,p=this.getExistingTrack(g);if(p)S[g]=p,Object(V.clearCurrentCues)(S[g]),Object(V.sendAddTrackEvent)(S[g],f);else{var a=this.createTextTrack("captions",x,M);a&&(a[g]=!0,S[g]=a)}}},s.createNonNativeTrack=function(g){if(!this.nonNativeCaptionsTracks[g]){var v=this.captionsProperties[g];if(v){var f={_id:g,label:v.label,kind:"captions",default:!!v.media&&!!v.media.default,closedCaptions:v.media};this.nonNativeCaptionsTracks[g]=f,this.hls.trigger(lt.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[f]})}}},s.createTextTrack=function(g,v,S){var f=this.media;if(f)return f.addTextTrack(g,v,S)},s.onMediaAttaching=function(g,v){this.media=v.media,this._cleanTracks()},s.onMediaDetaching=function(){var g=this.captionsTracks;Object.keys(g).forEach(function(v){Object(V.clearCurrentCues)(g[v]),delete g[v]}),this.nonNativeCaptionsTracks={}},s.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},s._cleanTracks=function(){var g=this.media;if(g){var v=g.textTracks;if(v)for(var S=0;S<v.length;S++)Object(V.clearCurrentCues)(v[S])}},s.onSubtitleTracksUpdated=function(g,v){var S=this;this.textTracks=[];var f=v.subtitleTracks||[],C=f.some(function(a){return a.textCodec===Q.IMSC1_CODEC});if(this.config.enableWebVTT||C&&this.config.enableIMSC1){var x=this.tracks&&f&&this.tracks.length===f.length;if(this.tracks=f||[],this.config.renderTextTracksNatively){var M=this.media?this.media.textTracks:[];this.tracks.forEach(function(a,h){var n;if(h<M.length){for(var d=null,o=0;o<M.length;o++)if(I(M[o],a)){d=M[o];break}d&&(n=d)}n?Object(V.clearCurrentCues)(n):(n=S.createTextTrack("subtitles",a.name,a.lang))&&(n.mode="disabled"),n&&(n.groupId=a.groupId,S.textTracks.push(n))})}else if(!x&&this.tracks&&this.tracks.length){var p=this.tracks.map(function(a){return{label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}});this.hls.trigger(lt.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:p})}}},s.onManifestLoaded=function(g,v){var S=this;this.config.enableCEA708Captions&&v.captions&&v.captions.forEach(function(f){var C=/(?:CC|SERVICE)([1-4])/.exec(f.instreamId);if(C){var M=S.captionsProperties["textTrack"+C[1]];!M||(M.label=f.name,f.lang&&(M.languageCode=f.lang),M.media=f)}})},s.onFragLoading=function(g,v){var S=this.cea608Parser1,f=this.cea608Parser2,C=this.lastSn;if(this.enabled&&S&&f&&v.frag.type===W.PlaylistLevelType.MAIN){var M,p,a=v.frag.sn,h=null!=(M=null==v||null===(p=v.part)||void 0===p?void 0:p.index)?M:-1;a===C+1||a===C&&h===this.lastPartIndex+1||(S.reset(),f.reset()),this.lastSn=a,this.lastPartIndex=h}},s.onFragLoaded=function(g,v){var S=v.frag,f=v.payload,C=this.initPTS,x=this.unparsedVttFrags;if(S.type===W.PlaylistLevelType.SUBTITLE)if(f.byteLength){if(!Object(St.isFiniteNumber)(C[S.cc]))return x.push(v),void(C.length&&this.hls.trigger(lt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:S,error:new Error("Missing initial subtitle PTS")}));var M=S.decryptdata;if(null==M||null==M.key||"AES-128"!==M.method||"stats"in v){var a=this.tracks[S.level],h=this.vttCCs;h[S.cc]||(h[S.cc]={start:S.start,prevCC:this.prevCC,new:!0},this.prevCC=S.cc),a&&a.textCodec===Q.IMSC1_CODEC?this._parseIMSC1(S,f):this._parseVTTs(S,f,h)}}else this.hls.trigger(lt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:S,error:new Error("Empty subtitle payload")})},s._parseIMSC1=function(g,v){var S=this,f=this.hls;Object(Q.parseIMSC1)(v,this.initPTS[g.cc],this.timescale[g.cc],function(C){S._appendCues(C,g.level),f.trigger(lt.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:g})},function(C){Y.logger.log("Failed to parse IMSC1: "+C),f.trigger(lt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:g,error:C})})},s._parseVTTs=function(g,v,S){var f=this,C=this.hls;Object(K.parseWebVTT)(v,this.initPTS[g.cc],this.timescale[g.cc],S,g.cc,g.start,function(x){f._appendCues(x,g.level),C.trigger(lt.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:g})},function(x){f._fallbackToIMSC1(g,v),Y.logger.log("Failed to parse VTT cue: "+x),C.trigger(lt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:g,error:x})})},s._fallbackToIMSC1=function(g,v){var S=this,f=this.tracks[g.level];f.textCodec||Object(Q.parseIMSC1)(v,this.initPTS[g.cc],this.timescale[g.cc],function(){f.textCodec=Q.IMSC1_CODEC,S._parseIMSC1(g,v)},function(){f.textCodec="wvtt"})},s._appendCues=function(g,v){var S=this.hls;if(this.config.renderTextTracksNatively){var f=this.textTracks[v];if("disabled"===f.mode)return;g.forEach(function(M){return Object(V.addCueToTrack)(f,M)})}else S.trigger(lt.Events.CUES_PARSED,{type:"subtitles",cues:g,track:this.tracks[v].default?"default":"subtitles"+v})},s.onFragDecrypted=function(g,v){var S=v.frag;if(S.type===W.PlaylistLevelType.SUBTITLE){if(!Object(St.isFiniteNumber)(this.initPTS[S.cc]))return void this.unparsedVttFrags.push(v);this.onFragLoaded(lt.Events.FRAG_LOADED,v)}},s.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},s.onFragParsingUserdata=function(g,v){var S=this.cea608Parser1,f=this.cea608Parser2;if(this.enabled&&S&&f)for(var C=0;C<v.samples.length;C++){var x=v.samples[C].bytes;if(x){var M=this.extractCea608Data(x);S.addData(v.samples[C].pts,M[0]),f.addData(v.samples[C].pts,M[1])}}},s.onBufferFlushing=function(g,v){var S=v.startOffset,f=v.endOffset,C=v.endOffsetSubtitles,x=v.type,M=this.media;if(M&&!(M.currentTime<f)){if(!x||"video"===x){var p=this.captionsTracks;Object.keys(p).forEach(function(h){return Object(V.removeCuesInRange)(p[h],S,f)})}if(this.config.renderTextTracksNatively&&0===S&&void 0!==C){var a=this.textTracks;Object.keys(a).forEach(function(h){return Object(V.removeCuesInRange)(a[h],S,C)})}}},s.extractCea608Data=function(g){for(var v=31&g[0],S=2,f=[[],[]],C=0;C<v;C++){var x=g[S++],M=127&g[S++],p=127&g[S++],h=3&x;0===M&&0===p||0!=(4&x)&&(0===h||1===h)&&(f[h].push(M),f[h].push(p))}return f},E}();function I(E,s){return E&&E.label===s.name&&!(E.textTrack1||E.textTrack2)}function P(E,s,l,g){return Math.min(s,g)-Math.max(E,l)}},"./src/crypt/aes-crypto.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return St});var St=function(){function lt(H,K){this.subtle=void 0,this.aesIV=void 0,this.subtle=H,this.aesIV=K}return lt.prototype.decrypt=function(K,V){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},V,K)},lt}()},"./src/crypt/aes-decryptor.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"removePadding",function(){return lt}),ft.d(Mt,"default",function(){return F});var St=ft("./src/utils/typed-array.ts");function lt(H){var K=H.byteLength,V=K&&new DataView(H.buffer).getUint8(K-1);return V?Object(St.sliceUint8)(H,0,K-V):H}var F=function(){function H(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var K=H.prototype;return K.uint8ArrayToUint32Array_=function(Q){for(var W=new DataView(Q),Y=new Uint32Array(4),z=0;z<4;z++)Y[z]=W.getUint32(4*z);return Y},K.initTable=function(){var Q=this.sBox,W=this.invSBox,Y=this.subMix,z=Y[0],I=Y[1],P=Y[2],w=Y[3],E=this.invSubMix,s=E[0],l=E[1],g=E[2],v=E[3],S=new Uint32Array(256),f=0,C=0,x=0;for(x=0;x<256;x++)S[x]=x<128?x<<1:x<<1^283;for(x=0;x<256;x++){var M=C^C<<1^C<<2^C<<3^C<<4;Q[f]=M=M>>>8^255&M^99,W[M]=f;var p=S[f],a=S[p],h=S[a],n=257*S[M]^16843008*M;z[f]=n<<24|n>>>8,I[f]=n<<16|n>>>16,P[f]=n<<8|n>>>24,w[f]=n,s[M]=(n=16843009*h^65537*a^257*p^16843008*f)<<24|n>>>8,l[M]=n<<16|n>>>16,g[M]=n<<8|n>>>24,v[M]=n,f?(f=p^S[S[S[h^p]]],C^=S[S[C]]):f=C=1}},K.expandKey=function(Q){for(var W=this.uint8ArrayToUint32Array_(Q),Y=!0,z=0;z<W.length&&Y;)Y=W[z]===this.key[z],z++;if(!Y){this.key=W;var I=this.keySize=W.length;if(4!==I&&6!==I&&8!==I)throw new Error("Invalid aes key size="+I);var w,E,p,a,P=this.ksRows=4*(I+6+1),s=this.keySchedule=new Uint32Array(P),l=this.invKeySchedule=new Uint32Array(P),g=this.sBox,v=this.rcon,S=this.invSubMix,f=S[0],C=S[1],x=S[2],M=S[3];for(w=0;w<P;w++)w<I?p=s[w]=W[w]:(a=p,w%I==0?(a=g[(a=a<<8|a>>>24)>>>24]<<24|g[a>>>16&255]<<16|g[a>>>8&255]<<8|g[255&a],a^=v[w/I|0]<<24):I>6&&w%I==4&&(a=g[a>>>24]<<24|g[a>>>16&255]<<16|g[a>>>8&255]<<8|g[255&a]),s[w]=p=(s[w-I]^a)>>>0);for(E=0;E<P;E++)w=P-E,a=3&E?s[w]:s[w-4],l[E]=E<4||w<=4?a:f[g[a>>>24]]^C[g[a>>>16&255]]^x[g[a>>>8&255]]^M[g[255&a]],l[E]=l[E]>>>0}},K.networkToHostOrderSwap=function(Q){return Q<<24|(65280&Q)<<8|(16711680&Q)>>8|Q>>>24},K.decrypt=function(Q,W,Y){for(var h,n,d,o,r,u,c,b,O,k,_,A,B,z=this.keySize+6,I=this.invKeySchedule,P=this.invSBox,w=this.invSubMix,E=w[0],s=w[1],l=w[2],g=w[3],v=this.uint8ArrayToUint32Array_(Y),S=v[0],f=v[1],C=v[2],x=v[3],M=new Int32Array(Q),p=new Int32Array(M.length),m=this.networkToHostOrderSwap;W<M.length;){for(b=m(M[W]),O=m(M[W+1]),k=m(M[W+2]),_=m(M[W+3]),o=b^I[0],r=_^I[1],u=k^I[2],c=O^I[3],A=4,B=1;B<z;B++)h=E[r>>>24]^s[u>>16&255]^l[c>>8&255]^g[255&o]^I[A+1],n=E[u>>>24]^s[c>>16&255]^l[o>>8&255]^g[255&r]^I[A+2],d=E[c>>>24]^s[o>>16&255]^l[r>>8&255]^g[255&u]^I[A+3],o=E[o>>>24]^s[r>>16&255]^l[u>>8&255]^g[255&c]^I[A],r=h,u=n,c=d,A+=4;h=P[r>>>24]<<24^P[u>>16&255]<<16^P[c>>8&255]<<8^P[255&o]^I[A+1],n=P[u>>>24]<<24^P[c>>16&255]<<16^P[o>>8&255]<<8^P[255&r]^I[A+2],d=P[c>>>24]<<24^P[o>>16&255]<<16^P[r>>8&255]<<8^P[255&u]^I[A+3],p[W]=m(P[o>>>24]<<24^P[r>>16&255]<<16^P[u>>8&255]<<8^P[255&c]^I[A]^S),p[W+1]=m(d^f),p[W+2]=m(n^C),p[W+3]=m(h^x),S=b,f=O,C=k,x=_,W+=4}return p.buffer},H}()},"./src/crypt/decrypter.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return W});var St=ft("./src/crypt/aes-crypto.ts"),lt=ft("./src/crypt/fast-aes-key.ts"),F=ft("./src/crypt/aes-decryptor.ts"),H=ft("./src/utils/logger.ts"),K=ft("./src/utils/mp4-tools.ts"),V=ft("./src/utils/typed-array.ts"),W=function(){function Y(I,P,w){var s=(void 0===w?{}:w).removePKCS7Padding,l=void 0===s||s;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=I,this.config=P,this.removePKCS7Padding=l,l)try{var g=self.crypto;g&&(this.subtle=g.subtle||g.webkitSubtle)}catch(v){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var z=Y.prototype;return z.destroy=function(){this.observer=null},z.isSync=function(){return this.config.enableSoftwareAES},z.flush=function(){var P=this.currentResult;if(P){var w=new Uint8Array(P);return this.reset(),this.removePKCS7Padding?Object(F.removePadding)(w):w}this.reset()},z.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},z.decrypt=function(P,w,E,s){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(P),w,E);var l=this.flush();l&&s(l.buffer)}else this.webCryptoDecrypt(new Uint8Array(P),w,E).then(s)},z.softwareDecrypt=function(P,w,E){var s=this.currentIV,l=this.currentResult,g=this.remainderData;this.logOnce("JS AES decrypt"),g&&(P=Object(K.appendUint8Array)(g,P),this.remainderData=null);var v=this.getValidChunk(P);if(!v.length)return null;s&&(E=s);var S=this.softwareDecrypter;S||(S=this.softwareDecrypter=new F.default),S.expandKey(w);var f=l;return this.currentResult=S.decrypt(v.buffer,0,E),this.currentIV=Object(V.sliceUint8)(v,-16).buffer,f||null},z.webCryptoDecrypt=function(P,w,E){var s=this,l=this.subtle;return(this.key!==w||!this.fastAesKey)&&(this.key=w,this.fastAesKey=new lt.default(l,w)),this.fastAesKey.expandKey().then(function(g){return l?new St.default(l,E).decrypt(P.buffer,g):Promise.reject(new Error("web crypto not initialized"))}).catch(function(g){return s.onWebCryptoError(g,P,w,E)})},z.onWebCryptoError=function(P,w,E,s){return H.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",P),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(w,E,s)},z.getValidChunk=function(P){var w=P,E=P.length-P.length%16;return E!==P.length&&(w=Object(V.sliceUint8)(P,0,E),this.remainderData=Object(V.sliceUint8)(P,E)),w},z.logOnce=function(P){!this.logEnabled||(H.logger.log("[decrypter.ts]: "+P),this.logEnabled=!1)},Y}()},"./src/crypt/fast-aes-key.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return St});var St=function(){function lt(H,K){this.subtle=void 0,this.key=void 0,this.subtle=H,this.key=K}return lt.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},lt}()},"./src/demux/aacdemuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/demux/base-audio-demuxer.ts"),lt=ft("./src/demux/adts.ts"),F=ft("./src/utils/logger.ts"),H=ft("./src/demux/id3.ts");function K(W,Y){W.prototype=Object.create(Y.prototype),W.prototype.constructor=W,V(W,Y)}function V(W,Y){return(V=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I})(W,Y)}var Q=function(W){function Y(I,P){var w;return(w=W.call(this)||this).observer=void 0,w.config=void 0,w.observer=I,w.config=P,w}K(Y,W);var z=Y.prototype;return z.resetInitSegment=function(P,w,E){W.prototype.resetInitSegment.call(this,P,w,E),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:P,duration:E,inputTimeScale:9e4,dropped:0}},Y.probe=function(P){if(!P)return!1;for(var E=(H.getID3Data(P,0)||[]).length,s=P.length;E<s;E++)if(lt.probe(P,E))return F.logger.log("ADTS sync word found !"),!0;return!1},z.canParse=function(P,w){return lt.canParse(P,w)},z.appendFrame=function(P,w,E){lt.initTrackConfig(P,this.observer,w,E,P.manifestCodec);var s=lt.appendFrame(P,w,E,this.initPTS,this.frameIndex);if(s&&0===s.missing)return s},Y}(St.default);Q.minProbeByteLength=9,Mt.default=Q},"./src/demux/adts.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"getAudioConfig",function(){return H}),ft.d(Mt,"isHeaderPattern",function(){return K}),ft.d(Mt,"getHeaderLength",function(){return V}),ft.d(Mt,"getFullFrameLength",function(){return Q}),ft.d(Mt,"canGetFrameLength",function(){return W}),ft.d(Mt,"isHeader",function(){return Y}),ft.d(Mt,"canParse",function(){return z}),ft.d(Mt,"probe",function(){return I}),ft.d(Mt,"initTrackConfig",function(){return P}),ft.d(Mt,"getFrameDuration",function(){return w}),ft.d(Mt,"parseFrameHeader",function(){return E}),ft.d(Mt,"appendFrame",function(){return s});var St=ft("./src/utils/logger.ts"),lt=ft("./src/errors.ts"),F=ft("./src/events.ts");function H(l,g,v,S){var f,C,x,M,p=navigator.userAgent.toLowerCase(),a=S,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];f=1+((192&g[v+2])>>>6);var n=(60&g[v+2])>>>2;if(!(n>h.length-1))return x=(1&g[v+2])<<2,x|=(192&g[v+3])>>>6,St.logger.log("manifest codec:"+S+", ADTS type:"+f+", samplingIndex:"+n),/firefox/i.test(p)?n>=6?(f=5,M=new Array(4),C=n-3):(f=2,M=new Array(2),C=n):-1!==p.indexOf("android")?(f=2,M=new Array(2),C=n):(f=5,M=new Array(4),S&&(-1!==S.indexOf("mp4a.40.29")||-1!==S.indexOf("mp4a.40.5"))||!S&&n>=6?C=n-3:((S&&-1!==S.indexOf("mp4a.40.2")&&(n>=6&&1===x||/vivaldi/i.test(p))||!S&&1===x)&&(f=2,M=new Array(2)),C=n)),M[0]=f<<3,M[0]|=(14&n)>>1,M[1]|=(1&n)<<7,M[1]|=x<<3,5===f&&(M[1]|=(14&C)>>1,M[2]=(1&C)<<7,M[2]|=8,M[3]=0),{config:M,samplerate:h[n],channelCount:x,codec:"mp4a.40."+f,manifestCodec:a};l.trigger(F.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+n})}function K(l,g){return 255===l[g]&&240==(246&l[g+1])}function V(l,g){return 1&l[g+1]?7:9}function Q(l,g){return(3&l[g+3])<<11|l[g+4]<<3|(224&l[g+5])>>>5}function W(l,g){return g+5<l.length}function Y(l,g){return g+1<l.length&&K(l,g)}function z(l,g){return W(l,g)&&K(l,g)&&Q(l,g)<=l.length-g}function I(l,g){if(Y(l,g)){var v=V(l,g);if(g+v>=l.length)return!1;var S=Q(l,g);if(S<=v)return!1;var f=g+S;return f===l.length||Y(l,f)}return!1}function P(l,g,v,S,f){if(!l.samplerate){var C=H(g,v,S,f);if(!C)return;l.config=C.config,l.samplerate=C.samplerate,l.channelCount=C.channelCount,l.codec=C.codec,l.manifestCodec=C.manifestCodec,St.logger.log("parsed codec:"+l.codec+", rate:"+C.samplerate+", channels:"+C.channelCount)}}function w(l){return 9216e4/l}function E(l,g,v,S,f){var C=V(l,g),x=Q(l,g);if((x-=C)>0)return{headerLength:C,frameLength:x,stamp:v+S*f}}function s(l,g,v,S,f){var x=E(g,v,S,f,w(l.samplerate));if(x){var d,p=x.headerLength,a=x.stamp,h=p+x.frameLength,n=Math.max(0,v+h-g.length);n?(d=new Uint8Array(h-p)).set(g.subarray(v+p,g.length),0):d=g.subarray(v+p,v+h);var o={unit:d,pts:a};return n||l.samples.push(o),{sample:o,length:h,missing:n}}}},"./src/demux/base-audio-demuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"initPTSFn",function(){return Q});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/demux/id3.ts"),F=ft("./src/demux/dummy-demuxed-track.ts"),H=ft("./src/utils/mp4-tools.ts"),K=ft("./src/utils/typed-array.ts"),V=function(){function W(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var Y=W.prototype;return Y.resetInitSegment=function(I,P,w){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},Y.resetTimeStamp=function(){},Y.resetContiguity=function(){},Y.canParse=function(I,P){return!1},Y.appendFrame=function(I,P,w){},Y.demux=function(I,P){this.cachedData&&(I=Object(H.appendUint8Array)(this.cachedData,I),this.cachedData=null);var s,l,w=lt.getID3Data(I,0),E=w?w.length:0,g=this._audioTrack,v=this._id3Track,S=w?lt.getTimeStamp(w):void 0,f=I.length;for((0===this.frameIndex||null===this.initPTS)&&(this.initPTS=Q(S,P)),w&&w.length>0&&v.samples.push({pts:this.initPTS,dts:this.initPTS,data:w}),l=this.initPTS;E<f;){if(this.canParse(I,E)){var C=this.appendFrame(g,I,E);C?(this.frameIndex++,l=C.sample.pts,s=E+=C.length):E=f}else lt.canParse(I,E)?(w=lt.getID3Data(I,E),v.samples.push({pts:l,dts:l,data:w}),s=E+=w.length):E++;if(E===f&&s!==f){var x=Object(K.sliceUint8)(I,s);this.cachedData=this.cachedData?Object(H.appendUint8Array)(this.cachedData,x):x}}return{audioTrack:g,avcTrack:Object(F.dummyTrack)(),id3Track:v,textTrack:Object(F.dummyTrack)()}},Y.demuxSampleAes=function(I,P,w){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},Y.flush=function(I){var P=this.cachedData;return P&&(this.cachedData=null,this.demux(P,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(F.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(F.dummyTrack)()}},Y.destroy=function(){},W}(),Q=function(Y,z){return Object(St.isFiniteNumber)(Y)?90*Y:9e4*z};Mt.default=V},"./src/demux/chunk-cache.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return St});var St=function(){function F(){this.chunks=[],this.dataLength=0}var H=F.prototype;return H.push=function(V){this.chunks.push(V),this.dataLength+=V.length},H.flush=function(){var W,V=this.chunks;return V.length?(W=1===V.length?V[0]:function lt(F,H){for(var K=new Uint8Array(H),V=0,Q=0;Q<F.length;Q++){var W=F[Q];K.set(W,V),V+=W.length}return K}(V,this.dataLength),this.reset(),W):new Uint8Array(0)},H.reset=function(){this.chunks.length=0,this.dataLength=0},F}()},"./src/demux/dummy-demuxed-track.ts":function(zt,Mt,ft){"use strict";function St(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}ft.r(Mt),ft.d(Mt,"dummyTrack",function(){return St})},"./src/demux/exp-golomb.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/utils/logger.ts");Mt.default=function(){function F(K){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=K,this.bytesAvailable=K.byteLength,this.word=0,this.bitsAvailable=0}var H=F.prototype;return H.loadWord=function(){var V=this.data,Q=this.bytesAvailable,W=V.byteLength-Q,Y=new Uint8Array(4),z=Math.min(4,Q);if(0===z)throw new Error("no bytes available");Y.set(V.subarray(W,W+z)),this.word=new DataView(Y.buffer).getUint32(0),this.bitsAvailable=8*z,this.bytesAvailable-=z},H.skipBits=function(V){var Q;this.bitsAvailable>V?(this.word<<=V,this.bitsAvailable-=V):(V-=this.bitsAvailable,V-=(Q=V>>3)>>3,this.bytesAvailable-=Q,this.loadWord(),this.word<<=V,this.bitsAvailable-=V)},H.readBits=function(V){var Q=Math.min(this.bitsAvailable,V),W=this.word>>>32-Q;return V>32&&St.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=Q,this.bitsAvailable>0?this.word<<=Q:this.bytesAvailable>0&&this.loadWord(),(Q=V-Q)>0&&this.bitsAvailable?W<<Q|this.readBits(Q):W},H.skipLZ=function(){var V;for(V=0;V<this.bitsAvailable;++V)if(0!=(this.word&2147483648>>>V))return this.word<<=V,this.bitsAvailable-=V,V;return this.loadWord(),V+this.skipLZ()},H.skipUEG=function(){this.skipBits(1+this.skipLZ())},H.skipEG=function(){this.skipBits(1+this.skipLZ())},H.readUEG=function(){var V=this.skipLZ();return this.readBits(V+1)-1},H.readEG=function(){var V=this.readUEG();return 1&V?1+V>>>1:-1*(V>>>1)},H.readBoolean=function(){return 1===this.readBits(1)},H.readUByte=function(){return this.readBits(8)},H.readUShort=function(){return this.readBits(16)},H.readUInt=function(){return this.readBits(32)},H.skipScalingList=function(V){for(var Q=8,W=8,z=0;z<V;z++)0!==W&&(W=(Q+this.readEG()+256)%256),Q=0===W?Q:W},H.readSPS=function(){var z,I,P,V=0,Q=0,W=0,Y=0,w=this.readUByte.bind(this),E=this.readBits.bind(this),s=this.readUEG.bind(this),l=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),S=this.skipUEG.bind(this),f=this.skipScalingList.bind(this);w();var C=w();if(E(5),g(3),w(),S(),100===C||110===C||122===C||244===C||44===C||83===C||86===C||118===C||128===C){var x=s();if(3===x&&g(1),S(),S(),g(1),l())for(I=3!==x?8:12,P=0;P<I;P++)l()&&f(P<6?16:64)}S();var M=s();if(0===M)s();else if(1===M)for(g(1),v(),v(),z=s(),P=0;P<z;P++)v();S(),g(1);var p=s(),a=s(),h=E(1);0===h&&g(1),g(1),l()&&(V=s(),Q=s(),W=s(),Y=s());var n=[1,1];if(l()&&l())switch(w()){case 1:n=[1,1];break;case 2:n=[12,11];break;case 3:n=[10,11];break;case 4:n=[16,11];break;case 5:n=[40,33];break;case 6:n=[24,11];break;case 7:n=[20,11];break;case 8:n=[32,11];break;case 9:n=[80,33];break;case 10:n=[18,11];break;case 11:n=[15,11];break;case 12:n=[64,33];break;case 13:n=[160,99];break;case 14:n=[4,3];break;case 15:n=[3,2];break;case 16:n=[2,1];break;case 255:n=[w()<<8|w(),w()<<8|w()]}return{width:Math.ceil(16*(p+1)-2*V-2*Q),height:(2-h)*(a+1)*16-(h?2:4)*(W+Y),pixelRatio:n}},H.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},F}()},"./src/demux/id3.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"isHeader",function(){return St}),ft.d(Mt,"isFooter",function(){return lt}),ft.d(Mt,"getID3Data",function(){return F}),ft.d(Mt,"canParse",function(){return K}),ft.d(Mt,"getTimeStamp",function(){return V}),ft.d(Mt,"isTimeStampFrame",function(){return Q}),ft.d(Mt,"getID3Frames",function(){return Y}),ft.d(Mt,"decodeFrame",function(){return z}),ft.d(Mt,"utf8ArrayToStr",function(){return s}),ft.d(Mt,"testables",function(){return l});var g,St=function(f,C){return C+10<=f.length&&73===f[C]&&68===f[C+1]&&51===f[C+2]&&f[C+3]<255&&f[C+4]<255&&f[C+6]<128&&f[C+7]<128&&f[C+8]<128&&f[C+9]<128},lt=function(f,C){return C+10<=f.length&&51===f[C]&&68===f[C+1]&&73===f[C+2]&&f[C+3]<255&&f[C+4]<255&&f[C+6]<128&&f[C+7]<128&&f[C+8]<128&&f[C+9]<128},F=function(f,C){for(var x=C,M=0;St(f,C);)M+=10,M+=H(f,C+6),lt(f,C+10)&&(M+=10),C+=M;if(M>0)return f.subarray(x,x+M)},H=function(f,C){var x=0;return x=(127&f[C])<<21,x|=(127&f[C+1])<<14,(x|=(127&f[C+2])<<7)|127&f[C+3]},K=function(f,C){return St(f,C)&&H(f,C+6)+10<=f.length-C},V=function(f){for(var C=Y(f),x=0;x<C.length;x++){var M=C[x];if(Q(M))return E(M)}},Q=function(f){return f&&"PRIV"===f.key&&"com.apple.streaming.transportStreamTimestamp"===f.info},W=function(f){var C=String.fromCharCode(f[0],f[1],f[2],f[3]),x=H(f,4);return{type:C,size:x,data:f.subarray(10,10+x)}},Y=function(f){for(var C=0,x=[];St(f,C);){for(var M=H(f,C+6),p=(C+=10)+M;C+8<p;){var a=W(f.subarray(C)),h=z(a);h&&x.push(h),C+=a.size+10}lt(f,C)&&(C+=10)}return x},z=function(f){return"PRIV"===f.type?I(f):"W"===f.type[0]?w(f):P(f)},I=function(f){if(!(f.size<2)){var C=s(f.data,!0),x=new Uint8Array(f.data.subarray(C.length+1));return{key:f.type,info:C,data:x.buffer}}},P=function(f){if(!(f.size<2)){if("TXXX"===f.type){var C=1,x=s(f.data.subarray(C),!0),M=s(f.data.subarray(C+=x.length+1));return{key:f.type,info:x,data:M}}var p=s(f.data.subarray(1));return{key:f.type,data:p}}},w=function(f){if("WXXX"===f.type){if(f.size<2)return;var C=1,x=s(f.data.subarray(C),!0),M=s(f.data.subarray(C+=x.length+1));return{key:f.type,info:x,data:M}}var p=s(f.data);return{key:f.type,data:p}},E=function(f){if(8===f.data.byteLength){var C=new Uint8Array(f.data),M=(C[4]<<23)+(C[5]<<15)+(C[6]<<7)+C[7];return M/=45,1&C[3]&&(M+=47721858.84),Math.round(M)}},s=function(f,C){void 0===C&&(C=!1);var x=function v(){return!g&&void 0!==self.TextDecoder&&(g=new self.TextDecoder("utf-8")),g}();if(x){var M=x.decode(f);if(C){var p=M.indexOf("\0");return-1!==p?M.substring(0,p):M}return M.replace(/\0/g,"")}for(var h,n,d,a=f.length,o="",r=0;r<a;){if(0===(h=f[r++])&&C)return o;if(0!==h&&3!==h)switch(h>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(h);break;case 12:case 13:n=f[r++],o+=String.fromCharCode((31&h)<<6|63&n);break;case 14:n=f[r++],d=f[r++],o+=String.fromCharCode((15&h)<<12|(63&n)<<6|(63&d)<<0)}}return o},l={decodeTextFrame:P}},"./src/demux/mp3demuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/demux/base-audio-demuxer.ts"),lt=ft("./src/demux/id3.ts"),F=ft("./src/utils/logger.ts"),H=ft("./src/demux/mpegaudio.ts");function K(W,Y){W.prototype=Object.create(Y.prototype),W.prototype.constructor=W,V(W,Y)}function V(W,Y){return(V=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I})(W,Y)}var Q=function(W){function Y(){return W.apply(this,arguments)||this}K(Y,W);var z=Y.prototype;return z.resetInitSegment=function(P,w,E){W.prototype.resetInitSegment.call(this,P,w,E),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:P,duration:E,inputTimeScale:9e4,dropped:0}},Y.probe=function(P){if(!P)return!1;for(var E=(lt.getID3Data(P,0)||[]).length,s=P.length;E<s;E++)if(H.probe(P,E))return F.logger.log("MPEG Audio sync word found !"),!0;return!1},z.canParse=function(P,w){return H.canParse(P,w)},z.appendFrame=function(P,w,E){if(null!==this.initPTS)return H.appendFrame(P,w,E,this.initPTS,this.frameIndex)},Y}(St.default);Q.minProbeByteLength=4,Mt.default=Q},"./src/demux/mp4demuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/utils/mp4-tools.ts"),lt=ft("./src/demux/dummy-demuxed-track.ts"),F=function(){function H(V,Q){this.remainderData=null,this.config=void 0,this.config=Q}var K=H.prototype;return K.resetTimeStamp=function(){},K.resetInitSegment=function(){},K.resetContiguity=function(){},H.probe=function(Q){return Object(St.findBox)({data:Q,start:0,end:Math.min(Q.length,16384)},["moof"]).length>0},K.demux=function(Q){var W=Q,Y=Object(lt.dummyTrack)();if(this.config.progressive){this.remainderData&&(W=Object(St.appendUint8Array)(this.remainderData,Q));var z=Object(St.segmentValidRange)(W);this.remainderData=z.remainder,Y.samples=z.valid||new Uint8Array}else Y.samples=W;return{audioTrack:Object(lt.dummyTrack)(),avcTrack:Y,id3Track:Object(lt.dummyTrack)(),textTrack:Object(lt.dummyTrack)()}},K.flush=function(){var Q=Object(lt.dummyTrack)();return Q.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(lt.dummyTrack)(),avcTrack:Q,id3Track:Object(lt.dummyTrack)(),textTrack:Object(lt.dummyTrack)()}},K.demuxSampleAes=function(Q,W,Y){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},K.destroy=function(){},H}();F.minProbeByteLength=1024,Mt.default=F},"./src/demux/mpegaudio.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"appendFrame",function(){return V}),ft.d(Mt,"parseHeader",function(){return Q}),ft.d(Mt,"isHeaderPattern",function(){return W}),ft.d(Mt,"isHeader",function(){return Y}),ft.d(Mt,"canParse",function(){return z}),ft.d(Mt,"probe",function(){return I});var St=null,lt=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],F=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],H=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],K=[0,1,1,4];function V(P,w,E,s,l){if(!(E+24>w.length)){var g=Q(w,E);if(g&&E+g.frameLength<=w.length){var S=s+l*(9e4*g.samplesPerFrame/g.sampleRate),f={unit:w.subarray(E,E+g.frameLength),pts:S,dts:S};return P.config=[],P.channelCount=g.channelCount,P.samplerate=g.sampleRate,P.samples.push(f),{sample:f,length:g.frameLength,missing:0}}}}function Q(P,w){var E=P[w+1]>>3&3,s=P[w+1]>>1&3,l=P[w+2]>>4&15,g=P[w+2]>>2&3;if(1!==E&&0!==l&&15!==l&&3!==g){var S=P[w+3]>>6,C=1e3*lt[14*(3===E?3-s:3===s?3:4)+l-1],M=F[3*(3===E?0:2===E?1:2)+g],p=3===S?1:2,a=H[E][s],h=K[s],n=8*a*h,d=Math.floor(a*C/M+(P[w+2]>>1&1))*h;if(null===St){var r=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);St=r?parseInt(r[1]):0}return!!St&&St<=87&&2===s&&C>=224e3&&0===S&&(P[w+3]=128|P[w+3]),{sampleRate:M,channelCount:p,frameLength:d,samplesPerFrame:n}}}function W(P,w){return 255===P[w]&&224==(224&P[w+1])&&0!=(6&P[w+1])}function Y(P,w){return w+1<P.length&&W(P,w)}function z(P,w){return W(P,w)&&4<=P.length-w}function I(P,w){if(w+1<P.length&&W(P,w)){var s=Q(P,w),l=4;null!=s&&s.frameLength&&(l=s.frameLength);var g=w+l;return g===P.length||Y(P,g)}return!1}},"./src/demux/sample-aes.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/crypt/decrypter.ts"),lt=ft("./src/demux/tsdemuxer.ts");Mt.default=function(){function H(V,Q,W){this.keyData=void 0,this.decrypter=void 0,this.keyData=W,this.decrypter=new St.default(V,Q,{removePKCS7Padding:!1})}var K=H.prototype;return K.decryptBuffer=function(Q,W){this.decrypter.decrypt(Q,this.keyData.key.buffer,this.keyData.iv.buffer,W)},K.decryptAacSample=function(Q,W,Y,z){var I=Q[W].unit,P=I.subarray(16,I.length-I.length%16),w=P.buffer.slice(P.byteOffset,P.byteOffset+P.length),E=this;this.decryptBuffer(w,function(s){var l=new Uint8Array(s);I.set(l,16),z||E.decryptAacSamples(Q,W+1,Y)})},K.decryptAacSamples=function(Q,W,Y){for(;;W++){if(W>=Q.length)return void Y();if(!(Q[W].unit.length<32)){var z=this.decrypter.isSync();if(this.decryptAacSample(Q,W,Y,z),!z)return}}},K.getAvcEncryptedData=function(Q){for(var W=16*Math.floor((Q.length-48)/160)+16,Y=new Int8Array(W),z=0,I=32;I<Q.length-16;I+=160,z+=16)Y.set(Q.subarray(I,I+16),z);return Y},K.getAvcDecryptedUnit=function(Q,W){for(var Y=new Uint8Array(W),z=0,I=32;I<Q.length-16;I+=160,z+=16)Q.set(Y.subarray(z,z+16),I);return Q},K.decryptAvcSample=function(Q,W,Y,z,I,P){var w=Object(lt.discardEPB)(I.data),E=this.getAvcEncryptedData(w),s=this;this.decryptBuffer(E.buffer,function(l){I.data=s.getAvcDecryptedUnit(w,l),P||s.decryptAvcSamples(Q,W,Y+1,z)})},K.decryptAvcSamples=function(Q,W,Y,z){if(Q instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;W++,Y=0){if(W>=Q.length)return void z();for(var I=Q[W].units;!(Y>=I.length);Y++){var P=I[Y];if(!(P.data.length<=48||1!==P.type&&5!==P.type)){var w=this.decrypter.isSync();if(this.decryptAvcSample(Q,W,Y,z,P,w),!w)return}}}},H}()},"./src/demux/transmuxer-interface.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return I});var St=ft("./node_modules/webworkify-webpack/index.js"),F=ft("./src/events.ts"),H=ft("./src/demux/transmuxer.ts"),K=ft("./src/utils/logger.ts"),V=ft("./src/errors.ts"),Q=ft("./src/utils/mediasource-helper.ts"),W=ft("./node_modules/eventemitter3/index.js"),z=Object(Q.getMediaSource)()||{isTypeSupported:function(){return!1}},I=function(){function P(E,s,l,g){var v=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=E,this.id=s,this.onTransmuxComplete=l,this.onFlush=g;var S=E.config,f=function(a,h){(h=h||{}).frag=v.frag,h.id=v.id,E.trigger(a,h)};this.observer=new W.EventEmitter,this.observer.on(F.Events.FRAG_DECRYPTED,f),this.observer.on(F.Events.ERROR,f);var C={mp4:z.isTypeSupported("video/mp4"),mpeg:z.isTypeSupported("audio/mpeg"),mp3:z.isTypeSupported('audio/mp4; codecs="mp3"')},x=navigator.vendor;if(S.enableWorker&&"undefined"!=typeof Worker){var M;K.logger.log("demuxing in webworker");try{M=this.worker=St("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),M.addEventListener("message",this.onwmsg),M.onerror=function(p){E.trigger(F.Events.ERROR,{type:V.ErrorTypes.OTHER_ERROR,details:V.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(p.message+"  ("+p.filename+":"+p.lineno+")")})},M.postMessage({cmd:"init",typeSupported:C,vendor:x,id:s,config:JSON.stringify(S)})}catch(p){K.logger.warn("Error in worker:",p),K.logger.error("Error while initializing DemuxerWorker, fallback to inline"),M&&self.URL.revokeObjectURL(M.objectURL),this.transmuxer=new H.default(this.observer,C,S,x,s),this.worker=null}}else this.transmuxer=new H.default(this.observer,C,S,x,s)}var w=P.prototype;return w.destroy=function(){var s=this.worker;if(s)s.removeEventListener("message",this.onwmsg),s.terminate(),this.worker=null;else{var l=this.transmuxer;l&&(l.destroy(),this.transmuxer=null)}var g=this.observer;g&&g.removeAllListeners(),this.observer=null},w.push=function(s,l,g,v,S,f,C,x,M,p){var a,h,n=this;M.transmuxing.start=self.performance.now();var d=this.transmuxer,o=this.worker,r=f?f.start:S.start,u=S.decryptdata,c=this.frag,b=!(c&&S.cc===c.cc),O=!(c&&M.level===c.level),k=c?M.sn-c.sn:-1,_=this.part?M.part-this.part.index:1,A=!O&&(1===k||0===k&&1===_),B=self.performance.now();(O||k||0===S.stats.parsing.start)&&(S.stats.parsing.start=B),f&&(_||!A)&&(f.stats.parsing.start=B);var m=!(c&&(null===(a=S.initSegment)||void 0===a?void 0:a.url)===(null===(h=c.initSegment)||void 0===h?void 0:h.url)),T=new H.TransmuxState(b,A,x,O,r,m);if(!A||b||m){K.logger.log("[transmuxer-interface, "+S.type+"]: Starting new transmux session for sn: "+M.sn+" p: "+M.part+" level: "+M.level+" id: "+M.id+"\n        discontinuity: "+b+"\n        trackSwitch: "+O+"\n        contiguous: "+A+"\n        accurateTimeOffset: "+x+"\n        timeOffset: "+r+"\n        initSegmentChange: "+m);var R=new H.TransmuxConfig(g,v,l,C,p);this.configureTransmuxer(R)}if(this.frag=S,this.part=f,o)o.postMessage({cmd:"demux",data:s,decryptdata:u,chunkMeta:M,state:T},s instanceof ArrayBuffer?[s]:[]);else if(d){var j=d.push(s,u,M,T);Object(H.isPromise)(j)?j.then(function(X){n.handleTransmuxComplete(X)}):this.handleTransmuxComplete(j)}},w.flush=function(s){var l=this;s.transmuxing.start=self.performance.now();var g=this.transmuxer,v=this.worker;if(v)v.postMessage({cmd:"flush",chunkMeta:s});else if(g){var S=g.flush(s);Object(H.isPromise)(S)?S.then(function(f){l.handleFlushResult(f,s)}):this.handleFlushResult(S,s)}},w.handleFlushResult=function(s,l){var g=this;s.forEach(function(v){g.handleTransmuxComplete(v)}),this.onFlush(l)},w.onWorkerMessage=function(s){var l=s.data,g=this.hls;switch(l.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(l.data);break;case"flush":this.onFlush(l.data);break;default:l.data=l.data||{},l.data.frag=this.frag,l.data.id=this.id,g.trigger(l.event,l.data)}},w.configureTransmuxer=function(s){var l=this.worker,g=this.transmuxer;l?l.postMessage({cmd:"configure",config:s}):g&&g.configure(s)},w.handleTransmuxComplete=function(s){s.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(s)},P}()},"./src/demux/transmuxer-worker.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return V});var St=ft("./src/demux/transmuxer.ts"),lt=ft("./src/events.ts"),F=ft("./src/utils/logger.ts"),H=ft("./node_modules/eventemitter3/index.js");function V(I){var P=new H.EventEmitter,w=function(s,l){I.postMessage({event:s,data:l})};P.on(lt.Events.FRAG_DECRYPTED,w),P.on(lt.Events.ERROR,w),I.addEventListener("message",function(E){var s=E.data;switch(s.cmd){case"init":var l=JSON.parse(s.config);I.transmuxer=new St.default(P,s.typeSupported,l,s.vendor,s.id),Object(F.enableLogs)(l.debug),w("init",null);break;case"configure":I.transmuxer.configure(s.config);break;case"demux":var g=I.transmuxer.push(s.data,s.decryptdata,s.chunkMeta,s.state);Object(St.isPromise)(g)?g.then(function(f){Q(I,f)}):Q(I,g);break;case"flush":var v=s.chunkMeta,S=I.transmuxer.flush(v);Object(St.isPromise)(S)?S.then(function(f){Y(I,f,v)}):Y(I,S,v)}})}function Q(I,P){if(!function z(I){return!(I.audio||I.video||I.text||I.id3||I.initSegment)}(P.remuxResult)){var w=[],E=P.remuxResult,s=E.audio,l=E.video;s&&W(w,s),l&&W(w,l),I.postMessage({event:"transmuxComplete",data:P},w)}}function W(I,P){P.data1&&I.push(P.data1.buffer),P.data2&&I.push(P.data2.buffer)}function Y(I,P,w){P.forEach(function(E){Q(I,E)}),I.postMessage({event:"flush",data:w})}},"./src/demux/transmuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return l}),ft.d(Mt,"isPromise",function(){return S}),ft.d(Mt,"TransmuxConfig",function(){return f}),ft.d(Mt,"TransmuxState",function(){return C});var w,St=ft("./src/events.ts"),lt=ft("./src/errors.ts"),F=ft("./src/crypt/decrypter.ts"),H=ft("./src/demux/aacdemuxer.ts"),K=ft("./src/demux/mp4demuxer.ts"),V=ft("./src/demux/tsdemuxer.ts"),Q=ft("./src/demux/mp3demuxer.ts"),W=ft("./src/remux/mp4-remuxer.ts"),Y=ft("./src/remux/passthrough-remuxer.ts"),z=ft("./src/demux/chunk-cache.ts"),I=ft("./src/utils/mp4-tools.ts"),P=ft("./src/utils/logger.ts");try{w=self.performance.now.bind(self.performance)}catch(x){P.logger.debug("Unable to use Performance API on this environment"),w=self.Date.now}var E=[{demux:V.default,remux:W.default},{demux:K.default,remux:Y.default},{demux:H.default,remux:W.default},{demux:Q.default,remux:W.default}],s=1024;E.forEach(function(x){s=Math.max(s,x.demux.minProbeByteLength)});var l=function(){function x(p,a,h,n,d){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new z.default,this.observer=p,this.typeSupported=a,this.config=h,this.vendor=n,this.id=d}var M=x.prototype;return M.configure=function(a){this.transmuxConfig=a,this.decrypter&&this.decrypter.reset()},M.push=function(a,h,n,d){var o=this,r=n.transmuxing;r.executeStart=w();var u=new Uint8Array(a),c=this.cache,b=this.config,O=this.currentTransmuxState,k=this.transmuxConfig;d&&(this.currentTransmuxState=d);var _=function g(x,M){var p=null;return x.byteLength>0&&null!=M&&null!=M.key&&null!==M.iv&&null!=M.method&&(p=M),p}(u,h);if(_&&"AES-128"===_.method){var A=this.getDecrypter();if(!b.enableSoftwareAES)return this.decryptionPromise=A.webCryptoDecrypt(u,_.key.buffer,_.iv.buffer).then(function(mt){var yt=o.push(mt,null,n);return o.decryptionPromise=null,yt}),this.decryptionPromise;var B=A.softwareDecrypt(u,_.key.buffer,_.iv.buffer);if(!B)return r.executeEnd=w(),v(n);u=new Uint8Array(B)}var m=d||O,T=m.contiguous,R=m.discontinuity,j=m.trackSwitch,X=m.accurateTimeOffset,$=m.timeOffset,D=m.initSegmentChange,Z=k.defaultInitPts;if((R||j||D)&&this.resetInitSegment(k.initSegmentData,k.audioCodec,k.videoCodec,k.duration),(R||D)&&this.resetInitialTimestamp(Z),T||this.resetContiguity(),this.needsProbing(u,R,j)){if(c.dataLength){var it=c.flush();u=Object(I.appendUint8Array)(it,u)}this.configureTransmuxer(u,k)}var ot=this.transmux(u,_,$,X,n),at=this.currentTransmuxState;return at.contiguous=!0,at.discontinuity=!1,at.trackSwitch=!1,r.executeEnd=w(),ot},M.flush=function(a){var h=this,n=a.transmuxing;n.executeStart=w();var d=this.decrypter,o=this.cache,r=this.currentTransmuxState,u=this.decryptionPromise;if(u)return u.then(function(){return h.flush(a)});var c=[],b=r.timeOffset;if(d){var O=d.flush();O&&c.push(this.push(O,null,a))}var k=o.dataLength;o.reset();var _=this.demuxer;if(!_||!this.remuxer)return k>=s&&this.observer.emit(St.Events.ERROR,St.Events.ERROR,{type:lt.ErrorTypes.MEDIA_ERROR,details:lt.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=w(),[v(a)];var B=_.flush(b);return S(B)?B.then(function(m){return h.flushRemux(c,m,a),c}):(this.flushRemux(c,B,a),c)},M.flushRemux=function(a,h,n){var d=h.audioTrack,o=h.avcTrack,r=h.id3Track,u=h.textTrack,c=this.currentTransmuxState,b=c.accurateTimeOffset,O=c.timeOffset;P.logger.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var k=this.remuxer.remux(d,o,r,u,O,b,!0,this.id);a.push({remuxResult:k,chunkMeta:n}),n.transmuxing.executeEnd=w()},M.resetInitialTimestamp=function(a){var h=this.demuxer,n=this.remuxer;!h||!n||(h.resetTimeStamp(a),n.resetTimeStamp(a))},M.resetContiguity=function(){var a=this.demuxer,h=this.remuxer;!a||!h||(a.resetContiguity(),h.resetNextTimestamp())},M.resetInitSegment=function(a,h,n,d){var o=this.demuxer,r=this.remuxer;!o||!r||(o.resetInitSegment(h,n,d),r.resetInitSegment(a,h,n))},M.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},M.transmux=function(a,h,n,d,o){return h&&"SAMPLE-AES"===h.method?this.transmuxSampleAes(a,h,n,d,o):this.transmuxUnencrypted(a,n,d,o)},M.transmuxUnencrypted=function(a,h,n,d){var o=this.demuxer.demux(a,h,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o.audioTrack,o.avcTrack,o.id3Track,o.textTrack,h,n,!1,this.id),chunkMeta:d}},M.transmuxSampleAes=function(a,h,n,d,o){var r=this;return this.demuxer.demuxSampleAes(a,h,n).then(function(u){return{remuxResult:r.remuxer.remux(u.audioTrack,u.avcTrack,u.id3Track,u.textTrack,n,d,!1,r.id),chunkMeta:o}})},M.configureTransmuxer=function(a,h){for(var _,n=this.config,d=this.observer,o=this.typeSupported,r=this.vendor,u=h.audioCodec,c=h.defaultInitPts,b=h.duration,O=h.initSegmentData,k=h.videoCodec,A=0,B=E.length;A<B;A++)if(E[A].demux.probe(a)){_=E[A];break}_||(P.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),_={demux:K.default,remux:Y.default});var m=this.demuxer,T=this.remuxer,R=_.remux,j=_.demux;(!T||!(T instanceof R))&&(this.remuxer=new R(d,n,o,r)),(!m||!(m instanceof j))&&(this.demuxer=new j(d,n,o),this.probe=j.probe),this.resetInitSegment(O,u,k,b),this.resetInitialTimestamp(c)},M.needsProbing=function(a,h,n){return!this.demuxer||!this.remuxer||h||n},M.getDecrypter=function(){var a=this.decrypter;return a||(a=this.decrypter=new F.default(this.observer,this.config)),a},x}();var v=function(M){return{remuxResult:{},chunkMeta:M}};function S(x){return"then"in x&&x.then instanceof Function}var f=function(M,p,a,h,n){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=M,this.videoCodec=p,this.initSegmentData=a,this.duration=h,this.defaultInitPts=n},C=function(M,p,a,h,n,d){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=M,this.contiguous=p,this.accurateTimeOffset=a,this.trackSwitch=h,this.timeOffset=n,this.initSegmentChange=d}},"./src/demux/tsdemuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"discardEPB",function(){return v});var St=ft("./src/demux/adts.ts"),lt=ft("./src/demux/mpegaudio.ts"),F=ft("./src/demux/exp-golomb.ts"),H=ft("./src/demux/id3.ts"),K=ft("./src/demux/sample-aes.ts"),V=ft("./src/events.ts"),Q=ft("./src/utils/mp4-tools.ts"),W=ft("./src/utils/logger.ts"),Y=ft("./src/errors.ts"),z={video:1,audio:2,id3:3,text:4},I=function(){function S(C,x,M){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=C,this.config=x,this.typeSupported=M}S.probe=function(x){var M=S.syncOffset(x);return!(M<0||(M&&W.logger.warn("MPEG2-TS detected but first sync word found @ offset "+M+", junk ahead ?"),0))},S.syncOffset=function(x){for(var M=Math.min(1e3,x.length-564),p=0;p<M;){if(71===x[p]&&71===x[p+188]&&71===x[p+376])return p;p++}return-1},S.createTrack=function(x,M){return{container:"video"===x||"audio"===x?"video/mp2t":void 0,type:x,id:z[x],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===x?M:void 0}};var f=S.prototype;return f.resetInitSegment=function(x,M,p){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=S.createTrack("video",p),this._audioTrack=S.createTrack("audio",p),this._id3Track=S.createTrack("id3",p),this._txtTrack=S.createTrack("text",p),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=x,this.videoCodec=M,this._duration=p},f.resetTimeStamp=function(){},f.resetContiguity=function(){var x=this._audioTrack,M=this._avcTrack,p=this._id3Track;x&&(x.pesData=null),M&&(M.pesData=null),p&&(p.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},f.demux=function(x,M,p,a){void 0===p&&(p=!1),void 0===a&&(a=!1),p||(this.sampleAes=null);var h,n=this._avcTrack,d=this._audioTrack,o=this._id3Track,r=n.pid,u=n.pesData,c=d.pid,b=o.pid,O=d.pesData,k=o.pesData,_=!1,A=this.pmtParsed,B=this._pmtId,m=x.length;if(this.remainderData&&(m=(x=Object(Q.appendUint8Array)(this.remainderData,x)).length,this.remainderData=null),m<188&&!a)return this.remainderData=x,{audioTrack:d,avcTrack:n,id3Track:o,textTrack:this._txtTrack};var T=Math.max(0,S.syncOffset(x));(m-=(m+T)%188)<x.byteLength&&!a&&(this.remainderData=new Uint8Array(x.buffer,m,x.buffer.byteLength-m));for(var R=0,j=T;j<m;j+=188)if(71===x[j]){var X=!!(64&x[j+1]),$=((31&x[j+1])<<8)+x[j+2],U=void 0;if((48&x[j+3])>>4>1){if((U=j+5+x[j+4])===j+188)continue}else U=j+4;switch($){case r:X&&(u&&(h=s(u))&&this.parseAVCPES(h,!1),u={data:[],size:0}),u&&(u.data.push(x.subarray(U,j+188)),u.size+=j+188-U);break;case c:X&&(O&&(h=s(O))&&(d.isAAC?this.parseAACPES(h):this.parseMPEGPES(h)),O={data:[],size:0}),O&&(O.data.push(x.subarray(U,j+188)),O.size+=j+188-U);break;case b:X&&(k&&(h=s(k))&&this.parseID3PES(h),k={data:[],size:0}),k&&(k.data.push(x.subarray(U,j+188)),k.size+=j+188-U);break;case 0:X&&(U+=x[U]+1),B=this._pmtId=w(x,U);break;case B:X&&(U+=x[U]+1);var N=E(x,U,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,p);(r=N.avc)>0&&(n.pid=r),(c=N.audio)>0&&(d.pid=c,d.isAAC=N.isAAC),(b=N.id3)>0&&(o.pid=b),_&&!A&&(W.logger.log("reparse from beginning"),_=!1,j=T-188),A=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=!0}}else R++;R>0&&this.observer.emit(V.Events.ERROR,V.Events.ERROR,{type:Y.ErrorTypes.MEDIA_ERROR,details:Y.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+R+" TS packet/s that do not start with 0x47"}),n.pesData=u,d.pesData=O,o.pesData=k;var Z={audioTrack:d,avcTrack:n,id3Track:o,textTrack:this._txtTrack};return a&&this.extractRemainingSamples(Z),Z},f.flush=function(){var M,x=this.remainderData;return this.remainderData=null,M=x?this.demux(x,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(M),this.sampleAes?this.decrypt(M,this.sampleAes):M},f.extractRemainingSamples=function(x){var o,M=x.audioTrack,p=x.avcTrack,a=x.id3Track,h=p.pesData,n=M.pesData,d=a.pesData;h&&(o=s(h))?(this.parseAVCPES(o,!0),p.pesData=null):p.pesData=h,n&&(o=s(n))?(M.isAAC?this.parseAACPES(o):this.parseMPEGPES(o),M.pesData=null):(null!=n&&n.size&&W.logger.log("last AAC PES packet truncated,might overlap between fragments"),M.pesData=n),d&&(o=s(d))?(this.parseID3PES(o),a.pesData=null):a.pesData=d},f.demuxSampleAes=function(x,M,p){var a=this.demux(x,p,!0,!this.config.progressive),h=this.sampleAes=new K.default(this.observer,this.config,M);return this.decrypt(a,h)},f.decrypt=function(x,M){return new Promise(function(p){var a=x.audioTrack,h=x.avcTrack;a.samples&&a.isAAC?M.decryptAacSamples(a.samples,0,function(){h.samples?M.decryptAvcSamples(h.samples,0,0,function(){p(x)}):p(x)}):h.samples&&M.decryptAvcSamples(h.samples,0,0,function(){p(x)})})},f.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},f.parseAVCPES=function(x,M){var o,p=this,a=this._avcTrack,h=this.parseAVCNALu(x.data),d=this.avcSample,r=!1;x.data=null,d&&h.length&&!a.audFound&&(l(d,a),d=this.avcSample=P(!1,x.pts,x.dts,"")),h.forEach(function(u){switch(u.type){case 1:o=!0,d||(d=p.avcSample=P(!0,x.pts,x.dts,"")),d.frame=!0;var c=u.data;if(r&&c.length>4){var b=new F.default(c).readSliceType();(2===b||4===b||7===b||9===b)&&(d.key=!0)}break;case 5:o=!0,d||(d=p.avcSample=P(!0,x.pts,x.dts,"")),d.key=!0,d.frame=!0;break;case 6:o=!0;var O=new F.default(v(u.data));O.readUByte();for(var k=0,_=0,A=!1,B=0;!A&&O.bytesAvailable>1;){k=0;do{k+=B=O.readUByte()}while(255===B);_=0;do{_+=B=O.readUByte()}while(255===B);if(4===k&&0!==O.bytesAvailable){if(A=!0,181===O.readUByte()&&49===O.readUShort()&&1195456820===O.readUInt()&&3===O.readUByte()){for(var X=O.readUByte(),D=31&X,U=[X,O.readUByte()],N=0;N<D;N++)U.push(O.readUByte()),U.push(O.readUByte()),U.push(O.readUByte());g(p._txtTrack.samples,{type:3,pts:x.pts,bytes:U})}}else if(5===k&&0!==O.bytesAvailable){if(A=!0,_>16){for(var Z=[],q=0;q<16;q++)Z.push(O.readUByte().toString(16)),(3===q||5===q||7===q||9===q)&&Z.push("-");for(var nt=_-16,it=new Uint8Array(nt),ot=0;ot<nt;ot++)it[ot]=O.readUByte();g(p._txtTrack.samples,{pts:x.pts,payloadType:k,uuid:Z.join(""),userData:Object(H.utf8ArrayToStr)(it),userDataBytes:it})}}else if(_<O.bytesAvailable)for(var at=0;at<_;at++)O.readUByte()}break;case 7:if(o=!0,r=!0,!a.sps){var yt=new F.default(u.data).readSPS();a.width=yt.width,a.height=yt.height,a.pixelRatio=yt.pixelRatio,a.sps=[u.data],a.duration=p._duration;for(var vt=u.data.subarray(1,4),pt="avc1.",ct=0;ct<3;ct++){var J=vt[ct].toString(16);J.length<2&&(J="0"+J),pt+=J}a.codec=pt}break;case 8:o=!0,a.pps||(a.pps=[u.data]);break;case 9:o=!1,a.audFound=!0,d&&l(d,a),d=p.avcSample=P(!1,x.pts,x.dts,"");break;case 12:o=!1;break;default:o=!1,d&&(d.debug+="unknown NAL "+u.type+" ")}d&&o&&d.units.push(u)}),M&&d&&(l(d,a),this.avcSample=null)},f.getLastNalUnit=function(){var x,p,M=this.avcSample;if(!M||0===M.units.length){var a=this._avcTrack.samples;M=a[a.length-1]}if(null!==(x=M)&&void 0!==x&&x.units){var h=M.units;p=h[h.length-1]}return p},f.parseAVCNALu=function(x){var o,r,M=x.byteLength,p=this._avcTrack,a=p.naluState||0,h=a,n=[],d=0,c=-1,b=0;for(-1===a&&(c=0,b=31&x[0],a=0,d=1);d<M;)if(o=x[d++],a)if(1!==a)if(o)if(1===o){if(c>=0){var O={data:x.subarray(c,d-a-1),type:b};n.push(O)}else{var k=this.getLastNalUnit();if(k&&(h&&d<=4-h&&k.state&&(k.data=k.data.subarray(0,k.data.byteLength-h)),(r=d-a-1)>0)){var _=new Uint8Array(k.data.byteLength+r);_.set(k.data,0),_.set(x.subarray(0,r),k.data.byteLength),k.data=_,k.state=0}}d<M?(c=d,b=31&x[d],a=0):a=-1}else a=0;else a=3;else a=o?0:2;else a=o?0:1;if(c>=0&&a>=0){var A={data:x.subarray(c,M),type:b,state:a};n.push(A)}if(0===n.length){var B=this.getLastNalUnit();if(B){var m=new Uint8Array(B.data.byteLength+x.byteLength);m.set(B.data,0),m.set(x,B.data.byteLength),B.data=m}}return p.naluState=a,n},f.parseAACPES=function(x){var r,u,c,b,O,M=0,p=this._audioTrack,a=this.aacOverFlow,h=x.data;if(a){this.aacOverFlow=null;var n=a.sample.unit.byteLength,d=Math.min(a.missing,n),o=n-d;a.sample.unit.set(h.subarray(0,d),o),p.samples.push(a.sample),M=a.missing}for(r=M,u=h.length;r<u-1&&!St.isHeader(h,r);r++);if(r===M||(r<u-1?(c="AAC PES did not start with ADTS header,offset:"+r,b=!1):(c="no ADTS header found in AAC PES",b=!0),W.logger.warn("parsing error:"+c),this.observer.emit(V.Events.ERROR,V.Events.ERROR,{type:Y.ErrorTypes.MEDIA_ERROR,details:Y.ErrorDetails.FRAG_PARSING_ERROR,fatal:b,reason:c}),!b)){if(St.initTrackConfig(p,this.observer,h,r,this.audioCodec),void 0!==x.pts)O=x.pts;else{if(!a)return void W.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var k=St.getFrameDuration(p.samplerate);O=a.sample.pts+k}for(var _=0;r<u;){if(St.isHeader(h,r)){if(r+5<u){var A=St.appendFrame(p,h,r,O,_);if(A){if(!A.missing){r+=A.length,_++;continue}this.aacOverFlow=A}}break}r++}}},f.parseMPEGPES=function(x){var M=x.data,p=M.length,a=0,h=0,n=x.pts;if(void 0!==n)for(;h<p;)if(lt.isHeader(M,h)){var d=lt.appendFrame(this._audioTrack,M,h,n,a);if(!d)break;h+=d.length,a++}else h++;else W.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},f.parseID3PES=function(x){void 0!==x.pts?this._id3Track.samples.push(x):W.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},S}();function P(S,f,C,x){return{key:S,frame:!1,pts:f,dts:C,units:[],debug:x,length:0}}function w(S,f){return(31&S[f+10])<<8|S[f+11]}function E(S,f,C,x){var M={audio:-1,avc:-1,id3:-1,isAAC:!0},a=f+3+((15&S[f+1])<<8|S[f+2])-4;for(f+=12+((15&S[f+10])<<8|S[f+11]);f<a;){var n=(31&S[f+1])<<8|S[f+2];switch(S[f]){case 207:if(!x){W.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===M.audio&&(M.audio=n);break;case 21:-1===M.id3&&(M.id3=n);break;case 219:if(!x){W.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===M.avc&&(M.avc=n);break;case 3:case 4:C?-1===M.audio&&(M.audio=n,M.isAAC=!1):W.logger.log("MPEG audio found, not supported in this browser");break;case 36:W.logger.warn("Unsupported HEVC stream type found")}f+=5+((15&S[f+3])<<8|S[f+4])}return M}function s(S){var C,x,M,p,a,f=0,h=S.data;if(!S||0===S.size)return null;for(;h[0].length<19&&h.length>1;){var n=new Uint8Array(h[0].length+h[1].length);n.set(h[0]),n.set(h[1],h[0].length),h[0]=n,h.splice(1,1)}if(1===((C=h[0])[0]<<16)+(C[1]<<8)+C[2]){if((x=(C[4]<<8)+C[5])&&x>S.size-6)return null;var o=C[7];192&o&&(p=536870912*(14&C[9])+4194304*(255&C[10])+16384*(254&C[11])+128*(255&C[12])+(254&C[13])/2,64&o?p-(a=536870912*(14&C[14])+4194304*(255&C[15])+16384*(254&C[16])+128*(255&C[17])+(254&C[18])/2)>54e5&&(W.logger.warn(Math.round((p-a)/9e4)+"s delta between PTS and DTS, align them"),p=a):a=p);var r=(M=C[8])+9;if(S.size<=r)return null;S.size-=r;for(var u=new Uint8Array(S.size),c=0,b=h.length;c<b;c++){var O=(C=h[c]).byteLength;if(r){if(r>O){r-=O;continue}C=C.subarray(r),O-=r,r=0}u.set(C,f),f+=O}return x&&(x-=M+3),{data:u,pts:p,dts:a,len:x}}return null}function l(S,f){if(S.units.length&&S.frame){if(void 0===S.pts){var C=f.samples,x=C.length;if(!x)return void f.dropped++;var M=C[x-1];S.pts=M.pts,S.dts=M.dts}f.samples.push(S)}S.debug.length&&W.logger.log(S.pts+"/"+S.dts+":"+S.debug)}function g(S,f){var C=S.length;if(C>0){if(f.pts>=S[C-1].pts)S.push(f);else for(var x=C-1;x>=0;x--)if(f.pts<S[x].pts){S.splice(x,0,f);break}}else S.push(f)}function v(S){for(var f=S.byteLength,C=[],x=1;x<f-2;)0===S[x]&&0===S[x+1]&&3===S[x+2]?(C.push(x+2),x+=2):x++;if(0===C.length)return S;var M=f-C.length,p=new Uint8Array(M),a=0;for(x=0;x<M;a++,x++)a===C[0]&&(a++,C.shift()),p[x]=S[a];return p}I.minProbeByteLength=188,Mt.default=I},"./src/errors.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"ErrorTypes",function(){return St}),ft.d(Mt,"ErrorDetails",function(){return lt});var St=(()=>{return(F=St||(St={})).NETWORK_ERROR="networkError",F.MEDIA_ERROR="mediaError",F.KEY_SYSTEM_ERROR="keySystemError",F.MUX_ERROR="muxError",F.OTHER_ERROR="otherError",St;var F})(),lt=(()=>{return(F=lt||(lt={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",F.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",F.KEY_SYSTEM_NO_SESSION="keySystemNoSession",F.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",F.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",F.MANIFEST_LOAD_ERROR="manifestLoadError",F.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",F.MANIFEST_PARSING_ERROR="manifestParsingError",F.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",F.LEVEL_EMPTY_ERROR="levelEmptyError",F.LEVEL_LOAD_ERROR="levelLoadError",F.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",F.LEVEL_SWITCH_ERROR="levelSwitchError",F.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",F.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",F.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",F.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",F.FRAG_LOAD_ERROR="fragLoadError",F.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",F.FRAG_DECRYPT_ERROR="fragDecryptError",F.FRAG_PARSING_ERROR="fragParsingError",F.REMUX_ALLOC_ERROR="remuxAllocError",F.KEY_LOAD_ERROR="keyLoadError",F.KEY_LOAD_TIMEOUT="keyLoadTimeOut",F.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",F.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",F.BUFFER_APPEND_ERROR="bufferAppendError",F.BUFFER_APPENDING_ERROR="bufferAppendingError",F.BUFFER_STALLED_ERROR="bufferStalledError",F.BUFFER_FULL_ERROR="bufferFullError",F.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",F.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",F.INTERNAL_EXCEPTION="internalException",F.INTERNAL_ABORTED="aborted",F.UNKNOWN="unknown",lt;var F})()},"./src/events.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"Events",function(){return St});var St=(()=>{return(lt=St||(St={})).MEDIA_ATTACHING="hlsMediaAttaching",lt.MEDIA_ATTACHED="hlsMediaAttached",lt.MEDIA_DETACHING="hlsMediaDetaching",lt.MEDIA_DETACHED="hlsMediaDetached",lt.BUFFER_RESET="hlsBufferReset",lt.BUFFER_CODECS="hlsBufferCodecs",lt.BUFFER_CREATED="hlsBufferCreated",lt.BUFFER_APPENDING="hlsBufferAppending",lt.BUFFER_APPENDED="hlsBufferAppended",lt.BUFFER_EOS="hlsBufferEos",lt.BUFFER_FLUSHING="hlsBufferFlushing",lt.BUFFER_FLUSHED="hlsBufferFlushed",lt.MANIFEST_LOADING="hlsManifestLoading",lt.MANIFEST_LOADED="hlsManifestLoaded",lt.MANIFEST_PARSED="hlsManifestParsed",lt.LEVEL_SWITCHING="hlsLevelSwitching",lt.LEVEL_SWITCHED="hlsLevelSwitched",lt.LEVEL_LOADING="hlsLevelLoading",lt.LEVEL_LOADED="hlsLevelLoaded",lt.LEVEL_UPDATED="hlsLevelUpdated",lt.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",lt.LEVELS_UPDATED="hlsLevelsUpdated",lt.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",lt.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",lt.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",lt.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",lt.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",lt.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",lt.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",lt.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",lt.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",lt.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",lt.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",lt.CUES_PARSED="hlsCuesParsed",lt.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",lt.INIT_PTS_FOUND="hlsInitPtsFound",lt.FRAG_LOADING="hlsFragLoading",lt.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",lt.FRAG_LOADED="hlsFragLoaded",lt.FRAG_DECRYPTED="hlsFragDecrypted",lt.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",lt.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",lt.FRAG_PARSING_METADATA="hlsFragParsingMetadata",lt.FRAG_PARSED="hlsFragParsed",lt.FRAG_BUFFERED="hlsFragBuffered",lt.FRAG_CHANGED="hlsFragChanged",lt.FPS_DROP="hlsFpsDrop",lt.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",lt.ERROR="hlsError",lt.DESTROYING="hlsDestroying",lt.KEY_LOADING="hlsKeyLoading",lt.KEY_LOADED="hlsKeyLoaded",lt.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",lt.BACK_BUFFER_REACHED="hlsBackBufferReached",St;var lt})()},"./src/hls.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return S});var St=ft("./node_modules/url-toolkit/src/url-toolkit.js"),F=ft("./src/loader/playlist-loader.ts"),H=ft("./src/loader/key-loader.ts"),K=ft("./src/controller/id3-track-controller.ts"),V=ft("./src/controller/latency-controller.ts"),Q=ft("./src/controller/level-controller.ts"),W=ft("./src/controller/fragment-tracker.ts"),Y=ft("./src/controller/stream-controller.ts"),z=ft("./src/is-supported.ts"),I=ft("./src/utils/logger.ts"),P=ft("./src/config.ts"),w=ft("./node_modules/eventemitter3/index.js"),s=ft("./src/events.ts"),l=ft("./src/errors.ts");function g(f,C){for(var x=0;x<C.length;x++){var M=C[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}var S=function(){function f(x){void 0===x&&(x={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new w.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var M=this.config=Object(P.mergeConfig)(f.DefaultConfig,x);this.userConfig=x,Object(I.enableLogs)(M.debug),this._autoLevelCapping=-1,M.progressive&&Object(P.enableStreamingMode)(M);var a=M.bufferController,h=M.capLevelController,n=M.fpsController,d=this.abrController=new(0,M.abrController)(this),o=this.bufferController=new a(this),r=this.capLevelController=new h(this),u=new n(this),c=new F.default(this),b=new H.default(this),O=new K.default(this),k=this.levelController=new Q.default(this),_=new W.FragmentTracker(this),A=this.streamController=new Y.default(this,_);r.setStreamController(A),u.setStreamController(A);var B=[k,A];this.networkControllers=B;var m=[c,b,d,o,r,u,O,_];this.audioTrackController=this.createController(M.audioTrackController,null,B),this.createController(M.audioStreamController,_,B),this.subtitleTrackController=this.createController(M.subtitleTrackController,null,B),this.createController(M.subtitleStreamController,_,B),this.createController(M.timelineController,null,m),this.emeController=this.createController(M.emeController,null,m),this.cmcdController=this.createController(M.cmcdController,null,m),this.latencyController=this.createController(V.default,null,m),this.coreComponents=m}f.isSupported=function(){return Object(z.isSupported)()};var C=f.prototype;return C.createController=function(M,p,a){if(M){var h=p?new M(this,p):new M(this);return a&&a.push(h),h}return null},C.on=function(M,p,a){void 0===a&&(a=this),this._emitter.on(M,p,a)},C.once=function(M,p,a){void 0===a&&(a=this),this._emitter.once(M,p,a)},C.removeAllListeners=function(M){this._emitter.removeAllListeners(M)},C.off=function(M,p,a,h){void 0===a&&(a=this),this._emitter.off(M,p,a,h)},C.listeners=function(M){return this._emitter.listeners(M)},C.emit=function(M,p,a){return this._emitter.emit(M,p,a)},C.trigger=function(M,p){if(this.config.debug)return this.emit(M,M,p);try{return this.emit(M,M,p)}catch(a){I.logger.error("An internal error happened while handling event "+M+'. Error message: "'+a.message+'". Here is a stacktrace:',a),this.trigger(s.Events.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:M,error:a})}return!1},C.listenerCount=function(M){return this._emitter.listenerCount(M)},C.destroy=function(){I.logger.log("destroy"),this.trigger(s.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(M){return M.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(M){return M.destroy()}),this.coreComponents.length=0},C.attachMedia=function(M){I.logger.log("attachMedia"),this._media=M,this.trigger(s.Events.MEDIA_ATTACHING,{media:M})},C.detachMedia=function(){I.logger.log("detachMedia"),this.trigger(s.Events.MEDIA_DETACHING,void 0),this._media=null},C.loadSource=function(M){this.stopLoad();var p=this.media,a=this.url,h=this.url=St.buildAbsoluteURL(self.location.href,M,{alwaysNormalize:!0});I.logger.log("loadSource:"+h),p&&a&&a!==h&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(p)),this.trigger(s.Events.MANIFEST_LOADING,{url:M})},C.startLoad=function(M){void 0===M&&(M=-1),I.logger.log("startLoad("+M+")"),this.networkControllers.forEach(function(p){p.startLoad(M)})},C.stopLoad=function(){I.logger.log("stopLoad"),this.networkControllers.forEach(function(M){M.stopLoad()})},C.swapAudioCodec=function(){I.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},C.recoverMediaError=function(){I.logger.log("recoverMediaError");var M=this._media;this.detachMedia(),M&&this.attachMedia(M)},C.removeLevel=function(M,p){void 0===p&&(p=0),this.levelController.removeLevel(M,p)},function v(f,C,x){return C&&g(f.prototype,C),x&&g(f,x),f}(f,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(M){I.logger.log("set currentLevel:"+M),this.loadLevel=M,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(M){I.logger.log("set nextLevel:"+M),this.levelController.manualLevel=M,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(M){I.logger.log("set loadLevel:"+M),this.levelController.manualLevel=M}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(M){this.levelController.nextLoadLevel=M}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(M){I.logger.log("set firstLevel:"+M),this.levelController.firstLevel=M}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(M){I.logger.log("set startLevel:"+M),-1!==M&&(M=Math.max(M,this.minAutoLevel)),this.levelController.startLevel=M}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(M){var p=!!M;p!==this.config.capLevelToPlayerSize&&(p?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=p)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(M){this._autoLevelCapping!==M&&(I.logger.log("set autoLevelCapping:"+M),this._autoLevelCapping=M)}},{key:"bandwidthEstimate",get:function(){var M=this.abrController.bwEstimator;return M?M.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var M=this.levels,p=this.config.minAutoBitrate;if(!M)return 0;for(var a=M.length,h=0;h<a;h++)if(M[h].maxBitrate>p)return h;return 0}},{key:"maxAutoLevel",get:function(){var M=this.levels,p=this.autoLevelCapping;return-1===p&&M&&M.length?M.length-1:p}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(M){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,M)}},{key:"audioTracks",get:function(){var M=this.audioTrackController;return M?M.audioTracks:[]}},{key:"audioTrack",get:function(){var M=this.audioTrackController;return M?M.audioTrack:-1},set:function(M){var p=this.audioTrackController;p&&(p.audioTrack=M)}},{key:"subtitleTracks",get:function(){var M=this.subtitleTrackController;return M?M.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var M=this.subtitleTrackController;return M?M.subtitleTrack:-1},set:function(M){var p=this.subtitleTrackController;p&&(p.subtitleTrack=M)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var M=this.subtitleTrackController;return!!M&&M.subtitleDisplay},set:function(M){var p=this.subtitleTrackController;p&&(p.subtitleDisplay=M)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(M){this.config.lowLatencyMode=M}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.1.5"}},{key:"Events",get:function(){return s.Events}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return f.defaultConfig?f.defaultConfig:P.hlsDefaultConfig},set:function(M){f.defaultConfig=M}}]),f}();S.defaultConfig=void 0},"./src/is-supported.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"isSupported",function(){return F}),ft.d(Mt,"changeTypeSupported",function(){return H});var St=ft("./src/utils/mediasource-helper.ts");function lt(){return self.SourceBuffer||self.WebKitSourceBuffer}function F(){var K=Object(St.getMediaSource)();if(!K)return!1;var V=lt();return!(!K||"function"!=typeof K.isTypeSupported||!K.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||V&&(!V.prototype||"function"!=typeof V.prototype.appendBuffer||"function"!=typeof V.prototype.remove))}function H(){var K,V=lt();return"function"==typeof(null==V||null===(K=V.prototype)||void 0===K?void 0:K.changeType)}},"./src/loader/fragment-loader.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return I}),ft.d(Mt,"LoadError",function(){return w});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/errors.ts");function H(E){var s="function"==typeof Map?new Map:void 0;return H=function(g){if(null===g||!function Q(E){return-1!==Function.toString.call(E).indexOf("[native code]")}(g))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==s){if(s.has(g))return s.get(g);s.set(g,v)}function v(){return K(g,arguments,Y(this).constructor)}return v.prototype=Object.create(g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),W(v,g)},H(E)}function K(E,s,l){return(K=V()?Reflect.construct:function(v,S,f){var C=[null];C.push.apply(C,S);var M=new(Function.bind.apply(v,C));return f&&W(M,f.prototype),M}).apply(null,arguments)}function V(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}function W(E,s){return(W=Object.setPrototypeOf||function(g,v){return g.__proto__=v,g})(E,s)}function Y(E){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(E)}var z=Math.pow(2,17),I=function(){function E(l){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=l}var s=E.prototype;return s.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},s.abort=function(){this.loader&&this.loader.abort()},s.load=function(g,v){var S=this,f=g.url;if(!f)return Promise.reject(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,networkDetails:null},"Fragment does not have a "+(f?"part list":"url")));this.abort();var C=this.config,x=C.fLoader,M=C.loader;return new Promise(function(p,a){S.loader&&S.loader.destroy();var h=S.loader=g.loader=x?new x(C):new M(C),n=P(g),d={timeout:C.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:C.fragLoadingMaxRetryTimeout,highWaterMark:z};g.stats=h.stats,h.load(n,d,{onSuccess:function(r,u,c,b){S.resetLoader(g,h),p({frag:g,part:null,payload:r.data,networkDetails:b})},onError:function(r,u,c){S.resetLoader(g,h),a(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,response:r,networkDetails:c}))},onAbort:function(r,u,c){S.resetLoader(g,h),a(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:g,networkDetails:c}))},onTimeout:function(r,u,c){S.resetLoader(g,h),a(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:g,networkDetails:c}))},onProgress:function(r,u,c,b){v&&v({frag:g,part:null,payload:c,networkDetails:b})}})})},s.loadPart=function(g,v,S){var f=this;this.abort();var C=this.config,x=C.fLoader,M=C.loader;return new Promise(function(p,a){f.loader&&f.loader.destroy();var h=f.loader=g.loader=x?new x(C):new M(C),n=P(g,v),d={timeout:C.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:C.fragLoadingMaxRetryTimeout,highWaterMark:z};v.stats=h.stats,h.load(n,d,{onSuccess:function(r,u,c,b){f.resetLoader(g,h),f.updateStatsFromPart(g,v);var O={frag:g,part:v,payload:r.data,networkDetails:b};S(O),p(O)},onError:function(r,u,c){f.resetLoader(g,h),a(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,part:v,response:r,networkDetails:c}))},onAbort:function(r,u,c){g.stats.aborted=v.stats.aborted,f.resetLoader(g,h),a(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:g,part:v,networkDetails:c}))},onTimeout:function(r,u,c){f.resetLoader(g,h),a(new w({type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:g,part:v,networkDetails:c}))}})})},s.updateStatsFromPart=function(g,v){var S=g.stats,f=v.stats,C=f.total;if(S.loaded+=f.loaded,C){var x=Math.round(g.duration/v.duration),M=Math.min(Math.round(S.loaded/C),x),a=(x-M)*Math.round(S.loaded/M);S.total=S.loaded+a}else S.total=Math.max(S.loaded,S.total);var h=S.loading,n=f.loading;h.start?h.first+=n.first-n.start:(h.start=n.start,h.first=n.first),h.end=n.end},s.resetLoader=function(g,v){g.loader=null,this.loader===v&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),v.destroy()},E}();function P(E,s){void 0===s&&(s=null);var l=s||E,g={frag:E,part:s,responseType:"arraybuffer",url:l.url,headers:{},rangeStart:0,rangeEnd:0},v=l.byteRangeStartOffset,S=l.byteRangeEndOffset;return Object(St.isFiniteNumber)(v)&&Object(St.isFiniteNumber)(S)&&(g.rangeStart=v,g.rangeEnd=S),g}var w=function(E){function s(l){for(var g,v=arguments.length,S=new Array(v>1?v-1:0),f=1;f<v;f++)S[f-1]=arguments[f];return(g=E.call.apply(E,[this].concat(S))||this).data=void 0,g.data=l,g}return function F(E,s){E.prototype=Object.create(s.prototype),E.prototype.constructor=E,W(E,s)}(s,E),s}(H(Error))},"./src/loader/fragment.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"ElementaryStreamTypes",function(){return I}),ft.d(Mt,"BaseSegment",function(){return P}),ft.d(Mt,"Fragment",function(){return w}),ft.d(Mt,"Part",function(){return E});var St=ft("./src/polyfills/number.ts"),lt=ft("./node_modules/url-toolkit/src/url-toolkit.js"),H=ft("./src/utils/logger.ts"),K=ft("./src/loader/level-key.ts"),V=ft("./src/loader/load-stats.ts");function Q(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,W(s,l)}function W(s,l){return(W=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v})(s,l)}function Y(s,l){for(var g=0;g<l.length;g++){var v=l[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}function z(s,l,g){return l&&Y(s.prototype,l),g&&Y(s,g),s}var I=(()=>{return(s=I||(I={})).AUDIO="audio",s.VIDEO="video",s.AUDIOVIDEO="audiovideo",I;var s})(),P=function(){function s(g){var v;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((v={})[I.AUDIO]=null,v[I.VIDEO]=null,v[I.AUDIOVIDEO]=null,v),this.baseurl=g}return s.prototype.setByteRange=function(v,S){var f=v.split("@",2),C=[];C[0]=1===f.length?S?S.byteRangeEndOffset:0:parseInt(f[1]),C[1]=parseInt(f[0])+C[0],this._byteRange=C},z(s,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(lt.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(v){this._url=v}}]),s}(),w=function(s){function l(v,S){var f;return(f=s.call(this,S)||this)._decryptdata=null,f.rawProgramDateTime=null,f.programDateTime=null,f.tagList=[],f.duration=0,f.sn=0,f.levelkey=void 0,f.type=void 0,f.loader=null,f.level=-1,f.cc=0,f.startPTS=void 0,f.endPTS=void 0,f.appendedPTS=void 0,f.startDTS=void 0,f.endDTS=void 0,f.start=0,f.deltaPTS=void 0,f.maxStartPTS=void 0,f.minEndPTS=void 0,f.stats=new V.LoadStats,f.urlId=0,f.data=void 0,f.bitrateTest=!1,f.title=null,f.initSegment=null,f.type=v,f}Q(l,s);var g=l.prototype;return g.createInitializationVector=function(S){for(var f=new Uint8Array(16),C=12;C<16;C++)f[C]=S>>8*(15-C)&255;return f},g.setDecryptDataFromLevelKey=function(S,f){var C=S;return"AES-128"===(null==S?void 0:S.method)&&S.uri&&!S.iv&&((C=K.LevelKey.fromURI(S.uri)).method=S.method,C.iv=this.createInitializationVector(f),C.keyFormat="identity"),C},g.setElementaryStreamInfo=function(S,f,C,x,M,p){void 0===p&&(p=!1);var a=this.elementaryStreams,h=a[S];h?(h.startPTS=Math.min(h.startPTS,f),h.endPTS=Math.max(h.endPTS,C),h.startDTS=Math.min(h.startDTS,x),h.endDTS=Math.max(h.endDTS,M)):a[S]={startPTS:f,endPTS:C,startDTS:x,endDTS:M,partial:p}},g.clearElementaryStreamInfo=function(){var S=this.elementaryStreams;S[I.AUDIO]=null,S[I.VIDEO]=null,S[I.AUDIOVIDEO]=null},z(l,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var S=this.sn;"number"!=typeof S&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&H.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),S=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,S)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime||!Object(St.isFiniteNumber)(this.programDateTime))return null;var S=Object(St.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*S}},{key:"encrypted",get:function(){var S;return!(null===(S=this.decryptdata)||void 0===S||!S.keyFormat||!this.decryptdata.uri)}}]),l}(P),E=function(s){function l(g,v,S,f,C){var x;(x=s.call(this,S)||this).fragOffset=0,x.duration=0,x.gap=!1,x.independent=!1,x.relurl=void 0,x.fragment=void 0,x.index=void 0,x.stats=new V.LoadStats,x.duration=g.decimalFloatingPoint("DURATION"),x.gap=g.bool("GAP"),x.independent=g.bool("INDEPENDENT"),x.relurl=g.enumeratedString("URI"),x.fragment=v,x.index=f;var M=g.enumeratedString("BYTERANGE");return M&&x.setByteRange(M,C),C&&(x.fragOffset=C.fragOffset+C.duration),x}return Q(l,s),z(l,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var v=this.elementaryStreams;return!!(v.audio||v.video||v.audiovideo)}}]),l}(P)},"./src/loader/key-loader.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return H});var St=ft("./src/events.ts"),lt=ft("./src/errors.ts"),F=ft("./src/utils/logger.ts"),H=function(){function K(Q){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=Q,this._registerListeners()}var V=K.prototype;return V._registerListeners=function(){this.hls.on(St.Events.KEY_LOADING,this.onKeyLoading,this)},V._unregisterListeners=function(){this.hls.off(St.Events.KEY_LOADING,this.onKeyLoading)},V.destroy=function(){for(var W in this._unregisterListeners(),this.loaders){var Y=this.loaders[W];Y&&Y.destroy()}this.loaders={}},V.onKeyLoading=function(W,Y){var z=Y.frag,I=z.type,P=this.loaders[I];if(z.decryptdata){var w=z.decryptdata.uri;if(w!==this.decrypturl||null===this.decryptkey){var E=this.hls.config;if(P&&(F.logger.warn("abort previous key loader for type:"+I),P.abort()),!w)return void F.logger.warn("key uri is falsy");var l=z.loader=this.loaders[I]=new(0,E.loader)(E);this.decrypturl=w,this.decryptkey=null;var g={url:w,frag:z,responseType:"arraybuffer"},v={timeout:E.fragLoadingTimeOut,maxRetry:0,retryDelay:E.fragLoadingRetryDelay,maxRetryDelay:E.fragLoadingMaxRetryTimeout,highWaterMark:0},S={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};l.load(g,v,S)}else this.decryptkey&&(z.decryptdata.key=this.decryptkey,this.hls.trigger(St.Events.KEY_LOADED,{frag:z}))}else F.logger.warn("Missing decryption data on fragment in onKeyLoading")},V.loadsuccess=function(W,Y,z){var I=z.frag;I.decryptdata?(this.decryptkey=I.decryptdata.key=new Uint8Array(W.data),I.loader=null,delete this.loaders[I.type],this.hls.trigger(St.Events.KEY_LOADED,{frag:I})):F.logger.error("after key load, decryptdata unset")},V.loaderror=function(W,Y){var z=Y.frag,I=z.loader;I&&I.abort(),delete this.loaders[z.type],this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:z,response:W})},V.loadtimeout=function(W,Y){var z=Y.frag,I=z.loader;I&&I.abort(),delete this.loaders[z.type],this.hls.trigger(St.Events.ERROR,{type:lt.ErrorTypes.NETWORK_ERROR,details:lt.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:z})},K}()},"./src/loader/level-details.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"LevelDetails",function(){return K});var St=ft("./src/polyfills/number.ts");function lt(V,Q){for(var W=0;W<Q.length;W++){var Y=Q[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(V,Y.key,Y)}}var K=function(){function V(W){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=W}return V.prototype.reloaded=function(Y){if(!Y)return this.advanced=!0,void(this.updated=!0);var z=this.lastPartSn-Y.lastPartSn,I=this.lastPartIndex-Y.lastPartIndex;this.updated=this.endSN!==Y.endSN||!!I||!!z,this.advanced=this.endSN>Y.endSN||z>0||0===z&&I>0,this.misses=this.updated||this.advanced?Math.floor(.6*Y.misses):Y.misses+1,this.availabilityDelay=Y.availabilityDelay},function F(V,Q,W){return Q&&lt(V.prototype,Q),W&&lt(V,W),V}(V,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(St.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var Y=this.driftEndTime-this.driftStartTime;return Y>0?1e3*(this.driftEnd-this.driftStart)/Y:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var Y;return null!==(Y=this.partList)&&void 0!==Y&&Y.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var Y;return null!==(Y=this.fragments)&&void 0!==Y&&Y.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var Y;return null!==(Y=this.partList)&&void 0!==Y&&Y.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var Y;return null!==(Y=this.partList)&&void 0!==Y&&Y.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),V}()},"./src/loader/level-key.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"LevelKey",function(){return K});var St=ft("./node_modules/url-toolkit/src/url-toolkit.js");function F(V,Q){for(var W=0;W<Q.length;W++){var Y=Q[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(V,Y.key,Y)}}var K=function(){function V(Q,W){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=W?Object(St.buildAbsoluteURL)(Q,W,{alwaysNormalize:!0}):Q}return V.fromURL=function(W,Y){return new V(W,Y)},V.fromURI=function(W){return new V(W)},function H(V,Q,W){return Q&&F(V.prototype,Q),W&&F(V,W),V}(V,[{key:"uri",get:function(){return this._uri}}]),V}()},"./src/loader/load-stats.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"LoadStats",function(){return St});var St=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return l});var St=ft("./src/polyfills/number.ts"),lt=ft("./node_modules/url-toolkit/src/url-toolkit.js"),H=ft("./src/loader/fragment.ts"),K=ft("./src/loader/level-details.ts"),V=ft("./src/loader/level-key.ts"),Q=ft("./src/utils/attr-list.ts"),W=ft("./src/utils/logger.ts"),Y=ft("./src/utils/codecs.ts"),z=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,I=/#EXT-X-MEDIA:(.*)/g,P=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),w=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),E=/\.(mp4|m4s|m4v|m4a)$/i;var l=function(){function C(){}return C.findGroup=function(M,p){for(var a=0;a<M.length;a++){var h=M[a];if(h.id===p)return h}},C.convertAVC1ToAVCOTI=function(M){var p=M.split(".");if(p.length>2){var a=p.shift()+".";return(a+=parseInt(p.shift()).toString(16))+("000"+parseInt(p.shift()).toString(16)).substr(-4)}return M},C.resolve=function(M,p){return lt.buildAbsoluteURL(p,M,{alwaysNormalize:!0})},C.parseMasterPlaylist=function(M,p){var d,a=[],h={},n=!1;for(z.lastIndex=0;null!=(d=z.exec(M));)if(d[1]){var o=new Q.AttrList(d[1]),r={attrs:o,bitrate:o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),name:o.NAME,url:C.resolve(d[2],p)},u=o.decimalResolution("RESOLUTION");u&&(r.width=u.width,r.height=u.height),g((o.CODECS||"").split(/[ ,]+/).filter(function(b){return b}),r),r.videoCodec&&-1!==r.videoCodec.indexOf("avc1")&&(r.videoCodec=C.convertAVC1ToAVCOTI(r.videoCodec)),a.push(r)}else if(d[3]){var c=new Q.AttrList(d[3]);c["DATA-ID"]&&(n=!0,h[c["DATA-ID"]]=c)}return{levels:a,sessionData:n?h:null}},C.parseMasterPlaylistMedia=function(M,p,a,h){void 0===h&&(h=[]);var n,d=[],o=0;for(I.lastIndex=0;null!==(n=I.exec(M));){var r=new Q.AttrList(n[1]);if(r.TYPE===a){var u={attrs:r,bitrate:0,id:o++,groupId:r["GROUP-ID"],instreamId:r["INSTREAM-ID"],name:r.NAME||r.LANGUAGE||"",type:a,default:r.bool("DEFAULT"),autoselect:r.bool("AUTOSELECT"),forced:r.bool("FORCED"),lang:r.LANGUAGE,url:r.URI?C.resolve(r.URI,p):""};if(h.length){var c=C.findGroup(h,u.groupId)||h[0];v(u,c,"audioCodec"),v(u,c,"textCodec")}d.push(u)}}return d},C.parseLevelPlaylist=function(M,p,a,h,n){var A,B,m,d=new K.LevelDetails(p),o=d.fragments,r=null,u=0,c=0,b=0,O=0,k=null,_=new H.Fragment(h,p),T=-1,R=!1;for(P.lastIndex=0,d.m3u8=M;null!==(A=P.exec(M));){R&&(R=!1,(_=new H.Fragment(h,p)).start=b,_.sn=u,_.cc=O,_.level=a,r&&(_.initSegment=r,_.rawProgramDateTime=r.rawProgramDateTime));var j=A[1];if(j){_.duration=parseFloat(j);var X=(" "+A[2]).slice(1);_.title=X||null,_.tagList.push(X?["INF",j,X]:["INF",j])}else if(A[3])Object(St.isFiniteNumber)(_.duration)&&(_.start=b,m&&(_.levelkey=m),_.sn=u,_.level=a,_.cc=O,_.urlId=n,o.push(_),_.relurl=(" "+A[3]).slice(1),f(_,k),k=_,b+=_.duration,u++,c=0,R=!0);else if(A[4]){var $=(" "+A[4]).slice(1);k?_.setByteRange($,k):_.setByteRange($)}else if(A[5])_.rawProgramDateTime=(" "+A[5]).slice(1),_.tagList.push(["PROGRAM-DATE-TIME",_.rawProgramDateTime]),-1===T&&(T=o.length);else{if(!(A=A[0].match(w))){W.logger.warn("No matches on slow regex match for level playlist!");continue}for(B=1;B<A.length&&void 0===A[B];B++);var D=(" "+A[B]).slice(1),U=(" "+A[B+1]).slice(1),N=A[B+2]?(" "+A[B+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":d.type=U.toUpperCase();break;case"MEDIA-SEQUENCE":u=d.startSN=parseInt(U);break;case"SKIP":var Z=new Q.AttrList(U),q=Z.decimalInteger("SKIPPED-SEGMENTS");if(Object(St.isFiniteNumber)(q)){d.skippedSegments=q;for(var nt=q;nt--;)o.unshift(null);u+=q}var it=Z.enumeratedString("RECENTLY-REMOVED-DATERANGES");it&&(d.recentlyRemovedDateranges=it.split("\t"));break;case"TARGETDURATION":d.targetduration=parseFloat(U);break;case"VERSION":d.version=parseInt(U);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"#":(U||N)&&_.tagList.push(N?[U,N]:[U]);break;case"DIS":O++;case"GAP":_.tagList.push([D]);break;case"BITRATE":_.tagList.push([D,U]);break;case"DISCONTINUITY-SEQ":O=parseInt(U);break;case"KEY":var ot,at=new Q.AttrList(U),mt=at.enumeratedString("METHOD"),yt=at.URI,vt=at.hexadecimalInteger("IV"),pt=at.enumeratedString("KEYFORMATVERSIONS"),ct=at.enumeratedString("KEYID"),J=null!=(ot=at.enumeratedString("KEYFORMAT"))?ot:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(J)>-1){W.logger.warn("Keyformat "+J+" is not supported from the manifest");continue}if("identity"!==J)continue;mt&&(m=V.LevelKey.fromURL(p,yt),yt&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(mt)>=0&&(m.method=mt,m.keyFormat=J,ct&&(m.keyID=ct),pt&&(m.keyFormatVersions=pt),m.iv=vt));break;case"START":var ut=new Q.AttrList(U).decimalFloatingPoint("TIME-OFFSET");Object(St.isFiniteNumber)(ut)&&(d.startTimeOffset=ut);break;case"MAP":var dt=new Q.AttrList(U);_.relurl=dt.URI,dt.BYTERANGE&&_.setByteRange(dt.BYTERANGE),_.level=a,_.sn="initSegment",m&&(_.levelkey=m),_.initSegment=null,r=_,R=!0;break;case"SERVER-CONTROL":var xt=new Q.AttrList(U);d.canBlockReload=xt.bool("CAN-BLOCK-RELOAD"),d.canSkipUntil=xt.optionalFloat("CAN-SKIP-UNTIL",0),d.canSkipDateRanges=d.canSkipUntil>0&&xt.bool("CAN-SKIP-DATERANGES"),d.partHoldBack=xt.optionalFloat("PART-HOLD-BACK",0),d.holdBack=xt.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Et=new Q.AttrList(U);d.partTarget=Et.decimalFloatingPoint("PART-TARGET");break;case"PART":var wt=d.partList;wt||(wt=d.partList=[]);var kt=c>0?wt[wt.length-1]:void 0,Dt=c++,bt=new H.Part(new Q.AttrList(U),_,p,Dt,kt);wt.push(bt),_.duration+=bt.duration;break;case"PRELOAD-HINT":var Lt=new Q.AttrList(U);d.preloadHint=Lt;break;case"RENDITION-REPORT":var Rt=new Q.AttrList(U);d.renditionReports=d.renditionReports||[],d.renditionReports.push(Rt);break;default:W.logger.warn("line parsed but not handled: "+A)}}}k&&!k.relurl?(o.pop(),b-=k.duration,d.partList&&(d.fragmentHint=k)):d.partList&&(f(_,k),_.cc=O,d.fragmentHint=_);var Nt=o.length,Ot=o[0],Wt=o[Nt-1];if((b+=d.skippedSegments*d.targetduration)>0&&Nt&&Wt){d.averagetargetduration=b/Nt;var Kt=Wt.sn;d.endSN="initSegment"!==Kt?Kt:0,Ot&&(d.startCC=Ot.cc,Ot.initSegment||d.fragments.every(function(Ft){return Ft.relurl&&function s(C){var x,M;return E.test(null!=(x=null===(M=lt.parseURL(C))||void 0===M?void 0:M.path)?x:"")}(Ft.relurl)})&&(W.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(_=new H.Fragment(h,p)).relurl=Wt.relurl,_.level=a,_.sn="initSegment",Ot.initSegment=_,d.needSidxRanges=!0))}else d.endSN=0,d.startCC=0;return d.fragmentHint&&(b+=d.fragmentHint.duration),d.totalduration=b,d.endCC=O,T>0&&function S(C,x){for(var M=C[x],p=x;p--;){var a=C[p];if(!a)return;a.programDateTime=M.programDateTime-1e3*a.duration,M=a}}(o,T),d},C}();function g(C,x){["video","audio","text"].forEach(function(M){var p=C.filter(function(h){return Object(Y.isCodecType)(h,M)});if(p.length){var a=p.filter(function(h){return 0===h.lastIndexOf("avc1",0)||0===h.lastIndexOf("mp4a",0)});x[M+"Codec"]=a.length>0?a[0]:p[0],C=C.filter(function(h){return-1===p.indexOf(h)})}}),x.unknownCodecs=C}function v(C,x,M){var p=x[M];p&&(C[M]=p)}function f(C,x){C.rawProgramDateTime?C.programDateTime=Date.parse(C.rawProgramDateTime):null!=x&&x.programDateTime&&(C.programDateTime=x.endProgramDateTime),Object(St.isFiniteNumber)(C.programDateTime)||(C.programDateTime=null,C.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/polyfills/number.ts"),lt=ft("./src/events.ts"),F=ft("./src/errors.ts"),H=ft("./src/utils/logger.ts"),K=ft("./src/utils/mp4-tools.ts"),V=ft("./src/loader/m3u8-parser.ts"),Q=ft("./src/types/loader.ts"),W=ft("./src/utils/attr-list.ts");function z(P,w){var E=P.url;return(void 0===E||0===E.indexOf("data:"))&&(E=w.url),E}Mt.default=function(){function P(E){this.hls=void 0,this.loaders=Object.create(null),this.hls=E,this.registerListeners()}var w=P.prototype;return w.registerListeners=function(){var s=this.hls;s.on(lt.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.on(lt.Events.LEVEL_LOADING,this.onLevelLoading,this),s.on(lt.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),s.on(lt.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},w.unregisterListeners=function(){var s=this.hls;s.off(lt.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.off(lt.Events.LEVEL_LOADING,this.onLevelLoading,this),s.off(lt.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),s.off(lt.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},w.createInternalLoader=function(s){var l=this.hls.config,f=new(l.pLoader||l.loader)(l);return s.loader=f,this.loaders[s.type]=f,f},w.getInternalLoader=function(s){return this.loaders[s.type]},w.resetInternalLoader=function(s){this.loaders[s]&&delete this.loaders[s]},w.destroyInternalLoaders=function(){for(var s in this.loaders){var l=this.loaders[s];l&&l.destroy(),this.resetInternalLoader(s)}},w.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},w.onManifestLoading=function(s,l){this.load({id:null,groupId:null,level:0,responseType:"text",type:Q.PlaylistContextType.MANIFEST,url:l.url,deliveryDirectives:null})},w.onLevelLoading=function(s,l){this.load({id:l.id,groupId:null,level:l.level,responseType:"text",type:Q.PlaylistContextType.LEVEL,url:l.url,deliveryDirectives:l.deliveryDirectives})},w.onAudioTrackLoading=function(s,l){this.load({id:l.id,groupId:l.groupId,level:null,responseType:"text",type:Q.PlaylistContextType.AUDIO_TRACK,url:l.url,deliveryDirectives:l.deliveryDirectives})},w.onSubtitleTrackLoading=function(s,l){this.load({id:l.id,groupId:l.groupId,level:null,responseType:"text",type:Q.PlaylistContextType.SUBTITLE_TRACK,url:l.url,deliveryDirectives:l.deliveryDirectives})},w.load=function(s){var l,f,C,x,M,p,g=this.hls.config,v=this.getInternalLoader(s);if(v){var S=v.context;if(S&&S.url===s.url)return void H.logger.trace("[playlist-loader]: playlist request ongoing");H.logger.log("[playlist-loader]: aborting previous loader for type: "+s.type),v.abort()}switch(s.type){case Q.PlaylistContextType.MANIFEST:f=g.manifestLoadingMaxRetry,C=g.manifestLoadingTimeOut,x=g.manifestLoadingRetryDelay,M=g.manifestLoadingMaxRetryTimeout;break;case Q.PlaylistContextType.LEVEL:case Q.PlaylistContextType.AUDIO_TRACK:case Q.PlaylistContextType.SUBTITLE_TRACK:f=0,C=g.levelLoadingTimeOut;break;default:f=g.levelLoadingMaxRetry,C=g.levelLoadingTimeOut,x=g.levelLoadingRetryDelay,M=g.levelLoadingMaxRetryTimeout}if(v=this.createInternalLoader(s),null!==(l=s.deliveryDirectives)&&void 0!==l&&l.part&&(s.type===Q.PlaylistContextType.LEVEL&&null!==s.level?p=this.hls.levels[s.level].details:s.type===Q.PlaylistContextType.AUDIO_TRACK&&null!==s.id?p=this.hls.audioTracks[s.id].details:s.type===Q.PlaylistContextType.SUBTITLE_TRACK&&null!==s.id&&(p=this.hls.subtitleTracks[s.id].details),p)){var a=p.partTarget,h=p.targetduration;a&&h&&(C=Math.min(1e3*Math.max(3*a,.8*h),C))}var n={timeout:C,maxRetry:f,retryDelay:x,maxRetryDelay:M,highWaterMark:0},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};v.load(s,n,d)},w.loadsuccess=function(s,l,g,v){if(void 0===v&&(v=null),g.isSidxRequest)return this.handleSidxRequest(s,g),void this.handlePlaylistLoaded(s,l,g,v);this.resetInternalLoader(g.type);var S=s.data;0===S.indexOf("#EXTM3U")?(l.parsing.start=performance.now(),S.indexOf("#EXTINF:")>0||S.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(s,l,g,v):this.handleMasterPlaylist(s,l,g,v)):this.handleManifestParsingError(s,g,"no EXTM3U delimiter",v)},w.loaderror=function(s,l,g){void 0===g&&(g=null),this.handleNetworkError(l,g,!1,s)},w.loadtimeout=function(s,l,g){void 0===g&&(g=null),this.handleNetworkError(l,g,!0)},w.handleMasterPlaylist=function(s,l,g,v){var S=this.hls,f=s.data,C=z(s,g),x=V.default.parseMasterPlaylist(f,C),M=x.levels,p=x.sessionData;if(M.length){var a=M.map(function(u){return{id:u.attrs.AUDIO,audioCodec:u.audioCodec}}),h=M.map(function(u){return{id:u.attrs.SUBTITLES,textCodec:u.textCodec}}),n=V.default.parseMasterPlaylistMedia(f,C,"AUDIO",a),d=V.default.parseMasterPlaylistMedia(f,C,"SUBTITLES",h),o=V.default.parseMasterPlaylistMedia(f,C,"CLOSED-CAPTIONS");n.length&&!n.some(function(u){return!u.url})&&M[0].audioCodec&&!M[0].attrs.AUDIO&&(H.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),n.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new W.AttrList({}),bitrate:0,url:""})),S.trigger(lt.Events.MANIFEST_LOADED,{levels:M,audioTracks:n,subtitles:d,captions:o,url:C,stats:l,networkDetails:v,sessionData:p})}else this.handleManifestParsingError(s,g,"no level found in manifest",v)},w.handleTrackOrLevelPlaylist=function(s,l,g,v){var S=this.hls,f=g.id,C=g.level,x=g.type,M=z(s,g),p=Object(St.isFiniteNumber)(f)?f:0,a=Object(St.isFiniteNumber)(C)?C:p,h=function Y(P){switch(P.type){case Q.PlaylistContextType.AUDIO_TRACK:return Q.PlaylistLevelType.AUDIO;case Q.PlaylistContextType.SUBTITLE_TRACK:return Q.PlaylistLevelType.SUBTITLE;default:return Q.PlaylistLevelType.MAIN}}(g),n=V.default.parseLevelPlaylist(s.data,M,a,h,p);if(n.fragments.length){if(x===Q.PlaylistContextType.MANIFEST){var d={attrs:new W.AttrList({}),bitrate:0,details:n,name:"",url:M};S.trigger(lt.Events.MANIFEST_LOADED,{levels:[d],audioTracks:[],url:M,stats:l,networkDetails:v,sessionData:null})}if(l.parsing.end=performance.now(),n.needSidxRanges){var o,r=null===(o=n.fragments[0].initSegment)||void 0===o?void 0:o.url;this.load({url:r,isSidxRequest:!0,type:x,level:C,levelDetails:n,id:f,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else g.levelDetails=n,this.handlePlaylistLoaded(s,l,g,v)}else S.trigger(lt.Events.ERROR,{type:F.ErrorTypes.NETWORK_ERROR,details:F.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:M,reason:"no fragments found in level",level:"number"==typeof g.level?g.level:void 0})},w.handleSidxRequest=function(s,l){var g=Object(K.parseSegmentIndex)(new Uint8Array(s.data));if(g){var S=l.levelDetails;g.references.forEach(function(f,C){var x=f.info,M=S.fragments[C];0===M.byteRange.length&&M.setByteRange(String(1+x.end-x.start)+"@"+String(x.start)),M.initSegment&&M.initSegment.setByteRange(String(g.moovEndOffset)+"@0")})}},w.handleManifestParsingError=function(s,l,g,v){this.hls.trigger(lt.Events.ERROR,{type:F.ErrorTypes.NETWORK_ERROR,details:F.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:l.type===Q.PlaylistContextType.MANIFEST,url:s.url,reason:g,response:s,context:l,networkDetails:v})},w.handleNetworkError=function(s,l,g,v){void 0===g&&(g=!1),H.logger.warn("[playlist-loader]: A network "+(g?"timeout":"error")+" occurred while loading "+s.type+" level: "+s.level+" id: "+s.id+' group-id: "'+s.groupId+'"');var S=F.ErrorDetails.UNKNOWN,f=!1,C=this.getInternalLoader(s);switch(s.type){case Q.PlaylistContextType.MANIFEST:S=g?F.ErrorDetails.MANIFEST_LOAD_TIMEOUT:F.ErrorDetails.MANIFEST_LOAD_ERROR,f=!0;break;case Q.PlaylistContextType.LEVEL:S=g?F.ErrorDetails.LEVEL_LOAD_TIMEOUT:F.ErrorDetails.LEVEL_LOAD_ERROR,f=!1;break;case Q.PlaylistContextType.AUDIO_TRACK:S=g?F.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:F.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,f=!1;break;case Q.PlaylistContextType.SUBTITLE_TRACK:S=g?F.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:F.ErrorDetails.SUBTITLE_LOAD_ERROR,f=!1}C&&this.resetInternalLoader(s.type);var x={type:F.ErrorTypes.NETWORK_ERROR,details:S,fatal:f,url:s.url,loader:C,context:s,networkDetails:l};v&&(x.response=v),this.hls.trigger(lt.Events.ERROR,x)},w.handlePlaylistLoaded=function(s,l,g,v){var S=g.type,f=g.level,C=g.id,x=g.groupId,M=g.loader,p=g.levelDetails,a=g.deliveryDirectives;if(null!=p&&p.targetduration){if(M)switch(p.live&&(M.getCacheAge&&(p.ageHeader=M.getCacheAge()||0),(!M.getCacheAge||isNaN(p.ageHeader))&&(p.ageHeader=0)),S){case Q.PlaylistContextType.MANIFEST:case Q.PlaylistContextType.LEVEL:this.hls.trigger(lt.Events.LEVEL_LOADED,{details:p,level:f||0,id:C||0,stats:l,networkDetails:v,deliveryDirectives:a});break;case Q.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(lt.Events.AUDIO_TRACK_LOADED,{details:p,id:C||0,groupId:x||"",stats:l,networkDetails:v,deliveryDirectives:a});break;case Q.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(lt.Events.SUBTITLE_TRACK_LOADED,{details:p,id:C||0,groupId:x||"",stats:l,networkDetails:v,deliveryDirectives:a})}}else this.handleManifestParsingError(s,g,"invalid target duration",v)},P}()},"./src/polyfills/number.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"isFiniteNumber",function(){return St}),ft.d(Mt,"MAX_SAFE_INTEGER",function(){return lt});var St=Number.isFinite||function(F){return"number"==typeof F&&isFinite(F)},lt=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),Mt.default=function(){function lt(){}return lt.getSilentFrame=function(H,K){if("mp4a.40.2"===H){if(1===K)return new Uint8Array([0,200,0,128,35,128]);if(2===K)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===K)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===K)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===K)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===K)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},lt}()},"./src/remux/mp4-generator.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=Math.pow(2,32)-1,lt=function(){function F(){}return F.init=function(){var K;for(K in F.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})F.types.hasOwnProperty(K)&&(F.types[K]=[K.charCodeAt(0),K.charCodeAt(1),K.charCodeAt(2),K.charCodeAt(3)]);var V=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Q=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);F.HDLR_TYPES={video:V,audio:Q};var W=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Y=new Uint8Array([0,0,0,0,0,0,0,0]);F.STTS=F.STSC=F.STCO=Y,F.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),F.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),F.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var z=new Uint8Array([105,115,111,109]),I=new Uint8Array([97,118,99,49]),P=new Uint8Array([0,0,0,1]);F.FTYP=F.box(F.types.ftyp,z,P,z,I),F.DINF=F.box(F.types.dinf,F.box(F.types.dref,W))},F.box=function(K){for(var V=8,Q=arguments.length,W=new Array(Q>1?Q-1:0),Y=1;Y<Q;Y++)W[Y-1]=arguments[Y];for(var z=W.length,I=z;z--;)V+=W[z].byteLength;var P=new Uint8Array(V);for(P[0]=V>>24&255,P[1]=V>>16&255,P[2]=V>>8&255,P[3]=255&V,P.set(K,4),z=0,V=8;z<I;z++)P.set(W[z],V),V+=W[z].byteLength;return P},F.hdlr=function(K){return F.box(F.types.hdlr,F.HDLR_TYPES[K])},F.mdat=function(K){return F.box(F.types.mdat,K)},F.mdhd=function(K,V){V*=K;var Q=Math.floor(V/(St+1)),W=Math.floor(V%(St+1));return F.box(F.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,K>>24&255,K>>16&255,K>>8&255,255&K,Q>>24,Q>>16&255,Q>>8&255,255&Q,W>>24,W>>16&255,W>>8&255,255&W,85,196,0,0]))},F.mdia=function(K){return F.box(F.types.mdia,F.mdhd(K.timescale,K.duration),F.hdlr(K.type),F.minf(K))},F.mfhd=function(K){return F.box(F.types.mfhd,new Uint8Array([0,0,0,0,K>>24,K>>16&255,K>>8&255,255&K]))},F.minf=function(K){return F.box(F.types.minf,"audio"===K.type?F.box(F.types.smhd,F.SMHD):F.box(F.types.vmhd,F.VMHD),F.DINF,F.stbl(K))},F.moof=function(K,V,Q){return F.box(F.types.moof,F.mfhd(K),F.traf(Q,V))},F.moov=function(K){for(var V=K.length,Q=[];V--;)Q[V]=F.trak(K[V]);return F.box.apply(null,[F.types.moov,F.mvhd(K[0].timescale,K[0].duration)].concat(Q).concat(F.mvex(K)))},F.mvex=function(K){for(var V=K.length,Q=[];V--;)Q[V]=F.trex(K[V]);return F.box.apply(null,[F.types.mvex].concat(Q))},F.mvhd=function(K,V){V*=K;var Q=Math.floor(V/(St+1)),W=Math.floor(V%(St+1)),Y=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,K>>24&255,K>>16&255,K>>8&255,255&K,Q>>24,Q>>16&255,Q>>8&255,255&Q,W>>24,W>>16&255,W>>8&255,255&W,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return F.box(F.types.mvhd,Y)},F.sdtp=function(K){var W,Y,V=K.samples||[],Q=new Uint8Array(4+V.length);for(W=0;W<V.length;W++)Q[W+4]=(Y=V[W].flags).dependsOn<<4|Y.isDependedOn<<2|Y.hasRedundancy;return F.box(F.types.sdtp,Q)},F.stbl=function(K){return F.box(F.types.stbl,F.stsd(K),F.box(F.types.stts,F.STTS),F.box(F.types.stsc,F.STSC),F.box(F.types.stsz,F.STSZ),F.box(F.types.stco,F.STCO))},F.avc1=function(K){var W,Y,z,V=[],Q=[];for(W=0;W<K.sps.length;W++)V.push((z=(Y=K.sps[W]).byteLength)>>>8&255),V.push(255&z),V=V.concat(Array.prototype.slice.call(Y));for(W=0;W<K.pps.length;W++)Q.push((z=(Y=K.pps[W]).byteLength)>>>8&255),Q.push(255&z),Q=Q.concat(Array.prototype.slice.call(Y));var I=F.box(F.types.avcC,new Uint8Array([1,V[3],V[4],V[5],255,224|K.sps.length].concat(V).concat([K.pps.length]).concat(Q))),P=K.width,w=K.height,E=K.pixelRatio[0],s=K.pixelRatio[1];return F.box(F.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P>>8&255,255&P,w>>8&255,255&w,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),I,F.box(F.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),F.box(F.types.pasp,new Uint8Array([E>>24,E>>16&255,E>>8&255,255&E,s>>24,s>>16&255,s>>8&255,255&s])))},F.esds=function(K){var V=K.config.length;return new Uint8Array([0,0,0,0,3,23+V,0,1,0,4,15+V,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([V]).concat(K.config).concat([6,1,2]))},F.mp4a=function(K){var V=K.samplerate;return F.box(F.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,K.channelCount,0,16,0,0,0,0,V>>8&255,255&V,0,0]),F.box(F.types.esds,F.esds(K)))},F.mp3=function(K){var V=K.samplerate;return F.box(F.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,K.channelCount,0,16,0,0,0,0,V>>8&255,255&V,0,0]))},F.stsd=function(K){return F.box(F.types.stsd,F.STSD,"audio"===K.type?K.isAAC||"mp3"!==K.codec?F.mp4a(K):F.mp3(K):F.avc1(K))},F.tkhd=function(K){var V=K.id,Q=K.duration*K.timescale,W=K.width,Y=K.height,z=Math.floor(Q/(St+1)),I=Math.floor(Q%(St+1));return F.box(F.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,V>>24&255,V>>16&255,V>>8&255,255&V,0,0,0,0,z>>24,z>>16&255,z>>8&255,255&z,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,W>>8&255,255&W,0,0,Y>>8&255,255&Y,0,0]))},F.traf=function(K,V){var Q=F.sdtp(K),W=K.id,Y=Math.floor(V/(St+1)),z=Math.floor(V%(St+1));return F.box(F.types.traf,F.box(F.types.tfhd,new Uint8Array([0,0,0,0,W>>24,W>>16&255,W>>8&255,255&W])),F.box(F.types.tfdt,new Uint8Array([1,0,0,0,Y>>24,Y>>16&255,Y>>8&255,255&Y,z>>24,z>>16&255,z>>8&255,255&z])),F.trun(K,Q.length+16+20+8+16+8+8),Q)},F.trak=function(K){return K.duration=K.duration||4294967295,F.box(F.types.trak,F.tkhd(K),F.mdia(K))},F.trex=function(K){var V=K.id;return F.box(F.types.trex,new Uint8Array([0,0,0,0,V>>24,V>>16&255,V>>8&255,255&V,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},F.trun=function(K,V){var I,P,w,E,s,l,Q=K.samples||[],W=Q.length,Y=12+16*W,z=new Uint8Array(Y);for(z.set([0,0,15,1,W>>>24&255,W>>>16&255,W>>>8&255,255&W,(V+=8+Y)>>>24&255,V>>>16&255,V>>>8&255,255&V],0),I=0;I<W;I++)z.set([(w=(P=Q[I]).duration)>>>24&255,w>>>16&255,w>>>8&255,255&w,(E=P.size)>>>24&255,E>>>16&255,E>>>8&255,255&E,(s=P.flags).isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,(l=P.cts)>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*I);return F.box(F.types.trun,z)},F.initSegment=function(K){F.types||F.init();var V=F.moov(K),Q=new Uint8Array(F.FTYP.byteLength+V.byteLength);return Q.set(F.FTYP),Q.set(V,F.FTYP.byteLength),Q},F}();lt.types=void 0,lt.HDLR_TYPES=void 0,lt.STTS=void 0,lt.STSC=void 0,lt.STCO=void 0,lt.STSZ=void 0,lt.VMHD=void 0,lt.SMHD=void 0,lt.STSD=void 0,lt.FTYP=void 0,lt.DINF=void 0,Mt.default=lt},"./src/remux/mp4-remuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return l}),ft.d(Mt,"normalizePts",function(){return g});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/remux/aac-helper.ts"),F=ft("./src/remux/mp4-generator.ts"),H=ft("./src/events.ts"),K=ft("./src/errors.ts"),V=ft("./src/utils/logger.ts"),Q=ft("./src/types/loader.ts"),W=ft("./src/utils/timescale-conversion.ts");function Y(){return Y=Object.assign||function(C){for(var x=1;x<arguments.length;x++){var M=arguments[x];for(var p in M)Object.prototype.hasOwnProperty.call(M,p)&&(C[p]=M[p])}return C},Y.apply(this,arguments)}var w=null,E=null,s=!1,l=function(){function C(M,p,a,h){if(void 0===h&&(h=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=M,this.config=p,this.typeSupported=a,this.ISGenerated=!1,null===w){var d=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);w=d?parseInt(d[1]):0}if(null===E){var o=navigator.userAgent.match(/Safari\/(\d+)/i);E=o?parseInt(o[1]):0}s=!!w&&w<75||!!E&&E<600}var x=C.prototype;return x.destroy=function(){},x.resetTimeStamp=function(p){V.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=p},x.resetNextTimestamp=function(){V.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},x.resetInitSegment=function(){V.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},x.getVideoStartPts=function(p){var a=!1,h=p.reduce(function(n,d){var o=d.pts-n;return o<-4294967296?(a=!0,g(n,d.pts)):o>0?n:d.pts},p[0].pts);return a&&V.logger.debug("PTS rollover detected"),h},x.remux=function(p,a,h,n,d,o,r,u){var c,b,O,k,_,A,B=d,m=d,R=a.pid>-1,j=a.samples.length,X=p.samples.length>0,$=j>1;if((!(p.pid>-1)||X)&&(!R||$)||this.ISGenerated||r){this.ISGenerated||(O=this.generateIS(p,a,d));var U=this.isVideoContiguous,N=-1;if($&&(N=function v(C){for(var x=0;x<C.length;x++)if(C[x].key)return x;return-1}(a.samples),!U&&this.config.forceKeyFrameOnDiscontinuity))if(A=!0,N>0){V.logger.warn("[mp4-remuxer]: Dropped "+N+" out of "+j+" video samples due to a missing keyframe");var Z=this.getVideoStartPts(a.samples);a.samples=a.samples.slice(N),a.dropped+=N,m+=(a.samples[0].pts-Z)/(a.timescale||9e4)}else-1===N&&(V.logger.warn("[mp4-remuxer]: No keyframe found out of "+j+" video samples"),A=!1);if(this.ISGenerated){if(X&&$){var q=this.getVideoStartPts(a.samples),it=(g(p.samples[0].pts,q)-q)/a.inputTimeScale;B+=Math.max(0,it),m+=Math.max(0,-it)}if(X){if(p.samplerate||(V.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),O=this.generateIS(p,a,d)),b=this.remuxAudio(p,B,this.isAudioContiguous,o,R||$||u===Q.PlaylistLevelType.AUDIO?m:void 0),$){var ot=b?b.endPTS-b.startPTS:0;a.inputTimeScale||(V.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),O=this.generateIS(p,a,d)),c=this.remuxVideo(a,m,U,ot)}}else $&&(c=this.remuxVideo(a,m,U,0));c&&(c.firstKeyFrame=N,c.independent=-1!==N)}}return this.ISGenerated&&(h.samples.length&&(_=this.remuxID3(h,d)),n.samples.length&&(k=this.remuxText(n,d))),{audio:b,video:c,initSegment:O,independent:A,text:k,id3:_}},x.generateIS=function(p,a,h){var b,O,k,n=p.samples,d=a.samples,o=this.typeSupported,r={},u=!Object(St.isFiniteNumber)(this._initPTS),c="audio/mp4";if(u&&(b=O=1/0),p.config&&n.length&&(p.timescale=p.samplerate,p.isAAC||(o.mpeg?(c="audio/mpeg",p.codec=""):o.mp3&&(p.codec="mp3")),r.audio={id:"audio",container:c,codec:p.codec,initSegment:!p.isAAC&&o.mpeg?new Uint8Array(0):F.default.initSegment([p]),metadata:{channelCount:p.channelCount}},u&&(k=p.inputTimeScale,b=O=n[0].pts-Math.round(k*h))),a.sps&&a.pps&&d.length&&(a.timescale=a.inputTimeScale,r.video={id:"main",container:"video/mp4",codec:a.codec,initSegment:F.default.initSegment([a]),metadata:{width:a.width,height:a.height}},u)){k=a.inputTimeScale;var _=this.getVideoStartPts(d),A=Math.round(k*h);O=Math.min(O,g(d[0].dts,_)-A),b=Math.min(b,_-A)}if(Object.keys(r).length)return this.ISGenerated=!0,u&&(this._initPTS=b,this._initDTS=O),{tracks:r,initPTS:b,timescale:k}},x.remuxVideo=function(p,a,h,n){var k,_,A,d=p.inputTimeScale,o=p.samples,r=[],u=o.length,c=this._initPTS,b=this.nextAvcDts,O=8,B=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,T=0,R=!1;h&&null!==b||(b=a*d-(o[0].pts-g(o[0].dts,o[0].pts)));for(var $=0;$<u;$++){var D=o[$];if(D.pts=g(D.pts-c,b),D.dts=g(D.dts-c,b),D.dts>D.pts){T=Math.max(Math.min(T,D.pts-D.dts),-18e3)}D.dts<o[$>0?$-1:$].dts&&(R=!0)}R&&o.sort(function(wi,Ms){return wi.dts-Ms.dts||wi.pts-Ms.pts}),_=o[0].dts,A=o[o.length-1].dts;var N=Math.round((A-_)/(u-1));if(T<0){if(T<-2*N){V.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(W.toMsFromMpegTsClock)(-N,!0)+" ms");for(var Z=T,q=0;q<u;q++)o[q].dts=Z=Math.max(Z,o[q].pts-N),o[q].pts=Math.max(Z,o[q].pts)}else{V.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(W.toMsFromMpegTsClock)(T,!0)+" ms to overcome this issue");for(var nt=0;nt<u;nt++)o[nt].dts=o[nt].dts+T}_=o[0].dts}if(h){var it=_-b,ot=it>N;if(ot||it<-1){V.logger.warn(ot?"AVC: "+Object(W.toMsFromMpegTsClock)(it,!0)+" ms ("+it+"dts) hole between fragments detected, filling it":"AVC: "+Object(W.toMsFromMpegTsClock)(-it,!0)+" ms ("+it+"dts) overlapping between fragments detected");var mt=o[0].pts-it;o[0].dts=_=b,o[0].pts=mt,V.logger.log("Video: First PTS/DTS adjusted: "+Object(W.toMsFromMpegTsClock)(mt,!0)+"/"+Object(W.toMsFromMpegTsClock)(_,!0)+", delta: "+Object(W.toMsFromMpegTsClock)(it,!0)+" ms")}}s&&(_=Math.max(0,_));for(var yt=0,vt=0,pt=0;pt<u;pt++){for(var ct=o[pt],J=ct.units,et=J.length,st=0,ut=0;ut<et;ut++)st+=J[ut].data.length;vt+=st,yt+=et,ct.length=st,ct.dts=Math.max(ct.dts,_),ct.pts=Math.max(ct.pts,ct.dts,0),B=Math.min(ct.pts,B),m=Math.max(ct.pts,m)}A=o[u-1].dts;var xt,dt=vt+4*yt+8;try{xt=new Uint8Array(dt)}catch(wi){return void this.observer.emit(H.Events.ERROR,H.Events.ERROR,{type:K.ErrorTypes.MUX_ERROR,details:K.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:dt,reason:"fail allocating video mdat "+dt})}var Et=new DataView(xt.buffer);Et.setUint32(0,dt),xt.set(F.default.types.mdat,4);for(var wt=0;wt<u;wt++){for(var kt=o[wt],Dt=kt.units,bt=0,Lt=0,Rt=Dt.length;Lt<Rt;Lt++){var Nt=Dt[Lt],Ot=Nt.data,Wt=Nt.data.byteLength;Et.setUint32(O,Wt),xt.set(Ot,O+=4),O+=Wt,bt+=4+Wt}if(wt<u-1)k=o[wt+1].dts-kt.dts;else{var Kt=this.config,Ft=kt.dts-o[wt>0?wt-1:wt].dts;if(Kt.stretchShortVideoTrack&&null!==this.nextAudioPts){var Jt=Math.floor(Kt.maxBufferHole*d),ae=(n?B+n*d:this.nextAudioPts)-kt.pts;ae>Jt?((k=ae-Ft)<0&&(k=Ft),V.logger.log("[mp4-remuxer]: It is approximately "+ae/90+" ms to the next segment; using duration "+k/90+" ms for the last video frame.")):k=Ft}else k=Ft}var Xt=Math.round(kt.pts-kt.dts);r.push(new S(kt.key,k,bt,Xt))}if(r.length&&w&&w<70){var ee=r[0].flags;ee.dependsOn=2,ee.isNonSync=0}console.assert(void 0!==k,"mp4SampleDuration must be computed"),this.nextAvcDts=b=A+k,this.isVideoContiguous=!0;var fl={data1:F.default.moof(p.sequenceNumber++,_,Y({},p,{samples:r})),data2:xt,startPTS:B/d,endPTS:(m+k)/d,startDTS:_/d,endDTS:b/d,type:"video",hasAudio:!1,hasVideo:!0,nb:r.length,dropped:p.dropped};return p.samples=[],p.dropped=0,console.assert(xt.length,"MDAT length must not be zero"),fl},x.remuxAudio=function(p,a,h,n,d){var o=p.inputTimeScale,u=o/(p.samplerate?p.samplerate:o),c=p.isAAC?1024:1152,b=c*u,O=this._initPTS,k=!p.isAAC&&this.typeSupported.mpeg,_=[],A=p.samples,B=k?0:8,m=this.nextAudioPts||-1,T=a*o;if(this.isAudioContiguous=h=h||A.length&&m>0&&(n&&Math.abs(T-m)<9e3||Math.abs(g(A[0].pts-O,T)-m)<20*b),A.forEach(function(Ot){Ot.pts=g(Ot.pts-O,T)}),!h||m<0){if(!(A=A.filter(function(Ot){return Ot.pts>=0})).length)return;m=0===d?0:n?Math.max(0,T):A[0].pts}if(p.isAAC)for(var R=void 0!==d,j=this.config.maxAudioFramesDrift,X=0,$=m;X<A.length;X++){var D=A[X],U=D.pts,N=U-$,Z=Math.abs(1e3*N/o);if(N<=-j*b&&R)0===X&&(V.logger.warn("Audio frame @ "+(U/o).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*N/o)+" ms."),this.nextAudioPts=m=$=U);else if(N>=j*b&&Z<1e4&&R){var q=Math.round(N/b);($=U-q*b)<0&&(q--,$+=b),0===X&&(this.nextAudioPts=m=$),V.logger.warn("[mp4-remuxer]: Injecting "+q+" audio frame @ "+($/o).toFixed(3)+"s due to "+Math.round(1e3*N/o)+" ms gap.");for(var nt=0;nt<q;nt++){var it=Math.max($,0),ot=lt.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);ot||(V.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ot=D.unit.subarray()),A.splice(X,0,{unit:ot,pts:it}),$+=b,X++}}D.pts=$,$+=b}for(var yt,at=null,mt=null,vt=0,pt=A.length;pt--;)vt+=A[pt].unit.byteLength;for(var ct=0,J=A.length;ct<J;ct++){var et=A[ct],st=et.unit,ut=et.pts;if(null!==mt)_[ct-1].duration=Math.round((ut-mt)/u);else{if(h&&p.isAAC&&(ut=m),at=ut,!(vt>0))return;vt+=B;try{yt=new Uint8Array(vt)}catch(Ot){return void this.observer.emit(H.Events.ERROR,H.Events.ERROR,{type:K.ErrorTypes.MUX_ERROR,details:K.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:vt,reason:"fail allocating audio mdat "+vt})}k||(new DataView(yt.buffer).setUint32(0,vt),yt.set(F.default.types.mdat,4))}yt.set(st,B);var Et=st.byteLength;B+=Et,_.push(new S(!0,c,Et,0)),mt=ut}var wt=_.length;if(wt){this.nextAudioPts=m=mt+u*_[_.length-1].duration;var Dt=k?new Uint8Array(0):F.default.moof(p.sequenceNumber++,at/u,Y({},p,{samples:_}));p.samples=[];var bt=at/o,Lt=m/o,Nt={data1:Dt,data2:yt,startPTS:bt,endPTS:Lt,startDTS:bt,endDTS:Lt,type:"audio",hasAudio:!0,hasVideo:!1,nb:wt};return this.isAudioContiguous=!0,console.assert(yt.length,"MDAT length must not be zero"),Nt}},x.remuxEmptyAudio=function(p,a,h,n){var d=p.inputTimeScale,u=this.nextAudioPts,c=(null!==u?u:n.startDTS*d)+this._initDTS,O=d/(p.samplerate?p.samplerate:d)*1024,k=Math.ceil((n.endDTS*d+this._initDTS-c)/O),_=lt.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);if(V.logger.warn("[mp4-remuxer]: remux empty Audio"),_){for(var A=[],B=0;B<k;B++){var m=c+B*O;A.push({unit:_,pts:m,dts:m})}return p.samples=A,this.remuxAudio(p,a,h,!1)}V.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},x.remuxID3=function(p,a){var h=p.samples.length;if(h){for(var n=p.inputTimeScale,d=this._initPTS,o=this._initDTS,r=0;r<h;r++){var u=p.samples[r];u.pts=g(u.pts-d,a*n)/n,u.dts=g(u.dts-o,a*n)/n}var c=p.samples;return p.samples=[],{samples:c}}},x.remuxText=function(p,a){var h=p.samples.length;if(h){for(var n=p.inputTimeScale,d=this._initPTS,o=0;o<h;o++){var r=p.samples[o];r.pts=g(r.pts-d,a*n)/n}p.samples.sort(function(c,b){return c.pts-b.pts});var u=p.samples;return p.samples=[],{samples:u}}},C}();function g(C,x){var M;if(null===x)return C;for(M=x<C?-8589934592:8589934592;Math.abs(C-x)>4294967296;)C+=M;return C}var S=function(x,M,p,a){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=M,this.size=p,this.cts=a,this.flags=new f(x)},f=function(x){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=x?2:1,this.isNonSync=x?0:1}},"./src/remux/passthrough-remuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/polyfills/number.ts"),lt=ft("./src/utils/mp4-tools.ts"),F=ft("./src/loader/fragment.ts"),H=ft("./src/utils/logger.ts"),K=function(){function W(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var Y=W.prototype;return Y.destroy=function(){},Y.resetTimeStamp=function(I){this.initPTS=I,this.lastEndDTS=null},Y.resetNextTimestamp=function(){this.lastEndDTS=null},Y.resetInitSegment=function(I,P,w){this.audioCodec=P,this.videoCodec=w,this.generateInitSegment(I),this.emitInitSegment=!0},Y.generateInitSegment=function(I){var P=this.audioCodec,w=this.videoCodec;if(!I||!I.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var E=this.initData=Object(lt.parseInitSegment)(I);P||(P=Q(E.audio,F.ElementaryStreamTypes.AUDIO)),w||(w=Q(E.video,F.ElementaryStreamTypes.VIDEO));var s={};E.audio&&E.video?s.audiovideo={container:"video/mp4",codec:P+","+w,initSegment:I,id:"main"}:E.audio?s.audio={container:"audio/mp4",codec:P,initSegment:I,id:"audio"}:E.video?s.video={container:"video/mp4",codec:w,initSegment:I,id:"main"}:H.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s},Y.remux=function(I,P,w,E,s){var l=this.initPTS,g=this.lastEndDTS,v={audio:void 0,video:void 0,text:E,id3:w,initSegment:void 0};Object(St.isFiniteNumber)(g)||(g=this.lastEndDTS=s||0);var S=P.samples;if(!S||!S.length)return v;var f={initPTS:void 0,timescale:1},C=this.initData;if((!C||!C.length)&&(this.generateInitSegment(S),C=this.initData),!C||!C.length)return H.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),v;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1),Object(St.isFiniteNumber)(l)||(this.initPTS=f.initPTS=l=V(C,S,g));var x=Object(lt.getDuration)(S,C),M=g,p=x+M;Object(lt.offsetStartDTS)(C,S,l),x>0?this.lastEndDTS=p:(H.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var a=!!C.audio,h=!!C.video,n="";a&&(n+="audio"),h&&(n+="video");var d={data1:S,startPTS:M,startDTS:M,endPTS:p,endDTS:p,type:n,hasAudio:a,hasVideo:h,nb:1,dropped:0};return v.audio="audio"===d.type?d:void 0,v.video="audio"!==d.type?d:void 0,v.text=E,v.id3=w,v.initSegment=f,v},W}(),V=function(Y,z,I){return Object(lt.getStartDTS)(Y,z)-I};function Q(W,Y){var z=null==W?void 0:W.codec;return z&&z.length>4?z:"hvc1"===z?"hvc1.1.c.L120.90":"av01"===z?"av01.0.04M.08":"avc1"===z||Y===F.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}Mt.default=K},"./src/task-loop.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return St});var St=function(){function lt(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var F=lt.prototype;return F.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},F.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},F.onHandlerDestroyed=function(){},F.hasInterval=function(){return!!this._tickInterval},F.hasNextTick=function(){return!!this._tickTimer},F.setInterval=function(K){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,K),!0)},F.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},F.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},F.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},F.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},F.doTick=function(){},lt}()},"./src/types/cmcd.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"CMCDVersion",function(){return St}),ft.d(Mt,"CMCDObjectType",function(){return lt}),ft.d(Mt,"CMCDStreamingFormat",function(){return F}),ft.d(Mt,"CMCDStreamType",function(){return H});var St=1,lt=(()=>{return(K=lt||(lt={})).MANIFEST="m",K.AUDIO="a",K.VIDEO="v",K.MUXED="av",K.INIT="i",K.CAPTION="c",K.TIMED_TEXT="tt",K.KEY="k",K.OTHER="o",lt;var K})(),F=(()=>{return(K=F||(F={})).DASH="d",K.HLS="h",K.SMOOTH="s",K.OTHER="o",F;var K})(),H=(()=>{return(K=H||(H={})).VOD="v",K.LIVE="l",H;var K})()},"./src/types/level.ts":function(zt,Mt,ft){"use strict";function St(Q,W){for(var Y=0;Y<W.length;Y++){var z=W[Y];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(Q,z.key,z)}}ft.r(Mt),ft.d(Mt,"HlsSkip",function(){return F}),ft.d(Mt,"getSkipValue",function(){return H}),ft.d(Mt,"HlsUrlParameters",function(){return K}),ft.d(Mt,"Level",function(){return V});var F=(()=>{return(Q=F||(F={})).No="",Q.Yes="YES",Q.v2="v2",F;var Q})();function H(Q,W){var Y=Q.canSkipUntil;return Y&&(void 0!==W?W-Q.endSN:0)<Y?Q.canSkipDateRanges?F.v2:F.Yes:F.No}var K=function(){function Q(Y,z,I){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=Y,this.part=z,this.skip=I}return Q.prototype.addDirectives=function(z){var I=new self.URL(z);return void 0!==this.msn&&I.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&I.searchParams.set("_HLS_part",this.part.toString()),this.skip&&I.searchParams.set("_HLS_skip",this.skip),I.toString()},Q}(),V=function(){function Q(W){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[W.url],this.attrs=W.attrs,this.bitrate=W.bitrate,W.details&&(this.details=W.details),this.id=W.id||0,this.name=W.name,this.width=W.width||0,this.height=W.height||0,this.audioCodec=W.audioCodec,this.videoCodec=W.videoCodec,this.unknownCodecs=W.unknownCodecs,this.codecSet=[W.videoCodec,W.audioCodec].filter(function(Y){return Y}).join(",").replace(/\.[^.,]+/g,"")}return function lt(Q,W,Y){return W&&St(Q.prototype,W),Y&&St(Q,Y),Q}(Q,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(Y){var z=Y%this.url.length;this._urlId!==z&&(this.details=void 0,this._urlId=z)}}]),Q}()},"./src/types/loader.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"PlaylistContextType",function(){return St}),ft.d(Mt,"PlaylistLevelType",function(){return lt});var St=(()=>{return(F=St||(St={})).MANIFEST="manifest",F.LEVEL="level",F.AUDIO_TRACK="audioTrack",F.SUBTITLE_TRACK="subtitleTrack",St;var F})(),lt=(()=>{return(F=lt||(lt={})).MAIN="main",F.AUDIO="audio",F.SUBTITLE="subtitle",lt;var F})()},"./src/types/transmuxer.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"ChunkMetadata",function(){return St});var St=function(H,K,V,Q,W,Y){void 0===Q&&(Q=0),void 0===W&&(W=-1),void 0===Y&&(Y=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=H,this.sn=K,this.id=V,this.size=Q,this.part=W,this.partial=Y}},"./src/utils/attr-list.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"AttrList",function(){return F});var St=/^(\d+)x(\d+)$/,lt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,F=function(){function H(V){for(var Q in"string"==typeof V&&(V=H.parseAttrList(V)),V)V.hasOwnProperty(Q)&&(this[Q]=V[Q])}var K=H.prototype;return K.decimalInteger=function(Q){var W=parseInt(this[Q],10);return W>Number.MAX_SAFE_INTEGER?1/0:W},K.hexadecimalInteger=function(Q){if(this[Q]){var W=(this[Q]||"0x").slice(2);W=(1&W.length?"0":"")+W;for(var Y=new Uint8Array(W.length/2),z=0;z<W.length/2;z++)Y[z]=parseInt(W.slice(2*z,2*z+2),16);return Y}return null},K.hexadecimalIntegerAsNumber=function(Q){var W=parseInt(this[Q],16);return W>Number.MAX_SAFE_INTEGER?1/0:W},K.decimalFloatingPoint=function(Q){return parseFloat(this[Q])},K.optionalFloat=function(Q,W){var Y=this[Q];return Y?parseFloat(Y):W},K.enumeratedString=function(Q){return this[Q]},K.bool=function(Q){return"YES"===this[Q]},K.decimalResolution=function(Q){var W=St.exec(this[Q]);if(null!==W)return{width:parseInt(W[1],10),height:parseInt(W[2],10)}},H.parseAttrList=function(Q){var W,Y={};for(lt.lastIndex=0;null!==(W=lt.exec(Q));){var I=W[2];0===I.indexOf('"')&&I.lastIndexOf('"')===I.length-1&&(I=I.slice(1,-1)),Y[W[1]]=I}return Y},H}()},"./src/utils/binary-search.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),Mt.default={search:function(F,H){for(var K=0,V=F.length-1,Q=null,W=null;K<=V;){var Y=H(W=F[Q=(K+V)/2|0]);if(Y>0)K=Q+1;else{if(!(Y<0))return W;V=Q-1}}return null}}},"./src/utils/buffer-helper.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"BufferHelper",function(){return F});var St=ft("./src/utils/logger.ts"),lt={length:0,start:function(){return 0},end:function(){return 0}},F=function(){function H(){}return H.isBuffered=function(V,Q){try{if(V)for(var W=H.getBuffered(V),Y=0;Y<W.length;Y++)if(Q>=W.start(Y)&&Q<=W.end(Y))return!0}catch(z){}return!1},H.bufferInfo=function(V,Q,W){try{if(V){var I,Y=H.getBuffered(V),z=[];for(I=0;I<Y.length;I++)z.push({start:Y.start(I),end:Y.end(I)});return this.bufferedInfo(z,Q,W)}}catch(P){}return{len:0,start:Q,end:Q,nextStart:void 0}},H.bufferedInfo=function(V,Q,W){Q=Math.max(0,Q),V.sort(function(f,C){return f.start-C.start||C.end-f.end});var Y=[];if(W)for(var z=0;z<V.length;z++){var I=Y.length;if(I){var P=Y[I-1].end;V[z].start-P<W?V[z].end>P&&(Y[I-1].end=V[z].end):Y.push(V[z])}else Y.push(V[z])}else Y=V;for(var E,w=0,s=Q,l=Q,g=0;g<Y.length;g++){var v=Y[g].start,S=Y[g].end;if(Q+W>=v&&Q<S)s=v,w=(l=S)-Q;else if(Q+W<v){E=v;break}}return{len:w,start:s||0,end:l||0,nextStart:E}},H.getBuffered=function(V){try{return V.buffered}catch(Q){return St.logger.log("failed to get media.buffered",Q),lt}},H}()},"./src/utils/cea-608-parser.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"Row",function(){return l}),ft.d(Mt,"CaptionScreen",function(){return g});var St=ft("./src/utils/logger.ts"),lt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},F=function(p){var a=p;return lt.hasOwnProperty(p)&&(a=lt[p]),String.fromCharCode(a)},H=15,K=100,V={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Q={17:2,18:4,21:6,22:8,23:10,19:13,20:15},W={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Y={25:2,26:4,29:6,30:8,31:10,27:13,28:15},z=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],I=(()=>{return(M=I||(I={}))[M.ERROR=0]="ERROR",M[M.TEXT=1]="TEXT",M[M.WARNING=2]="WARNING",M[M.INFO=2]="INFO",M[M.DEBUG=3]="DEBUG",M[M.DATA=3]="DATA",I;var M})(),P=function(){function M(){this.time=null,this.verboseLevel=I.ERROR}return M.prototype.log=function(h,n){this.verboseLevel>=h&&St.logger.log(this.time+" ["+h+"] "+n)},M}(),w=function(p){for(var a=[],h=0;h<p.length;h++)a.push(p[h].toString(16));return a},E=function(){function M(a,h,n,d,o){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=a||"white",this.underline=h||!1,this.italics=n||!1,this.background=d||"black",this.flash=o||!1}var p=M.prototype;return p.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},p.setStyles=function(h){for(var n=["foreground","underline","italics","background","flash"],d=0;d<n.length;d++){var o=n[d];h.hasOwnProperty(o)&&(this[o]=h[o])}},p.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},p.equals=function(h){return this.foreground===h.foreground&&this.underline===h.underline&&this.italics===h.italics&&this.background===h.background&&this.flash===h.flash},p.copy=function(h){this.foreground=h.foreground,this.underline=h.underline,this.italics=h.italics,this.background=h.background,this.flash=h.flash},p.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},M}(),s=function(){function M(a,h,n,d,o,r){this.uchar=void 0,this.penState=void 0,this.uchar=a||" ",this.penState=new E(h,n,d,o,r)}var p=M.prototype;return p.reset=function(){this.uchar=" ",this.penState.reset()},p.setChar=function(h,n){this.uchar=h,this.penState.copy(n)},p.setPenState=function(h){this.penState.copy(h)},p.equals=function(h){return this.uchar===h.uchar&&this.penState.equals(h.penState)},p.copy=function(h){this.uchar=h.uchar,this.penState.copy(h.penState)},p.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},M}(),l=function(){function M(a){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var h=0;h<K;h++)this.chars.push(new s);this.logger=a,this.pos=0,this.currPenState=new E}var p=M.prototype;return p.equals=function(h){for(var n=!0,d=0;d<K;d++)if(!this.chars[d].equals(h.chars[d])){n=!1;break}return n},p.copy=function(h){for(var n=0;n<K;n++)this.chars[n].copy(h.chars[n])},p.isEmpty=function(){for(var h=!0,n=0;n<K;n++)if(!this.chars[n].isEmpty()){h=!1;break}return h},p.setCursor=function(h){this.pos!==h&&(this.pos=h),this.pos<0?(this.logger.log(I.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>K&&(this.logger.log(I.DEBUG,"Too large cursor position "+this.pos),this.pos=K)},p.moveCursor=function(h){var n=this.pos+h;if(h>1)for(var d=this.pos+1;d<n+1;d++)this.chars[d].setPenState(this.currPenState);this.setCursor(n)},p.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},p.insertChar=function(h){h>=144&&this.backSpace();var n=F(h);this.pos>=K?this.logger.log(I.ERROR,"Cannot insert "+h.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))},p.clearFromPos=function(h){var n;for(n=h;n<K;n++)this.chars[n].reset()},p.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},p.clearToEndOfRow=function(){this.clearFromPos(this.pos)},p.getTextString=function(){for(var h=[],n=!0,d=0;d<K;d++){var o=this.chars[d].uchar;" "!==o&&(n=!1),h.push(o)}return n?"":h.join("")},p.setPenStyles=function(h){this.currPenState.setStyles(h),this.chars[this.pos].setPenState(this.currPenState)},M}(),g=function(){function M(a){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var h=0;h<H;h++)this.rows.push(new l(a));this.logger=a,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var p=M.prototype;return p.reset=function(){for(var h=0;h<H;h++)this.rows[h].clear();this.currRow=14},p.equals=function(h){for(var n=!0,d=0;d<H;d++)if(!this.rows[d].equals(h.rows[d])){n=!1;break}return n},p.copy=function(h){for(var n=0;n<H;n++)this.rows[n].copy(h.rows[n])},p.isEmpty=function(){for(var h=!0,n=0;n<H;n++)if(!this.rows[n].isEmpty()){h=!1;break}return h},p.backSpace=function(){this.rows[this.currRow].backSpace()},p.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},p.insertChar=function(h){this.rows[this.currRow].insertChar(h)},p.setPen=function(h){this.rows[this.currRow].setPenStyles(h)},p.moveCursor=function(h){this.rows[this.currRow].moveCursor(h)},p.setCursor=function(h){this.logger.log(I.INFO,"setCursor: "+h),this.rows[this.currRow].setCursor(h)},p.setPAC=function(h){this.logger.log(I.INFO,"pacData = "+JSON.stringify(h));var n=h.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var d=0;d<H;d++)this.rows[d].clear();var o=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var u=r.rows[o].cueStartTime,c=this.logger.time;if(u&&null!==c&&u<c)for(var b=0;b<this.nrRollUpRows;b++)this.rows[n-this.nrRollUpRows+b+1].copy(r.rows[o+b])}}this.currRow=n;var O=this.rows[this.currRow];if(null!==h.indent){var _=Math.max(h.indent-1,0);O.setCursor(h.indent),h.color=O.chars[_].penState.foreground}this.setPen({foreground:h.color,underline:h.underline,italics:h.italics,background:"black",flash:!1})},p.setBkgData=function(h){this.logger.log(I.INFO,"bkgData = "+JSON.stringify(h)),this.backSpace(),this.setPen(h),this.insertChar(32)},p.setRollUpRows=function(h){this.nrRollUpRows=h},p.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(I.TEXT,this.getDisplayText());var n=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(I.INFO,"Rolling up")}else this.logger.log(I.DEBUG,"roll_up but nrRollUpRows not set yet")},p.getDisplayText=function(h){h=h||!1;for(var n=[],d="",r=0;r<H;r++){var u=this.rows[r].getTextString();u&&n.push(h?"Row "+(r+1)+": '"+u+"'":u.trim())}return n.length>0&&(d=h?"["+n.join(" | ")+"]":n.join("\n")),d},p.getTextAndFormat=function(){return this.rows},M}(),v=function(){function M(a,h,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=a,this.outputFilter=h,this.mode=null,this.verbose=0,this.displayedMemory=new g(n),this.nonDisplayedMemory=new g(n),this.lastOutputScreen=new g(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var p=M.prototype;return p.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},p.getHandler=function(){return this.outputFilter},p.setHandler=function(h){this.outputFilter=h},p.setPAC=function(h){this.writeScreen.setPAC(h)},p.setBkgData=function(h){this.writeScreen.setBkgData(h)},p.setMode=function(h){h!==this.mode&&(this.mode=h,this.logger.log(I.INFO,"MODE="+h),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=h)},p.insertChars=function(h){for(var n=0;n<h.length;n++)this.writeScreen.insertChar(h[n]);this.logger.log(I.INFO,(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(I.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},p.ccRCL=function(){this.logger.log(I.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},p.ccBS=function(){this.logger.log(I.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},p.ccAOF=function(){},p.ccAON=function(){},p.ccDER=function(){this.logger.log(I.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},p.ccRU=function(h){this.logger.log(I.INFO,"RU("+h+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(h)},p.ccFON=function(){this.logger.log(I.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},p.ccRDC=function(){this.logger.log(I.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},p.ccTR=function(){this.logger.log(I.INFO,"TR"),this.setMode("MODE_TEXT")},p.ccRTD=function(){this.logger.log(I.INFO,"RTD"),this.setMode("MODE_TEXT")},p.ccEDM=function(){this.logger.log(I.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},p.ccCR=function(){this.logger.log(I.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},p.ccENM=function(){this.logger.log(I.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},p.ccEOC=function(){if(this.logger.log(I.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var h=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=h,this.writeScreen=this.nonDisplayedMemory,this.logger.log(I.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},p.ccTO=function(h){this.logger.log(I.INFO,"TO("+h+") - Tab Offset"),this.writeScreen.moveCursor(h)},p.ccMIDROW=function(h){var n={flash:!1};if(n.underline=h%2==1,n.italics=h>=46,n.italics)n.foreground="white";else{var d=Math.floor(h/2)-16;n.foreground=["white","green","blue","cyan","red","yellow","magenta"][d]}this.logger.log(I.INFO,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)},p.outputDataUpdate=function(h){void 0===h&&(h=!1);var n=this.logger.time;null!==n&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),h&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n):this.cueStartTime=n,this.lastOutputScreen.copy(this.displayedMemory))},p.cueSplitAtTime=function(h){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,h,this.displayedMemory),this.cueStartTime=h))},M}();function f(M,p,a){a.a=M,a.b=p}function C(M,p,a){return a.a===M&&a.b===p}Mt.default=function(){function M(a,h,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var d=new P;this.channels=[null,new v(a,h,d),new v(a+1,n,d)],this.cmdHistory={a:null,b:null},this.logger=d}var p=M.prototype;return p.getHandler=function(h){return this.channels[h].getHandler()},p.setHandler=function(h,n){this.channels[h].setHandler(n)},p.addData=function(h,n){var d,o,r,u=!1;this.logger.time=h;for(var c=0;c<n.length;c+=2)if(r=127&n[c+1],0!=(o=127&n[c])||0!==r){if(this.logger.log(I.DATA,"["+w([n[c],n[c+1]])+"] -> ("+w([o,r])+")"),(d=this.parseCmd(o,r))||(d=this.parseMidrow(o,r)),d||(d=this.parsePAC(o,r)),d||(d=this.parseBackgroundAttributes(o,r)),!d&&(u=this.parseChars(o,r))){var b=this.currentChannel;b&&b>0?this.channels[b].insertChars(u):this.logger.log(I.WARNING,"No channel found yet. TEXT-MODE?")}!d&&!u&&this.logger.log(I.WARNING,"Couldn't parse cleaned data "+w([o,r])+" orig: "+w([n[c],n[c+1]]))}},p.parseCmd=function(h,n){var d=this.cmdHistory;if(!((20===h||28===h||21===h||29===h)&&n>=32&&n<=47||(23===h||31===h)&&n>=33&&n<=35))return!1;if(C(h,n,d))return f(null,null,d),this.logger.log(I.DEBUG,"Repeated command ("+w([h,n])+") is dropped"),!0;var u=20===h||21===h||23===h?1:2,c=this.channels[u];return 20===h||21===h||28===h||29===h?32===n?c.ccRCL():33===n?c.ccBS():34===n?c.ccAOF():35===n?c.ccAON():36===n?c.ccDER():37===n?c.ccRU(2):38===n?c.ccRU(3):39===n?c.ccRU(4):40===n?c.ccFON():41===n?c.ccRDC():42===n?c.ccTR():43===n?c.ccRTD():44===n?c.ccEDM():45===n?c.ccCR():46===n?c.ccENM():47===n&&c.ccEOC():c.ccTO(n-32),f(h,n,d),this.currentChannel=u,!0},p.parseMidrow=function(h,n){var d=0;if((17===h||25===h)&&n>=32&&n<=47){if((d=17===h?1:2)!==this.currentChannel)return this.logger.log(I.ERROR,"Mismatch channel in midrow parsing"),!1;var o=this.channels[d];return!!o&&(o.ccMIDROW(n),this.logger.log(I.DEBUG,"MIDROW ("+w([h,n])+")"),!0)}return!1},p.parsePAC=function(h,n){var o=this.cmdHistory;if(!((h>=17&&h<=23||h>=25&&h<=31)&&n>=64&&n<=127||(16===h||24===h)&&n>=64&&n<=95))return!1;if(C(h,n,o))return f(null,null,o),!0;var c=h<=23?1:2,b=this.channels[c];return!!b&&(b.setPAC(this.interpretPAC(n>=64&&n<=95?1===c?V[h]:W[h]:1===c?Q[h]:Y[h],n)),f(h,n,o),this.currentChannel=c,!0)},p.interpretPAC=function(h,n){var d,o={color:null,italics:!1,indent:null,underline:!1,row:h};return o.underline=1==(1&(d=n>95?n-96:n-64)),d<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(d/2)]:d<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((d-16)/2),o},p.parseChars=function(h,n){var d,u,o=null,r=null;if(h>=25?(d=2,r=h-8):(d=1,r=h),r>=17&&r<=19?(this.logger.log(I.INFO,"Special char '"+F(u=17===r?n+80:18===r?n+112:n+144)+"' in channel "+d),o=[u]):h>=32&&h<=127&&(o=0===n?[h]:[h,n]),o){var c=w(o);this.logger.log(I.DEBUG,"Char codes =  "+c.join(",")),f(h,n,this.cmdHistory)}return o},p.parseBackgroundAttributes=function(h,n){if(!((16===h||24===h)&&n>=32&&n<=47||(23===h||31===h)&&n>=45&&n<=47))return!1;var r,u={};return 16===h||24===h?(r=Math.floor((n-32)/2),u.background=z[r],n%2==1&&(u.background=u.background+"_semi")):45===n?u.background="transparent":(u.foreground="black",47===n&&(u.underline=!0)),this.channels[h<=23?1:2].setBkgData(u),f(h,n,this.cmdHistory),!0},p.reset=function(){for(var h=0;h<Object.keys(this.channels).length;h++){var n=this.channels[h];n&&n.reset()}this.cmdHistory={a:null,b:null}},p.cueSplitAtTime=function(h){for(var n=0;n<this.channels.length;n++){var d=this.channels[n];d&&d.cueSplitAtTime(h)}},M}()},"./src/utils/codecs.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"isCodecType",function(){return lt}),ft.d(Mt,"isCodecSupportedInMp4",function(){return F});var St={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function lt(H,K){var V=St[K];return!!V&&!0===V[H.slice(0,4)]}function F(H,K){return MediaSource.isTypeSupported((K||"video")+'/mp4;codecs="'+H+'"')}},"./src/utils/cues.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/utils/vttparser.ts"),lt=ft("./src/utils/webvtt-parser.ts"),F=ft("./src/utils/texttrack-utils.ts"),H=/\s/;Mt.default={newCue:function(Q,W,Y,z){for(var P,w,E,s,l,I=[],g=self.VTTCue||self.TextTrackCue,v=0;v<z.rows.length;v++)if(E=!0,s=0,l="",!(P=z.rows[v]).isEmpty()){for(var S=0;S<P.chars.length;S++)H.test(P.chars[S].uchar)&&E?s++:(l+=P.chars[S].uchar,E=!1);P.cueStartTime=W,W===Y&&(Y+=1e-4),s>=16?s--:s++;var f=Object(St.fixLineBreaks)(l.trim()),C=Object(lt.generateCueId)(W,Y,f);(!Q||!Q.cues||!Q.cues.getCueById(C))&&((w=new g(W,Y,f)).id=C,w.line=v+1,w.align="left",w.position=10+Math.min(80,10*Math.floor(8*s/32)),I.push(w))}return Q&&I.length&&(I.sort(function(x,M){return"auto"===x.line||"auto"===M.line?0:x.line>8&&M.line>8?M.line-x.line:x.line-M.line}),I.forEach(function(x){return Object(F.addCueToTrack)(Q,x)})),I}}},"./src/utils/discontinuities.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"findFirstFragWithCC",function(){return H}),ft.d(Mt,"shouldAlignOnDiscontinuities",function(){return K}),ft.d(Mt,"findDiscontinuousReferenceFrag",function(){return V}),ft.d(Mt,"adjustSlidingStart",function(){return W}),ft.d(Mt,"alignStream",function(){return Y}),ft.d(Mt,"alignPDT",function(){return I}),ft.d(Mt,"alignFragmentByPDTDelta",function(){return P}),ft.d(Mt,"alignMediaPlaylistByPDT",function(){return w});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/utils/logger.ts"),F=ft("./src/controller/level-helper.ts");function H(E,s){for(var l=null,g=0,v=E.length;g<v;g++){var S=E[g];if(S&&S.cc===s){l=S;break}}return l}function K(E,s,l){return!(!s.details||!(l.endCC>l.startCC||E&&E.cc<l.startCC))}function V(E,s){var l=E.fragments,g=s.fragments;if(g.length&&l.length){var v=H(l,g[0].cc);if(v&&(!v||v.startPTS))return v;lt.logger.log("No frag in previous level to align on")}else lt.logger.log("No fragments to align")}function Q(E,s){if(E){var l=E.start+s;E.start=E.startPTS=l,E.endPTS=l+E.duration}}function W(E,s){for(var l=s.fragments,g=0,v=l.length;g<v;g++)Q(l[g],E);s.fragmentHint&&Q(s.fragmentHint,E),s.alignedSliding=!0}function Y(E,s,l){!s||(function z(E,s,l){if(K(E,l,s)){var g=V(l.details,s);g&&Object(St.isFiniteNumber)(g.start)&&(lt.logger.log("Adjusting PTS using last level due to CC increase within current level "+s.url),W(g.start,s))}}(E,l,s),!l.alignedSliding&&s.details&&I(l,s.details),!l.alignedSliding&&s.details&&!l.skippedSegments&&Object(F.adjustSliding)(s.details,l))}function I(E,s){if(s.fragments.length&&E.hasProgramDateTime&&s.hasProgramDateTime){var l=s.fragments[0].programDateTime,g=E.fragments[0].programDateTime,v=(g-l)/1e3+s.fragments[0].start;v&&Object(St.isFiniteNumber)(v)&&(lt.logger.log("Adjusting PTS using programDateTime delta "+(g-l)+"ms, sliding:"+v.toFixed(3)+" "+E.url+" "),W(v,E))}}function P(E,s){var l=E.programDateTime;if(l){var g=(l-s)/1e3;E.start=E.startPTS=g,E.endPTS=g+E.duration}}function w(E,s){if(s.fragments.length&&E.hasProgramDateTime&&s.hasProgramDateTime){var v=s.fragments[0].programDateTime-1e3*s.fragments[0].start;E.fragments.forEach(function(S){P(S,v)}),E.fragmentHint&&P(E.fragmentHint,v),E.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/utils/ewma.ts");Mt.default=function(){function F(K,V,Q){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=Q,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new St.default(K),this.fast_=new St.default(V)}var H=F.prototype;return H.update=function(V,Q){var W=this.slow_,Y=this.fast_;this.slow_.halfLife!==V&&(this.slow_=new St.default(V,W.getEstimate(),W.getTotalWeight())),this.fast_.halfLife!==Q&&(this.fast_=new St.default(Q,Y.getEstimate(),Y.getTotalWeight()))},H.sample=function(V,Q){var Y=(V=Math.max(V,this.minDelayMs_))/1e3,z=8*Q/Y;this.fast_.sample(Y,z),this.slow_.sample(Y,z)},H.canEstimate=function(){var V=this.fast_;return V&&V.getTotalWeight()>=this.minWeight_},H.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},H.destroy=function(){},F}()},"./src/utils/ewma.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),Mt.default=function(){function lt(H,K,V){void 0===K&&(K=0),void 0===V&&(V=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=H,this.alpha_=H?Math.exp(Math.log(.5)/H):0,this.estimate_=K,this.totalWeight_=V}var F=lt.prototype;return F.sample=function(K,V){var Q=Math.pow(this.alpha_,K);this.estimate_=V*(1-Q)+Q*this.estimate_,this.totalWeight_+=K},F.getTotalWeight=function(){return this.totalWeight_},F.getEstimate=function(){if(this.alpha_){var K=1-Math.pow(this.alpha_,this.totalWeight_);if(K)return this.estimate_/K}return this.estimate_},lt}()},"./src/utils/fetch-loader.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"fetchSupported",function(){return P});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/loader/load-stats.ts"),F=ft("./src/demux/chunk-cache.ts");function K(g){var v="function"==typeof Map?new Map:void 0;return K=function(f){if(null===f||!function W(g){return-1!==Function.toString.call(g).indexOf("[native code]")}(f))return f;if("function"!=typeof f)throw new TypeError("Super expression must either be null or a function");if(void 0!==v){if(v.has(f))return v.get(f);v.set(f,C)}function C(){return V(f,arguments,z(this).constructor)}return C.prototype=Object.create(f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),Y(C,f)},K(g)}function V(g,v,S){return(V=Q()?Reflect.construct:function(C,x,M){var p=[null];p.push.apply(p,x);var h=new(Function.bind.apply(C,p));return M&&Y(h,M.prototype),h}).apply(null,arguments)}function Q(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}function Y(g,v){return(Y=Object.setPrototypeOf||function(f,C){return f.__proto__=C,f})(g,v)}function z(g){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(g)}function I(){return I=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var S=arguments[v];for(var f in S)Object.prototype.hasOwnProperty.call(S,f)&&(g[f]=S[f])}return g},I.apply(this,arguments)}function P(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(g){}return!1}var w=function(){function g(S){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=S.fetchSetup||s,this.controller=new self.AbortController,this.stats=new lt.LoadStats}var v=g.prototype;return v.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},v.abortInternal=function(){var f=this.response;(!f||!f.ok)&&(this.stats.aborted=!0,this.controller.abort())},v.abort=function(){var f;this.abortInternal(),null!==(f=this.callbacks)&&void 0!==f&&f.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},v.load=function(f,C,x){var M=this,p=this.stats;if(p.loading.start)throw new Error("Loader can only be used once.");p.loading.start=self.performance.now();var a=function E(g,v){var S={method:"GET",mode:"cors",credentials:"same-origin",signal:v,headers:new self.Headers(I({},g.headers))};return g.rangeEnd&&S.headers.set("Range","bytes="+g.rangeStart+"-"+String(g.rangeEnd-1)),S}(f,this.controller.signal),h=x.onProgress,n="arraybuffer"===f.responseType,d=n?"byteLength":"length";this.context=f,this.config=C,this.callbacks=x,this.request=this.fetchSetup(f,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){M.abortInternal(),x.onTimeout(p,f,M.response)},C.timeout),self.fetch(this.request).then(function(o){if(M.response=M.loader=o,!o.ok)throw new l(o.statusText||"fetch, bad network response",o.status,o);return p.loading.first=Math.max(self.performance.now(),p.loading.start),p.total=parseInt(o.headers.get("Content-Length")||"0"),h&&Object(St.isFiniteNumber)(C.highWaterMark)?M.loadProgressively(o,p,f,C.highWaterMark,h):n?o.arrayBuffer():o.text()}).then(function(o){var r=M.response;self.clearTimeout(M.requestTimeout),p.loading.end=Math.max(self.performance.now(),p.loading.first),p.loaded=p.total=o[d];var u={url:r.url,data:o};h&&!Object(St.isFiniteNumber)(C.highWaterMark)&&h(p,f,o,r),x.onSuccess(u,p,f,r)}).catch(function(o){self.clearTimeout(M.requestTimeout),p.aborted||x.onError({code:o.code||0,text:o.message},f,o.details)})},v.getCacheAge=function(){var f=null;if(this.response){var C=this.response.headers.get("age");f=C?parseFloat(C):null}return f},v.loadProgressively=function(f,C,x,M,p){void 0===M&&(M=0);var a=new F.default,h=f.body.getReader();return function d(){return h.read().then(function(o){if(o.done)return a.dataLength&&p(C,x,a.flush(),f),Promise.resolve(new ArrayBuffer(0));var r=o.value,u=r.length;return C.loaded+=u,u<M||a.dataLength?(a.push(r),a.dataLength>=M&&p(C,x,a.flush(),f)):p(C,x,r,f),d()}).catch(function(){return Promise.reject()})}()},g}();function s(g,v){return new self.Request(g.url,v)}var l=function(g){function v(S,f,C){var x;return(x=g.call(this,S)||this).code=void 0,x.details=void 0,x.code=f,x.details=C,x}return function H(g,v){g.prototype=Object.create(v.prototype),g.prototype.constructor=g,Y(g,v)}(v,g),v}(K(Error));Mt.default=w},"./src/utils/imsc1-ttml-parser.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"IMSC1_CODEC",function(){return W}),ft.d(Mt,"parseIMSC1",function(){return P});var St=ft("./src/utils/mp4-tools.ts"),lt=ft("./src/utils/vttparser.ts"),F=ft("./src/utils/vttcue.ts"),H=ft("./src/demux/id3.ts"),K=ft("./src/utils/timescale-conversion.ts"),V=ft("./src/utils/webvtt-parser.ts");function Q(){return Q=Object.assign||function(M){for(var p=1;p<arguments.length;p++){var a=arguments[p];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(M[h]=a[h])}return M},Q.apply(this,arguments)}var W="stpp.ttml.im1t",Y=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,z=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,I={left:"start",center:"center",right:"end",start:"start",end:"end"};function P(M,p,a,h,n){var d=Object(St.findBox)(new Uint8Array(M),["mdat"]);if(0!==d.length){var o=d[0],r=Object(H.utf8ArrayToStr)(new Uint8Array(M,o.start,o.end-o.start)),u=Object(K.toTimescaleFromScale)(p,1,a);try{h(function w(M,p){var n=(new DOMParser).parseFromString(M,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(d).reduce(function(O,k){return O[k]=n.getAttribute("ttp:"+k)||d[k],O},{}),r="preserve"!==n.getAttribute("xml:space"),u=s(E(n,"styling","style")),c=s(E(n,"layout","region")),b=E(n,"body","[begin]");return[].map.call(b,function(O){var k=l(O,r);if(!k||!O.hasAttribute("begin"))return null;var _=f(O.getAttribute("begin"),o),A=f(O.getAttribute("dur"),o),B=f(O.getAttribute("end"),o);if(null===_)throw S(O);if(null===B){if(null===A)throw S(O);B=_+A}var m=new F.default(_-p,B-p,k);m.id=Object(V.generateCueId)(m.startTime,m.endTime,m.text);var T=c[O.getAttribute("region")],R=u[O.getAttribute("style")];m.position=10,m.size=80;var j=function g(M,p){var a="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(n,d){var o=v(p,a,d)||v(M,a,d);return o&&(n[d]=o),n},{})}(T,R),X=j.textAlign;if(X){var $=I[X];$&&(m.lineAlign=$),m.align=X}return Q(m,j),m}).filter(function(O){return null!==O})}(r,u))}catch(c){n(c)}}else n(new Error("Could not parse IMSC1 mdat"))}function E(M,p,a){var h=M.getElementsByTagName(p)[0];return h?[].slice.call(h.querySelectorAll(a)):[]}function s(M){return M.reduce(function(p,a){var h=a.getAttribute("xml:id");return h&&(p[h]=a),p},{})}function l(M,p){return[].slice.call(M.childNodes).reduce(function(a,h,n){var d;return"br"===h.nodeName&&n?a+"\n":null!==(d=h.childNodes)&&void 0!==d&&d.length?l(h,p):p?a+h.textContent.trim().replace(/\s+/g," "):a+h.textContent},"")}function v(M,p,a){return M.hasAttributeNS(p,a)?M.getAttributeNS(p,a):null}function S(M){return new Error("Could not parse ttml timestamp "+M)}function f(M,p){if(!M)return null;var a=Object(lt.parseTimeStamp)(M);return null===a&&(Y.test(M)?a=function C(M,p){var a=Y.exec(M);return 3600*(0|a[1])+60*(0|a[2])+(0|a[3])+((0|a[4])+(0|a[5])/p.subFrameRate)/p.frameRate}(M,p):z.test(M)&&(a=function x(M,p){var a=z.exec(M),h=Number(a[1]);switch(a[2]){case"h":return 3600*h;case"m":return 60*h;case"ms":return 1e3*h;case"f":return h/p.frameRate;case"t":return h/p.tickRate}return h}(M,p))),a}},"./src/utils/logger.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"enableLogs",function(){return V}),ft.d(Mt,"logger",function(){return Q});var St=function(){},lt={trace:St,debug:St,log:St,warn:St,info:St,error:St},F=lt;function H(W){var Y=self.console[W];return Y?Y.bind(self.console,"["+W+"] >"):St}function V(W){if(self.console&&!0===W||"object"==typeof W){!function K(W){for(var Y=arguments.length,z=new Array(Y>1?Y-1:0),I=1;I<Y;I++)z[I-1]=arguments[I];z.forEach(function(P){F[P]=W[P]?W[P].bind(W):H(P)})}(W,"debug","log","info","warn","error");try{F.log()}catch(Y){F=lt}}else F=lt}var Q=lt},"./src/utils/mediakeys-helper.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"KeySystems",function(){return St}),ft.d(Mt,"requestMediaKeySystemAccess",function(){return lt});var St=(()=>{return(F=St||(St={})).WIDEVINE="com.widevine.alpha",F.PLAYREADY="com.microsoft.playready",St;var F})(),lt="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(zt,Mt,ft){"use strict";function St(){return self.MediaSource||self.WebKitMediaSource}ft.r(Mt),ft.d(Mt,"getMediaSource",function(){return St})},"./src/utils/mp4-tools.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"bin2str",function(){return K}),ft.d(Mt,"readUint16",function(){return V}),ft.d(Mt,"readUint32",function(){return Q}),ft.d(Mt,"writeUint32",function(){return W}),ft.d(Mt,"findBox",function(){return Y}),ft.d(Mt,"parseSegmentIndex",function(){return z}),ft.d(Mt,"parseInitSegment",function(){return I}),ft.d(Mt,"getStartDTS",function(){return P}),ft.d(Mt,"getDuration",function(){return w}),ft.d(Mt,"computeRawDurationFromSamples",function(){return E}),ft.d(Mt,"offsetStartDTS",function(){return s}),ft.d(Mt,"segmentValidRange",function(){return l}),ft.d(Mt,"appendUint8Array",function(){return g});var St=ft("./src/utils/typed-array.ts"),lt=ft("./src/loader/fragment.ts"),F=Math.pow(2,32)-1,H=[].push;function K(v){return String.fromCharCode.apply(null,v)}function V(v,S){"data"in v&&(S+=v.start,v=v.data);var f=v[S]<<8|v[S+1];return f<0?65536+f:f}function Q(v,S){"data"in v&&(S+=v.start,v=v.data);var f=v[S]<<24|v[S+1]<<16|v[S+2]<<8|v[S+3];return f<0?4294967296+f:f}function W(v,S,f){"data"in v&&(S+=v.start,v=v.data),v[S]=f>>24,v[S+1]=f>>16&255,v[S+2]=f>>8&255,v[S+3]=255&f}function Y(v,S){var C,x,M,f=[];if(!S.length)return f;"data"in v?(C=v.data,x=v.start,M=v.end):(x=0,M=(C=v).byteLength);for(var p=x;p<M;){var a=Q(C,p),n=a>1?p+a:M;if(K(C.subarray(p+4,p+8))===S[0])if(1===S.length)f.push({data:C,start:p+8,end:n});else{var d=Y({data:C,start:p+8,end:n},S.slice(1));d.length&&H.apply(f,d)}p=n}return f}function z(v){var f=Y(v,["moov"])[0],C=f?f.end:null,x=Y(v,["sidx"]);if(!x||!x[0])return null;var M=[],p=x[0],a=p.data[0],h=0===a?8:16,n=Q(p,h);h+=4;h+=0===a?8:16;var r=p.end+0,u=V(p,h+=2);h+=2;for(var c=0;c<u;c++){var b=h,O=Q(p,b);b+=4;var k=2147483647&O;if(1==(2147483648&O)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var A=Q(p,b);b+=4,M.push({referenceSize:k,subsegmentDuration:A,info:{duration:A/n,start:r,end:r+k-1}}),r+=k,h=b+=4}return{earliestPresentationTime:0,timescale:n,version:a,referencesCount:u,references:M,moovEndOffset:C}}function I(v){for(var S=[],f=Y(v,["moov","trak"]),C=0;C<f.length;C++){var x=f[C],M=Y(x,["tkhd"])[0];if(M){var p=M.data[M.start],a=0===p?12:20,h=Q(M,a),n=Y(x,["mdia","mdhd"])[0];if(n){var d=Q(n,a=0===(p=n.data[n.start])?12:20),o=Y(x,["mdia","hdlr"])[0];if(o){var r=K(o.data.subarray(o.start+8,o.start+12)),u={soun:lt.ElementaryStreamTypes.AUDIO,vide:lt.ElementaryStreamTypes.VIDEO}[r];if(u){var c=Y(x,["mdia","minf","stbl","stsd"])[0],b=void 0;c&&(b=K(c.data.subarray(c.start+12,c.start+16))),S[h]={timescale:d,type:u},S[u]={timescale:d,id:h,codec:b}}}}}}return Y(v,["moov","mvex","trex"]).forEach(function(k){var _=Q(k,4),A=S[_];A&&(A.default={duration:Q(k,12),flags:Q(k,20)})}),S}function P(v,S){return Y(S,["moof","traf"]).reduce(function(f,C){var x=Y(C,["tfdt"])[0],M=x.data[x.start],p=Y(C,["tfhd"]).reduce(function(a,h){var n=Q(h,4),d=v[n];if(d){var o=Q(x,4);1===M&&(o*=Math.pow(2,32),o+=Q(x,8));var u=o/(d.timescale||9e4);if(isFinite(u)&&(null===a||u<a))return u}return a},null);return null!==p&&isFinite(p)&&(null===f||p<f)?p:f},null)||0}function w(v,S){for(var f=0,C=0,x=0,M=Y(v,["moof","traf"]),p=0;p<M.length;p++){var a=M[p],h=Y(a,["tfhd"])[0],d=S[Q(h,4)];if(d){var o=d.default,r=Q(h,0)|(null==o?void 0:o.flags),u=null==o?void 0:o.duration;8&r&&(u=Q(h,2&r?12:8));for(var c=d.timescale||9e4,b=Y(a,["trun"]),O=0;O<b.length;O++)!(f=E(b[O]))&&u&&(f=u*Q(b[O],4)),d.type===lt.ElementaryStreamTypes.VIDEO?C+=f/c:d.type===lt.ElementaryStreamTypes.AUDIO&&(x+=f/c)}}if(0===C&&0===x){var _=z(v);if(null!=_&&_.references)return _.references.reduce(function(A,B){return A+B.info.duration||0},0)}return C||x}function E(v){var S=Q(v,0),f=8;1&S&&(f+=4),4&S&&(f+=4);for(var C=0,x=Q(v,4),M=0;M<x;M++)256&S&&(C+=Q(v,f),f+=4),512&S&&(f+=4),1024&S&&(f+=4),2048&S&&(f+=4);return C}function s(v,S,f){Y(S,["moof","traf"]).forEach(function(C){Y(C,["tfhd"]).forEach(function(x){var M=Q(x,4),p=v[M];if(p){var a=p.timescale||9e4;Y(C,["tfdt"]).forEach(function(h){var n=h.data[h.start],d=Q(h,4);if(0===n)W(h,4,d-f*a);else{d*=Math.pow(2,32),d+=Q(h,8),d-=f*a,d=Math.max(d,0);var o=Math.floor(d/(F+1)),r=Math.floor(d%(F+1));W(h,4,o),W(h,8,r)}})}})})}function l(v){var S={valid:null,remainder:null},f=Y(v,["moof"]);if(!f)return S;if(f.length<2)return S.remainder=v,S;var C=f[f.length-1];return S.valid=Object(St.sliceUint8)(v,0,C.start-8),S.remainder=Object(St.sliceUint8)(v,C.start-8),S}function g(v,S){var f=new Uint8Array(v.length+S.length);return f.set(v),f.set(S,v.length),f}},"./src/utils/output-filter.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"default",function(){return St});var St=function(){function lt(H,K){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=H,this.trackName=K}var F=lt.prototype;return F.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},F.newCue=function(K,V,Q){(null===this.startTime||this.startTime>K)&&(this.startTime=K),this.endTime=V,this.screen=Q,this.timelineController.createCaptionsTrack(this.trackName)},F.reset=function(){this.cueRanges=[],this.startTime=null},lt}()},"./src/utils/texttrack-utils.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"sendAddTrackEvent",function(){return lt}),ft.d(Mt,"addCueToTrack",function(){return F}),ft.d(Mt,"clearCurrentCues",function(){return H}),ft.d(Mt,"removeCuesInRange",function(){return K}),ft.d(Mt,"getCuesInRange",function(){return Q});var St=ft("./src/utils/logger.ts");function lt(W,Y){var z;try{z=new Event("addtrack")}catch(I){(z=document.createEvent("Event")).initEvent("addtrack",!1,!1)}z.track=W,Y.dispatchEvent(z)}function F(W,Y){var z=W.mode;if("disabled"===z&&(W.mode="hidden"),W.cues&&!W.cues.getCueById(Y.id))try{if(W.addCue(Y),!W.cues.getCueById(Y.id))throw new Error("addCue is failed for: "+Y)}catch(P){St.logger.debug("[texttrack-utils]: "+P);var I=new self.TextTrackCue(Y.startTime,Y.endTime,Y.text);I.id=Y.id,W.addCue(I)}"disabled"===z&&(W.mode=z)}function H(W){var Y=W.mode;if("disabled"===Y&&(W.mode="hidden"),W.cues)for(var z=W.cues.length;z--;)W.removeCue(W.cues[z]);"disabled"===Y&&(W.mode=Y)}function K(W,Y,z){var I=W.mode;if("disabled"===I&&(W.mode="hidden"),W.cues&&W.cues.length>0)for(var P=Q(W.cues,Y,z),w=0;w<P.length;w++)W.removeCue(P[w]);"disabled"===I&&(W.mode=I)}function Q(W,Y,z){var I=[],P=function V(W,Y){if(Y<W[0].startTime)return 0;var z=W.length-1;if(Y>W[z].endTime)return-1;for(var I=0,P=z;I<=P;){var w=Math.floor((P+I)/2);if(Y<W[w].startTime)P=w-1;else{if(!(Y>W[w].startTime&&I<z))return w;I=w+1}}return W[I].startTime-Y<Y-W[P].startTime?I:P}(W,Y);if(P>-1)for(var w=P,E=W.length;w<E;w++){var s=W[w];if(s.startTime>=Y&&s.endTime<=z)I.push(s);else if(s.startTime>z)return I}return I}},"./src/utils/time-ranges.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),Mt.default={toString:function(F){for(var H="",K=F.length,V=0;V<K;V++)H+="["+F.start(V).toFixed(3)+","+F.end(V).toFixed(3)+"]";return H}}},"./src/utils/timescale-conversion.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"toTimescaleFromBase",function(){return lt}),ft.d(Mt,"toTimescaleFromScale",function(){return F}),ft.d(Mt,"toMsFromMpegTsClock",function(){return H}),ft.d(Mt,"toMpegTsClockFromTimescale",function(){return K});function lt(V,Q,W,Y){void 0===W&&(W=1),void 0===Y&&(Y=!1);var z=V*Q*W;return Y?Math.round(z):z}function F(V,Q,W,Y){return void 0===W&&(W=1),void 0===Y&&(Y=!1),lt(V,Q,1/W,Y)}function H(V,Q){return void 0===Q&&(Q=!1),lt(V,1e3,1/9e4,Q)}function K(V,Q){return void 0===Q&&(Q=1),lt(V,9e4,1/Q)}},"./src/utils/typed-array.ts":function(zt,Mt,ft){"use strict";function St(lt,F,H){return Uint8Array.prototype.slice?lt.slice(F,H):new Uint8Array(Array.prototype.slice.call(lt,F,H))}ft.r(Mt),ft.d(Mt,"sliceUint8",function(){return St})},"./src/utils/vttcue.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),Mt.default=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var St=["","lr","rl"],lt=["start","middle","end","left","right"];function F(W,Y){if("string"!=typeof Y||!Array.isArray(W))return!1;var z=Y.toLowerCase();return!!~W.indexOf(z)&&z}function K(W){return F(lt,W)}function V(W){for(var Y=arguments.length,z=new Array(Y>1?Y-1:0),I=1;I<Y;I++)z[I-1]=arguments[I];for(var P=1;P<arguments.length;P++){var w=arguments[P];for(var E in w)W[E]=w[E]}return W}function Q(W,Y,z){var I=this,P={enumerable:!0};I.hasBeenReset=!1;var w="",E=!1,s=W,l=Y,g=z,v=null,S="",f=!0,C="auto",x="start",M=50,p="middle",a=50,h="middle";Object.defineProperty(I,"id",V({},P,{get:function(){return w},set:function(d){w=""+d}})),Object.defineProperty(I,"pauseOnExit",V({},P,{get:function(){return E},set:function(d){E=!!d}})),Object.defineProperty(I,"startTime",V({},P,{get:function(){return s},set:function(d){if("number"!=typeof d)throw new TypeError("Start time must be set to a number.");s=d,this.hasBeenReset=!0}})),Object.defineProperty(I,"endTime",V({},P,{get:function(){return l},set:function(d){if("number"!=typeof d)throw new TypeError("End time must be set to a number.");l=d,this.hasBeenReset=!0}})),Object.defineProperty(I,"text",V({},P,{get:function(){return g},set:function(d){g=""+d,this.hasBeenReset=!0}})),Object.defineProperty(I,"region",V({},P,{get:function(){return v},set:function(d){v=d,this.hasBeenReset=!0}})),Object.defineProperty(I,"vertical",V({},P,{get:function(){return S},set:function(d){var o=function H(W){return F(St,W)}(d);if(!1===o)throw new SyntaxError("An invalid or illegal string was specified.");S=o,this.hasBeenReset=!0}})),Object.defineProperty(I,"snapToLines",V({},P,{get:function(){return f},set:function(d){f=!!d,this.hasBeenReset=!0}})),Object.defineProperty(I,"line",V({},P,{get:function(){return C},set:function(d){if("number"!=typeof d&&"auto"!==d)throw new SyntaxError("An invalid number or illegal string was specified.");C=d,this.hasBeenReset=!0}})),Object.defineProperty(I,"lineAlign",V({},P,{get:function(){return x},set:function(d){var o=K(d);if(!o)throw new SyntaxError("An invalid or illegal string was specified.");x=o,this.hasBeenReset=!0}})),Object.defineProperty(I,"position",V({},P,{get:function(){return M},set:function(d){if(d<0||d>100)throw new Error("Position must be between 0 and 100.");M=d,this.hasBeenReset=!0}})),Object.defineProperty(I,"positionAlign",V({},P,{get:function(){return p},set:function(d){var o=K(d);if(!o)throw new SyntaxError("An invalid or illegal string was specified.");p=o,this.hasBeenReset=!0}})),Object.defineProperty(I,"size",V({},P,{get:function(){return a},set:function(d){if(d<0||d>100)throw new Error("Size must be between 0 and 100.");a=d,this.hasBeenReset=!0}})),Object.defineProperty(I,"align",V({},P,{get:function(){return h},set:function(d){var o=K(d);if(!o)throw new SyntaxError("An invalid or illegal string was specified.");h=o,this.hasBeenReset=!0}})),I.displayState=void 0}return Q.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},Q}()},"./src/utils/vttparser.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"parseTimeStamp",function(){return F}),ft.d(Mt,"fixLineBreaks",function(){return Y}),ft.d(Mt,"VTTParser",function(){return z});var St=ft("./src/utils/vttcue.ts"),lt=function(){function I(){}return I.prototype.decode=function(E,s){if(!E)return"";if("string"!=typeof E)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(E))},I}();function F(I){function P(E,s,l,g){return 3600*(0|E)+60*(0|s)+(0|l)+parseFloat(g||0)}var w=I.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return w?parseFloat(w[2])>59?P(w[2],w[3],0,w[4]):P(w[1],w[2],w[3],w[4]):null}var H=function(){function I(){this.values=Object.create(null)}var P=I.prototype;return P.set=function(E,s){!this.get(E)&&""!==s&&(this.values[E]=s)},P.get=function(E,s,l){return l?this.has(E)?this.values[E]:s[l]:this.has(E)?this.values[E]:s},P.has=function(E){return E in this.values},P.alt=function(E,s,l){for(var g=0;g<l.length;++g)if(s===l[g]){this.set(E,s);break}},P.integer=function(E,s){/^-?\d+$/.test(s)&&this.set(E,parseInt(s,10))},P.percent=function(E,s){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(s)){var l=parseFloat(s);if(l>=0&&l<=100)return this.set(E,l),!0}return!1},I}();function K(I,P,w,E){var s=E?I.split(E):[I];for(var l in s)if("string"==typeof s[l]){var g=s[l].split(w);2===g.length&&P(g[0],g[1])}}var V=new St.default(0,0,""),Q="middle"===V.align?"middle":"center";function W(I,P,w){var E=I;function s(){var v=F(I);if(null===v)throw new Error("Malformed timestamp: "+E);return I=I.replace(/^[^\sa-zA-Z-]+/,""),v}function g(){I=I.replace(/^\s+/,"")}if(g(),P.startTime=s(),g(),"--\x3e"!==I.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+E);I=I.substr(3),g(),P.endTime=s(),g(),function l(v,S){var f=new H;K(v,function(M,p){var a;switch(M){case"region":for(var h=w.length-1;h>=0;h--)if(w[h].id===p){f.set(M,w[h].region);break}break;case"vertical":f.alt(M,p,["rl","lr"]);break;case"line":a=p.split(","),f.integer(M,a[0]),f.percent(M,a[0])&&f.set("snapToLines",!1),f.alt(M,a[0],["auto"]),2===a.length&&f.alt("lineAlign",a[1],["start",Q,"end"]);break;case"position":a=p.split(","),f.percent(M,a[0]),2===a.length&&f.alt("positionAlign",a[1],["start",Q,"end","line-left","line-right","auto"]);break;case"size":f.percent(M,p);break;case"align":f.alt(M,p,["start",Q,"end","left","right"])}},/:/,/\s/),S.region=f.get("region",null),S.vertical=f.get("vertical","");var C=f.get("line","auto");"auto"===C&&-1===V.line&&(C=-1),S.line=C,S.lineAlign=f.get("lineAlign","start"),S.snapToLines=f.get("snapToLines",!0),S.size=f.get("size",100),S.align=f.get("align",Q);var x=f.get("position","auto");"auto"===x&&50===V.position&&(x="start"===S.align||"left"===S.align?0:"end"===S.align||"right"===S.align?100:50),S.position=x}(I,P)}function Y(I){return I.replace(/<br(?: \/)?>/gi,"\n")}var z=function(){function I(){this.state="INITIAL",this.buffer="",this.decoder=new lt,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var P=I.prototype;return P.parse=function(E){var s=this;function l(){var x=s.buffer,M=0;for(x=Y(x);M<x.length&&"\r"!==x[M]&&"\n"!==x[M];)++M;var p=x.substr(0,M);return"\r"===x[M]&&++M,"\n"===x[M]&&++M,s.buffer=x.substr(M),p}E&&(s.buffer+=s.decoder.decode(E,{stream:!0}));try{var v="";if("INITIAL"===s.state){if(!/\r\n|\n/.test(s.buffer))return this;var S=(v=l()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!S||!S[0])throw new Error("Malformed WebVTT signature.");s.state="HEADER"}for(var f=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(f?f=!1:v=l(),s.state){case"HEADER":/:/.test(v)?K(v,function(M,p){},/:/):v||(s.state="ID");continue;case"NOTE":v||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(v)){s.state="NOTE";break}if(!v)continue;if(s.cue=new St.default(0,0,""),s.state="CUE",-1===v.indexOf("--\x3e")){s.cue.id=v;continue}case"CUE":if(!s.cue){s.state="BADCUE";continue}try{W(v,s.cue,s.regionList)}catch(x){s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var C=-1!==v.indexOf("--\x3e");if(!v||C&&(f=!0)){s.oncue&&s.cue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}if(null===s.cue)continue;s.cue.text&&(s.cue.text+="\n"),s.cue.text+=v;continue;case"BADCUE":v||(s.state="ID")}}}catch(x){"CUETEXT"===s.state&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state="INITIAL"===s.state?"BADWEBVTT":"BADCUE"}return this},P.flush=function(){var E=this;try{if((E.cue||"HEADER"===E.state)&&(E.buffer+="\n\n",E.parse()),"INITIAL"===E.state||"BADWEBVTT"===E.state)throw new Error("Malformed WebVTT signature.")}catch(s){E.onparsingerror&&E.onparsingerror(s)}return E.onflush&&E.onflush(),this},I}()},"./src/utils/webvtt-parser.ts":function(zt,Mt,ft){"use strict";ft.r(Mt),ft.d(Mt,"generateCueId",function(){return z}),ft.d(Mt,"parseWebVTT",function(){return P});var St=ft("./src/polyfills/number.ts"),lt=ft("./src/utils/vttparser.ts"),F=ft("./src/demux/id3.ts"),H=ft("./src/utils/timescale-conversion.ts"),K=ft("./src/remux/mp4-remuxer.ts"),V=/\r\n|\n\r|\n|\r/g,Q=function(E,s,l){return void 0===l&&(l=0),E.substr(l,s.length)===s},Y=function(E){for(var s=5381,l=E.length;l;)s=33*s^E.charCodeAt(--l);return(s>>>0).toString()};function z(w,E,s){return Y(w.toString())+Y(E.toString())+Y(s)}function P(w,E,s,l,g,v,S,f){var d,C=new lt.VTTParser,x=Object(F.utf8ArrayToStr)(new Uint8Array(w)).trim().replace(V,"\n").split("\n"),M=[],p=Object(H.toMpegTsClockFromTimescale)(E,s),a="00:00.000",h=0,n=0,o=!0,r=!1;C.oncue=function(u){var c=l[g],b=l.ccOffset,O=(h-p)/9e4;if(null!=c&&c.new&&(void 0!==n?b=l.ccOffset=c.start:function(E,s,l){var g=E[s],v=E[g.prevCC];if(!v||!v.new&&g.new)return E.ccOffset=E.presentationOffset=g.start,void(g.new=!1);for(;null!==(S=v)&&void 0!==S&&S.new;){var S;E.ccOffset+=g.start-v.start,g.new=!1,v=E[(g=v).prevCC]}E.presentationOffset=l}(l,g,O)),O&&(b=O-l.presentationOffset),r){var k=u.endTime-u.startTime,_=Object(K.normalizePts)(9e4*(u.startTime+b-n),9e4*v)/9e4;u.startTime=_,u.endTime=_+k}var A=u.text.trim();u.text=decodeURIComponent(encodeURIComponent(A)),u.id||(u.id=z(u.startTime,u.endTime,A)),u.endTime>0&&M.push(u)},C.onparsingerror=function(u){d=u},C.onflush=function(){d?f(d):S(M)},x.forEach(function(u){if(o){if(Q(u,"X-TIMESTAMP-MAP=")){o=!1,r=!0,u.substr(16).split(",").forEach(function(c){Q(c,"LOCAL:")?a=c.substr(6):Q(c,"MPEGTS:")&&(h=parseInt(c.substr(7)))});try{n=function(E){var s=parseInt(E.substr(-3)),l=parseInt(E.substr(-6,2)),g=parseInt(E.substr(-9,2)),v=E.length>9?parseInt(E.substr(0,E.indexOf(":"))):0;if(!(Object(St.isFiniteNumber)(s)&&Object(St.isFiniteNumber)(l)&&Object(St.isFiniteNumber)(g)&&Object(St.isFiniteNumber)(v)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+E);return s+=1e3*l,(s+=6e4*g)+36e5*v}(a)/1e3}catch(c){r=!1,d=c}return}""===u&&(o=!1)}C.parse(u+"\n")}),C.flush()}},"./src/utils/xhr-loader.ts":function(zt,Mt,ft){"use strict";ft.r(Mt);var St=ft("./src/utils/logger.ts"),lt=ft("./src/loader/load-stats.ts"),F=/^age:\s*[\d.]+\s*$/m;Mt.default=function(){function K(Q){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=Q?Q.xhrSetup:null,this.stats=new lt.LoadStats,this.retryDelay=0}var V=K.prototype;return V.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},V.abortInternal=function(){var W=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),W&&(W.onreadystatechange=null,W.onprogress=null,4!==W.readyState&&(this.stats.aborted=!0,W.abort()))},V.abort=function(){var W;this.abortInternal(),null!==(W=this.callbacks)&&void 0!==W&&W.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},V.load=function(W,Y,z){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=W,this.config=Y,this.callbacks=z,this.retryDelay=Y.retryDelay,this.loadInternal()},V.loadInternal=function(){var W=this.config,Y=this.context;if(W){var z=this.loader=new self.XMLHttpRequest,I=this.stats;I.loading.first=0,I.loaded=0;var P=this.xhrSetup;try{if(P)try{P(z,Y.url)}catch(s){z.open("GET",Y.url,!0),P(z,Y.url)}z.readyState||z.open("GET",Y.url,!0);var w=this.context.headers;if(w)for(var E in w)z.setRequestHeader(E,w[E])}catch(s){return void this.callbacks.onError({code:z.status,text:s.message},Y,z)}Y.rangeEnd&&z.setRequestHeader("Range","bytes="+Y.rangeStart+"-"+(Y.rangeEnd-1)),z.onreadystatechange=this.readystatechange.bind(this),z.onprogress=this.loadprogress.bind(this),z.responseType=Y.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),W.timeout),z.send()}},V.readystatechange=function(){var W=this.context,Y=this.loader,z=this.stats;if(W&&Y){var I=Y.readyState,P=this.config;if(!z.aborted&&I>=2)if(self.clearTimeout(this.requestTimeout),0===z.loading.first&&(z.loading.first=Math.max(self.performance.now(),z.loading.start)),4===I){Y.onreadystatechange=null,Y.onprogress=null;var w=Y.status;if(w>=200&&w<300){var E,s;if(z.loading.end=Math.max(self.performance.now(),z.loading.first),s="arraybuffer"===W.responseType?(E=Y.response).byteLength:(E=Y.responseText).length,z.loaded=z.total=s,!this.callbacks)return;var l=this.callbacks.onProgress;if(l&&l(z,W,E,Y),!this.callbacks)return;this.callbacks.onSuccess({url:Y.responseURL,data:E},z,W,Y)}else z.retry>=P.maxRetry||w>=400&&w<499?(St.logger.error(w+" while loading "+W.url),this.callbacks.onError({code:w,text:Y.statusText},W,Y)):(St.logger.warn(w+" while loading "+W.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,P.maxRetryDelay),z.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),P.timeout)}},V.loadtimeout=function(){St.logger.warn("timeout while loading "+this.context.url);var W=this.callbacks;W&&(this.abortInternal(),W.onTimeout(this.stats,this.context,this.loader))},V.loadprogress=function(W){var Y=this.stats;Y.loaded=W.loaded,W.lengthComputable&&(Y.total=W.total)},V.getCacheAge=function(){var W=null;if(this.loader&&F.test(this.loader.getAllResponseHeaders())){var Y=this.loader.getResponseHeader("age");W=Y?parseFloat(Y):null}return W},K}()}}).default)},342:ke=>{"use strict";const zt={long:["just now","nanosecond","microsecond","millisecond","second","minute","hour","day","week","year"],short:["now","ns","\u03bcs","ms","s","m","h","d","w","y"]};function Mt(St,lt,F){F="string"==typeof arguments[arguments.length-1]?arguments[arguments.length-1]:"long",St=Array.isArray(St)?1e3*St[0]+St[1]/1e6:St,lt=Array.isArray(lt)?1e3*lt[0]+lt[1]/1e6:lt;let H=Math.abs(isNaN(+lt)?St:lt-St);return 0===H?zt[F][0]:H<.001?ft(Math.floor(1e6*H),zt[F][1],F):H<1?ft(Math.floor(1e3*H),zt[F][2],F):H<1e3?ft(Math.floor(H),zt[F][3],F):(H/=1e3)<60?ft(Math.floor(H),zt[F][4],F):(H/=60)<60?ft(Math.floor(H),zt[F][5],F):(H/=60)<24?ft(Math.floor(H),zt[F][6],F):(H/=24)<7?ft(Math.floor(H),zt[F][7],F):(H/=7)<52?ft(Math.floor(H),zt[F][8],F):ft(Math.floor(H/52),zt[F][9],F)}function ft(St,lt,F){return`${St+("short"===F?"":" ")}${lt}${"short"===F||1===St?"":"s"}`}Mt.short=function(lt,F){return Mt(lt,F,"short")},ke.exports=Mt}},ke=>{ke(ke.s=171)}]);